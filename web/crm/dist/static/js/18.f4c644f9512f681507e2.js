webpackJsonp([18],{939:function(e,t,s){"use strict";function a(e){s(996)}Object.defineProperty(t,"__esModule",{value:!0});var n=s(998),r=s(999),l=s(0),o=a,c=l(n.a,r.a,!1,o,null,null);t.default=c.exports},972:function(e,t,s){!function(t,s){e.exports=s()}(0,function(){return function(e){function t(a){if(s[a])return s[a].exports;var n=s[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};return t.m=e,t.c=s,t.d=function(e,s,a){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.dragscroll={init:function(e,t){var s=void 0,a=void 0,n=function(){var n=void 0,r=void 0,l=void 0;e.addEventListener("mousedown",e.md=function(s){var a="nochilddrag"===t.arg,o="firstchilddrag"===t.arg,c=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)===e,i=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)===e.firstChild,d=function(e){l=1,n=e.clientX,r=e.clientY,e.preventDefault()};a?c&&d(s):o?(c||i)&&d(s):d(s)},0),window.addEventListener("mouseup",e.mu=function(){l=0},0),window.addEventListener("mousemove",e.mm=function(o){l&&(t.modifiers.x?(e.scrollLeft-=s=-n+(n=o.clientX),e===document.body&&(e.scrollLeft-=s)):t.modifiers.y?(e.scrollTop-=a=-r+(r=o.clientY),e===document.body&&(e.scrollTop-=a)):(e.scrollLeft-=s=-n+(n=o.clientX),e.scrollTop-=a=-r+(r=o.clientY),e===document.body&&(e.scrollLeft-=s,e.scrollTop-=a)))},0)};void 0===t.value||!0===t.value?"complete"===document.readyState?n():window.addEventListener("load",n,0):(t.value&&console.error("The passed value should be either 'undefined', 'true' or 'false'."),e.removeEventListener("mousedown",e.md,0),window.removeEventListener("mouseup",e.mu,0),window.removeEventListener("mousemove",e.mm,0))},bind:function(e,t,s){t.def.init(e,t)},update:function(e,t,s,a){t.value!==t.oldValue&&t.def.init(e,t)},unbind:function(e,t,s){e.removeEventListener("mousedown",e.md,0),window.removeEventListener("mouseup",e.mu,0),window.removeEventListener("mousemove",e.mm,0)}},n={install:function(e,t){e.directive("dragscroll",a)}};"undefined"!=typeof window&&window.Vue&&(window.VueDragscroll=n,window.Vue.use(n)),t.default=n}])})},996:function(e,t,s){var a=s(997);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(937)("3af76a0a",a,!0)},997:function(e,t,s){t=e.exports=s(936)(!0),t.push([e.i,".el-progress--circle .el-progress__text{font-size:12px!important}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm3/src/components/static/WeekTask.vue"],names:[],mappings:"AACA,wCACE,wBAA2B,CAC5B",file:"WeekTask.vue",sourcesContent:["\n.el-progress--circle .el-progress__text {\n  font-size: 12px !important;\n}\n"],sourceRoot:""}])},998:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll__=__webpack_require__(972),__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll__);__WEBPACK_IMPORTED_MODULE_0_vue__.default.use(__WEBPACK_IMPORTED_MODULE_1_vue_dragscroll___default.a),__WEBPACK_IMPORTED_MODULE_0_vue__.default.use(__webpack_require__(40)),__webpack_exports__.a={name:"WeekTask",props:["datasrc"],inject:["taskDone","statusColors"],data:function(){return{}},methods:{onShowMenu:function(e,t){var s=this;s.datasrc.cells[e].ShowMenu=!t;for(var a=e+1;a<s.datasrc.cells.length;a++)if(s.datasrc.cells[e+1]&&(!s.datasrc.cells[e+1].Level||s.datasrc.cells[e+1].Level>s.datasrc.cells[e].Level)&&!t){if(s.datasrc.cells[e+1]&&s.datasrc.cells[e+1].Level){if(s.datasrc.cells[a].Level==s.datasrc.cells[e+1].Level)s.datasrc.cells[a].Display=!t;else if(s.datasrc.cells[a].Level!=s.datasrc.cells[e+1].Level)return!1}else if(s.datasrc.cells[e+1]&&!s.datasrc.cells[e+1].Level&&(s.datasrc.cells[a].Display=!t,s.datasrc.cells[a+1]&&s.datasrc.cells[a+1].Level))return!1}else if(s.datasrc.cells[e+1]&&s.datasrc.cells[e+1].Level){if(s.datasrc.cells[a].Display=!t,s.datasrc.cells[a].ShowMenu=!t,s.datasrc.cells[a+1]&&s.datasrc.cells[a+1].Level==s.datasrc.cells[e].Level)return!1}else if(s.datasrc.cells[e+1]&&!s.datasrc.cells[e+1].Level&&(s.datasrc.cells[a].Display=!t,s.datasrc.cells[a+1]&&s.datasrc.cells[a+1].Level))return!1},convertSpendTime:function convertSpendTime(data){var exp="";return exp=Math.abs(data)>=24?parseFloat(eval(data)/24).toFixed(0)+" ngày":0!=data?data+" giờ":data}},created:function(){}}},999:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"source"},[s("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll"}],staticClass:"el-table__body-wrapper grab-bing"},[s("table",[s("thead",[s("tr",[s("th",{staticClass:"tgWeek default-column",attrs:{rowspan:"2"}},[e._v(e._s(e.datasrc.TypeName))]),e._v(" "),e.datasrc.ListCols["Kế hoạch"]?s("th",{staticClass:"default-column",attrs:{colspan:e.datasrc.ListCols["Kế hoạch"].length}},[e._v("Kế hoạch")]):e._e(),e._v(" "),s("th",{staticClass:"c default-column",attrs:{rowspan:"2"}}),e._v(" "),e.datasrc.ListCols["Thực hiện"]?s("th",{staticClass:"default-column",attrs:{colspan:e.datasrc.ListCols["Thực hiện"].length}},[e._v("Thực hiện")]):e._e()]),e._v(" "),s("tr",[e._l(e.datasrc.ListCols["Kế hoạch"],function(t){return s("th",{class:"default-column cl-"+t.Name},[e._v(e._s(t.Caption))])}),e._v(" "),e._l(e.datasrc.ListCols["Thực hiện"],function(t){return s("th",{class:"default-column cl-"+t.Name},[e._v(e._s(t.Caption))])})],2)]),e._v(" "),e.datasrc.cells?s("tbody",{staticStyle:{"background-color":"white"}},e._l(e.datasrc.cells,function(t,a){return t.Display?s("tr",{class:t.CellType,style:"h"==t.CellType?"background-color:#f50808 ; color: white; font-weight:bold; font-size: 15px":""},[s("td",{attrs:{colspan:"h"==t.CellType?2:1}},["h"!=t.CellType?s("div",{staticClass:"default-column"},[s("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index},on:{click:function(t){e.showSetting(e.item)}}},[s("span",{style:"text-decoration:"+(e.taskDone.indexOf(t.Status)>-1?"line-through":"")},[e._v(e._s(t.Index))])]),e._v(" "),s("br"),e._v(" "),s("el-progress",{attrs:{width:35,type:"circle",percentage:parseInt(t.Progress)}})],1):s("div",{staticStyle:{"padding-left":"30px"}},[t.Level&&e.datasrc.cells[a+1]&&!e.datasrc.cells[a+1].Level?s("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){e.onShowMenu(a,t.ShowMenu)}}},[t.ShowMenu?s("i",{staticClass:"el-icon-caret-bottom  mt-4 pr-1"}):e._e(),e._v(" "),t.ShowMenu?e._e():s("i",{staticClass:"el-icon-caret-right  mt-4 pr-1"})]):e._e(),e._v(" "),s("span",[e._v(e._s(t.Index))]),s("br")])]),e._v(" "),e._l(e.datasrc.ListCols["Kế hoạch"],function(a,n){return"h"!=t.CellType||0!=n?s("td",{class:"tg-"+a.Name},[a.Redirect?s("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index}},[s("span",{style:"text-decoration:"+(e.taskDone.indexOf(t.Status)>-1?"line-through":"")},[e._v("\n              "+e._s(t[a.DynamicText?a.DynamicText:a.Expression?a.Expression:a.Name])+"\n            ")])]):e._e(),e._v(" "),a.Format&&"DateTime"==a.FieldColumnType?s("span",[e._v(e._s(t[a.DynamicText?a.DynamicText:a.Expression?a.Expression:a.Name]?e.$Utils.formatDateTime(t[a.DynamicText?a.DynamicText:a.Expression?a.Expression:a.Name],"h"==t.CellType?"DD/MM/YYYY":"HH:mm"):""))]):e._e(),e._v(" "),"DateTime"==a.FieldColumnType||a.Redirect?e._e():s("span",[e._v(e._s(t[a.DynamicText?a.DynamicText:a.Expression?a.Expression:a.Name]))])],1):e._e()}),e._v(" "),s("td",{staticClass:"default-column c"}),e._v(" "),e._l(e.datasrc.ListCols["Thực hiện"],function(a){return s("td",{class:"default-column tg-"+a.Name},[a.Redirect?s("router-link",{attrs:{to:"/dynamic/view/Index="+t.Index}},[e._v(e._s(t[a.DynamicText?a.DynamicText:a.Expression?a.Expression:a.Name]))]):e._e(),e._v(" "),"SpentTime"==a.Expression?s("span",{staticStyle:{"white-space":"nowrap"}},[e._v(e._s(e.convertSpendTime(t.SpentTime))+"\n                      "),"h"!=t.CellType?s("i",{staticClass:"fa  fa-clock-o fa-lg mt-4",style:{color:t.SpentTime<0?"red":"blue"}}):e._e()]):e._e(),e._v(" "),"Progress"==a.Name&&"h"!=t.CellType?s("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.Progress?parseInt(t.Progress):0,status:void 0!=t.Progress?parseInt(t.Progress)>=100?"success":0==parseInt(t.Progress)?"exception":"":"exception"}}):e._e(),e._v(" "),"Progress"==a.Name&&"h"==t.CellType?s("span",[e._v(e._s(t.Progress)+"%")]):e._e(),e._v(" "),a.Format&&"DateTime"==a.FieldColumnType?s("span",[e._v(e._s(e.$Utils.formatDateTime(t[a.DynamicText?a.DynamicText:a.Expression?a.Expression:a.Name],"DD/MM/YYYY HH:mm")))]):e._e(),e._v(" "),"DateTime"==a.FieldColumnType||a.Redirect||"SpentTime"==a.Expression||"Progress"==a.Name?e._e():s("div",{style:"h"!=t.CellType&&void 0!=t.Status&&"StatusName"===a.Name?"background-color: "+e.statusColors[t.Status.toUpperCase()]:""},[e._v(e._s(t[a.DynamicText?a.DynamicText:a.Expression?a.Expression:a.Name]))])],1)})],2):e._e()})):e._e()])])])},n=[],r={render:a,staticRenderFns:n};t.a=r}});
//# sourceMappingURL=18.f4c644f9512f681507e2.js.map