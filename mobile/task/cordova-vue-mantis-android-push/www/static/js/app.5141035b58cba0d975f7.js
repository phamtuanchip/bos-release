webpackJsonp([33],[,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__=__webpack_require__(44),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set__=__webpack_require__(374),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from__=__webpack_require__(137),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_6_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_7_vue_resource__=__webpack_require__(140),__WEBPACK_IMPORTED_MODULE_8__lib_jquery_xml2json_js__=__webpack_require__(394),__WEBPACK_IMPORTED_MODULE_8__lib_jquery_xml2json_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__lib_jquery_xml2json_js__),__WEBPACK_IMPORTED_MODULE_9_element_ui__=__webpack_require__(70),__WEBPACK_IMPORTED_MODULE_9_element_ui___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_element_ui__),__WEBPACK_IMPORTED_MODULE_10_lodash__=__webpack_require__(96),__WEBPACK_IMPORTED_MODULE_10_lodash___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_lodash__),_getIOSversion$getVie;__WEBPACK_IMPORTED_MODULE_6_vue__.default.use(__WEBPACK_IMPORTED_MODULE_9_element_ui__.Loading.directive),__WEBPACK_IMPORTED_MODULE_6_vue__.default.use(__webpack_require__(40)),__webpack_exports__.a=(_getIOSversion$getVie={getIOSversion:function(){if(window.MSStream)return-1;var t,e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return void 0!==e&&null!==e?(t=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)],parseFloat(t.join("."))):-1},getViewModelRequest:function(t,e){var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};return $.each(t.Fields,function(i,s){a["R"+a.TotalRequests+"_RequestTemplate"]=null!=e?e:"Setting.SearchSetting",0==s.Default?$.each(s.Conditions,function(t,e){a["R"+a.TotalRequests+"_"+t]=e}):$.each(null!=s.Conditions?s.Conditions:t.Default.Conditions,function(e,i){a["R"+a.TotalRequests+"_"+e]="ParentCode"==e?(null!=s.Prefix?s.Prefix:null!=t.Default.Prefix?t.Default.Prefix:"")+(null!=s[i]?s[i]:s.Name):i}),a.TotalRequests+=1}),a.TotalRequests-=1,a},removeVNCharacters:function(t){var e=this.isEmpty(t)?__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.clone(t):"";return e=e.toLowerCase(),e=e.replace(/à|ả|ã|á|ạ|ă|ằ|ẳ|ẵ|ắ|ặ|â|ầ|ẩ|ẫ|ấ|ậ/g,"a"),e=e.replace(/è|ẻ|ẽ|é|ẹ|ê|ề|ể|ễ|ế|ệ/g,"e"),e=e.replace(/ì|ỉ|ĩ|í|ị/g,"i"),e=e.replace(/ò|ỏ|õ|ó|ọ|ô|ồ|ổ|ỗ|ố|ộ|ơ|ờ|ở|ỡ|ớ|ợ/g,"o"),e=e.replace(/ù|ủ|ũ|ú|ụ|ư|ừ|ử|ữ|ứ|ự/g,"u"),e=e.replace(/ỳ|ỷ|ỹ|ý/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/!|@|\$|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\'|\&|\#|\[|\]|~/g,"-"),e=e.replace(/-+-/g,"-"),e=e.replace(/^\-+|\-+$/g,""),e=e.replace(" ","-")},bindScopeModel:function(t,e){var a=this;t.action="edit",t.model=__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.clone(e.item),$.each(t.model,function(e,a){"true"===a?t.model[e]=!0:"false"===a&&(t.model[e]=!1)}),$.each(t.viewModel.Data.Fields,function(e,i){var s=null!=i.valueMember?i.valueMember:t.viewModel.Data.Default.valueMember;if(null!=i.Model){var o=i.Model.split(";");$.each(t.viewModel[i.Name],function(e,a){$.each(o,function(e,i){a[s]===t.model[i]&&(t.model[i]=a)})})}else $.each(t.viewModel[i.Name],function(e,o){a.isEmpty(o)&&t.model[i.Name]===o[s]&&(t.model[i.Name]=o)})})},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},showMessage:function(t,e){t=t||"warning",navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)?Object(__WEBPACK_IMPORTED_MODULE_9_element_ui__.Message)({message:e,type:t}):Object(__WEBPACK_IMPORTED_MODULE_9_element_ui__.Notification)({message:e,type:t})},showConfirm:function(t,e,a){return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(t,a){__WEBPACK_IMPORTED_MODULE_9_element_ui__.MessageBox.confirm(e,"Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Bỏ qua",type:"warning"}).then(function(){t()}).catch(function(){})})},deleteAttachmentBinary:function(t,e){var a={RequestClass:"xBase",RequestAction:"DeleteBinary",Id:t,Parent:e};this.post(a).then(function(t){})},rotateDementionArr:function(t,e){var a={};return t.filter(function(t){a[t[e]]=t}),a},treeify:function(t,e,a,i){var s,o,n=__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.clone(t),l={},r=[];for(o=0;o<n.length;o+=1)l[n[o][e]]=o,delete n[o].children,i&&(n[o][i]=1);for(o=0;o<n.length;o+=1)s=n[o],void 0!==l[s[a]]?(void 0==n[l[s[a]]].children&&(n[l[s[a]]].children=[]),n[l[s[a]]].children.push(s),i&&(s[i]=n[l[s[a]]][i]+1)):r.push(s);return r},URL:function(){return""},BaseUri:function(){return""!=this.URL()?this.URL():window.location.origin},roleEveryoneId:function(){return"a94bae42-4953-f536-26fb-e5503be76321"},administrator:function(){return"2fc8fae8-bf43-4fdb-8daf-58b73bf2ff36"},supervisor:function(){return"93dd70fa-290c-4c0c-a9eb-c723c85bacc0"},manager:function(){return"a2ce6617-54ac-85fe-1e6f-928f1bd14220"},leader:function(){return"4d7874b2-9bd2-4394-965f-30aaadca6e5c"},numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},deleteAutoValue:function(t){delete t.id,delete t.leaf,delete t.level,delete t.text,delete t.uid,delete t.expanded,delete t.Data,delete t.Level,delete t.ParentId,void 0!=t.cls&&delete t.cls,void 0!=t.parent_uid&&delete t.parent_uid,void 0!=t.LeftIndex&&delete t.LeftIndex,void 0!=t.RightIndex&&delete t.RightIndex,void 0!=t.$$hashKey&&delete t.$$hashKey,void 0!=t.$$mdSelectId&&delete t.$$mdSelectId},equals:function(t,e){var a=this;if(null==t&&null==e)return!0;if(void 0===t&&void 0===e)return!0;if("string"==typeof t&&"string"==typeof e)return t===e;if(t instanceof Array&&e instanceof Array&&t.length==e.length){var i=0;return $.each(t,function(t,a){return i++,e.indexOf(a)>0}),i-1==t.length}if(t instanceof Object&&!1==t instanceof Array){var s=!0;return $.each(t,function(t,i){return s=a.equals(e[t],i)}),s}return!1},showLoading:function(t,e){switch(t){case"start":return __WEBPACK_IMPORTED_MODULE_9_element_ui__.Loading.service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});case"stop":e?e.close():__WEBPACK_IMPORTED_MODULE_9_element_ui__.Loading.service().close()}},jsonParse:function(t){if(t)try{return JSON.parse(t)}catch(t){return}},formatNumber:function(t){return(t/1).toFixed(2).replace(",",".").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},dynamicDataFilter:function(t,e){e=e||{};var a=function(t,e){return(t/1).toFixed(e).replace(",",".").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};switch(e.FieldColumnType){case"Integer":return""==t||isNaN(parseInt(t))||(t=a(parseInt(t),0)),t;case"Double":if(""!=t&&!isNaN(t)){var i=!1;if(e.FormatValue){var s=0;s=e.FormatValue.substring(e.FormatValue.indexOf(".")+1,e.FormatValue.indexOf("f")),s=""==s?0:s,t=0==t?0:a(parseFloat(t).toFixed(s),s),i=!0}if("string"==typeof e.Format){e.Format=e.Format.replaceAll("{{0","{{"+e.Name);var o={};o[e.Name]=t,t=this.expressionToString(o,e.Format),i=!0}i||(t=a(parseFloat(t).toFixed(0),0))}return t;case"DateTime":if(!t||""==t.trim())return t;var n,l=utilsLibrary.stringToDate(t,e.InputFormat);return this.isEmpty(e.Format)&&(n=e.Format),this.formatDateTime(l,n);default:return t}},calculator:function calculator(exp){try{return eval(exp)}catch(t){return console.error(t),0}},sortWithIndexes:function(t,e,a){var i=[],s=0;a=isNaN(a)?t.length:a;for(var o=0;o<t.length;o++)t[o]=[t[o],o];t.sort(function(t,a){return a[0]>t[0]?e:a[0]<t[0]?-1*e:0}),t.sortIndices=[];for(var n=0;n<t.length;n++)if(a){if(!(s<a))break;i.push(t[n][1]),t[n]=t[n][0],s++}else i.push(t[n][1]),t[n]=t[n][0];return i},getDataWithRoot:function(t,e){e||(e="");for(var a=e.split("."),i=0;i<a.length;i++)if(a[i]&&void 0==(t=__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.cloneDeep(t[a[i]]))){t=[];break}return t&&"{}"!==__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(t)?"[object Array]"!==Object.prototype.toString.call(t)?[t]:t:[]},readSettingNode:function(t,e){var a=this;return this.isEmpty(e)||(e={}),$.each(t,function(t,i){e[i.Name]=a.isEmpty(i.Description)?i.Description:i,a.isEmpty(i.children)&&(e=a.readSettingNode(i.children,e),delete i.children)}),e},isEmpty:function(t,e,a){var i=t;if(e&&""!==e)for(var s=e.split("."),o=0;o<s.length&&(null!==i&&void 0!==i);o++)i=i[s[o].trim()];return null!==i&&void 0!==i&&(!a||i)},getUserInfo:function(t){return t?localStorage.getItem("LoggedOnUser")&&JSON.parse(localStorage.getItem("LoggedOnUser"))[t]?JSON.parse(localStorage.getItem("LoggedOnUser"))[t]:"":localStorage.getItem("LoggedOnUser")},expressionToString:function(t,e){t=t||{},e=e||"";for(var a="",i=e.trim();""!=i;)if(i.indexOf("{{")>=0&&i.indexOf("}}")>i.indexOf("{{")){a+=i.substr(0,i.indexOf("{{"));var s=i.substr(i.indexOf("{{")+2,i.indexOf("}}")-i.indexOf("{{")-2);if(s.indexOf("|")>0){var o=s.substr(0,s.indexOf("|")).trim(),n=this.getDataWithRoot(t,o)[0],l=s.substr(s.indexOf("|")+1,s.length).split(":"),r=l[0].trim(),c=l[1];switch(r){case"DateTime":var d=!0;switch(n||(d=!1),n=this.stringToDate(n),c){case"Age":var u=new Date(Date.now()-n.getTime());a+=Math.abs(u.getUTCFullYear()-1970);break;case"toNow":if(d){var m=new Date;m.setHours(0,0,0,0);var p=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).diff(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(m)),h=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment.duration(p),f=parseInt(h.asDays())}else var f=0;a+=f;break;case"toNows":var m=new Date,p=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).diff(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(m)),h=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment.duration(p),g=parseInt(h.asHours()),_=parseInt(h.asMinutes())-60*g,f=g-Math.abs(_)/60;if(_>0)var f=g+Math.abs(_)/60;a+=parseFloat(f).toFixed(2);break;default:if("Now"==o){var v=new Date;a+=this.formatDateTime(v,"DD/MM/YYYY HH:mm:ss")}else a+=this.formatDateTime(n,c)}break;case"DateTo":var d=!0;if(n||(d=!1),d&&t[c])var m=new Date(t[c]),p=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).diff(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(m)),h=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment.duration(p),f=parseInt(h.asDays());else var f=0;a+=f;break;case"NowTo":if(n)var f=n;else var f=new Date(t[c]);var m=new Date,p=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(m).diff(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(f)),h=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment.duration(p);a+=parseInt(h.asDays());break;case"UserInfo":a+=this.getUserInfo(o);break;case"Number":(n||0==n)&&(a+=parseFloat(n).toFixed(c));break;case"Dynamic":var f=new Date;"StartMonth"==o&&(a+=this.formatDateTime(new Date(f.getFullYear(),f.getMonth(),1))),"EndMonth"==o&&(a+=this.formatDateTime(new Date(f.getFullYear(),f.getMonth()+1,0,23,59)));break;default:a+=n}}else this.isEmpty(t[s])&&(a+=t[s]);i=i.substr(i.indexOf("}}")+2,i.length)}else a+=i,i="";return a},post:function(t,e,a){var i=this,s=a||this.URL()+"/xRequest.ashx";return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(o,n){if(0!=t.TotalRequests){if(e||(t.SessionId=localStorage.getItem("SessionId")),!a&&"file:"==document.location.protocol){var l=localStorage.getItem("StoredURI");s=null!=l?l:i.URL()+"/xRequest.ashx"}var r={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},c=["id","leaf","text","cls","level","expanded","uid","parent_uid","LeftIndex","RightIndex","Data","$$hashKey"];for(var d in c)if(t.TotalRequests)for(var u=1;u<=t.TotalRequests;u++)delete t["R"+u+"_"+d];else delete t[d];__WEBPACK_IMPORTED_MODULE_6_vue__.default.http.post(s,$.param(t),{headers:r}).then(function(t){o(t.data)},function(t){n("Error!:",t.data)})}})},postGetExcel:function(t,e,a){var i=this;return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(s,o){if(0!=t.TotalRequests){e||(t.SessionId=localStorage.getItem("SessionId"));var n=a||i.URL()+"/xRequest.ashx";if(!a&&"file:"==document.location.protocol){var l=localStorage.getItem("StoredURI");n=null!=l?l:i.URL()+"/xRequest.ashx"}var r={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},c=["id","leaf","text","cls","level","expanded","uid","parent_uid","LeftIndex","RightIndex","Data","$$hashKey"];for(var d in c)if(t.TotalRequests)for(var u=1;u<=t.TotalRequests;u++)delete t["R"+u+"_"+d];else delete t[d];var m={headers:r,responseType:"arraybuffer"};__WEBPACK_IMPORTED_MODULE_6_vue__.default.http.post(n,$.param(t),m).then(function(t){s(t.data)},function(t){o("Error!:",t.data)})}})},postCheckResult:function(t){var e=this;return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(a,i){var s=e.showLoading("start");e.post(t).then(function(t){e.showLoading("stop",s),a(t)},function(){e.showMessage("error","Tải dữ liệu không thành công"),e.showLoading("stop",s),a({})})})},login:function(t,e){var a={RequestClass:"BPM",RequestAction:"SignIn",HostURL:t.base,DeviceType:t.deviceType};void 0!=t.Username&&null!=t.Username?(a.Account=t.Username,a.Password=t.password):a.Setting=t,t.SessionId&&(a.SessionId=t.SessionId),t.registrationId&&(a.RegistrationID=t.registrationId),t.deviceId&&(a.DeviceID=t.deviceId),this.post(a,!0,t.uri).then(function(t){e&&e(t)})},getListRolesGroup:function(t){var e={RequestClass:"BPM",RequestAction:"SearchGroup",RequestDataType:"json",ConditionFields:"GroupType",GroupType:"1;2;4;5",StaticFields:"GroupId;GroupName;Description;GroupParent;GroupType"};this.post(e).then(function(e){console.log(e),t(e.UserDS.Group)},function(){t([])})},clearStorage:function(){if("true"==window.localStorage.getItem("SaveStatus")){var t=window.localStorage.getItem("SaveStatus");if(window.localStorage.getItem("LoginName"))var e=window.localStorage.getItem("LoginName");if(window.localStorage.getItem("AppConfig"))var a=window.localStorage.getItem("AppConfig");if(window.localStorage.getItem("Password"))var i=window.localStorage.getItem("Password");if(window.localStorage.getItem("StoredURI"))var s=window.localStorage.getItem("StoredURI")}window.localStorage.clear(),t&&(window.localStorage.setItem("SaveStatus",t),e&&window.localStorage.setItem("LoginName",e),a&&window.localStorage.setItem("AppConfig",a),i&&window.localStorage.setItem("Password",i),s&&window.localStorage.setItem("StoredURI",s))},logout:function(){var t=this,e={};return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(a,i){if(localStorage.getItem("LoggedOnUser")&&localStorage.getItem("SessionId")){e.Username=JSON.parse(localStorage.getItem("LoggedOnUser")).LoginName,e.SessionId=localStorage.getItem("SessionId");var s={RequestClass:"BPM",RequestAction:"SignIn"};void 0!=e.Username&&null!=e.Username&&(s.Account=e.Username),e.SessionId&&(s.SessionId=e.SessionId),t.post(s).then(function(e){t.clearStorage(),a()})}else t.clearStorage(),a()})},checkSession:function(){var t=this;this.URL();if("file:"==document.location.protocol){var e=localStorage.getItem("StoredURI");null!=e?e:this.URL()+"/xRequest.ashx"}var a={RequestAction:"GetUserInformation",RequestClass:"BPM",SessionId:localStorage.getItem("SessionId")};return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(e,i){t.post(a).then(function(t){e(t.UserDS&&t.UserDS.User?{success:!0}:{success:!1})}).catch(function(){e({success:!1})})})},encodeHtmlEntities:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},decodeHtmlEntities:function(t){return t?String(t).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'):""},objectToString:function(t){var e="";return $.each(t,function(t,a){"object"!=(void 0===a?"undefined":__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(a))&&"array"!=typeof a&&a&&(e+=t+"="+a+"&")}),""!=e&&(e=e.substr(0,e.length-1)),e},stringToObject:function(t,e,a){if("string"!=typeof t)return{};e=e||"&",a=a||"=",t=this.decodeHtmlEntities(t.trim());var i={},s=t.split(e);return $.each(s,function(t,e){if(e.indexOf(a)>0){var s=e.split(a);$.each(s,function(t,e){s[t]=e.trim()}),i[s[0]]=s[1]}}),i},stringToArray:function(t,e){var a=this;if(!t)return[];e||(e="!!");var i=[];return $.each(t.split(e),function(t,e){if(e.indexOf("=")>0){var s=a.stringToObject(e);i.push(s)}else""!=e&&i.push(e)}),i},updateParamsSingleRequest:function(t,e,a){return $.each(e,function(e,i){"object"!=(void 0===i?"undefined":__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(i))&&"array"!=typeof i&&(null!=a?t["R"+a+"_"+e]=i:t["R1_"+e]=i)}),t},stringToDate:function(t,e){return e?__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(t,e).toDate():__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(t).toDate()},formatDateTime:function(t,e){return t||(t=new Date),e||(e="YYYY-MM-DDTHH:mm:ss"),__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(t).format(e)},dateToString:function(t){switch(t){case 1:return"Thứ hai";case 2:return"Thứ ba";case 3:return"Thứ tư";case 4:return"Thứ năm";case 5:return"Thứ sáu";case 6:return"Thứ bảy";case 0:return"Chủ nhật";default:return"[Không xác định]"}},getListGroup:function(t){var e={RequestClass:"BPM",RequestAction:"SearchGroup",RequestDataType:"json",ConditionFields:"GroupType",GroupType:1,StaticFields:"GroupId;GroupName;Description;GroupParent;GroupType"};this.post(e).then(function(e){t(e.UserDS.Group)},function(){t([])})},createTreeFromList:function(t,e,a,i){e=e||"Id",a=a||"ParentId",i=i||"children";var s=[],o={};t.forEach(function(t){t.Name&&(t.label=t.Name),t.Id&&(t.value=t.Id),o[t[e]]=t});var n=this;return t.forEach(function(t){n.isEmpty(t[a])&&n.isEmpty(o[t[a]])?(o[t[a]][i]||(o[t[a]][i]=[]),o[t[a]][i].push(t)):s.push(t)}),s},createdListFromDataTree:function(t,e){var a=this;return t.forEach(function(t){var i=__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.cloneDeep(t);delete i.children,e.push(i),t.children&&a.createdListFromDataTree(t.children,e)}),e},createCustomTreeFromList:function(t,e,a,i,s,o){var n=this;e=e||"Id",a=a||"ParentId",i=i||"children";var l=[],r={};return t.forEach(function(t){if(s)for(var a in s)t[a]&&(t[s[a]]=t[a]);if(o)for(var a in o)t[a]=o[a];r[t[e]]=t}),t.forEach(function(t){n.isEmpty(t[a])&&n.isEmpty(r[t[a]])?(r[t[a]][i]||(r[t[a]][i]=[]),r[t[a]][i].push(t)):l.push(t)}),l},removeAllLink:function(t){if(isEmpty(t)&&""!=t&&void 0!=t){var e={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:t};postCheckResult(e).then(function(t){if(t.TotalCount>0){var e=1==t.TotalCount?[t.Data.DataDS.Linked]:t.Data.DataDS.Linked,a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:e.length,RequestTemplate:"Permission.Remove"};e.forEach(function(t,e){a["R"+(t+1)+"_Id"]=e.Id,a["R"+(t+1)+"_Parent"]=e.Parent,a["R"+(t+1)+"_Child"]=e.Child,a["R"+(t+1)+"_Code"]=e.Code}),postCheckResult(a).then(function(){})}})}}},__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"removeVNCharacters",function(t){var e=this.isEmpty(t)?__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.cloneDeep(t):"";return e=e.toLowerCase(),e=e.replace(/à|ả|ã|á|ạ|ă|ằ|ẳ|ẵ|ắ|ặ|â|ầ|ẩ|ẫ|ấ|ậ/g,"a"),e=e.replace(/è|ẻ|ẽ|é|ẹ|ê|ề|ể|ễ|ế|ệ/g,"e"),e=e.replace(/ì|ỉ|ĩ|í|ị/g,"i"),e=e.replace(/ò|ỏ|õ|ó|ọ|ô|ồ|ổ|ỗ|ố|ộ|ơ|ờ|ở|ỡ|ớ|ợ/g,"o"),e=e.replace(/ù|ủ|ũ|ú|ụ|ư|ừ|ử|ữ|ứ|ự/g,"u"),e=e.replace(/ỳ|ỷ|ỹ|ý/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/!|@|\$|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\'|\&|\#|\[|\]|~/g,"-"),e=e.replace(/-+-/g,"-"),e=e.replace(/^\-+|\-+$/g,""),e=e.replace(" ","-")}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"linkToRoleEveryone",function(t,e,a){var i=this,s={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};s.TotalRequests=0,a&&(s.SessionId=a),$.each(t,function(t,e){s.TotalRequests++;var a={RequestClass:"xBase",Parent:e.Id,Child:i.roleEveryoneId(),Code:"View",Name:(e.Caption?e.Caption:e.Name)+" - Everyone",RequestAction:"LinkGroupToObject",ParentTable:"xObject",ChildTable:"tblGroup",RequestTemplate:"Permission.Insert"};$.each(a,function(t,e){s["R"+s.TotalRequests+"_"+t]=e})}),s.TotalRequests>0&&(e?this.post(s,!0,e):this.post(s))}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"removeAllLink",function(t){var e=this;if(this.isEmpty(t)&&""!=t&&void 0!=t){var a={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:t};this.postCheckResult(a).then(function(t){if(t.TotalCount>0){var a=1==t.TotalCount?[t.Data.DataDS.Linked]:t.Data.DataDS.Linked,i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:a.length,RequestTemplate:"Permission.Remove"};$.each(a,function(t,e){i["R"+(e+1)+"_Id"]=t.Id,i["R"+(e+1)+"_Parent"]=t.Parent,i["R"+(e+1)+"_Child"]=t.Child,i["R"+(e+1)+"_Code"]=t.Code}),e.postCheckResult(i).then(function(){})}})}}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"getDateTimeByKey",function(t,e,a,i){var s=localStorage.getItem("firstDayOfWeekCfg")?parseInt(JSON.parse(localStorage.getItem("firstDayOfWeekCfg")).Value):1,o="",n=new Date;switch(void 0!=a&&(n=a),void 0!=i&&(n=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).subtract(i,"days").toDate()),t){case"DayAgoStart":n.setHours(0,0,0,0),o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).subtract(1,"days").toDate(),e);break;case"DayAgoEnd":n.setHours(23,59,59,999),o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).subtract(1,"days").toDate(),e);break;case"DayStart":n.setHours(0,0,0,0),o=this.formatDateTime(n,e);break;case"DayEnd":n.setHours(23,59,59,999),o=this.formatDateTime(n,e);break;case"DayNextStart":n.setHours(0,0,0,0),o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).add(1,"days").toDate(),e);break;case"DayNextEnd":n.setHours(23,59,59,999),o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).add(1,"days").toDate(),e);break;case"WeekAgoStart":o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).subtract(1,"weeks").startOf("isoweek").toDate(),e);break;case"WeekAgoEnd":o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).subtract(1,"weeks").endOf("isoweek").toDate(),e);break;case"MonthAgoStart":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth()-1,1),e);break;case"MonthAgoEnd":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth(),0,23,59,59),e);break;case"WeekStart":o=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).isoWeekday(s).startOf("isoweek"),o=this.formatDateTime(o.toDate(),e);break;case"WeekEnd":o=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).isoWeekday(s).endOf("isoweek"),o=this.formatDateTime(o.toDate(),e);break;case"MonthStart":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth(),1),e);break;case"MonthEnd":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth()+1,0,23,59,59),e);break;case"WeekNextStart":o=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).add(1,"weeks").isoWeekday(s).startOf("isoweek"),o=this.formatDateTime(o.toDate(),e);break;case"WeekNextEnd":o=__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).add(1,"weeks").isoWeekday(s).endOf("isoweek"),o=this.formatDateTime(o.toDate(),e);break;case"MonthNextStart":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth()+1,1),e);break;case"MonthNextEnd":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth()+2,0,23,59,59),e);break;case"Week2NextStart":o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).add(2,"weeks").isoWeekday(s).startOf("isoweek").toDate(),e);break;case"Week2NextEnd":o=this.formatDateTime(__WEBPACK_IMPORTED_MODULE_6_vue__.default.moment(n).add(2,"weeks").isoWeekday(s).endOf("isoweek").toDate(),e);break;case"Month2NextStart":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth()+2,1),e);break;case"Month2NextEnd":o=this.formatDateTime(new Date(n.getFullYear(),n.getMonth()+3,0,23,59,59),e);break;case"YearStart":o=this.formatDateTime(new Date(n.getFullYear(),0,1),e);break;case"YearEnd":o=this.formatDateTime(new Date(n.getFullYear(),11,31,23,59,59),e)}return o}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"saveSelectModel",function(t){t.viewModel.Data.Fields.forEach(function(e){if(null==e.IsJqueryWidgets){var a=null!=e.valueMember?e.valueMember:t.viewModel.Data.Default.valueMember;if(void 0!=t.model[e.Name]&&""!=t.model[e.Name])if(null!=e.Model){var i=e.Model.split(";");i.forEach(function(e){void 0!=t.model[e]&&""!=t.model[e]&&(t.model[e]=t.model[e][a])})}else t.model[e.Name]=t.model[e.Name][a]}})}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"loadUserInformation",function(t,e){var a=this,i={RequestAction:"GetUserInformation",RequestClass:"BPM",SessionId:t.Data};this.postCheckResult(i).then(function(i){var s={};if(i.UserDS.User){s=i.UserDS.User.length>0?i.UserDS.User[0]:i.UserDS.User,localStorage.setItem("UserId",s.UserId);var o=$.xml2json(s.Data,!0);o.Data[0]&&o.Data[0].Fields[0]&&$.each(o.Data[0].Fields[0].Field,function(t,e){s[e.Code[0].text]=e.Value[0].text});var n=a.isEmpty(o.Data[0].Dynamic[0],"Email")?o.Data[0].Dynamic[0].Email[0].text:null;a.isEmpty(n)&&(s.Email=n);var l=a.isEmpty(o.Data[0].Dynamic[0],"Project")?o.Data[0].Dynamic[0].Project[0].text:null;a.isEmpty(l)&&(s.Project=a.jsonParse(l)?a.jsonParse(l):{});var r=a.isEmpty(o.Data[0].Dynamic[0],"Notification")?o.Data[0].Dynamic[0].Notification[0].text:null;a.isEmpty(r)&&(s.Notification=r);var c=a.isEmpty(o.Data[0].Dynamic[0],"Filter")?o.Data[0].Dynamic[0].Filter[0].text:null;a.isEmpty(c)&&localStorage.setItem("FilterData",c);var d=a.isEmpty(o.Data[0].Dynamic[0],"CurrentList")?o.Data[0].Dynamic[0].CurrentList[0].text:null;a.isEmpty(d)&&(s.CurrentList=d);try{var u=a.isEmpty(o.Data[0].Dynamic[0],"Avatar")?o.Data[0].Dynamic[0].Avatar[0].text:null;a.isEmpty(u)?s.Avatar=u:s.Avatar="assets/images/avatars/profile.png"}catch(t){s.Avatar="assets/images/avatars/profile.png"}if(s.Roles=[],s.Groups=[],s.Projects=[],s.ProjectRoles=[],void 0!=i.UserDS.Group)for(var m=i.UserDS.Group.length>0?i.UserDS.Group:[i.UserDS.Group],p=0;p<m.length;p++)switch(m[p].GroupType){case"0":s.Roles.push(m[p]);break;case"1":case"2":s.Groups.push(m[p]);break;case"4":s.Projects.push(m[p]);break;case"5":s.ProjectRoles.push(m[p])}var h={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};h.R1_RequestTemplate="Setting.SearchBase",h.R1_ParentCode="xSetting.Project.Tools.Callcenter",h.R1_IncludedNestedSetParent=!0,a.post(h).then(function(t){t=a.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),$.each(t,function(e,a){0!=e&&a.DynamicText==s.UserId&&(s.Wsserver=t[0].Value,s.Server=t[0].Caption,s.ApiKey=t[0].DynamicText,s.ApiSecret=t[0].NodeType,s.Extension=t[e].Name,s.IsCallTo=t[e].NodeType,s.ExtensionPassword=t[e].Value,localStorage.setItem("LoggedOnUser",__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(s)))})});var f={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1},h=__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.clone(f);h.R1_RequestTemplate="Setting.SearchBase",h.R1_ParentCode="xSetting.Default.AppInfo",a.post(h).then(function(t){var e=a.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),i={};$.each(e,function(t,e){i[e.Name]=e.Value}),a.isEmpty(i)&&localStorage.setItem("Notification",__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(i))}),localStorage.setItem("SessionId",t.Data),localStorage.setItem("LoggedOnUser",__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(s)),e&&e(s)}else e&&e()})}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"getUserFromGroupWithRole",function(t,e){var a=this;return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(i,s){var o={RequestAction:"SearchUsers",IncludedGroup:!0,RequestClass:"BPM",GroupId:t,StaticFields:"UserId;Username;Status",OrderFields:"LoginName ASC",Status:1,Role:e,ConditionFields:"GroupId;Role;IncludedGroup;Status"};a.post(o).then(function(t){i(a.getDataWithRoot(t,"Data.UserDS.User"))},function(){i([])})})}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"getUserFromGroupAndListRole",function(t,e){var a=this;return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(i,s){var o=0,n=[];e.forEach(function(s){var l=__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.cloneDeep(s);a.getUserFromGroupWithRole(t,s).then(function(t){o++,t.forEach(function(t){t.RoleId=l,n.push(t)}),o==e.length&&i(n)})})})}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"pushWithCheckUnique",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],a=t.slice(0);return a.push(e),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_array_from___default()(new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default.a(a))}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"toCapitalize",function(t){return t?t[0].toUpperCase()+t.slice(1):""}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"formatFormSetting",function(t){this.isEmpty(t,"Description")&&__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.isString(t.Description)&&(t.Description=JSON.parse(t.Description));for(var e=1;e<=t.Description.FCount;e++){if(1===e)var a="";if(a+=t["F"+e],delete t["F"+e],t["OF"+e]&&delete t["OF"+e],e===t.Description.FCount){var a=JSON.parse(a);t.Fields=a,$.each(t.Description,function(e,a){t[e]=a})}}return delete t.Description,t}),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_getIOSversion$getVie,"replacePermission",function(t,e){var a=this;return $.each(t.Permissions,function(i,s){if(a.isEmpty(s.Permissions))if(t.Permissions[i].Permissions=a.stringToObject(s.Permissions),"Script"!=s.Name&&"Static"!=s.Name)for(var o=1;a.isEmpty(s.Permissions["Value"+o]);)t.Permissions[i].Permissions["Value"+o]=e[s.Permissions["Value"+o]],o++;else"Script"==s.Name&&(t.Permissions[i].LeadershipDynamicOrganization=e[t.Permissions[i].LeadershipDynamicOrganization]);else if("Replica"==s.Name){var n=__WEBPACK_IMPORTED_MODULE_10_lodash___default.a.cloneDeep(t.Permissions[i].DynamicPermissions.split(";"));t.Permissions[i].DynamicPermissions="",$.each(n,function(s,o){""!=o&&a.isEmpty(e[o])&&(t.Permissions[i].DynamicPermissions+=e[o]+";")}),a.isEmpty(t.Permissions[i].FormCode)&&a.isEmpty(e.StatusDisplay)&&(t.Permissions[i].StatusDisplay=e.StatusDisplay)}}),t}),_getIOSversion$getVie)}).call(__webpack_exports__,__webpack_require__(2))},,,,,,,,,function(t,e,a){"use strict";function i(t){a(554)}var s=a(555),o=a(556),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-00645cd6",null);e.a=r.exports},,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(534),s=a(535),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},,,,,,,,,,,,,,function(t,e,a){"use strict";function i(t){a(427)}var s=a(428),o=a(429),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-57842bd6",null);e.a=r.exports},,,,,,,,,function(t,e,a){"use strict";var i=a(4),s=a.n(i),o=a(21),n=a.n(o),l=a(22),r=a.n(l),c=a(7),d=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments[2];return new r.a(function(i,s){if(t){var o={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:e,R1_ParentCode:t};a&&(o.R1_Level=a),c.a.post(o).then(function(t){t.success?(t=t.R1.Data.DynamicDS.Setting||[],t.length||0===t.length||(t=[t]),i(t)):s(t)}).catch(function(t){s(t)})}})},u=function(t,e){return new r.a(function(a,i){var s={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:e,R1_Code:t};c.a.post(s).then(function(t){t.success?(t=t.R1.Data.DynamicDS.Setting||{},a(t)):i(t)}).catch(function(t){i(t)})})},m=function(){return new r.a(function(t,e){var a={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status",StaticFields:"UserId;Username;LoginName;Description;Status;",OrderFields:"LoginName ASC",Status:1};c.a.post(a).then(function(e){var a=e.Data.UserDS.User;a.length||(a=[a]);var i=a.filter(function(t){return"superadmin"!==t.LoginName});t(i)}).catch(function(t){e(t)})})},p=function(t){return new r.a(function(e,a){var i={RequestClass:"xBase",RequestAction:"Request",R1_RequestDataGroup:"DataGroup.kpisetting.03462",R1_RequestTemplate:"AG_Task_Task.Insert",R1_RequestFields:"Id;Code;"+n()(t).join(";")+";TypeName",R1_Code:"KPISetting",TotalRequests:1};for(var s in t)i["R1_"+s]=t[s];c.a.post(i).then(function(t){t&&t.R1&&!0===t.R1.success&&e(t.R1.Data)}).catch(function(t){a(t)})})},h=function(t){return new r.a(function(e,a){var i={RequestClass:"xBase",RequestAction:"Request",R1_RequestDataGroup:"DataGroup.kpisetting.03462",R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestFields:"Id;Code;"+n()(t).join(";")+";TypeName",R1_Code:"KPISetting",TotalRequests:1};for(var s in t)i["R1_"+s]=t[s];c.a.post(i).then(function(t){t&&t.R1&&!0===t.R1.success&&e(t.R1.Data)}).catch(function(t){a(t)})})},f=function(){return new r.a(function(t,e){var a={RequestClass:"xBase",RequestAction:"Request",R1_RequestDataGroup:"DataGroup.kpisetting.03462",R1_RequestTemplate:"AG_Task_Task.Search",R1_Code:"KPISetting",R1_RequestFields:"Code;Id;Type;Description;ManagerName;Categories;TypeName",TotalRequests:1};c.a.post(a).then(function(a){console.log("data",a),a.success?(a=a.R1.Data.TasksDS.Task||[],a.length||0===a.length||(a=[a]),t(a)):e(a)}).catch(function(t){console.log("err",t),e(t)})})},g=function(t){return new r.a(function(e,a){var i={RequestClass:"xBase",RequestAction:"Request",R1_RequestDataGroup:"DataGroup.kpisetting.03462",R1_RequestTemplate:"AG_Task_Task.Delete",R1_Id:t,TotalRequests:1};c.a.post(i).then(function(t){t.success&&t.R1.success?e():a(t)}).catch(function(t){console.log("err",t),a(t)})})},_=function(){return new r.a(function(t,e){var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_Priority:-1,R1_RequestTemplate:"xDocument_Document.Update",R1_UpdateWarehouse:!0,R1_Id:"6dbe4f9f-cc50-4c0c-bb54-4fa42b7dcf55",R1_RequestDataGroup:"DataGroup.warehouse.0fd40",R1_RequestFields:"Id;Code;MetaKeywords;Status;Priority;MetaKeywords;Status;Priority;;UpdateWarehouse;",SessionId:"62491a0d-e897-418e-8170-4feb8031a357"};c.a.post(a).then(function(e){t(e)}).catch(function(t){e(t)})})},v=function(){return new r.a(function(t,e){var a={RequestClass:"xBase",RequestAction:"Request",R1_Code:"Warehouse",TotalRequests:1,R1_TotalAttachments:-1,R1_DataSource:"Data.DocumentDS.Document",R1_RequestTemplate:"xDocument_Document.Update",R1_UpdateWarehouse:!0,R1_Id:"6dbe4f9f-cc50-4c0c-bb54-4fa42b7dcf55",R1_RequestDataGroup:"DataGroup.warehouse.0fd40",R1_RequestFields:"Id;Code;MetaKeywords;Status;TotalAttachments;UpdateWarehouse"};c.a.post(a).then(function(e){t(e)}).catch(function(t){e(t)})})},b=function(){return new r.a(function(t,e){var a={RequestClass:"xBase",RequestAction:"Request",R1_Code:"Warehouse",TotalRequests:1,R1_Priority:-1,R1_TotalAttachments:-1,R1_DataSource:"Data.DocumentDS.Document",R1_RequestTemplate:"xDocument_Document.Update",R1_UpdateWarehouse:!0,R1_Id:"6dbe4f9f-cc50-4c0c-bb54-4fa42b7dcf55",R1_RequestDataGroup:"DataGroup.warehouse.0fd40",R1_RequestFields:"Id;Code;MetaKeywords;Status;TotalAttachments;Priority;UpdateWarehouse;"};c.a.post(a).then(function(e){t(e)}).catch(function(t){e(t)})})},C=function(){return new r.a(function(t,e){var a={RequestClass:"xBase",RequestAction:"Request",R1_Code:"Warehouse",TotalRequests:1,R1_Priority:1,R1_TotalAttachments:1,R1_DataSource:"Data.DocumentDS.Document",R1_RequestTemplate:"xDocument_Document.Update",R1_UpdateWarehouse:!0,R1_Id:"6dbe4f9f-cc50-4c0c-bb54-4fa42b7dcf55",R1_RequestDataGroup:"DataGroup.warehouse.0fd40",R1_RequestFields:"Id;Code;MetaKeywords;Status;TotalAttachments;Priority;UpdateWarehouse;"};c.a.post(a).then(function(e){t(e)}).catch(function(t){e(t)})})},D={setPassword:function(t,e){return new r.a(function(a,i){var s={RequestClass:"BPM",RequestAction:"SetPassword",Account:t,Password:e};c.a.post(s,!0).then(function(t){a(t)}).catch(function(t){console.log("err",t)})})},insertUserToGroup:function(t,e){return new r.a(function(a,i){var s={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:t,GroupId:e};c.a.post(s,!0).then(function(t){a(t)})})},signUp:function(t,e,a,i){var o=this;return new r.a(function(n,l){var r={RequestClass:"BPM",RequestAction:"InsertUser",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;Notification",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone;Avatar",Description:s()({GroupLevel1:[],GroupLevel2:[]}),RoleRootColumnType:1,LoginName:t,Username:e,Email:i,Notification:s()({"DataGroup.activities.0c91d":{ActivitiesUpdate:!0,ActivitiesInsert:!0,Activities:!0},"DataGroup.contact.82fhd":{ContactUpdate:!0,ContactInsert:!0,Contact:!0},"DataGroup.danh-sach-cong-viec.04b66":{TaskComment:!0,TaskUpdated:!0,TaskInsert:!0,TaskReply:!0,Task:!0},"DataGroup.lead.9jwnc":{LeadUpdate:!0,LeadInsert:!0,Lead:!0},"DataGroup.order.9ejnl":{OrderUpdate:!0,OrderInsert:!0,Order:!0},"DataGroup.product.19jev":{ProductUpdate:!0,ProductInsert:!0,Product:!0},"DataGroup.tai-lieu-dung-chung.0cb59":{DocumentUpdate:!0,DocumentInsert:!0,Document:!0}}),NotificationColumnType:0,GroupRootColumnType:1,GroupRootNameColumnType:1},d=void 0;c.a.post(r,!0).then(function(t){if(!0===t.success)return d=t.Data,o.insertUserToGroup(d,"a94bae42-4953-f536-26fb-e5503be76321")}).then(function(){return o.setPassword(t,a)}).then(function(){n(d)}).catch(function(t){console.log("err",t)})})},signIn:function(t,e,a,i){return new r.a(function(s,o){var n={RequestClass:"BPM",RequestAction:"SignIn",HostURL:a,DeviceType:i,Account:t,Password:e};c.a.post(n).then(function(t){s(t)}).catch(function(t){console.log("err",t)})})}},y={getCoursesInCategory:function(t){return new r.a(function(e,a){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xDocument_Document.Search",R1_RequestDataGroup:"DataGroup.course.0a516",R1_RequestFields:"Id;Code;Category;Name;Description;TotalPages;TotalComments;FriendlyUrl;SourceUrl",R1_Code:"Course",R1_StartIndex:1,R1_EndIndex:50,R1_Category:t};c.a.post(i).then(function(t){t.success?(t=t.R1.Data.DocumentDS.Document||[],t.length||0===t.length||(t=[t]),e(t)):a(t)}).catch(function(t){console.log("err",t),a(t)})})},getCourse:function(t){return new r.a(function(e,a){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xDocument_Document.Search",R1_RequestDataGroup:"DataGroup.course.0a516",R1_RequestFields:"Id;Code;Category;Name;Description;TotalPages;TotalComments;FriendlyUrl;SourceUrl",R1_Code:"Course",R1_Id:t};c.a.post(i).then(function(t){t.success?(t=t.R1.Data.DocumentDS.Document,e(t)):a(t)}).catch(function(t){console.log("err",t),a(t)})})},getLessonInCourse:function(t){return new r.a(function(e,a){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xDocument_Document.Search",R1_RequestDataGroup:"DataGroup.tai-lieu-dung-chung.0cb59",R1_RequestFields:"Id;Tool;Name;PublishedDate;Created;CreatedByName;CreatedBy;CategoryName;Category;TypeName;Type;ProjectName;Project;FunctionName;Function;Id;CreatedByName;ModifiedByName;Code;FileTypeName;ProjectName;TypeName;FunctionName;CategoryName;Description;",R1_Code:"Document",R1_StartIndex:1,R1_EndIndex:50,R1_Category:t};c.a.post(i).then(function(t){t.success?(t=t.R1.Data.DocumentDS.Document||[],t.length||0===t.length||(t=[t]),e(t)):a(t)}).catch(function(t){console.log("err",t),a(t)})})}};e.a={requestSetting:d,requestGetUser:m,requestBookProduct:_,requestSellProduct:v,requestImportTransferProduct:C,requestExportTransferProduct:b,request:u,createTarget:p,getTarget:f,deleteTarget:g,updateTarget:h,User:D,Course:y}},function(t,e,a){"use strict";function i(t){a(485)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(486),o=a(565),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.default=r.exports},,,function(t,e,a){"use strict";function i(t){a(687)}var s=a(688),o=a(696),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-a232d8be",null);e.a=r.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(3),s=new i.default;e.a=s},,,function(t,e,a){"use strict";function i(t){a(693)}var s=a(694),o=a(695),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},,function(t,e,a){"use strict";function i(t){a(476)}var s=a(477),o=a(566),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},,,function(t,e,a){"use strict";var i=a(599),s=a(600),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},,function(t,e,a){"use strict";function i(t){a(478)}var s=a(479),o=a(480),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(697)}var s=a(698),o=a(699),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-4c250ef8",null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(437)}var s=a(438),o=a(454),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-5b750951",null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(481),a(482)}var s=a(483),o=a(484),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-5c966bd6",null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(490)}var s=a(491),o=a(533),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},,,,,,,,,,,,,,,,,,,,function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var i=a(424),s=a(435),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";function i(t){a(462)}var s=a(463),o=a(464),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=function(t){var e=t.type,a=t.tagName,i=t.end,s=void 0===i?0:i,o=t.rate,n=void 0===o?2:o;if("scrollLeft"!==e)return void console.error("type：scrollLeft");window.requestAnimationFrame||(window.requestAnimationFrame=function(t){setTimeout(t,17)});var l=document.getElementById(a),r=document.getElementsByClassName(a)[0],c=l||r||document.body,d=s,u=c.scrollLeft;if(u!==s&&"number"==typeof u){!function t(){return 0===n?void(c.scrollLeft=s):(u+=(s-u)/n,Math.abs(u-d)<1?void(c.scrollLeft=s):(c.scrollLeft=u,void requestAnimationFrame(t)))}()}}},function(t,e,a){"use strict";a.d(e,"c",function(){return s}),a.d(e,"a",function(){return n}),a.d(e,"b",function(){return l}),a.d(e,"d",function(){return r});var i=a(21),s=(a.n(i),function(t,e,a){if(t)return t.length?void t.forEach(function(t){return t.addEventListener(e,a)}):void t.addEventListener(e,a)}),o=Array.prototype.slice,n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return o.call(e.querySelectorAll(t))},l=(Array.prototype.forEach,Array.prototype.indexOf,function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];if(t&&0!==t.length){if(!t.length){var s;return void(s=t.classList).add.apply(s,a)}t.forEach(function(t){var e;return(e=t.classList).add.apply(e,a)})}}),r=function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];if(t&&0!==t.length){if(!t.length){var s;return void(s=t.classList).remove.apply(s,a)}t.forEach(function(t){var e;return(e=t.classList).remove.apply(e,a)})}}},function(t,e,a){"use strict";function i(t){a(487),a(488)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(489),o=a(542),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-0c26f9fb",null);e.default=r.exports},function(t,e,a){"use strict";function i(t){a(536)}var s=a(537),o=a(541),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(538)}var s=a(539),o=a(540),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-732b8638",null);e.a=r.exports},,,,,function(t,e,a){"use strict";function i(t){a(653)}var s=a(654),o=a(655),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-525b6d4b",null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(675)}var s=a(676),o=a(705),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-3b6af51d",null);e.a=r.exports},function(t,e,a){"use strict";var i=a(686),s=a(700),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";function i(t){a(701)}var s=a(702),o=a(703),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(706)}var s=a(707),o=a(708),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-3fd2dadf",null);e.a=r.exports},,,function(t,e){},,,,function(t,e,a){"use strict";var i=a(866),s=a(867),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(868),s=a(869),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(415),s=a(455),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},,function(t,e,a){"use strict";function i(t){a(425)}var s=a(426),o=a(434),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-78cdd1bd",null);e.a=r.exports},function(t,e,a){"use strict";function i(t){a(561)}var s=a(562),o=a(563),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e,a){"use strict";var i=a(632),s=a(648),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(649),s=a(657),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(658),s=a(670),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";function i(t){a(673)}var s=a(674),o=a(709),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-5bf17eb9",null);e.a=r.exports},function(t,e,a){"use strict";(function(t){var i=a(22),s=a.n(i),o=a(7),n=a(3),l=a(98),r=document.createElement("script");r.src="https://apis.google.com/js/client.js",document.head.appendChild(r);var c="68497599090-mt66grcb5vqtmh24av0bp5hhnf44h5b7.apps.googleusercontent.com",d="tvQqS1mu5NU0xMXYeJKevQM2",u="https://www.googleapis.com/auth/calendar",m=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];n.default.set(l.a.$rootScope,"authGoogle",!1),n.default.set(l.a.$rootScope,"firstLoad",!0);var p={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};e.a={initClient:function(e,a){var i=this;return s()(function(s,n){var l=p;l.R1_RequestTemplate="SettingNew.SearchSetting",l.R1_ParentCode="xSetting.Default.GoogleSetting",o.a.post(l).then(function(l){l=o.a.getDataWithRoot(l.R1,"Data.DynamicDS.Setting"),t.each(l,function(t,e){"clientId"===e.Code&&(c=e.Value),"clientSecret"===e.Code&&(d=e.Value)}),gapi.client.init({discoveryDocs:m,clientId:c,scope:u,client_secret:d}).then(function(){var t=gapi.auth2.getAuthInstance();t.isSignedIn.listen(i.updateSigninStatus);var o=i.updateSigninStatus(t.isSignedIn.get(),e,a);s(o)},function(t){console.log(t.details),console.log("can not connect google api"),n("error")})})})},updateSigninStatus:function(t,e,a){var i=this;return s()(function(s,o){if(t){n.default.set(l.a.$rootScope,"authGoogle",!0);s(i.listUpcomingEvents(e,a))}else n.default.set(l.a.$rootScope,"authGoogle",!1),o("error")}).promise},checkAuth:function(){return new s.a(function(e,a){try{var i=p;i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_ParentCode="xSetting.Default.GoogleSetting",o.a.post(i).then(function(a){a=o.a.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),t.each(a,function(t,e){"clientId"===e.Code&&(c=e.Value),"clientSecret"===e.Code&&(d=e.Value)}),setTimeout(function(){gapi.client.init({clientId:c,scope:u,discoveryDocs:m,client_secret:d}).then(function(t){gapi.auth2.getAuthInstance().then(function(t){t.isSignedIn.get(),console.log("Connected Google"),e(t.isSignedIn.get())})},function(t){console.log("can not connect google api",t)})},1e3)})}catch(t){console.log(t),console.log("can not connect google api"),a("error")}})},handleAuthClick:function(t){return new s.a(function(t,e){gapi.auth2.getAuthInstance().signIn().then(function(e){n.default.set(l.a.$rootScope,"authGoogle",!0),t(e)},function(t){n.default.set(l.a.$rootScope,"authGoogle",!1),e("error")})})},handleSignoutClick:function(t){try{gapi.client.init({clientId:c,scope:u}).then(function(t){gapi.auth2.getAuthInstance().signOut().then(function(){})})}catch(t){console.log(t)}},getEvents:function(t,e){return new s.a(function(a,i){gapi.client.calendar.events.list({calendarId:"primary",timeMin:o.a.formatDateTime(new Date(t),"YYYY-MM-DDTHH:mm:ss+07:00"),timeMax:o.a.formatDateTime(new Date(e),"YYYY-MM-DDTHH:mm:ss+07:00"),singleEvents:!0,orderBy:"startTime"}).execute(function(t){t.error?i("error"):a(t.items)})})},listUpcomingEvents:function(t,e){return new s.a(function(a,i){gapi.client.calendar.events.list({calendarId:"primary",timeMin:o.a.formatDateTime(new Date(t),"YYYY-MM-DDTHH:mm:ss+07:00"),timeMax:o.a.formatDateTime(new Date(e),"YYYY-MM-DDTHH:mm:ss+07:00"),singleEvents:!0,orderBy:"startTime"}).execute(function(t){t.error?i("error"):a(t.items)})})},insertEvent:function(t,e){return new s.a(function(a,i){gapi.client.load("calendar","v3",function(){gapi.client.calendar.events.insert({calendarId:e,resource:t}).execute(function(t){"confirmed"===t.status?a(t):i("error")})})})},updateEvent:function(t){return new s.a(function(e,a){gapi.client.load("calendar","v3",function(){gapi.client.calendar.events.get({calendarId:"primary",eventId:t.id}).execute(function(i){"confirmed"===i.status?gapi.client.calendar.events.update({calendarId:"primary",eventId:i.id,resource:t}).execute(function(t){e(t)}):a("error")})})})},deleteEvent:function(t){return new s.a(function(e,a){gapi.client.load("calendar","v3",function(){gapi.client.calendar.events.get({calendarId:"primary",eventId:t}).execute(function(a){gapi.client.calendar.events.delete({calendarId:"primary",eventId:t}).execute(function(t){e(t)})})})})},searchEventByExtraId:function(t){return new s.a(function(e,a){gapi.client.calendar.events.list({calendarId:"primary",privateExtendedProperty:["xTaskId="+t],singleEvents:!0}).execute(function(t){t.error?a("error"):e(t.items)})})}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(711)}var s=a(712),o=a(732),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-228aeac2",null);e.a=r.exports},function(t,e,a){"use strict";var i=a(740),s=a(749),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";function i(t){a(750)}var s=a(751),o=a(756),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-636f323a",null);e.a=r.exports},,function(t,e,a){"use strict";var i=a(3),s=a(404),o=(a(405),a(408),a(411)),n=a(280),l=a(456),r=a(574),c=a(577),d=a(581),u=a(628),m=a(284),p=a(285),h=a(286),f=a(671),g=a(289),_=a(733),v=a(290),b=a(291),C=a(757),D=a(770),y=a(784),S=a(788),R=a(917),k=a(132),T=(a.n(k),a(925)),$=function(){return a.e(31).then(a.bind(null,949))},x=function(){return a.e(30).then(a.bind(null,950))},w=function(){return a.e(22).then(a.bind(null,951))},F=function(){return a.e(28).then(a.bind(null,952))},I=function(){return a.e(29).then(a.bind(null,953))},U=function(){return a.e(27).then(a.bind(null,954))},M=function(){return a.e(21).then(a.bind(null,955))},E=function(){return a.e(1).then(a.bind(null,956))},P=function(){return a.e(7).then(a.bind(null,957))},L=function(){return a.e(25).then(a.bind(null,941))},N=function(){return a.e(4).then(a.bind(null,958))},O=function(){return a.e(15).then(a.bind(null,959))},q=function(){return a.e(10).then(a.bind(null,960))},A=function(){return a.e(9).then(a.bind(null,942))},j=function(){return a.e(6).then(a.bind(null,961))},G=function(){return new Promise(function(t){t()}).then(a.bind(null,260))},B=function(){return a.e(8).then(a.bind(null,962))},V=function(){return a.e(0).then(a.bind(null,963))},W=function(){return a.e(26).then(a.bind(null,964))},H=function(){return a.e(19).then(a.bind(null,938))},K=function(){return a.e(18).then(a.bind(null,939))},z=function(){return a.e(11).then(a.bind(null,940))},Y=function(){return a.e(3).then(a.bind(null,965))},J=function(){return a.e(23).then(a.bind(null,943))},X=function(){return a.e(2).then(a.bind(null,944))},Q=function(){return a.e(5).then(a.bind(null,945))},Z=function(){return a.e(24).then(a.bind(null,966))},tt=function(){return a.e(32).then(a.bind(null,967))},et=function(){return a.e(16).then(a.bind(null,968))},at=function(){return a.e(17).then(a.bind(null,969))},it=function(){return a.e(13).then(a.bind(null,970))},st=function(){return a.e(14).then(a.bind(null,971))};i.default.use(s.a),e.a=new s.a({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/my-view-page",name:"Home",beforeEnter:T.a,component:M,children:[{path:"project-view",name:"ProjectView",beforeEnter:T.a,component:l.a,children:[]},{path:"task-summary-table",name:"TaskSummaryTable",beforeEnter:T.a,component:R.a},{path:"crm-dashboard",name:"CRM",beforeEnter:T.a,component:S.a},{path:"my-view-page",name:"MyView",beforeEnter:T.a,component:P},{path:"/task-block-view",name:"Target",beforeEnter:T.a,component:E,children:[{path:"week-target",name:"WeekTarget",component:H},{path:"week-task",name:"WeekTask",beforeEnter:T.a,component:K},{path:"target-setting",name:"TargetSetting",beforeEnter:T.a,component:z}]},{path:"/dynamic/:url/:value",name:"DynamicMain1",beforeEnter:T.a,component:c.a,children:[]},{path:"/dynamic/:url",name:"DynamicMain2",beforeEnter:T.a,component:c.a,children:[]},{path:"/tasks",redirect:"/timeline",name:"Tasks",beforeEnter:T.a,component:Y,children:[{path:"/timeline",name:"TimeLine",component:L,children:[]},{path:"/scrumboard",name:"scrumboard",beforeEnter:T.a,component:A,children:[]}]},{path:"category",name:"Categories",beforeEnter:T.a,component:N,children:[]},{path:"projects",name:"Projects",beforeEnter:T.a,component:O,children:[]},{path:"project",name:"Project",beforeEnter:T.a,component:n.a,children:[]},{path:"calendar",name:"Calendar",beforeEnter:T.a,component:q,children:[]},{path:"daily-report",name:"DailyReport",beforeEnter:T.a,component:j,children:[]},{path:"all-notifications",name:"AllNotifications",beforeEnter:T.a,component:y.a,children:[]},{path:"dynamic-charts",name:"DynamicCharts",beforeEnter:T.a,component:G,children:[]},{path:"knowhow-document",name:"Documents",beforeEnter:T.a,component:B,children:[]},{path:"/config",name:"Setting",beforeEnter:T.a,redirect:"/setting-users",component:V,children:[{path:"/setting-users",name:"SettingUsers",beforeEnter:T.a,component:J,children:[]},{path:"/setting-group-project",name:"SettingGroupAndProject",beforeEnter:T.a,component:X,children:[]},{path:"/setting-ui",name:"SettingUI",beforeEnter:T.a,component:Q,children:[]},{path:"/setting-param",name:"SettingParam",beforeEnter:T.a,component:Z,children:[]}]},{path:"/advanced-setting",name:"AdvancedSetting",beforeEnter:T.a,component:W,children:[{path:"/data-groups",name:"DataGroup",beforeEnter:T.a,component:d.a},{path:"/settings/:param",name:"Settings2",beforeEnter:T.a,component:C.a},{path:"/settings",name:"Settings1",beforeEnter:T.a,component:C.a},{path:"/lists",name:"UILists",beforeEnter:T.a,component:h.a},{path:"/forms",name:"UIForms",beforeEnter:T.a,component:f.a},{path:"/filters",name:"UIFilters",beforeEnter:T.a,component:p.a},{path:"/reports",name:"UIReports",beforeEnter:T.a,component:m.a},{path:"/pages",name:"UIPages",beforeEnter:T.a,component:g.a},{path:"/imports",name:"UIimports",beforeEnter:T.a,component:D.a},{path:"/users",name:"Users",beforeEnter:T.a,component:b.a},{path:"/groups",name:"Groups",beforeEnter:T.a,component:v.a},{path:"/notifications",name:"Notifications",beforeEnter:T.a,component:_.a},{path:"/calendar/setting",name:"CalendarSetting",beforeEnter:T.a,component:u.a},{path:"/expression",name:"Expression",beforeEnter:T.a,component:tt},{path:"/warehouse",name:"Warehouse",beforeEnter:T.a,component:r.a}]},{path:"/kpi-settings",name:"KPI Settings",beforeEnter:T.a,component:at,children:[]},{path:"/kpis",name:"Kpis",beforeEnter:T.a,component:et,children:[]},{path:"/poses",name:"POSes",beforeEnter:T.a,component:it,children:[]},{path:"/import-export-warehouse",name:"ImpExpReceipts",beforeEnter:T.a,component:st,children:[]}]},{path:"/login",name:"Login",component:o.a},{path:"/login-mobile",name:"LoginMobile",component:w},{path:"/register-mobile",name:"RegisterMobile",component:F},{path:"/pages",redirect:"/pages/404",name:"Pages",component:{render:function(t){return t("router-view")}},children:[{path:"404",name:"Page404",component:$},{path:"500",name:"Page500",component:x},{path:"reset-pass",name:"ResetPass",component:U},{path:"register",name:"Register",component:I}]}]})},function(t,e,a){"use strict";var i=a(458),s=a(569),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";function i(t){a(570)}var s=a(571),o=a(572),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-098ec904",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(864),s=a(871),o=a(278),n=a(875),l=a(879),r=a(886);a(279);a.d(e,"a",function(){return i.a}),a.d(e,"b",function(){return s.a}),a.d(e,"c",function(){return o.a}),a.d(e,"d",function(){return n.a}),a.d(e,"e",function(){return l.a}),a.d(e,"f",function(){return r.a})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"bus",function(){return g});var i=a(3),s=a(301),o=a(302),n=a(293),l=a(140),r=a(930),c=a.n(r),d=a(932),u=a(933),m=a(934),p=a.n(m),h=a(935),f=a.n(h);i.default.use(s.a),i.default.use(l.a),a(926),a(927),a(928),a(929),i.default.use(c.a),i.default.use(d.a);var g=new i.default,_={vn:f.a,en:p.a},v=new d.a({locale:"vn",messages:_});new i.default({el:"#app",i18n:v,router:n.a,store:u.a,template:"<App/>",components:{App:o.a}})},,,,function(t,e,a){"use strict";function i(t){a(303),a(305)}var s=a(306),o=a(403),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-97ae1f5e",null);e.a=r.exports},function(t,e){},,function(t,e){},function(t,e,a){"use strict";var i=a(4),s=a.n(i),o=a(3),n=a(70),l=a.n(n),r=a(132),c=(a.n(r),a(370)),d=a.n(c),u=a(59),m=a.n(u),p=a(7),h=a(396),f=a(96),g=a.n(f),_=a(397),v=a(98),b=a(401),C=a.n(b),D=a(402),y=a.n(D);o.default.use(p.a),o.default.use(a(40)),o.default.use(g.a),o.default.use(_.a),o.default.use(C.a),m.a.use(d.a),o.default.use(y.a),o.default.use(l.a,{size:"mini"}),o.default.use(n.Pagination),o.default.use(n.Dialog),o.default.use(n.Autocomplete),o.default.use(n.Dropdown),o.default.use(n.DropdownMenu),o.default.use(n.DropdownItem),o.default.use(n.Menu),o.default.use(n.Submenu),o.default.use(n.MenuItem),o.default.use(n.MenuItemGroup),o.default.use(n.Input),o.default.use(n.InputNumber),o.default.use(n.Radio),o.default.use(n.RadioGroup),o.default.use(n.RadioButton),o.default.use(n.Checkbox),o.default.use(n.CheckboxGroup),o.default.use(n.Switch),o.default.use(n.Select),o.default.use(n.Option),o.default.use(n.OptionGroup),o.default.use(n.Button),o.default.use(n.ButtonGroup),o.default.use(n.Table),o.default.use(n.TableColumn),o.default.use(n.DatePicker),o.default.use(n.TimeSelect),o.default.use(n.TimePicker),o.default.use(n.Popover),o.default.use(n.Tooltip),o.default.use(n.Breadcrumb),o.default.use(n.BreadcrumbItem),o.default.use(n.Form),o.default.use(n.FormItem),o.default.use(n.Tabs),o.default.use(n.TabPane),o.default.use(n.Tag),o.default.use(n.Tree),o.default.use(n.Alert),o.default.use(n.Slider),o.default.use(n.Icon),o.default.use(n.Row),o.default.use(n.Col),o.default.use(n.Upload),o.default.use(n.Progress),o.default.use(n.Badge),o.default.use(n.Card),o.default.use(n.Rate),o.default.use(n.Steps),o.default.use(n.Step),o.default.use(n.Carousel),o.default.use(n.CarouselItem),o.default.use(n.Collapse),o.default.use(n.CollapseItem),o.default.use(n.Cascader),o.default.use(n.ColorPicker),o.default.use(n.Container),o.default.use(n.Header),o.default.use(n.Aside),o.default.use(n.Main),o.default.use(n.Footer),o.default.use(n.Loading.directive),o.default.prototype.$loading=n.Loading.service,o.default.prototype.$msgbox=n.MessageBox,o.default.prototype.$alert=n.MessageBox.alert,o.default.prototype.$confirm=n.MessageBox.confirm,o.default.prototype.$prompt=n.MessageBox.prompt,o.default.prototype.$notify=n.Notification,o.default.prototype.$message=n.Message,o.default.prototype.$Utils=p.a,o.default.prototype.$cordovaPushV5=h.a,o.default.prototype.$Lodash=g.a,o.default.prototype.$hub=v.a,o.default.prototype.$signalr=C.a,o.default.prototype.$rootScope={loggedOnUser:localStorage.getItem("LoggedOnUser")?JSON.parse(localStorage.getItem("LoggedOnUser")):{}},o.default.prototype.$froOptions={placeholderText:"Nội dung",charCounterCount:!1,toolbarButtons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","|","color","emoticons","inlineStyle","paragraphStyle","|","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting","selectAll","html"],toolbarButtonsMD:["bold","italic","underline","fontFamily","fontSize","color","paragraphStyle","paragraphFormat","align","formatOL","formatUL","outdent","indent","quote","insertHR","insertLink","insertImage","insertVideo","insertTable","undo","redo","clearFormatting"],imageInsertButtons:["imageBack","|","imageByURL"],heightMin:200,imageUploadRemoteUrls:!1,videoInsertButtons:["videoBack","|","videoByURL"]},String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},e.a={name:"app",components:{DynamicDialog:_.a},data:function(){return{}},methods:{},created:function(){},mounted:function(){var t=!0;setInterval(function(){var e="onLine"in navigator&&!navigator.onLine;e&&1==t?(t=!1,o.default.prototype.$message.error({message:"Mất kết nối đến mạng internet, cần kiểm tra lại đường truyền!",duration:0})):e||0!=t||(t=!0,o.default.prototype.$message.closeAll())},3e3)}},o.default.prototype.$defaultUndefined="[Không xác định]",o.default.prototype.$defaultChangePass=14,o.default.prototype.$roleEveryoneId=p.a.roleEveryoneId(),o.default.prototype.$administrator=p.a.administrator(),o.default.prototype.$supervisor=p.a.supervisor(),o.default.prototype.$manager=p.a.manager(),o.default.prototype.$leader=p.a.leader(),o.default.prototype.$upload_file_max_length=20480,o.default.prototype.$localStorageConstant={SessionId:"SessionId",UserId:"UserId",LoginName:"LoginName",AppConfig:"AppConfig",table_settings_type:"table_settings_type",organization:"organization",objectStatus:"objectStatus",LoggedOnUser:"LoggedOnUser",RootScopeDataParams:"RootScopeDataParams",MenuStateUpdateLatest:"MenuStateUpdateLatest",MenuRoleSelected:"MenuRoleSelected",HTMLTemplateCache:"HTMLTemplateCache",DynamicMenu:"DynamicMenu",ModuleSetting:"ModuleSetting",FilterData:"FilterData",ListPages:"ListPages",appUri:"appUri",SaveStatus:"SaveStatus",Password:"Password",settingColor:"settingColor",arrPriorityColor:"arrPriorityColor",Lang:"Lang",Application:"Application",Notification:"Notification",ModeProject:"ModeProject",StoredURI:"StoredURI",listPriority:"listPriority",listStatus:"listStatus"},o.default.prototype.$singleRequest={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1},o.default.prototype.$toastMessage={loadingDataFailed:"Tải dữ liệu không thành công",settingTemplateError:"Cài đặt cấu hình không chính xác xin vui lòng liên hệ với quản trị viên",reportDataMergeError:"Dữ liệu các biểu đồ của bạn không phù hợp để ghép, xin vui lòng cấu hình lại",updateItemPre:"Cập nhật ",updateItemSuf:" thành công",updateItemFailed:"Cập nhật không thành công",deleteItemFailed:"Xóa không thành công",deleteItemPre:"Xóa thành công ",deleteItemSuf:"",getCountFail:"Lấy số bản ghi không thành công",countZero:"Không có dữ liệu",reportNull:"Không có dữ liệu thống kê",reportError:"Tải dữ liệu không thành công",emptyTemplate:"Không có mẫu email",deleteSettingChild:"Bạn cần xóa các bản ghi con trước",deleteSettingWarning:"Bạn thực sự muốn xóa bản ghi này?",oneWayAction:"Hành động này không thể hoàn tác. ",copyNoteWarning:"Bạn thực sự muốn xóa các dữ liệu cũ và khởi tạo lại các bản ghi mới?",emptyRedirectLink:"Chưa có setting đường dẫn cụ thể",loginError:"Đăng nhập không thành công"},o.default.prototype.$informations=[{version:"1.0",checked:1,versionName:"starter",price:"12",best:0,versionTemplate:{pdca:"mantis",crm:"",knowledge:"",cashbook:"",report:"mantis",module:{callcenter:!1,sms:!1,facebook:!1}},isActive:!0},{version:"1.0",versionName:"professional",checked:2,price:"12",best:"BEST VALUE",versionTemplate:{pdca:"mantis",crm:"",knowledge:"",cashbook:"",report:"mantis",module:{callcenter:!1,sms:!1,facebook:!1}},isActive:!1},{version:"1.0",price:"12",best:0,checked:3,versionName:"enterprise",versionTemplate:{pdca:"mantis",crm:"",knowledge:"",cashbook:"",report:"mantis",module:{callcenter:!1,sms:!1,facebook:!1}},isActive:!1}];var S={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},iPad:function(){return navigator.userAgent.match(/iPad/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return S.Android()||S.BlackBerry()||S.iOS()||S.Opera()||S.Windows()}};o.default.prototype.$isMobile=S,S.Android()||S.BlackBerry()||S.iOS()||S.Opera()||S.Windows()?o.default.prototype.$isMobileDevice=!0:o.default.prototype.$isMobileDevice=!1,"file:"==document.location.protocol?o.default.prototype.$myDevice="isMobileApp":o.default.prototype.$myDevice="notMobileApp",S.iOS()&&document.location.protocol,o.default.prototype.$iPrefix="",o.default.prototype.$isSafari=/constructor/i.test(window.HTMLElement)||function(t){return"[object SafariRemoteNotification]"===t.toString()}(!window.safari||safari.pushNotification),o.default.prototype.$getItemLocalStorage=function(t){return window.localStorage.getItem(t)},o.default.prototype.$removeItemLocalStorage=function(t){window.localStorage.removeItem(t)},o.default.prototype.$setItemLocalStorage=function(t,e){window.localStorage.setItem(t,e)},o.default.prototype.$clearStorage=function(){if("true"==o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.SaveStatus)){var t=o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.SaveStatus);if(o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.LoginName))var e=o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.LoginName);if(o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.AppConfig))var a=o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.AppConfig);if(o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.Password))var i=o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.Password);if(o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.StoredURI))var s=o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.StoredURI)}window.localStorage.clear(),t&&(o.default.prototype.$setItemLocalStorage(o.default.prototype.$localStorageConstant.SaveStatus,t),e&&o.default.prototype.$setItemLocalStorage(o.default.prototype.$localStorageConstant.LoginName,e),a&&o.default.prototype.$setItemLocalStorage(o.default.prototype.$localStorageConstant.AppConfig,a),i&&o.default.prototype.$setItemLocalStorage(o.default.prototype.$localStorageConstant.Password,i),s&&o.default.prototype.$setItemLocalStorage(o.default.prototype.$localStorageConstant.StoredURI,s))},String.prototype.replaceAll=function(t,e,a){return this.replace(new RegExp(t.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),a?"gi":"g"),"string"==typeof e?e.replace(/\$/g,"$$$$"):e)},o.default.prototype.$getXmlPath=function(){return xmlConfig.xmlPath},o.default.prototype.$isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.default.prototype.$userRoot=o.default.prototype.$Utils.jsonParse(localStorage.getItem("LoggedOnUser")),o.default.prototype.$isMantisAdmin=function(){if(o.default.prototype.$Utils.jsonParse(localStorage.getItem("LoggedOnUser")).Roles)return s()(o.default.prototype.$Utils.jsonParse(localStorage.getItem("LoggedOnUser")).Roles).indexOf(o.default.prototype.$supervisor)>-1},o.default.prototype.$isSystemAdmin=function(){if(o.default.prototype.$Utils.jsonParse(localStorage.getItem("LoggedOnUser")).Roles)return s()(o.default.prototype.$Utils.jsonParse(localStorage.getItem("LoggedOnUser")).Roles).indexOf(o.default.prototype.$administrator)>-1},o.default.prototype.$safeApply=function(t,e,a){var i=t.$root.$$phase;"$apply"==i||"$digest"==i?a&&"function"==typeof a&&a():t["$"+e](a)};var R=p.a.URL();o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.appUri)?o.default.prototype.$appUri=JSON.parse(o.default.prototype.$getItemLocalStorage(o.default.prototype.$localStorageConstant.appUri)):o.default.prototype.$appUri={BaseURL:R+"/",BaseUri:R+"/xRequest.ashx",BaseUriCopy:"http://templagute.mn.com.vn/xRequest.ashx",BaseRedirect:"/my-view-page"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e,a){(function(t,e){t&&function(t){t.extend({xml2json:function(e,a){function i(e,n){if(!e)return null;var l="",r=null,c=null;e.nodeType,s(e.localName||e.nodeName),e.text||e.nodeValue;e.childNodes&&e.childNodes.length>0&&t.each(e.childNodes,function(t,e){var a=e.nodeType,n=s(e.localName||e.nodeName),c=e.text||e.nodeValue||"";if(8!=a)if(3!=a&&4!=a&&n)r=r||{},r[n]?(r[n].length||(r[n]=o(r[n])),r[n]=o(r[n]),r[n][r[n].length]=i(e,!0),r[n].length=r[n].length):r[n]=i(e);else{if(c.match(/^\s+$/))return;l+=c.replace(/^\s+/,"").replace(/\s+$/,"")}}),e.attributes&&e.attributes.length>0&&(c={},r=r||{},t.each(e.attributes,function(t,e){var a=s(e.name),i=e.value;c[a]=i,r[a]?(r[cnn]=o(r[cnn]),r[a][r[a].length]=i,r[a].length=r[a].length):r[a]=i})),r&&(r=t.extend(""!=l?new String(l):{},r||{}),l=r.text?[r.text||""].concat([l]):l,l&&(r.text=l),l="");var d=r||l;return a&&(l&&(d={}),l=d.text||l||"",l&&(d.text=l),n||(d=o(d))),d}if(!e)return{};var s=function(t){return String(t||"").replace(/-/g,"_")},o=function(e){return t.isArray(e)||(e=[e]),e.length=e.length,e};if("string"==typeof e&&(e=t.text2xml(e)),e.nodeType){if(3==e.nodeType||4==e.nodeType)return e.nodeValue;var n=9==e.nodeType?e.documentElement:e,l=i(n,!0);return e=null,n=null,l}},text2xml:function(e){return t.parseXML(e)}})}(e)}).call(e,a(2),a(2))},function(t,e,a){function i(t){return a(s(t))}function s(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./af":141,"./af.js":141,"./ar":142,"./ar-dz":143,"./ar-dz.js":143,"./ar-kw":144,"./ar-kw.js":144,"./ar-ly":145,"./ar-ly.js":145,"./ar-ma":146,"./ar-ma.js":146,"./ar-sa":147,"./ar-sa.js":147,"./ar-tn":148,"./ar-tn.js":148,"./ar.js":142,"./az":149,"./az.js":149,"./be":150,"./be.js":150,"./bg":151,"./bg.js":151,"./bn":152,"./bn.js":152,"./bo":153,"./bo.js":153,"./br":154,"./br.js":154,"./bs":155,"./bs.js":155,"./ca":156,"./ca.js":156,"./cs":157,"./cs.js":157,"./cv":158,"./cv.js":158,"./cy":159,"./cy.js":159,"./da":160,"./da.js":160,"./de":161,"./de-at":162,"./de-at.js":162,"./de-ch":163,"./de-ch.js":163,"./de.js":161,"./dv":164,"./dv.js":164,"./el":165,"./el.js":165,"./en-au":166,"./en-au.js":166,"./en-ca":167,"./en-ca.js":167,"./en-gb":168,"./en-gb.js":168,"./en-ie":169,"./en-ie.js":169,"./en-nz":170,"./en-nz.js":170,"./eo":171,"./eo.js":171,"./es":172,"./es-do":173,"./es-do.js":173,"./es.js":172,"./et":174,"./et.js":174,"./eu":175,"./eu.js":175,"./fa":176,"./fa.js":176,"./fi":177,"./fi.js":177,"./fo":178,"./fo.js":178,"./fr":179,"./fr-ca":180,"./fr-ca.js":180,"./fr-ch":181,"./fr-ch.js":181,"./fr.js":179,"./fy":182,"./fy.js":182,"./gd":183,"./gd.js":183,"./gl":184,"./gl.js":184,"./gom-latn":185,"./gom-latn.js":185,"./he":186,"./he.js":186,"./hi":187,"./hi.js":187,"./hr":188,"./hr.js":188,"./hu":189,"./hu.js":189,"./hy-am":190,"./hy-am.js":190,"./id":191,"./id.js":191,"./is":192,"./is.js":192,"./it":193,"./it.js":193,"./ja":194,"./ja.js":194,"./jv":195,"./jv.js":195,"./ka":196,"./ka.js":196,"./kk":197,"./kk.js":197,"./km":198,"./km.js":198,"./kn":199,"./kn.js":199,"./ko":200,"./ko.js":200,"./ky":201,"./ky.js":201,"./lb":202,"./lb.js":202,"./lo":203,"./lo.js":203,"./lt":204,"./lt.js":204,"./lv":205,"./lv.js":205,"./me":206,"./me.js":206,"./mi":207,"./mi.js":207,"./mk":208,"./mk.js":208,"./ml":209,"./ml.js":209,"./mr":210,"./mr.js":210,"./ms":211,"./ms-my":212,"./ms-my.js":212,"./ms.js":211,"./my":213,"./my.js":213,"./nb":214,"./nb.js":214,"./ne":215,"./ne.js":215,"./nl":216,"./nl-be":217,"./nl-be.js":217,"./nl.js":216,"./nn":218,"./nn.js":218,"./pa-in":219,"./pa-in.js":219,"./pl":220,"./pl.js":220,"./pt":221,"./pt-br":222,"./pt-br.js":222,"./pt.js":221,"./ro":223,"./ro.js":223,"./ru":224,"./ru.js":224,"./sd":225,"./sd.js":225,"./se":226,"./se.js":226,"./si":227,"./si.js":227,"./sk":228,"./sk.js":228,"./sl":229,"./sl.js":229,"./sq":230,"./sq.js":230,"./sr":231,"./sr-cyrl":232,"./sr-cyrl.js":232,"./sr.js":231,"./ss":233,"./ss.js":233,"./sv":234,"./sv.js":234,"./sw":235,"./sw.js":235,"./ta":236,"./ta.js":236,"./te":237,"./te.js":237,"./tet":238,"./tet.js":238,"./th":239,"./th.js":239,"./tl-ph":240,"./tl-ph.js":240,"./tlh":241,"./tlh.js":241,"./tr":242,"./tr.js":242,"./tzl":243,"./tzl.js":243,"./tzm":244,"./tzm-latn":245,"./tzm-latn.js":245,"./tzm.js":244,"./uk":246,"./uk.js":246,"./ur":247,"./ur.js":247,"./uz":248,"./uz-latn":249,"./uz-latn.js":249,"./uz.js":248,"./vi":250,"./vi.js":250,"./x-pseudo":251,"./x-pseudo.js":251,"./yo":252,"./yo.js":252,"./zh-cn":253,"./zh-cn.js":253,"./zh-hk":254,"./zh-hk.js":254,"./zh-tw":255,"./zh-tw.js":255};i.keys=function(){return Object.keys(o)},i.resolve=s,t.exports=i,i.id=395},function(t,e,a){"use strict";var i=a(22),s=a.n(i),o=a(98);e.a={initialize:function(t){return new s.a(function(e,a){o.a.push=PushNotification.init(t),e(o.a.push)})},onNotification:function(){setTimeout(function(){o.a.push.on("notification",function(t){o.a.$emit("$cordovaPushV5:notificationReceived",t)})})},onError:function(){setTimeout(function(){o.a.push.on("error",function(t){o.a.$emit("$cordovaPushV5:errorOccurred",t)})})},register:function(){return new s.a(function(t,e){void 0===o.a.push?e(new Error("init must be called before any other operation")):o.a.push.on("registration",function(e){t(e.registrationId)})})},unregister:function(){return new s.a(function(t,e){void 0===o.a.push?e(new Error("init must be called before any other operation")):o.a.push.unregister(function(e){t(e)},function(t){e(t)})})},getBadgeNumber:function(){return new s.a(function(t,e){void 0===o.a.push?e(new Error("init must be called before any other operation")):o.a.push.getApplicationIconBadgeNumber(function(e){t(e)},function(t){e(t)})})},setBadgeNumber:function(t){return new s.a(function(e,a){void 0===o.a.push?a(new Error("init must be called before any other operation")):o.a.push.setApplicationIconBadgeNumber(function(t){e(t)},function(t){a(t)},t)})},finish:function(){return new s.a(function(t,e){void 0===o.a.push?e(new Error("init must be called before any other operation")):o.a.push.finish(function(e){t(e)},function(t){e(t)})})}}},function(t,e,a){"use strict";function i(t){a(398)}var s=a(399),o=a(400),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={name:"DynamicDialog",data:function(){return{title:"",width:"",visible:!1,position:"center",component:null,childComponent:null,isShowFooter:!0,customerclass:"",data:"",childData:"",childTitle:"",childWidth:"",isShowChildFooter:!1,customerChildClass:"",innerVisible:!1,isMobile:!1,clickOutsideToClose:!0,clickOutsideToCloseChild:!0,openedLocation:""}},destroyed:function(){this.$hub.$off("set-modal-data",this.set),this.$hub.$off("open-modal",this.open),this.$hub.$off("open-child-modal",this.openChild),this.$hub.$off("set-child-modal-data",this.setChild),this.$hub.$off("close-modal",this.close),this.$hub.$off("close-child-modal",this.closeChild)},methods:{handleClose:function(){this.close()},handleChildClose:function(){this.closeChild()},close:function(){this.data={},this.component=null,this.visible=!1,this.closeChild()},closeChild:function(){this.childData={},this.childComponent=null,this.innerVisible=!1},open:function(){this.visible=!0},openChild:function(){this.innerVisible=!0},set:function(t,e,a,i,s,o,n,l,r){this.data=l,this.title=t,this.width=e,this.visible=a,this.position=i,this.component=s,this.isShowFooter=o,this.customerclass=n,this.clickOutsideToClose=r,this.isMobile=this.$isMobileDevice,this.isMobile&&(this.width="100%")},setChild:function(t,e,a,i,s,o,n,l,r){this.childData=l,this.childTitle=t,this.childWidth=e,this.innerVisible=a,this.childPosition=i,this.childComponent=s,this.isShowChildFooter=o,this.customerChildClass=n,this.isMobile=this.$isMobileDevice,this.isMobile&&(this.childWidth="100%"),this.clickOutsideToCloseChild=r}},watch:{$route:function(t,e){this.close()}},mounted:function(){this.openedLocation=window.location.href,this.$nextTick(function(){this.$hub.$on("set-modal-data",this.set),this.$hub.$on("set-child-modal-data",this.setChild),this.$hub.$on("open-modal",this.open),this.$hub.$on("open-child-modal",this.openChild),this.$hub.$on("close-modal",this.close),this.$hub.$on("close-child-modal",this.closeChild)}.bind(this))}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{class:t.customerclass,attrs:{title:t.title,visible:t.visible,width:t.width,"before-close":t.handleClose,"close-on-click-modal":t.clickOutsideToClose,center:""},on:{"update:visible":function(e){t.visible=e}}},[a("el-dialog",{attrs:{width:t.childWidth,title:t.childTitle,visible:t.innerVisible,"before-close":t.handleChildClose,"close-on-click-modal":t.clickOutsideToCloseChild,"append-to-body":""},on:{"update:visible":function(e){t.innerVisible=e}}},[a("span",{staticClass:"dialog-header",attrs:{slot:"childTitle"},slot:"childTitle"},[t._v(t._s(t.childTitle))]),t._v(" "),a("span",[a(t.childComponent,{tag:"component",attrs:{data:t.childData}})],1),t._v(" "),t.isShowChildFooter?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("Close")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.visible=!1}}},[t._v("Confirm")])],1):t._e()]),t._v(" "),a("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))]),t._v(" "),a("span",[a(t.component,{tag:"component",attrs:{data:t.data}})],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},,,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("DynamicDialog"),t._v(" "),a("router-view")],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},,function(t,e,a){"use strict";var i=a(406),s=a(407),o=a(0),n=o(i.a,s.a,!1,null,null,null);n.exports},function(t,e,a){"use strict";e.a={name:"font-awesome"}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"card",attrs:{id:"new47"}},[a("div",{staticClass:"card-header"},[t._v("50 New Icons in 4.7")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-address-book fa-lg mt-4"}),a("br"),t._v("address-book\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-address-book-o fa-lg mt-4"}),a("br"),t._v("address-book-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-address-card fa-lg mt-4"}),a("br"),t._v("address-card\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-address-card-o fa-lg mt-4"}),a("br"),t._v("address-card-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bandcamp fa-lg mt-4"}),a("br"),t._v("bandcamp\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bath fa-lg mt-4"}),a("br"),t._v("bath\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bathtub fa-lg mt-4"}),a("br"),t._v("bathtub "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-drivers-license fa-lg mt-4"}),a("br"),t._v("drivers-license "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-drivers-license-o fa-lg mt-4"}),a("br"),t._v("drivers-license-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eercast fa-lg mt-4"}),a("br"),t._v("eercast\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-envelope-open fa-lg mt-4"}),a("br"),t._v("envelope-open\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-envelope-open-o fa-lg mt-4"}),a("br"),t._v("envelope-open-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-etsy fa-lg mt-4"}),a("br"),t._v("etsy\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-free-code-camp fa-lg mt-4"}),a("br"),t._v("free-code-camp\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-grav fa-lg mt-4"}),a("br"),t._v("grav\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-handshake-o fa-lg mt-4"}),a("br"),t._v("handshake-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-id-badge fa-lg mt-4"}),a("br"),t._v("id-badge\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-id-card fa-lg mt-4"}),a("br"),t._v("id-card\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-id-card-o fa-lg mt-4"}),a("br"),t._v("id-card-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-imdb fa-lg mt-4"}),a("br"),t._v("imdb\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-linode fa-lg mt-4"}),a("br"),t._v("linode\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-meetup fa-lg mt-4"}),a("br"),t._v("meetup\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-microchip fa-lg mt-4"}),a("br"),t._v("microchip\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-podcast fa-lg mt-4"}),a("br"),t._v("podcast\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-quora fa-lg mt-4"}),a("br"),t._v("quora\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ravelry fa-lg mt-4"}),a("br"),t._v("ravelry\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-s15 fa-lg mt-4"}),a("br"),t._v("s15 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shower fa-lg mt-4"}),a("br"),t._v("shower\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-snowflake-o fa-lg mt-4"}),a("br"),t._v("snowflake-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-superpowers fa-lg mt-4"}),a("br"),t._v("superpowers\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-telegram fa-lg mt-4"}),a("br"),t._v("telegram\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer fa-lg mt-4"}),a("br"),t._v("thermometer "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-0 fa-lg mt-4"}),a("br"),t._v("thermometer-0 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-1 fa-lg mt-4"}),a("br"),t._v("thermometer-1 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-2 fa-lg mt-4"}),a("br"),t._v("thermometer-2 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-3 fa-lg mt-4"}),a("br"),t._v("thermometer-3 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-4 fa-lg mt-4"}),a("br"),t._v("thermometer-4 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-empty fa-lg mt-4"}),a("br"),t._v("thermometer-empty\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-full fa-lg mt-4"}),a("br"),t._v("thermometer-full\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-half fa-lg mt-4"}),a("br"),t._v("thermometer-half\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-quarter fa-lg mt-4"}),a("br"),t._v("thermometer-quarter\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thermometer-three-quarters fa-lg mt-4"}),a("br"),t._v("thermometer-three-quarters\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-times-rectangle fa-lg mt-4"}),a("br"),t._v("times-rectangle "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-times-rectangle-o fa-lg mt-4"}),a("br"),t._v("times-rectangle-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user-circle fa-lg mt-4"}),a("br"),t._v("user-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user-circle-o fa-lg mt-4"}),a("br"),t._v("user-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user-o fa-lg mt-4"}),a("br"),t._v("user-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-vcard fa-lg mt-4"}),a("br"),t._v("vcard "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-vcard-o fa-lg mt-4"}),a("br"),t._v("vcard-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-window-close fa-lg mt-4"}),a("br"),t._v("window-close\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-window-close-o fa-lg mt-4"}),a("br"),t._v("window-close-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-window-maximize fa-lg mt-4"}),a("br"),t._v("window-maximize\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-window-minimize fa-lg mt-4"}),a("br"),t._v("window-minimize\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-window-restore fa-lg mt-4"}),a("br"),t._v("window-restore\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wpexplorer fa-lg mt-4"}),a("br"),t._v("wpexplorer\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"new"}},[a("div",{staticClass:"card-header"},[t._v("20 New Icons in 4.5")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bluetooth fa-lg mt-4"}),a("br"),t._v("bluetooth\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bluetooth-b fa-lg mt-4"}),a("br"),t._v("bluetooth-b\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-codiepie fa-lg mt-4"}),a("br"),t._v("codiepie\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-credit-card-alt fa-lg mt-4"}),a("br"),t._v("credit-card-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-edge fa-lg mt-4"}),a("br"),t._v("edge\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fort-awesome fa-lg mt-4"}),a("br"),t._v("fort-awesome\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hashtag fa-lg mt-4"}),a("br"),t._v("hashtag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mixcloud fa-lg mt-4"}),a("br"),t._v("mixcloud\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-modx fa-lg mt-4"}),a("br"),t._v("modx\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pause-circle fa-lg mt-4"}),a("br"),t._v("pause-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pause-circle-o fa-lg mt-4"}),a("br"),t._v("pause-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-percent fa-lg mt-4"}),a("br"),t._v("percent\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-product-hunt fa-lg mt-4"}),a("br"),t._v("product-hunt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-reddit-alien fa-lg mt-4"}),a("br"),t._v("reddit-alien\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-scribd fa-lg mt-4"}),a("br"),t._v("scribd\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shopping-bag fa-lg mt-4"}),a("br"),t._v("shopping-bag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shopping-basket fa-lg mt-4"}),a("br"),t._v("shopping-basket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stop-circle fa-lg mt-4"}),a("br"),t._v("stop-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stop-circle-o fa-lg mt-4"}),a("br"),t._v("stop-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-usb fa-lg mt-4"}),a("br"),t._v("usb\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"web-application"}},[a("div",{staticClass:"card-header"},[t._v("Web Application Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-adjust fa-lg mt-4"}),a("br"),t._v("adjust\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-anchor fa-lg mt-4"}),a("br"),t._v("anchor\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-archive fa-lg mt-4"}),a("br"),t._v("archive\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-area-chart fa-lg mt-4"}),a("br"),t._v("area-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows fa-lg mt-4"}),a("br"),t._v("arrows\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows-h fa-lg mt-4"}),a("br"),t._v("arrows-h\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows-v fa-lg mt-4"}),a("br"),t._v("arrows-v\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-asterisk fa-lg mt-4"}),a("br"),t._v("asterisk\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-at fa-lg mt-4"}),a("br"),t._v("at\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-automobile fa-lg mt-4"}),a("br"),t._v("automobile "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-balance-scale fa-lg mt-4"}),a("br"),t._v("balance-scale\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ban fa-lg mt-4"}),a("br"),t._v("ban\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bank fa-lg mt-4"}),a("br"),t._v("bank "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bar-chart fa-lg mt-4"}),a("br"),t._v("bar-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bar-chart-o fa-lg mt-4"}),a("br"),t._v("bar-chart-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-barcode fa-lg mt-4"}),a("br"),t._v("barcode\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bars fa-lg mt-4"}),a("br"),t._v("bars\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-0 fa-lg mt-4"}),a("br"),t._v("battery-0 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-1 fa-lg mt-4"}),a("br"),t._v("battery-1 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-2 fa-lg mt-4"}),a("br"),t._v("battery-2 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-3 fa-lg mt-4"}),a("br"),t._v("battery-3 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-4 fa-lg mt-4"}),a("br"),t._v("battery-4 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-empty fa-lg mt-4"}),a("br"),t._v("battery-empty\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-full fa-lg mt-4"}),a("br"),t._v("battery-full\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-half fa-lg mt-4"}),a("br"),t._v("battery-half\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-quarter fa-lg mt-4"}),a("br"),t._v("battery-quarter\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-battery-three-quarters fa-lg mt-4"}),a("br"),t._v("battery-three-quarters\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bed fa-lg mt-4"}),a("br"),t._v("bed\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-beer fa-lg mt-4"}),a("br"),t._v("beer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bell fa-lg mt-4"}),a("br"),t._v("bell\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bell-o fa-lg mt-4"}),a("br"),t._v("bell-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bell-slash fa-lg mt-4"}),a("br"),t._v("bell-slash\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bell-slash-o fa-lg mt-4"}),a("br"),t._v("bell-slash-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bicycle fa-lg mt-4"}),a("br"),t._v("bicycle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-binoculars fa-lg mt-4"}),a("br"),t._v("binoculars\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-birthday-cake fa-lg mt-4"}),a("br"),t._v("birthday-cake\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bluetooth fa-lg mt-4"}),a("br"),t._v("bluetooth\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bluetooth-b fa-lg mt-4"}),a("br"),t._v("bluetooth-b\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bolt fa-lg mt-4"}),a("br"),t._v("bolt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bomb fa-lg mt-4"}),a("br"),t._v("bomb\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-book fa-lg mt-4"}),a("br"),t._v("book\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bookmark fa-lg mt-4"}),a("br"),t._v("bookmark\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bookmark-o fa-lg mt-4"}),a("br"),t._v("bookmark-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-briefcase fa-lg mt-4"}),a("br"),t._v("briefcase\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bug fa-lg mt-4"}),a("br"),t._v("bug\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-building fa-lg mt-4"}),a("br"),t._v("building\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-building-o fa-lg mt-4"}),a("br"),t._v("building-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bullhorn fa-lg mt-4"}),a("br"),t._v("bullhorn\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bullseye fa-lg mt-4"}),a("br"),t._v("bullseye\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bus fa-lg mt-4"}),a("br"),t._v("bus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cab fa-lg mt-4"}),a("br"),t._v("cab "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-calculator fa-lg mt-4"}),a("br"),t._v("calculator\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-calendar fa-lg mt-4"}),a("br"),t._v("calendar\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-calendar-check-o fa-lg mt-4"}),a("br"),t._v("calendar-check-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-calendar-minus-o fa-lg mt-4"}),a("br"),t._v("calendar-minus-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-calendar-o fa-lg mt-4"}),a("br"),t._v("calendar-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-calendar-plus-o fa-lg mt-4"}),a("br"),t._v("calendar-plus-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-calendar-times-o fa-lg mt-4"}),a("br"),t._v("calendar-times-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-camera fa-lg mt-4"}),a("br"),t._v("camera\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-camera-retro fa-lg mt-4"}),a("br"),t._v("camera-retro\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-car fa-lg mt-4"}),a("br"),t._v("car\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-down fa-lg mt-4"}),a("br"),t._v("caret-square-o-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-left fa-lg mt-4"}),a("br"),t._v("caret-square-o-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-right fa-lg mt-4"}),a("br"),t._v("caret-square-o-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-up fa-lg mt-4"}),a("br"),t._v("caret-square-o-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cart-arrow-down fa-lg mt-4"}),a("br"),t._v("cart-arrow-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cart-plus fa-lg mt-4"}),a("br"),t._v("cart-plus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc fa-lg mt-4"}),a("br"),t._v("cc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-certificate fa-lg mt-4"}),a("br"),t._v("certificate\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-check fa-lg mt-4"}),a("br"),t._v("check\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-check-circle fa-lg mt-4"}),a("br"),t._v("check-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-check-circle-o fa-lg mt-4"}),a("br"),t._v("check-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-check-square fa-lg mt-4"}),a("br"),t._v("check-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-check-square-o fa-lg mt-4"}),a("br"),t._v("check-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-child fa-lg mt-4"}),a("br"),t._v("child\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-circle fa-lg mt-4"}),a("br"),t._v("circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-circle-o fa-lg mt-4"}),a("br"),t._v("circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-circle-o-notch fa-lg mt-4"}),a("br"),t._v("circle-o-notch\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-circle-thin fa-lg mt-4"}),a("br"),t._v("circle-thin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-clock-o fa-lg mt-4"}),a("br"),t._v("clock-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-clone fa-lg mt-4"}),a("br"),t._v("clone\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-close fa-lg mt-4"}),a("br"),t._v("close "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cloud fa-lg mt-4"}),a("br"),t._v("cloud\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cloud-download fa-lg mt-4"}),a("br"),t._v("cloud-download\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cloud-upload fa-lg mt-4"}),a("br"),t._v("cloud-upload\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-code fa-lg mt-4"}),a("br"),t._v("code\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-code-fork fa-lg mt-4"}),a("br"),t._v("code-fork\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-coffee fa-lg mt-4"}),a("br"),t._v("coffee\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cog fa-lg mt-4"}),a("br"),t._v("cog\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cogs fa-lg mt-4"}),a("br"),t._v("cogs\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-comment fa-lg mt-4"}),a("br"),t._v("comment\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-comment-o fa-lg mt-4"}),a("br"),t._v("comment-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-commenting fa-lg mt-4"}),a("br"),t._v("commenting\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-commenting-o fa-lg mt-4"}),a("br"),t._v("commenting-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-comments fa-lg mt-4"}),a("br"),t._v("comments\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-comments-o fa-lg mt-4"}),a("br"),t._v("comments-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-compass fa-lg mt-4"}),a("br"),t._v("compass\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-copyright fa-lg mt-4"}),a("br"),t._v("copyright\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-creative-commons fa-lg mt-4"}),a("br"),t._v("creative-commons\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-credit-card fa-lg mt-4"}),a("br"),t._v("credit-card\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-credit-card-alt fa-lg mt-4"}),a("br"),t._v("credit-card-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-crop fa-lg mt-4"}),a("br"),t._v("crop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-crosshairs fa-lg mt-4"}),a("br"),t._v("crosshairs\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cube fa-lg mt-4"}),a("br"),t._v("cube\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cubes fa-lg mt-4"}),a("br"),t._v("cubes\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cutlery fa-lg mt-4"}),a("br"),t._v("cutlery\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dashboard fa-lg mt-4"}),a("br"),t._v("dashboard "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-database fa-lg mt-4"}),a("br"),t._v("database\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-desktop fa-lg mt-4"}),a("br"),t._v("desktop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-diamond fa-lg mt-4"}),a("br"),t._v("diamond\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dot-circle-o fa-lg mt-4"}),a("br"),t._v("dot-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-download fa-lg mt-4"}),a("br"),t._v("download\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-edit fa-lg mt-4"}),a("br"),t._v("edit "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ellipsis-h fa-lg mt-4"}),a("br"),t._v("ellipsis-h\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ellipsis-v fa-lg mt-4"}),a("br"),t._v("ellipsis-v\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-envelope fa-lg mt-4"}),a("br"),t._v("envelope\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-envelope-o fa-lg mt-4"}),a("br"),t._v("envelope-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-envelope-square fa-lg mt-4"}),a("br"),t._v("envelope-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eraser fa-lg mt-4"}),a("br"),t._v("eraser\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-exchange fa-lg mt-4"}),a("br"),t._v("exchange\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-exclamation fa-lg mt-4"}),a("br"),t._v("exclamation\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-exclamation-circle fa-lg mt-4"}),a("br"),t._v("exclamation-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-exclamation-triangle fa-lg mt-4"}),a("br"),t._v("exclamation-triangle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-external-link fa-lg mt-4"}),a("br"),t._v("external-link\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-external-link-square fa-lg mt-4"}),a("br"),t._v("external-link-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eye fa-lg mt-4"}),a("br"),t._v("eye\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eye-slash fa-lg mt-4"}),a("br"),t._v("eye-slash\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eyedropper fa-lg mt-4"}),a("br"),t._v("eyedropper\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fax fa-lg mt-4"}),a("br"),t._v("fax\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-feed fa-lg mt-4"}),a("br"),t._v("feed "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-female fa-lg mt-4"}),a("br"),t._v("female\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fighter-jet fa-lg mt-4"}),a("br"),t._v("fighter-jet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-archive-o fa-lg mt-4"}),a("br"),t._v("file-archive-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-audio-o fa-lg mt-4"}),a("br"),t._v("file-audio-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-code-o fa-lg mt-4"}),a("br"),t._v("file-code-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-excel-o fa-lg mt-4"}),a("br"),t._v("file-excel-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-image-o fa-lg mt-4"}),a("br"),t._v("file-image-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-movie-o fa-lg mt-4"}),a("br"),t._v("file-movie-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-pdf-o fa-lg mt-4"}),a("br"),t._v("file-pdf-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-photo-o fa-lg mt-4"}),a("br"),t._v("file-photo-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-picture-o fa-lg mt-4"}),a("br"),t._v("file-picture-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-powerpoint-o fa-lg mt-4"}),a("br"),t._v("file-powerpoint-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-sound-o fa-lg mt-4"}),a("br"),t._v("file-sound-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-video-o fa-lg mt-4"}),a("br"),t._v("file-video-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-word-o fa-lg mt-4"}),a("br"),t._v("file-word-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-zip-o fa-lg mt-4"}),a("br"),t._v("file-zip-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-film fa-lg mt-4"}),a("br"),t._v("film\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-filter fa-lg mt-4"}),a("br"),t._v("filter\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fire fa-lg mt-4"}),a("br"),t._v("fire\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fire-extinguisher fa-lg mt-4"}),a("br"),t._v("fire-extinguisher\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-flag fa-lg mt-4"}),a("br"),t._v("flag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-flag-checkered fa-lg mt-4"}),a("br"),t._v("flag-checkered\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-flag-o fa-lg mt-4"}),a("br"),t._v("flag-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-flash fa-lg mt-4"}),a("br"),t._v("flash "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-flask fa-lg mt-4"}),a("br"),t._v("flask\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-folder fa-lg mt-4"}),a("br"),t._v("folder\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-folder-o fa-lg mt-4"}),a("br"),t._v("folder-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-folder-open fa-lg mt-4"}),a("br"),t._v("folder-open\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-folder-open-o fa-lg mt-4"}),a("br"),t._v("folder-open-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-frown-o fa-lg mt-4"}),a("br"),t._v("frown-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-futbol-o fa-lg mt-4"}),a("br"),t._v("futbol-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gamepad fa-lg mt-4"}),a("br"),t._v("gamepad\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gavel fa-lg mt-4"}),a("br"),t._v("gavel\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gear fa-lg mt-4"}),a("br"),t._v("gear "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gears fa-lg mt-4"}),a("br"),t._v("gears "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gift fa-lg mt-4"}),a("br"),t._v("gift\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-glass fa-lg mt-4"}),a("br"),t._v("glass\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-globe fa-lg mt-4"}),a("br"),t._v("globe\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-graduation-cap fa-lg mt-4"}),a("br"),t._v("graduation-cap\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-group fa-lg mt-4"}),a("br"),t._v("group "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-grab-o fa-lg mt-4"}),a("br"),t._v("hand-grab-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-lizard-o fa-lg mt-4"}),a("br"),t._v("hand-lizard-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-paper-o fa-lg mt-4"}),a("br"),t._v("hand-paper-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-peace-o fa-lg mt-4"}),a("br"),t._v("hand-peace-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-pointer-o fa-lg mt-4"}),a("br"),t._v("hand-pointer-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-rock-o fa-lg mt-4"}),a("br"),t._v("hand-rock-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-scissors-o fa-lg mt-4"}),a("br"),t._v("hand-scissors-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-spock-o fa-lg mt-4"}),a("br"),t._v("hand-spock-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-stop-o fa-lg mt-4"}),a("br"),t._v("hand-stop-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hashtag fa-lg mt-4"}),a("br"),t._v("hashtag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hdd-o fa-lg mt-4"}),a("br"),t._v("hdd-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-headphones fa-lg mt-4"}),a("br"),t._v("headphones\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-heart fa-lg mt-4"}),a("br"),t._v("heart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-heart-o fa-lg mt-4"}),a("br"),t._v("heart-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-heartbeat fa-lg mt-4"}),a("br"),t._v("heartbeat\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-history fa-lg mt-4"}),a("br"),t._v("history\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-home fa-lg mt-4"}),a("br"),t._v("home\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hotel fa-lg mt-4"}),a("br"),t._v("hotel "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass fa-lg mt-4"}),a("br"),t._v("hourglass\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass-1 fa-lg mt-4"}),a("br"),t._v("hourglass-1 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass-2 fa-lg mt-4"}),a("br"),t._v("hourglass-2 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass-3 fa-lg mt-4"}),a("br"),t._v("hourglass-3 "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass-end fa-lg mt-4"}),a("br"),t._v("hourglass-end\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass-half fa-lg mt-4"}),a("br"),t._v("hourglass-half\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass-o fa-lg mt-4"}),a("br"),t._v("hourglass-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hourglass-start fa-lg mt-4"}),a("br"),t._v("hourglass-start\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-i-cursor fa-lg mt-4"}),a("br"),t._v("i-cursor\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-image fa-lg mt-4"}),a("br"),t._v("image "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-inbox fa-lg mt-4"}),a("br"),t._v("inbox\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-industry fa-lg mt-4"}),a("br"),t._v("industry\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-info fa-lg mt-4"}),a("br"),t._v("info\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-info-circle fa-lg mt-4"}),a("br"),t._v("info-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-institution fa-lg mt-4"}),a("br"),t._v("institution "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-key fa-lg mt-4"}),a("br"),t._v("key\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-keyboard-o fa-lg mt-4"}),a("br"),t._v("keyboard-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-language fa-lg mt-4"}),a("br"),t._v("language\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-laptop fa-lg mt-4"}),a("br"),t._v("laptop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-leaf fa-lg mt-4"}),a("br"),t._v("leaf\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-legal fa-lg mt-4"}),a("br"),t._v("legal "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-lemon-o fa-lg mt-4"}),a("br"),t._v("lemon-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-level-down fa-lg mt-4"}),a("br"),t._v("level-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-level-up fa-lg mt-4"}),a("br"),t._v("level-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-life-bouy fa-lg mt-4"}),a("br"),t._v("life-bouy "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-life-buoy fa-lg mt-4"}),a("br"),t._v("life-buoy "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-life-ring fa-lg mt-4"}),a("br"),t._v("life-ring\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-life-saver fa-lg mt-4"}),a("br"),t._v("life-saver "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-lightbulb-o fa-lg mt-4"}),a("br"),t._v("lightbulb-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-line-chart fa-lg mt-4"}),a("br"),t._v("line-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-location-arrow fa-lg mt-4"}),a("br"),t._v("location-arrow\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-lock fa-lg mt-4"}),a("br"),t._v("lock\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-magic fa-lg mt-4"}),a("br"),t._v("magic\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-magnet fa-lg mt-4"}),a("br"),t._v("magnet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mail-forward fa-lg mt-4"}),a("br"),t._v("mail-forward "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mail-reply fa-lg mt-4"}),a("br"),t._v("mail-reply "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mail-reply-all fa-lg mt-4"}),a("br"),t._v("mail-reply-all "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-male fa-lg mt-4"}),a("br"),t._v("male\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-map fa-lg mt-4"}),a("br"),t._v("map\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-map-marker fa-lg mt-4"}),a("br"),t._v("map-marker\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-map-o fa-lg mt-4"}),a("br"),t._v("map-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-map-pin fa-lg mt-4"}),a("br"),t._v("map-pin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-map-signs fa-lg mt-4"}),a("br"),t._v("map-signs\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-meh-o fa-lg mt-4"}),a("br"),t._v("meh-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-microphone fa-lg mt-4"}),a("br"),t._v("microphone\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-microphone-slash fa-lg mt-4"}),a("br"),t._v("microphone-slash\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-minus fa-lg mt-4"}),a("br"),t._v("minus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-minus-circle fa-lg mt-4"}),a("br"),t._v("minus-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-minus-square fa-lg mt-4"}),a("br"),t._v("minus-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-minus-square-o fa-lg mt-4"}),a("br"),t._v("minus-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mobile fa-lg mt-4"}),a("br"),t._v("mobile\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mobile-phone fa-lg mt-4"}),a("br"),t._v("mobile-phone "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-money fa-lg mt-4"}),a("br"),t._v("money\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-moon-o fa-lg mt-4"}),a("br"),t._v("moon-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mortar-board fa-lg mt-4"}),a("br"),t._v("mortar-board "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-motorcycle fa-lg mt-4"}),a("br"),t._v("motorcycle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mouse-pointer fa-lg mt-4"}),a("br"),t._v("mouse-pointer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-music fa-lg mt-4"}),a("br"),t._v("music\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-navicon fa-lg mt-4"}),a("br"),t._v("navicon "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-newspaper-o fa-lg mt-4"}),a("br"),t._v("newspaper-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-object-group fa-lg mt-4"}),a("br"),t._v("object-group\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-object-ungroup fa-lg mt-4"}),a("br"),t._v("object-ungroup\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paint-brush fa-lg mt-4"}),a("br"),t._v("paint-brush\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paper-plane fa-lg mt-4"}),a("br"),t._v("paper-plane\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paper-plane-o fa-lg mt-4"}),a("br"),t._v("paper-plane-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paw fa-lg mt-4"}),a("br"),t._v("paw\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pencil fa-lg mt-4"}),a("br"),t._v("pencil\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pencil-square fa-lg mt-4"}),a("br"),t._v("pencil-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pencil-square-o fa-lg mt-4"}),a("br"),t._v("pencil-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-percent fa-lg mt-4"}),a("br"),t._v("percent\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-phone fa-lg mt-4"}),a("br"),t._v("phone\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-phone-square fa-lg mt-4"}),a("br"),t._v("phone-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-photo fa-lg mt-4"}),a("br"),t._v("photo "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-picture-o fa-lg mt-4"}),a("br"),t._v("picture-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pie-chart fa-lg mt-4"}),a("br"),t._v("pie-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plane fa-lg mt-4"}),a("br"),t._v("plane\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plug fa-lg mt-4"}),a("br"),t._v("plug\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plus fa-lg mt-4"}),a("br"),t._v("plus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plus-circle fa-lg mt-4"}),a("br"),t._v("plus-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plus-square fa-lg mt-4"}),a("br"),t._v("plus-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plus-square-o fa-lg mt-4"}),a("br"),t._v("plus-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-power-off fa-lg mt-4"}),a("br"),t._v("power-off\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-print fa-lg mt-4"}),a("br"),t._v("print\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-puzzle-piece fa-lg mt-4"}),a("br"),t._v("puzzle-piece\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-qrcode fa-lg mt-4"}),a("br"),t._v("qrcode\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-question fa-lg mt-4"}),a("br"),t._v("question\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-question-circle fa-lg mt-4"}),a("br"),t._v("question-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-quote-left fa-lg mt-4"}),a("br"),t._v("quote-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-quote-right fa-lg mt-4"}),a("br"),t._v("quote-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-random fa-lg mt-4"}),a("br"),t._v("random\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-recycle fa-lg mt-4"}),a("br"),t._v("recycle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-refresh fa-lg mt-4"}),a("br"),t._v("refresh\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-registered fa-lg mt-4"}),a("br"),t._v("registered\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-remove fa-lg mt-4"}),a("br"),t._v("remove "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-reorder fa-lg mt-4"}),a("br"),t._v("reorder "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-reply fa-lg mt-4"}),a("br"),t._v("reply\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-reply-all fa-lg mt-4"}),a("br"),t._v("reply-all\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-retweet fa-lg mt-4"}),a("br"),t._v("retweet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-road fa-lg mt-4"}),a("br"),t._v("road\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rocket fa-lg mt-4"}),a("br"),t._v("rocket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rss fa-lg mt-4"}),a("br"),t._v("rss\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rss-square fa-lg mt-4"}),a("br"),t._v("rss-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-search fa-lg mt-4"}),a("br"),t._v("search\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-search-minus fa-lg mt-4"}),a("br"),t._v("search-minus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-search-plus fa-lg mt-4"}),a("br"),t._v("search-plus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-send fa-lg mt-4"}),a("br"),t._v("send "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-send-o fa-lg mt-4"}),a("br"),t._v("send-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-server fa-lg mt-4"}),a("br"),t._v("server\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-share fa-lg mt-4"}),a("br"),t._v("share\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-share-alt fa-lg mt-4"}),a("br"),t._v("share-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-share-alt-square fa-lg mt-4"}),a("br"),t._v("share-alt-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-share-square fa-lg mt-4"}),a("br"),t._v("share-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-share-square-o fa-lg mt-4"}),a("br"),t._v("share-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shield fa-lg mt-4"}),a("br"),t._v("shield\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ship fa-lg mt-4"}),a("br"),t._v("ship\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shopping-bag fa-lg mt-4"}),a("br"),t._v("shopping-bag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shopping-basket fa-lg mt-4"}),a("br"),t._v("shopping-basket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shopping-cart fa-lg mt-4"}),a("br"),t._v("shopping-cart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sign-in fa-lg mt-4"}),a("br"),t._v("sign-in\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sign-out fa-lg mt-4"}),a("br"),t._v("sign-out\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-signal fa-lg mt-4"}),a("br"),t._v("signal\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sitemap fa-lg mt-4"}),a("br"),t._v("sitemap\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sliders fa-lg mt-4"}),a("br"),t._v("sliders\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-smile-o fa-lg mt-4"}),a("br"),t._v("smile-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-soccer-ball-o fa-lg mt-4"}),a("br"),t._v("soccer-ball-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort fa-lg mt-4"}),a("br"),t._v("sort\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-alpha-asc fa-lg mt-4"}),a("br"),t._v("sort-alpha-asc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-alpha-desc fa-lg mt-4"}),a("br"),t._v("sort-alpha-desc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-amount-asc fa-lg mt-4"}),a("br"),t._v("sort-amount-asc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-amount-desc fa-lg mt-4"}),a("br"),t._v("sort-amount-desc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-asc fa-lg mt-4"}),a("br"),t._v("sort-asc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-desc fa-lg mt-4"}),a("br"),t._v("sort-desc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-down fa-lg mt-4"}),a("br"),t._v("sort-down "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-numeric-asc fa-lg mt-4"}),a("br"),t._v("sort-numeric-asc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-numeric-desc fa-lg mt-4"}),a("br"),t._v("sort-numeric-desc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sort-up fa-lg mt-4"}),a("br"),t._v("sort-up "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-space-shuttle fa-lg mt-4"}),a("br"),t._v("space-shuttle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-spinner fa-lg mt-4"}),a("br"),t._v("spinner\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-spoon fa-lg mt-4"}),a("br"),t._v("spoon\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-square fa-lg mt-4"}),a("br"),t._v("square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-square-o fa-lg mt-4"}),a("br"),t._v("square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-star fa-lg mt-4"}),a("br"),t._v("star\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-star-half fa-lg mt-4"}),a("br"),t._v("star-half\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-star-half-empty fa-lg mt-4"}),a("br"),t._v("star-half-empty "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-star-half-full fa-lg mt-4"}),a("br"),t._v("star-half-full "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-star-half-o fa-lg mt-4"}),a("br"),t._v("star-half-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-star-o fa-lg mt-4"}),a("br"),t._v("star-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sticky-note fa-lg mt-4"}),a("br"),t._v("sticky-note\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sticky-note-o fa-lg mt-4"}),a("br"),t._v("sticky-note-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-street-view fa-lg mt-4"}),a("br"),t._v("street-view\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-suitcase fa-lg mt-4"}),a("br"),t._v("suitcase\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sun-o fa-lg mt-4"}),a("br"),t._v("sun-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-support fa-lg mt-4"}),a("br"),t._v("support "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tablet fa-lg mt-4"}),a("br"),t._v("tablet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tachometer fa-lg mt-4"}),a("br"),t._v("tachometer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tag fa-lg mt-4"}),a("br"),t._v("tag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tags fa-lg mt-4"}),a("br"),t._v("tags\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tasks fa-lg mt-4"}),a("br"),t._v("tasks\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-taxi fa-lg mt-4"}),a("br"),t._v("taxi\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-television fa-lg mt-4"}),a("br"),t._v("television\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-terminal fa-lg mt-4"}),a("br"),t._v("terminal\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumb-tack fa-lg mt-4"}),a("br"),t._v("thumb-tack\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-down fa-lg mt-4"}),a("br"),t._v("thumbs-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-o-down fa-lg mt-4"}),a("br"),t._v("thumbs-o-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-o-up fa-lg mt-4"}),a("br"),t._v("thumbs-o-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-up fa-lg mt-4"}),a("br"),t._v("thumbs-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ticket fa-lg mt-4"}),a("br"),t._v("ticket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-times fa-lg mt-4"}),a("br"),t._v("times\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-times-circle fa-lg mt-4"}),a("br"),t._v("times-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-times-circle-o fa-lg mt-4"}),a("br"),t._v("times-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tint fa-lg mt-4"}),a("br"),t._v("tint\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-down fa-lg mt-4"}),a("br"),t._v("toggle-down "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-left fa-lg mt-4"}),a("br"),t._v("toggle-left "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-off fa-lg mt-4"}),a("br"),t._v("toggle-off\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-on fa-lg mt-4"}),a("br"),t._v("toggle-on\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-right fa-lg mt-4"}),a("br"),t._v("toggle-right "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-up fa-lg mt-4"}),a("br"),t._v("toggle-up "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-trademark fa-lg mt-4"}),a("br"),t._v("trademark\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-trash fa-lg mt-4"}),a("br"),t._v("trash\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-trash-o fa-lg mt-4"}),a("br"),t._v("trash-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tree fa-lg mt-4"}),a("br"),t._v("tree\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-trophy fa-lg mt-4"}),a("br"),t._v("trophy\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-truck fa-lg mt-4"}),a("br"),t._v("truck\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tty fa-lg mt-4"}),a("br"),t._v("tty\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tv fa-lg mt-4"}),a("br"),t._v("tv "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-umbrella fa-lg mt-4"}),a("br"),t._v("umbrella\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-university fa-lg mt-4"}),a("br"),t._v("university\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-unlock fa-lg mt-4"}),a("br"),t._v("unlock\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-unlock-alt fa-lg mt-4"}),a("br"),t._v("unlock-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-unsorted fa-lg mt-4"}),a("br"),t._v("unsorted "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-upload fa-lg mt-4"}),a("br"),t._v("upload\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user fa-lg mt-4"}),a("br"),t._v("user\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user-plus fa-lg mt-4"}),a("br"),t._v("user-plus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user-secret fa-lg mt-4"}),a("br"),t._v("user-secret\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user-times fa-lg mt-4"}),a("br"),t._v("user-times\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-users fa-lg mt-4"}),a("br"),t._v("users\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-video-camera fa-lg mt-4"}),a("br"),t._v("video-camera\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-volume-down fa-lg mt-4"}),a("br"),t._v("volume-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-volume-off fa-lg mt-4"}),a("br"),t._v("volume-off\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-volume-up fa-lg mt-4"}),a("br"),t._v("volume-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-warning fa-lg mt-4"}),a("br"),t._v("warning "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wheelchair fa-lg mt-4"}),a("br"),t._v("wheelchair\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wifi fa-lg mt-4"}),a("br"),t._v("wifi\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wrench fa-lg mt-4"}),a("br"),t._v("wrench\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"hand"}},[a("div",{staticClass:"card-header"},[t._v("Hand Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-grab-o fa-lg mt-4"}),a("br"),t._v("hand-grab-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-lizard-o fa-lg mt-4"}),a("br"),t._v("hand-lizard-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-down fa-lg mt-4"}),a("br"),t._v("hand-o-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-left fa-lg mt-4"}),a("br"),t._v("hand-o-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-right fa-lg mt-4"}),a("br"),t._v("hand-o-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-up fa-lg mt-4"}),a("br"),t._v("hand-o-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-paper-o fa-lg mt-4"}),a("br"),t._v("hand-paper-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-peace-o fa-lg mt-4"}),a("br"),t._v("hand-peace-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-pointer-o fa-lg mt-4"}),a("br"),t._v("hand-pointer-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-rock-o fa-lg mt-4"}),a("br"),t._v("hand-rock-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-scissors-o fa-lg mt-4"}),a("br"),t._v("hand-scissors-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-spock-o fa-lg mt-4"}),a("br"),t._v("hand-spock-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-stop-o fa-lg mt-4"}),a("br"),t._v("hand-stop-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-down fa-lg mt-4"}),a("br"),t._v("thumbs-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-o-down fa-lg mt-4"}),a("br"),t._v("thumbs-o-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-o-up fa-lg mt-4"}),a("br"),t._v("thumbs-o-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-thumbs-up fa-lg mt-4"}),a("br"),t._v("thumbs-up\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"transportation"}},[a("div",{staticClass:"card-header"},[t._v("Transportation Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ambulance fa-lg mt-4"}),a("br"),t._v("ambulance\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-automobile fa-lg mt-4"}),a("br"),t._v("automobile "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bicycle fa-lg mt-4"}),a("br"),t._v("bicycle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bus fa-lg mt-4"}),a("br"),t._v("bus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cab fa-lg mt-4"}),a("br"),t._v("cab "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-car fa-lg mt-4"}),a("br"),t._v("car\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fighter-jet fa-lg mt-4"}),a("br"),t._v("fighter-jet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-motorcycle fa-lg mt-4"}),a("br"),t._v("motorcycle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plane fa-lg mt-4"}),a("br"),t._v("plane\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rocket fa-lg mt-4"}),a("br"),t._v("rocket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ship fa-lg mt-4"}),a("br"),t._v("ship\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-space-shuttle fa-lg mt-4"}),a("br"),t._v("space-shuttle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-subway fa-lg mt-4"}),a("br"),t._v("subway\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-taxi fa-lg mt-4"}),a("br"),t._v("taxi\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-train fa-lg mt-4"}),a("br"),t._v("train\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-truck fa-lg mt-4"}),a("br"),t._v("truck\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wheelchair fa-lg mt-4"}),a("br"),t._v("wheelchair\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"gender"}},[a("div",{staticClass:"card-header"},[t._v("Gender Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-genderless fa-lg mt-4"}),a("br"),t._v("genderless\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-intersex fa-lg mt-4"}),a("br"),t._v("intersex "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mars fa-lg mt-4"}),a("br"),t._v("mars\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mars-double fa-lg mt-4"}),a("br"),t._v("mars-double\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mars-stroke fa-lg mt-4"}),a("br"),t._v("mars-stroke\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mars-stroke-h fa-lg mt-4"}),a("br"),t._v("mars-stroke-h\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mars-stroke-v fa-lg mt-4"}),a("br"),t._v("mars-stroke-v\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mercury fa-lg mt-4"}),a("br"),t._v("mercury\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-neuter fa-lg mt-4"}),a("br"),t._v("neuter\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-transgender fa-lg mt-4"}),a("br"),t._v("transgender\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-transgender-alt fa-lg mt-4"}),a("br"),t._v("transgender-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-venus fa-lg mt-4"}),a("br"),t._v("venus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-venus-double fa-lg mt-4"}),a("br"),t._v("venus-double\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-venus-mars fa-lg mt-4"}),a("br"),t._v("venus-mars\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"file-type"}},[a("div",{staticClass:"card-header"},[t._v("File Type Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file fa-lg mt-4"}),a("br"),t._v("file\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-archive-o fa-lg mt-4"}),a("br"),t._v("file-archive-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-audio-o fa-lg mt-4"}),a("br"),t._v("file-audio-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-code-o fa-lg mt-4"}),a("br"),t._v("file-code-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-excel-o fa-lg mt-4"}),a("br"),t._v("file-excel-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-image-o fa-lg mt-4"}),a("br"),t._v("file-image-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-movie-o fa-lg mt-4"}),a("br"),t._v("file-movie-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-o fa-lg mt-4"}),a("br"),t._v("file-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-pdf-o fa-lg mt-4"}),a("br"),t._v("file-pdf-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-photo-o fa-lg mt-4"}),a("br"),t._v("file-photo-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-picture-o fa-lg mt-4"}),a("br"),t._v("file-picture-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-powerpoint-o fa-lg mt-4"}),a("br"),t._v("file-powerpoint-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-sound-o fa-lg mt-4"}),a("br"),t._v("file-sound-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-text fa-lg mt-4"}),a("br"),t._v("file-text\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-text-o fa-lg mt-4"}),a("br"),t._v("file-text-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-video-o fa-lg mt-4"}),a("br"),t._v("file-video-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-word-o fa-lg mt-4"}),a("br"),t._v("file-word-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-zip-o fa-lg mt-4"}),a("br"),t._v("file-zip-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"spinner"}},[a("div",{staticClass:"card-header"},[t._v("Spinner Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"alert alert-success"},[a("ul",{staticClass:"fa-ul"},[a("li",[a("i",{staticClass:"fa fa-info-circle fa-li"}),t._v("\n            These icons work great with the "),a("code",[t._v("fa-spin")]),t._v(" class.\n          ")])])]),t._v(" "),a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-circle-o-notch fa-lg mt-4 fa-spin"}),a("br"),t._v("circle-o-notch\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cog fa-lg mt-4"}),a("br"),t._v("cog\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gear fa-lg mt-4"}),a("br"),t._v("gear "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-refresh fa-lg mt-4"}),a("br"),t._v("refresh\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-spinner fa-lg mt-4"}),a("br"),t._v("spinner\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"form-control"}},[a("div",{staticClass:"card-header"},[t._v("Form Control Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-check-square fa-lg mt-4"}),a("br"),t._v("check-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-check-square-o fa-lg mt-4"}),a("br"),t._v("check-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-circle fa-lg mt-4"}),a("br"),t._v("circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-circle-o fa-lg mt-4"}),a("br"),t._v("circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dot-circle-o fa-lg mt-4"}),a("br"),t._v("dot-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-minus-square fa-lg mt-4"}),a("br"),t._v("minus-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-minus-square-o fa-lg mt-4"}),a("br"),t._v("minus-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plus-square fa-lg mt-4"}),a("br"),t._v("plus-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plus-square-o fa-lg mt-4"}),a("br"),t._v("plus-square-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-square fa-lg mt-4"}),a("br"),t._v("square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-square-o fa-lg mt-4"}),a("br"),t._v("square-o\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"payment"}},[a("div",{staticClass:"card-header"},[t._v("Payment Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-amex fa-lg mt-4"}),a("br"),t._v("cc-amex\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-diners-club fa-lg mt-4"}),a("br"),t._v("cc-diners-club\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-discover fa-lg mt-4"}),a("br"),t._v("cc-discover\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-jcb fa-lg mt-4"}),a("br"),t._v("cc-jcb\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-mastercard fa-lg mt-4"}),a("br"),t._v("cc-mastercard\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-paypal fa-lg mt-4"}),a("br"),t._v("cc-paypal\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-stripe fa-lg mt-4"}),a("br"),t._v("cc-stripe\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-visa fa-lg mt-4"}),a("br"),t._v("cc-visa\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-credit-card fa-lg mt-4"}),a("br"),t._v("credit-card\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-credit-card-alt fa-lg mt-4"}),a("br"),t._v("credit-card-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-google-wallet fa-lg mt-4"}),a("br"),t._v("google-wallet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paypal fa-lg mt-4"}),a("br"),t._v("paypal\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"chart"}},[a("div",{staticClass:"card-header"},[t._v("Chart Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-area-chart fa-lg mt-4"}),a("br"),t._v("area-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bar-chart fa-lg mt-4"}),a("br"),t._v("bar-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bar-chart-o fa-lg mt-4"}),a("br"),t._v("bar-chart-o "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-line-chart fa-lg mt-4"}),a("br"),t._v("line-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pie-chart fa-lg mt-4"}),a("br"),t._v("pie-chart\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"currency"}},[a("div",{staticClass:"card-header"},[t._v("Currency Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bitcoin fa-lg mt-4"}),a("br"),t._v("bitcoin "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-btc fa-lg mt-4"}),a("br"),t._v("btc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cny fa-lg mt-4"}),a("br"),t._v("cny "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dollar fa-lg mt-4"}),a("br"),t._v("dollar "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eur fa-lg mt-4"}),a("br"),t._v("eur\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-euro fa-lg mt-4"}),a("br"),t._v("euro "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gbp fa-lg mt-4"}),a("br"),t._v("gbp\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gg fa-lg mt-4"}),a("br"),t._v("gg\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gg-circle fa-lg mt-4"}),a("br"),t._v("gg-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ils fa-lg mt-4"}),a("br"),t._v("ils\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-inr fa-lg mt-4"}),a("br"),t._v("inr\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-jpy fa-lg mt-4"}),a("br"),t._v("jpy\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-krw fa-lg mt-4"}),a("br"),t._v("krw\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-money fa-lg mt-4"}),a("br"),t._v("money\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rmb fa-lg mt-4"}),a("br"),t._v("rmb "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rouble fa-lg mt-4"}),a("br"),t._v("rouble "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rub fa-lg mt-4"}),a("br"),t._v("rub\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ruble fa-lg mt-4"}),a("br"),t._v("ruble "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rupee fa-lg mt-4"}),a("br"),t._v("rupee "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shekel fa-lg mt-4"}),a("br"),t._v("shekel "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sheqel fa-lg mt-4"}),a("br"),t._v("sheqel "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-try fa-lg mt-4"}),a("br"),t._v("try\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-turkish-lira fa-lg mt-4"}),a("br"),t._v("turkish-lira "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-usd fa-lg mt-4"}),a("br"),t._v("usd\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-won fa-lg mt-4"}),a("br"),t._v("won "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-yen fa-lg mt-4"}),a("br"),t._v("yen "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"text-editor"}},[a("div",{staticClass:"card-header"},[t._v("Text Editor Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-align-center fa-lg mt-4"}),a("br"),t._v("align-center\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-align-justify fa-lg mt-4"}),a("br"),t._v("align-justify\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-align-left fa-lg mt-4"}),a("br"),t._v("align-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-align-right fa-lg mt-4"}),a("br"),t._v("align-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bold fa-lg mt-4"}),a("br"),t._v("bold\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chain fa-lg mt-4"}),a("br"),t._v("chain "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chain-broken fa-lg mt-4"}),a("br"),t._v("chain-broken\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-clipboard fa-lg mt-4"}),a("br"),t._v("clipboard\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-columns fa-lg mt-4"}),a("br"),t._v("columns\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-copy fa-lg mt-4"}),a("br"),t._v("copy "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cut fa-lg mt-4"}),a("br"),t._v("cut "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dedent fa-lg mt-4"}),a("br"),t._v("dedent "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eraser fa-lg mt-4"}),a("br"),t._v("eraser\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file fa-lg mt-4"}),a("br"),t._v("file\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-o fa-lg mt-4"}),a("br"),t._v("file-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-text fa-lg mt-4"}),a("br"),t._v("file-text\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-file-text-o fa-lg mt-4"}),a("br"),t._v("file-text-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-files-o fa-lg mt-4"}),a("br"),t._v("files-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-floppy-o fa-lg mt-4"}),a("br"),t._v("floppy-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-font fa-lg mt-4"}),a("br"),t._v("font\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-header fa-lg mt-4"}),a("br"),t._v("header\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-indent fa-lg mt-4"}),a("br"),t._v("indent\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-italic fa-lg mt-4"}),a("br"),t._v("italic\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-link fa-lg mt-4"}),a("br"),t._v("link\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-list fa-lg mt-4"}),a("br"),t._v("list\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-list-alt fa-lg mt-4"}),a("br"),t._v("list-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-list-ol fa-lg mt-4"}),a("br"),t._v("list-ol\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-list-ul fa-lg mt-4"}),a("br"),t._v("list-ul\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-outdent fa-lg mt-4"}),a("br"),t._v("outdent\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paperclip fa-lg mt-4"}),a("br"),t._v("paperclip\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paragraph fa-lg mt-4"}),a("br"),t._v("paragraph\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paste fa-lg mt-4"}),a("br"),t._v("paste "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-repeat fa-lg mt-4"}),a("br"),t._v("repeat\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rotate-left fa-lg mt-4"}),a("br"),t._v("rotate-left "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rotate-right fa-lg mt-4"}),a("br"),t._v("rotate-right "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-save fa-lg mt-4"}),a("br"),t._v("save "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-scissors fa-lg mt-4"}),a("br"),t._v("scissors\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-strikethrough fa-lg mt-4"}),a("br"),t._v("strikethrough\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-subscript fa-lg mt-4"}),a("br"),t._v("subscript\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-superscript fa-lg mt-4"}),a("br"),t._v("superscript\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-table fa-lg mt-4"}),a("br"),t._v("table\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-text-height fa-lg mt-4"}),a("br"),t._v("text-height\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-text-width fa-lg mt-4"}),a("br"),t._v("text-width\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-th fa-lg mt-4"}),a("br"),t._v("th\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-th-large fa-lg mt-4"}),a("br"),t._v("th-large\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-th-list fa-lg mt-4"}),a("br"),t._v("th-list\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-underline fa-lg mt-4"}),a("br"),t._v("underline\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-undo fa-lg mt-4"}),a("br"),t._v("undo\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-unlink fa-lg mt-4"}),a("br"),t._v("unlink "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"directional"}},[a("div",{staticClass:"card-header"},[t._v("Directional Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-double-down fa-lg mt-4"}),a("br"),t._v("angle-double-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-double-left fa-lg mt-4"}),a("br"),t._v("angle-double-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-double-right fa-lg mt-4"}),a("br"),t._v("angle-double-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-double-up fa-lg mt-4"}),a("br"),t._v("angle-double-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-down fa-lg mt-4"}),a("br"),t._v("angle-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-left fa-lg mt-4"}),a("br"),t._v("angle-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-right fa-lg mt-4"}),a("br"),t._v("angle-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angle-up fa-lg mt-4"}),a("br"),t._v("angle-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-down fa-lg mt-4"}),a("br"),t._v("arrow-circle-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-left fa-lg mt-4"}),a("br"),t._v("arrow-circle-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-o-down fa-lg mt-4"}),a("br"),t._v("arrow-circle-o-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-o-left fa-lg mt-4"}),a("br"),t._v("arrow-circle-o-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-o-right fa-lg mt-4"}),a("br"),t._v("arrow-circle-o-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-o-up fa-lg mt-4"}),a("br"),t._v("arrow-circle-o-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-right fa-lg mt-4"}),a("br"),t._v("arrow-circle-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-circle-up fa-lg mt-4"}),a("br"),t._v("arrow-circle-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-down fa-lg mt-4"}),a("br"),t._v("arrow-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-left fa-lg mt-4"}),a("br"),t._v("arrow-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-right fa-lg mt-4"}),a("br"),t._v("arrow-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrow-up fa-lg mt-4"}),a("br"),t._v("arrow-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows fa-lg mt-4"}),a("br"),t._v("arrows\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows-alt fa-lg mt-4"}),a("br"),t._v("arrows-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows-h fa-lg mt-4"}),a("br"),t._v("arrows-h\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows-v fa-lg mt-4"}),a("br"),t._v("arrows-v\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-down fa-lg mt-4"}),a("br"),t._v("caret-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-left fa-lg mt-4"}),a("br"),t._v("caret-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-right fa-lg mt-4"}),a("br"),t._v("caret-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-down fa-lg mt-4"}),a("br"),t._v("caret-square-o-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-left fa-lg mt-4"}),a("br"),t._v("caret-square-o-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-right fa-lg mt-4"}),a("br"),t._v("caret-square-o-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-square-o-up fa-lg mt-4"}),a("br"),t._v("caret-square-o-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-caret-up fa-lg mt-4"}),a("br"),t._v("caret-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-circle-down fa-lg mt-4"}),a("br"),t._v("chevron-circle-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-circle-left fa-lg mt-4"}),a("br"),t._v("chevron-circle-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-circle-right fa-lg mt-4"}),a("br"),t._v("chevron-circle-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-circle-up fa-lg mt-4"}),a("br"),t._v("chevron-circle-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-down fa-lg mt-4"}),a("br"),t._v("chevron-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-left fa-lg mt-4"}),a("br"),t._v("chevron-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-right fa-lg mt-4"}),a("br"),t._v("chevron-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chevron-up fa-lg mt-4"}),a("br"),t._v("chevron-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-exchange fa-lg mt-4"}),a("br"),t._v("exchange\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-down fa-lg mt-4"}),a("br"),t._v("hand-o-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-left fa-lg mt-4"}),a("br"),t._v("hand-o-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-right fa-lg mt-4"}),a("br"),t._v("hand-o-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hand-o-up fa-lg mt-4"}),a("br"),t._v("hand-o-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-long-arrow-down fa-lg mt-4"}),a("br"),t._v("long-arrow-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-long-arrow-left fa-lg mt-4"}),a("br"),t._v("long-arrow-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-long-arrow-right fa-lg mt-4"}),a("br"),t._v("long-arrow-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-long-arrow-up fa-lg mt-4"}),a("br"),t._v("long-arrow-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-down fa-lg mt-4"}),a("br"),t._v("toggle-down "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-left fa-lg mt-4"}),a("br"),t._v("toggle-left "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-right fa-lg mt-4"}),a("br"),t._v("toggle-right "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-toggle-up fa-lg mt-4"}),a("br"),t._v("toggle-up "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"video-player"}},[a("div",{staticClass:"card-header"},[t._v("Video Player Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-arrows-alt fa-lg mt-4"}),a("br"),t._v("arrows-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-backward fa-lg mt-4"}),a("br"),t._v("backward\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-compress fa-lg mt-4"}),a("br"),t._v("compress\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-eject fa-lg mt-4"}),a("br"),t._v("eject\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-expand fa-lg mt-4"}),a("br"),t._v("expand\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fast-backward fa-lg mt-4"}),a("br"),t._v("fast-backward\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fast-forward fa-lg mt-4"}),a("br"),t._v("fast-forward\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-forward fa-lg mt-4"}),a("br"),t._v("forward\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pause fa-lg mt-4"}),a("br"),t._v("pause\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pause-circle fa-lg mt-4"}),a("br"),t._v("pause-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pause-circle-o fa-lg mt-4"}),a("br"),t._v("pause-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-play fa-lg mt-4"}),a("br"),t._v("play\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-play-circle fa-lg mt-4"}),a("br"),t._v("play-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-play-circle-o fa-lg mt-4"}),a("br"),t._v("play-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-random fa-lg mt-4"}),a("br"),t._v("random\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-step-backward fa-lg mt-4"}),a("br"),t._v("step-backward\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-step-forward fa-lg mt-4"}),a("br"),t._v("step-forward\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stop fa-lg mt-4"}),a("br"),t._v("stop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stop-circle fa-lg mt-4"}),a("br"),t._v("stop-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stop-circle-o fa-lg mt-4"}),a("br"),t._v("stop-circle-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-youtube-play fa-lg mt-4"}),a("br"),t._v("youtube-play\n        ")])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"brand"}},[a("div",{staticClass:"card-header"},[t._v("Brand Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"alert alert-warning"},[a("h4",[a("i",{staticClass:"fa fa-warning"}),t._v(" Warning!")]),t._v('\n        Apparently, Adblock Plus can remove Font Awesome brand icons with their "Remove Social\n        Media Buttons" setting. We will not use hacks to force them to display. Please\n        '),a("a",{staticClass:"alert-link",attrs:{href:"https://adblockplus.org/en/bugs"}},[t._v("report an issue with Adblock Plus")]),t._v(" if you believe this to be\n        an error. To work around this, you'll need to modify the social icon class names.\n      ")]),t._v(" "),a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-500px fa-lg mt-4"}),a("br"),t._v("500px\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-adn fa-lg mt-4"}),a("br"),t._v("adn\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-amazon fa-lg mt-4"}),a("br"),t._v("amazon\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-android fa-lg mt-4"}),a("br"),t._v("android\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-angellist fa-lg mt-4"}),a("br"),t._v("angellist\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-apple fa-lg mt-4"}),a("br"),t._v("apple\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-behance fa-lg mt-4"}),a("br"),t._v("behance\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-behance-square fa-lg mt-4"}),a("br"),t._v("behance-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bitbucket fa-lg mt-4"}),a("br"),t._v("bitbucket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bitbucket-square fa-lg mt-4"}),a("br"),t._v("bitbucket-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bitcoin fa-lg mt-4"}),a("br"),t._v("bitcoin "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-black-tie fa-lg mt-4"}),a("br"),t._v("black-tie\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bluetooth fa-lg mt-4"}),a("br"),t._v("bluetooth\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-bluetooth-b fa-lg mt-4"}),a("br"),t._v("bluetooth-b\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-btc fa-lg mt-4"}),a("br"),t._v("btc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-buysellads fa-lg mt-4"}),a("br"),t._v("buysellads\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-amex fa-lg mt-4"}),a("br"),t._v("cc-amex\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-diners-club fa-lg mt-4"}),a("br"),t._v("cc-diners-club\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-discover fa-lg mt-4"}),a("br"),t._v("cc-discover\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-jcb fa-lg mt-4"}),a("br"),t._v("cc-jcb\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-mastercard fa-lg mt-4"}),a("br"),t._v("cc-mastercard\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-paypal fa-lg mt-4"}),a("br"),t._v("cc-paypal\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-stripe fa-lg mt-4"}),a("br"),t._v("cc-stripe\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-cc-visa fa-lg mt-4"}),a("br"),t._v("cc-visa\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-chrome fa-lg mt-4"}),a("br"),t._v("chrome\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-codepen fa-lg mt-4"}),a("br"),t._v("codepen\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-codiepie fa-lg mt-4"}),a("br"),t._v("codiepie\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-connectdevelop fa-lg mt-4"}),a("br"),t._v("connectdevelop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-contao fa-lg mt-4"}),a("br"),t._v("contao\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-css3 fa-lg mt-4"}),a("br"),t._v("css3\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dashcube fa-lg mt-4"}),a("br"),t._v("dashcube\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-delicious fa-lg mt-4"}),a("br"),t._v("delicious\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-deviantart fa-lg mt-4"}),a("br"),t._v("deviantart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-digg fa-lg mt-4"}),a("br"),t._v("digg\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dribbble fa-lg mt-4"}),a("br"),t._v("dribbble\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-dropbox fa-lg mt-4"}),a("br"),t._v("dropbox\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-drupal fa-lg mt-4"}),a("br"),t._v("drupal\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-edge fa-lg mt-4"}),a("br"),t._v("edge\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-empire fa-lg mt-4"}),a("br"),t._v("empire\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-expeditedssl fa-lg mt-4"}),a("br"),t._v("expeditedssl\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-facebook fa-lg mt-4"}),a("br"),t._v("facebook\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-facebook-f fa-lg mt-4"}),a("br"),t._v("facebook-f "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-facebook-official fa-lg mt-4"}),a("br"),t._v("facebook-official\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-facebook-square fa-lg mt-4"}),a("br"),t._v("facebook-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-firefox fa-lg mt-4"}),a("br"),t._v("firefox\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-flickr fa-lg mt-4"}),a("br"),t._v("flickr\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fonticons fa-lg mt-4"}),a("br"),t._v("fonticons\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-fort-awesome fa-lg mt-4"}),a("br"),t._v("fort-awesome\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-forumbee fa-lg mt-4"}),a("br"),t._v("forumbee\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-foursquare fa-lg mt-4"}),a("br"),t._v("foursquare\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ge fa-lg mt-4"}),a("br"),t._v("ge "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-get-pocket fa-lg mt-4"}),a("br"),t._v("get-pocket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gg fa-lg mt-4"}),a("br"),t._v("gg\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gg-circle fa-lg mt-4"}),a("br"),t._v("gg-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-git fa-lg mt-4"}),a("br"),t._v("git\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-git-square fa-lg mt-4"}),a("br"),t._v("git-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-github fa-lg mt-4"}),a("br"),t._v("github\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-github-alt fa-lg mt-4"}),a("br"),t._v("github-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-github-square fa-lg mt-4"}),a("br"),t._v("github-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gittip fa-lg mt-4"}),a("br"),t._v("gittip "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-google fa-lg mt-4"}),a("br"),t._v("google\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-google-plus fa-lg mt-4"}),a("br"),t._v("google-plus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-google-plus-square fa-lg mt-4"}),a("br"),t._v("google-plus-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-google-wallet fa-lg mt-4"}),a("br"),t._v("google-wallet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-gratipay fa-lg mt-4"}),a("br"),t._v("gratipay\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hacker-news fa-lg mt-4"}),a("br"),t._v("hacker-news\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-houzz fa-lg mt-4"}),a("br"),t._v("houzz\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-html5 fa-lg mt-4"}),a("br"),t._v("html5\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-instagram fa-lg mt-4"}),a("br"),t._v("instagram\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-internet-explorer fa-lg mt-4"}),a("br"),t._v("internet-explorer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ioxhost fa-lg mt-4"}),a("br"),t._v("ioxhost\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-joomla fa-lg mt-4"}),a("br"),t._v("joomla\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-jsfiddle fa-lg mt-4"}),a("br"),t._v("jsfiddle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-lastfm fa-lg mt-4"}),a("br"),t._v("lastfm\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-lastfm-square fa-lg mt-4"}),a("br"),t._v("lastfm-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-leanpub fa-lg mt-4"}),a("br"),t._v("leanpub\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-linkedin fa-lg mt-4"}),a("br"),t._v("linkedin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-linkedin-square fa-lg mt-4"}),a("br"),t._v("linkedin-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-linux fa-lg mt-4"}),a("br"),t._v("linux\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-maxcdn fa-lg mt-4"}),a("br"),t._v("maxcdn\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-meanpath fa-lg mt-4"}),a("br"),t._v("meanpath\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-medium fa-lg mt-4"}),a("br"),t._v("medium\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-mixcloud fa-lg mt-4"}),a("br"),t._v("mixcloud\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-modx fa-lg mt-4"}),a("br"),t._v("modx\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-odnoklassniki fa-lg mt-4"}),a("br"),t._v("odnoklassniki\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-odnoklassniki-square fa-lg mt-4"}),a("br"),t._v("odnoklassniki-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-opencart fa-lg mt-4"}),a("br"),t._v("opencart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-openid fa-lg mt-4"}),a("br"),t._v("openid\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-opera fa-lg mt-4"}),a("br"),t._v("opera\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-optin-monster fa-lg mt-4"}),a("br"),t._v("optin-monster\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pagelines fa-lg mt-4"}),a("br"),t._v("pagelines\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-paypal fa-lg mt-4"}),a("br"),t._v("paypal\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pied-piper fa-lg mt-4"}),a("br"),t._v("pied-piper\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pied-piper-alt fa-lg mt-4"}),a("br"),t._v("pied-piper-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pinterest fa-lg mt-4"}),a("br"),t._v("pinterest\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pinterest-p fa-lg mt-4"}),a("br"),t._v("pinterest-p\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-pinterest-square fa-lg mt-4"}),a("br"),t._v("pinterest-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-product-hunt fa-lg mt-4"}),a("br"),t._v("product-hunt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-qq fa-lg mt-4"}),a("br"),t._v("qq\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ra fa-lg mt-4"}),a("br"),t._v("ra "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-rebel fa-lg mt-4"}),a("br"),t._v("rebel\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-reddit fa-lg mt-4"}),a("br"),t._v("reddit\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-reddit-alien fa-lg mt-4"}),a("br"),t._v("reddit-alien\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-reddit-square fa-lg mt-4"}),a("br"),t._v("reddit-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-renren fa-lg mt-4"}),a("br"),t._v("renren\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-safari fa-lg mt-4"}),a("br"),t._v("safari\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-scribd fa-lg mt-4"}),a("br"),t._v("scribd\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-sellsy fa-lg mt-4"}),a("br"),t._v("sellsy\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-share-alt fa-lg mt-4"}),a("br"),t._v("share-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-share-alt-square fa-lg mt-4"}),a("br"),t._v("share-alt-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-shirtsinbulk fa-lg mt-4"}),a("br"),t._v("shirtsinbulk\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-simplybuilt fa-lg mt-4"}),a("br"),t._v("simplybuilt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-skyatlas fa-lg mt-4"}),a("br"),t._v("skyatlas\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-skype fa-lg mt-4"}),a("br"),t._v("skype\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-slack fa-lg mt-4"}),a("br"),t._v("slack\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-slideshare fa-lg mt-4"}),a("br"),t._v("slideshare\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-soundcloud fa-lg mt-4"}),a("br"),t._v("soundcloud\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-spotify fa-lg mt-4"}),a("br"),t._v("spotify\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stack-exchange fa-lg mt-4"}),a("br"),t._v("stack-exchange\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stack-overflow fa-lg mt-4"}),a("br"),t._v("stack-overflow\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-steam fa-lg mt-4"}),a("br"),t._v("steam\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-steam-square fa-lg mt-4"}),a("br"),t._v("steam-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stumbleupon fa-lg mt-4"}),a("br"),t._v("stumbleupon\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stumbleupon-circle fa-lg mt-4"}),a("br"),t._v("stumbleupon-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tencent-weibo fa-lg mt-4"}),a("br"),t._v("tencent-weibo\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-trello fa-lg mt-4"}),a("br"),t._v("trello\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tripadvisor fa-lg mt-4"}),a("br"),t._v("tripadvisor\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tumblr fa-lg mt-4"}),a("br"),t._v("tumblr\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-tumblr-square fa-lg mt-4"}),a("br"),t._v("tumblr-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-twitch fa-lg mt-4"}),a("br"),t._v("twitch\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-twitter fa-lg mt-4"}),a("br"),t._v("twitter\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-twitter-square fa-lg mt-4"}),a("br"),t._v("twitter-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-usb fa-lg mt-4"}),a("br"),t._v("usb\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-viacoin fa-lg mt-4"}),a("br"),t._v("viacoin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-vimeo fa-lg mt-4"}),a("br"),t._v("vimeo\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-vimeo-square fa-lg mt-4"}),a("br"),t._v("vimeo-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-vine fa-lg mt-4"}),a("br"),t._v("vine\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-vk fa-lg mt-4"}),a("br"),t._v("vk\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wechat fa-lg mt-4"}),a("br"),t._v("wechat "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-weibo fa-lg mt-4"}),a("br"),t._v("weibo\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-weixin fa-lg mt-4"}),a("br"),t._v("weixin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-whatsapp fa-lg mt-4"}),a("br"),t._v("whatsapp\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wikipedia-w fa-lg mt-4"}),a("br"),t._v("wikipedia-w\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-windows fa-lg mt-4"}),a("br"),t._v("windows\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wordpress fa-lg mt-4"}),a("br"),t._v("wordpress\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-xing fa-lg mt-4"}),a("br"),t._v("xing\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-xing-square fa-lg mt-4"}),a("br"),t._v("xing-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-y-combinator fa-lg mt-4"}),a("br"),t._v("y-combinator\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-y-combinator-square fa-lg mt-4"}),a("br"),t._v("y-combinator-square "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-yahoo fa-lg mt-4"}),a("br"),t._v("yahoo\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-yc fa-lg mt-4"}),a("br"),t._v("yc "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-yc-square fa-lg mt-4"}),a("br"),t._v("yc-square "),a("span",{staticClass:"text-muted"},[t._v("(alias)")])]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-yelp fa-lg mt-4"}),a("br"),t._v("yelp\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-youtube fa-lg mt-4"}),a("br"),t._v("youtube\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-youtube-play fa-lg mt-4"}),a("br"),t._v("youtube-play\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-youtube-square fa-lg mt-4"}),a("br"),t._v("youtube-square\n        ")])]),t._v(" "),a("div",{staticClass:"alert alert-success mt-4"},[a("ul",{staticClass:"margin-bottom-none padding-left-lg"},[a("li",[t._v("All brand icons are trademarks of their respective owners.")]),t._v(" "),a("li",[t._v("The use of these trademarks does not indicate endorsement of the trademark holder by Font Awesome, nor vice versa.")]),t._v(" "),a("li",[t._v("Brand icons should only be used to represent the company or product to which they refer.")])])])])]),t._v(" "),a("div",{staticClass:"card",attrs:{id:"medical"}},[a("div",{staticClass:"card-header"},[t._v("Medical Icons")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-ambulance fa-lg mt-4"}),a("br"),t._v("ambulance\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-h-square fa-lg mt-4"}),a("br"),t._v("h-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-heart fa-lg mt-4"}),a("br"),t._v("heart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-heart-o fa-lg mt-4"}),a("br"),t._v("heart-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-heartbeat fa-lg mt-4"}),a("br"),t._v("heartbeat\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-hospital-o fa-lg mt-4"}),a("br"),t._v("hospital-o\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-medkit fa-lg mt-4"}),a("br"),t._v("medkit\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-plus-square fa-lg mt-4"}),a("br"),t._v("plus-square\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-stethoscope fa-lg mt-4"}),a("br"),t._v("stethoscope\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-user-md fa-lg mt-4"}),a("br"),t._v("user-md\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3 col-lg-2"},[a("i",{staticClass:"fa fa-wheelchair fa-lg mt-4"}),a("br"),t._v("wheelchair\n        ")])])])])])}],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(409),s=a(410),o=a(0),n=o(i.a,s.a,!1,null,null,null);n.exports},function(t,e,a){"use strict";e.a={name:"simple-line-icons"}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0,!1,!1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"card card-default"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-picture-o"}),t._v(" Simple Line Icons\n    ")]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-user icons font-2xl d-block mt-4"}),t._v("icon-user\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-people icons font-2xl d-block mt-4"}),t._v("icon-people\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-user-female icons font-2xl d-block mt-4"}),t._v("icon-user-female\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-user-follow icons font-2xl d-block mt-4"}),t._v("icon-user-follow\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-user-following icons font-2xl d-block mt-4"}),t._v("icon-user-following\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-user-unfollow icons font-2xl d-block mt-4"}),t._v("icon-user-unfollow\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-login icons font-2xl d-block mt-4"}),t._v("icon-login\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-logout icons font-2xl d-block mt-4"}),t._v("icon-logout\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-emotsmile icons font-2xl d-block mt-4"}),t._v("icon-emotsmile\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-phone icons font-2xl d-block mt-4"}),t._v("icon-phone\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-call-end icons font-2xl d-block mt-4"}),t._v("icon-call-end\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-call-in icons font-2xl d-block mt-4"}),t._v("icon-call-in\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-call-out icons font-2xl d-block mt-4"}),t._v("icon-call-out\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-map icons font-2xl d-block mt-4"}),t._v("icon-map\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-location-pin icons font-2xl d-block mt-4"}),t._v("icon-location-pin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-direction icons font-2xl d-block mt-4"}),t._v("icon-direction\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-directions icons font-2xl d-block mt-4"}),t._v("icon-directions\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-compass icons font-2xl d-block mt-4"}),t._v("icon-compass\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-layers icons font-2xl d-block mt-4"}),t._v("icon-layers\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-menu icons font-2xl d-block mt-4"}),t._v("icon-menu\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-list icons font-2xl d-block mt-4"}),t._v("icon-list\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-options-vertical icons font-2xl d-block mt-4"}),t._v("icon-options-vertical\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-options icons font-2xl d-block mt-4"}),t._v("icon-options\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-down icons font-2xl d-block mt-4"}),t._v("icon-arrow-down\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-left icons font-2xl d-block mt-4"}),t._v("icon-arrow-left\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-right icons font-2xl d-block mt-4"}),t._v("icon-arrow-right\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-up icons font-2xl d-block mt-4"}),t._v("icon-arrow-up\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-up-circle icons font-2xl d-block mt-4"}),t._v("icon-arrow-up-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-left-circle icons font-2xl d-block mt-4"}),t._v("icon-arrow-left-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-right-circle icons font-2xl d-block mt-4"}),t._v("icon-arrow-right-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-arrow-down-circle icons font-2xl d-block mt-4"}),t._v("icon-arrow-down-circle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-check icons font-2xl d-block mt-4"}),t._v("icon-check\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-clock icons font-2xl d-block mt-4"}),t._v("icon-clock\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-plus icons font-2xl d-block mt-4"}),t._v("icon-plus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-close icons font-2xl d-block mt-4"}),t._v("icon-close\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-trophy icons font-2xl d-block mt-4"}),t._v("icon-trophy\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-screen-smartphone icons font-2xl d-block mt-4"}),t._v("icon-screen-smartphone\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-screen-desktop icons font-2xl d-block mt-4"}),t._v("icon-screen-desktop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-plane icons font-2xl d-block mt-4"}),t._v("icon-plane\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-notebook icons font-2xl d-block mt-4"}),t._v("icon-notebook\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-mustache icons font-2xl d-block mt-4"}),t._v("icon-mustache\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-mouse icons font-2xl d-block mt-4"}),t._v("icon-mouse\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-magnet icons font-2xl d-block mt-4"}),t._v("icon-magnet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-energy icons font-2xl d-block mt-4"}),t._v("icon-energy\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-disc icons font-2xl d-block mt-4"}),t._v("icon-disc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-cursor icons font-2xl d-block mt-4"}),t._v("icon-cursor\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-cursor-move icons font-2xl d-block mt-4"}),t._v("icon-cursor-move\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-crop icons font-2xl d-block mt-4"}),t._v("icon-crop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-chemistry icons font-2xl d-block mt-4"}),t._v("icon-chemistry\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-speedometer icons font-2xl d-block mt-4"}),t._v("icon-speedometer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-shield icons font-2xl d-block mt-4"}),t._v("icon-shield\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-screen-tablet icons font-2xl d-block mt-4"}),t._v("icon-screen-tablet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-magic-wand icons font-2xl d-block mt-4"}),t._v("icon-magic-wand\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-hourglass icons font-2xl d-block mt-4"}),t._v("icon-hourglass\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-graduation icons font-2xl d-block mt-4"}),t._v("icon-graduation\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-ghost icons font-2xl d-block mt-4"}),t._v("icon-ghost\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-game-controller icons font-2xl d-block mt-4"}),t._v("icon-game-controller\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-fire icons font-2xl d-block mt-4"}),t._v("icon-fire\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-eyeglass icons font-2xl d-block mt-4"}),t._v("icon-eyeglass\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-envelope-open icons font-2xl d-block mt-4"}),t._v("icon-envelope-open\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-envelope-letter icons font-2xl d-block mt-4"}),t._v("icon-envelope-letter\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-bell icons font-2xl d-block mt-4"}),t._v("icon-bell\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-badge icons font-2xl d-block mt-4"}),t._v("icon-badge\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-anchor icons font-2xl d-block mt-4"}),t._v("icon-anchor\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-wallet icons font-2xl d-block mt-4"}),t._v("icon-wallet\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-vector icons font-2xl d-block mt-4"}),t._v("icon-vector\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-speech icons font-2xl d-block mt-4"}),t._v("icon-speech\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-puzzle icons font-2xl d-block mt-4"}),t._v("icon-puzzle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-printer icons font-2xl d-block mt-4"}),t._v("icon-printer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-present icons font-2xl d-block mt-4"}),t._v("icon-present\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-playlist icons font-2xl d-block mt-4"}),t._v("icon-playlist\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-pin icons font-2xl d-block mt-4"}),t._v("icon-pin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-picture icons font-2xl d-block mt-4"}),t._v("icon-picture\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-handbag icons font-2xl d-block mt-4"}),t._v("icon-handbag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-globe-alt icons font-2xl d-block mt-4"}),t._v("icon-globe-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-globe icons font-2xl d-block mt-4"}),t._v("icon-globe\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-folder-alt icons font-2xl d-block mt-4"}),t._v("icon-folder-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-folder icons font-2xl d-block mt-4"}),t._v("icon-folder\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-film icons font-2xl d-block mt-4"}),t._v("icon-film\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-feed icons font-2xl d-block mt-4"}),t._v("icon-feed\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-drop icons font-2xl d-block mt-4"}),t._v("icon-drop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-drawer icons font-2xl d-block mt-4"}),t._v("icon-drawer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-docs icons font-2xl d-block mt-4"}),t._v("icon-docs\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-doc icons font-2xl d-block mt-4"}),t._v("icon-doc\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-diamond icons font-2xl d-block mt-4"}),t._v("icon-diamond\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-cup icons font-2xl d-block mt-4"}),t._v("icon-cup\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-calculator icons font-2xl d-block mt-4"}),t._v("icon-calculator\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-bubbles icons font-2xl d-block mt-4"}),t._v("icon-bubbles\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-briefcase icons font-2xl d-block mt-4"}),t._v("icon-briefcase\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-book-open icons font-2xl d-block mt-4"}),t._v("icon-book-open\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-basket-loaded icons font-2xl d-block mt-4"}),t._v("icon-basket-loaded\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-basket icons font-2xl d-block mt-4"}),t._v("icon-basket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-bag icons font-2xl d-block mt-4"}),t._v("icon-bag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-action-undo icons font-2xl d-block mt-4"}),t._v("icon-action-undo\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-action-redo icons font-2xl d-block mt-4"}),t._v("icon-action-redo\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-wrench icons font-2xl d-block mt-4"}),t._v("icon-wrench\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-umbrella icons font-2xl d-block mt-4"}),t._v("icon-umbrella\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-trash icons font-2xl d-block mt-4"}),t._v("icon-trash\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-tag icons font-2xl d-block mt-4"}),t._v("icon-tag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-support icons font-2xl d-block mt-4"}),t._v("icon-support\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-frame icons font-2xl d-block mt-4"}),t._v("icon-frame\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-size-fullscreen icons font-2xl d-block mt-4"}),t._v("icon-size-fullscreen\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-size-actual icons font-2xl d-block mt-4"}),t._v("icon-size-actual\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-shuffle icons font-2xl d-block mt-4"}),t._v("icon-shuffle\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-share-alt icons font-2xl d-block mt-4"}),t._v("icon-share-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-share icons font-2xl d-block mt-4"}),t._v("icon-share\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-rocket icons font-2xl d-block mt-4"}),t._v("icon-rocket\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-question icons font-2xl d-block mt-4"}),t._v("icon-question\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-pie-chart icons font-2xl d-block mt-4"}),t._v("icon-pie-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-pencil icons font-2xl d-block mt-4"}),t._v("icon-pencil\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-note icons font-2xl d-block mt-4"}),t._v("icon-note\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-loop icons font-2xl d-block mt-4"}),t._v("icon-loop\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-home icons font-2xl d-block mt-4"}),t._v("icon-home\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-grid icons font-2xl d-block mt-4"}),t._v("icon-grid\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-graph icons font-2xl d-block mt-4"}),t._v("icon-graph\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-microphone icons font-2xl d-block mt-4"}),t._v("icon-microphone\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-music-tone-alt icons font-2xl d-block mt-4"}),t._v("icon-music-tone-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-music-tone icons font-2xl d-block mt-4"}),t._v("icon-music-tone\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-earphones-alt icons font-2xl d-block mt-4"}),t._v("icon-earphones-alt\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-earphones icons font-2xl d-block mt-4"}),t._v("icon-earphones\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-equalizer icons font-2xl d-block mt-4"}),t._v("icon-equalizer\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-like icons font-2xl d-block mt-4"}),t._v("icon-like\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-dislike icons font-2xl d-block mt-4"}),t._v("icon-dislike\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-control-start icons font-2xl d-block mt-4"}),t._v("icon-control-start\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-control-rewind icons font-2xl d-block mt-4"}),t._v("icon-control-rewind\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-control-play icons font-2xl d-block mt-4"}),t._v("icon-control-play\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-control-pause icons font-2xl d-block mt-4"}),t._v("icon-control-pause\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-control-forward icons font-2xl d-block mt-4"}),t._v("icon-control-forward\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-control-end icons font-2xl d-block mt-4"}),t._v("icon-control-end\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-volume-1 icons font-2xl d-block mt-4"}),t._v("icon-volume-1\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-volume-2 icons font-2xl d-block mt-4"}),t._v("icon-volume-2\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-volume-off icons font-2xl d-block mt-4"}),t._v("icon-volume-off\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-calendar icons font-2xl d-block mt-4"}),t._v("icon-calendar\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-bulb icons font-2xl d-block mt-4"}),t._v("icon-bulb\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-chart icons font-2xl d-block mt-4"}),t._v("icon-chart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-ban icons font-2xl d-block mt-4"}),t._v("icon-ban\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-bubble icons font-2xl d-block mt-4"}),t._v("icon-bubble\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-camrecorder icons font-2xl d-block mt-4"}),t._v("icon-camrecorder\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-camera icons font-2xl d-block mt-4"}),t._v("icon-camera\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-cloud-download icons font-2xl d-block mt-4"}),t._v("icon-cloud-download\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-cloud-upload icons font-2xl d-block mt-4"}),t._v("icon-cloud-upload\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-envelope icons font-2xl d-block mt-4"}),t._v("icon-envelope\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-eye icons font-2xl d-block mt-4"}),t._v("icon-eye\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-flag icons font-2xl d-block mt-4"}),t._v("icon-flag\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-heart icons font-2xl d-block mt-4"}),t._v("icon-heart\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-info icons font-2xl d-block mt-4"}),t._v("icon-info\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-key icons font-2xl d-block mt-4"}),t._v("icon-key\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-link icons font-2xl d-block mt-4"}),t._v("icon-link\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-lock icons font-2xl d-block mt-4"}),t._v("icon-lock\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-lock-open icons font-2xl d-block mt-4"}),t._v("icon-lock-open\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-magnifier icons font-2xl d-block mt-4"}),t._v("icon-magnifier\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-magnifier-add icons font-2xl d-block mt-4"}),t._v("icon-magnifier-add\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-magnifier-remove icons font-2xl d-block mt-4"}),t._v("icon-magnifier-remove\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-paper-clip icons font-2xl d-block mt-4"}),t._v("icon-paper-clip\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-paper-plane icons font-2xl d-block mt-4"}),t._v("icon-paper-plane\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-power icons font-2xl d-block mt-4"}),t._v("icon-power\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-refresh icons font-2xl d-block mt-4"}),t._v("icon-refresh\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-reload icons font-2xl d-block mt-4"}),t._v("icon-reload\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-settings icons font-2xl d-block mt-4"}),t._v("icon-settings\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-star icons font-2xl d-block mt-4"}),t._v("icon-star\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-symbol-female icons font-2xl d-block mt-4"}),t._v("icon-symbol-female\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-symbol-male icons font-2xl d-block mt-4"}),t._v("icon-symbol-male\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-target icons font-2xl d-block mt-4"}),t._v("icon-target\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-credit-card icons font-2xl d-block mt-4"}),t._v("icon-credit-card\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-paypal icons font-2xl d-block mt-4"}),t._v("icon-paypal\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-tumblr icons font-2xl d-block mt-4"}),t._v("icon-social-tumblr\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-twitter icons font-2xl d-block mt-4"}),t._v("icon-social-twitter\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-facebook icons font-2xl d-block mt-4"}),t._v("icon-social-facebook\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-instagram icons font-2xl d-block mt-4"}),t._v("icon-social-instagram\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-linkedin icons font-2xl d-block mt-4"}),t._v("icon-social-linkedin\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-pinterest icons font-2xl d-block mt-4"}),t._v("icon-social-pinterest\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-github icons font-2xl d-block mt-4"}),t._v("icon-social-github\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-gplus icons font-2xl d-block mt-4"}),t._v("icon-social-gplus\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-reddit icons font-2xl d-block mt-4"}),t._v("icon-social-reddit\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-skype icons font-2xl d-block mt-4"}),t._v("icon-social-skype\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-dribbble icons font-2xl d-block mt-4"}),t._v("icon-social-dribbble\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-behance icons font-2xl d-block mt-4"}),t._v("icon-social-behance\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-foursqare icons font-2xl d-block mt-4"}),t._v("icon-social-foursqare\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-soundcloud icons font-2xl d-block mt-4"}),t._v("icon-social-soundcloud\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-spotify icons font-2xl d-block mt-4"}),t._v("icon-social-spotify\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-stumbleupon icons font-2xl d-block mt-4"}),t._v("icon-social-stumbleupon\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-youtube icons font-2xl d-block mt-4"}),t._v("icon-social-youtube\n        ")]),t._v(" "),a("div",{staticClass:"col-6 col-sm-4 col-md-3"},[a("i",{staticClass:"icon-social-dropbox icons font-2xl d-block mt-4"}),t._v("icon-social-dropbox\n        ")])])])])])}],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(412)}var s=a(413),o=a(414),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(7);e.a={name:"Login",data:function(){return{form:{Username:"",password:"",base:"",remember:!1,authenticated:!1,deviceType:"",registrationId:"",uri:""},registrationId:void 0,myDevice:""}},created:function(){o.a.logout(),this.base=this.$appUri.BaseURL},mounted:function(){this.init()},methods:{checkAccountValidate:function(){this.$rootScope.returnURL?this.$router.go(this.$rootScope.returnURL.state.name,this.$rootScope.returnURL.params):this.$router.push(this.$appUri.BaseRedirect),o.a.checkPassExpire(function(t){t&&this.$rootScope.returnURL})},signIn:function(){var t=this;this.$clearStorage(),this.$rootScope.pageType="signIn",t.viewModel={Formtitle:"Đăng nhập tài khoản",showLogin:!0,showExtension:!0,showChangePass:!1},t.pass={},"isMobileApp"===t.myDevice?t.registerPushNotification():t.login()},registerPushNotification:function(){var t=this,e=this,a={android:{icon:"icon",senderID:"68497599090"},ios:{alert:"true",badge:"true",sound:"true"},windows:{}};this.$cordovaPushV5.initialize(a).then(function(){t.$cordovaPushV5.onNotification(),t.$cordovaPushV5.onError(),!0!==window.device.isVirtual?t.$cordovaPushV5.register().then(function(t){e.registrationId=t,e.login()}):e.login()})},login:function(){var t=this,e=this;return o.a.isEmpty(e.form.Username)&&""!=e.form.Username?o.a.isEmpty(e.form.password)&&""!=e.form.password?"isMobileApp"!=e.myDevice||o.a.isEmpty(e.form.base)&&""!=e.form.base?(o.a.isEmpty(e.form.base)&&""!=e.form.base&&(-1==e.form.base.toLowerCase().indexOf("http")?(this.$appUri.BaseURL="http://"+e.form.base+"/",this.$appUri.BaseUri="http://"+e.form.base+"/xRequest.ashx",this.form.uri=this.$appUri.BaseUri):(this.$appUri.BaseURL=e.form.base+"/",this.$appUri.BaseUri=e.form.base+"/xRequest.ashx",this.form.uri=this.$appUri.BaseUri),e.registrationId&&(e.form.registrationId=e.registrationId),"isMobileApp"==e.myDevice&&(e.form.deviceId=window.device.uuid),"isMobileApp"==e.myDevice&&this.$isMobile.Android()?e.form.deviceType="Android":"isMobileApp"==e.myDevice&&this.$isMobile.iOS()?e.form.deviceType="Ios":e.form.deviceType="Web"),void o.a.login(e.form,function(a){if(o.a.isEmpty(a,"success")&&0!=a.success){t.$setItemLocalStorage(t.$localStorageConstant.StoredURI,t.$appUri.BaseUri),o.a.isEmpty(e.form.remember)&&(t.$setItemLocalStorage(t.$localStorageConstant.SaveStatus,e.form.remember),o.a.isEmpty(e.form.base)&&"isMobileApp"==e.myDevice&&t.$setItemLocalStorage(t.$localStorageConstant.AppConfig,e.form.base),o.a.isEmpty(e.form.Username)&&t.$setItemLocalStorage(t.$localStorageConstant.LoginName,e.form.Username),o.a.isEmpty(e.form.password)&&"isMobileApp"==e.myDevice&&t.$setItemLocalStorage(t.$localStorageConstant.Password,e.form.password)),"isMobileApp"==e.myDevice&&t.$setItemLocalStorage(t.$localStorageConstant.appUri,s()(t.$appUri));var i=t.$Lodash.cloneDeep(e.form);i.Data=a.Data,t.$setItemLocalStorage(t.$localStorageConstant.SessionId,a.Data);var n=a.Data;if(o.a.isEmpty(n)){var l={},r={},c=t.$Lodash.cloneDeep(t.$singleRequest),d=[{RequestTemplate:"Setting.SearchBase",ParentCode:"xSystem.Setting.xTask.Status",SessionId:n},{RequestTemplate:"xEdu.TaskPriority",Code:"TaskPriority",SessionId:n},{RequestTemplate:"SettingNew.SearchSetting",IncludedNestedSetParent:!0,ParentCode:"xSetting.Default.AppInfo"},{RequestTemplate:"SettingNew.SearchSetting",Code:"MODE_PROJECT"},{RequestTemplate:"SettingNew.SearchSetting",Code:"xSetting.Default.AppInfo.isoWeekday"}],c=e.$Lodash.cloneDeep(e.$singleRequest);c.TotalRequests=0,d.forEach(function(t){c.TotalRequests++,c=e.$Utils.updateParamsSingleRequest(c,t,c.TotalRequests)}),o.a.post(c).then(function(a){var n=o.a.getDataWithRoot(a.R1,"Data.DynamicDS.Setting");n.forEach(function(t){l[t.Id.toUpperCase()]=t.Color}),t.$setItemLocalStorage(t.$localStorageConstant.settingColor,s()(l)),t.$setItemLocalStorage(t.$localStorageConstant.listStatus,s()(n));var c=o.a.getDataWithRoot(a.R2,"Data.DocumentDS.Document");c.forEach(function(t){r[t.Id.toUpperCase()]=t.Lead}),t.$setItemLocalStorage(t.$localStorageConstant.arrPriorityColor,s()(r)),t.$setItemLocalStorage(t.$localStorageConstant.listPriority,s()(c));var d=o.a.getDataWithRoot(a.R3,"Data.DynamicDS.Setting"),u=o.a.getDataWithRoot(a.R4,"Data.DynamicDS.Setting"),m=o.a.getDataWithRoot(a.R5,"Data.DynamicDS.Setting");if(m.length>0&&t.$setItemLocalStorage("firstDayOfWeekCfg",s()(m[0])),o.a.isEmpty(d)){var p={versionName:d[0].Value};t.$setItemLocalStorage("AppInfo",s()(d)),t.$rootScope.application=p,t.$setItemLocalStorage(t.$localStorageConstant.Application,s()(p)),t.$rootScope.application=JSON.parse(t.$getItemLocalStorage(t.$localStorageConstant.Application))}else{var p={versionName:"Professional"};t.$rootScope.application=p,t.$setItemLocalStorage(t.$localStorageConstant.Application,s()(p))}if(o.a.isEmpty(u,"0")){var h={mode:u[0].Value};t.$setItemLocalStorage(t.$localStorageConstant.ModeProject,s()(h)),t.$rootScope.modeProject=h}else{var h={mode:""};t.$setItemLocalStorage(t.$localStorageConstant.ModeProject,s()(h)),t.$rootScope.modeProject=h}o.a.loadUserInformation(i,function(a){if(o.a.isEmpty(a))if(delete a.Project,t.$rootScope.loggedOnUser=a,"isMobileApp"==e.myDevice){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:!0,R1_Code:"xSetting.Default.AppInfo"};o.a.post(i).then(function(e){var a=o.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");!a||!a[0]||a&&a[0]&&"Enterprise2"!=a[0].Value?(o.a.showMessage("error","Website đang sử dụng phiên bản cũ!"),t.$router.push("/login")):t.$route.query&&t.$route.query.redirect?t.$router.push(t.$route.query.redirect):t.$router.push(t.$appUri.BaseRedirect)})}else t.$route.query&&t.$route.query.redirect?t.$router.push(t.$route.query.redirect):t.$router.push(t.$appUri.BaseRedirect);else o.a.showMessage("error",t.$toastMessage.loginError)})})}}else o.a.showMessage("error",t.$toastMessage.loginError)})):(o.a.showMessage("error","Nhập đường dẫn trang"),!1):(o.a.showMessage("error","Nhập mật khẩu"),!1):(o.a.showMessage("error","Nhập tên đăng nhập"),!1)},getTemplateHTML:function(){var e=this,a=$q.defer(),i=o.a.updateParamsSingleRequest(this.$Lodash.cloneDeep(singleRequest),{RequestTemplate:"Setting.SearchBase",ParentCode:"xSetting.Default.TemplateHTML"});return o.a.postCheckResult(i).then(function(i){i=o.a.getDataWithRoot(i,"R1.Data.DynamicDS.Setting");var n={};t.each(i,function(t,e){e.Name&&e.Value&&(n[e.Name.toLowerCase()]=o.a.decodeHtmlEntities(e.Value))}),e.$setItemLocalStorage(e.$localStorageConstant.HTMLTemplateCache,s()(n)),a.resolve()}),a.promise},init:function(){var t=this;t.myDevice=this.$myDevice,t.isIOs=this.$isMobile.iOS(),"true"==this.$getItemLocalStorage(this.$localStorageConstant.SaveStatus)&&(t.form.remember=!0),this.$getItemLocalStorage(this.$localStorageConstant.AppConfig)&&(t.form.base=this.$getItemLocalStorage(this.$localStorageConstant.AppConfig)),this.$getItemLocalStorage(this.$localStorageConstant.LoginName)&&(t.form.Username=this.$getItemLocalStorage(this.$localStorageConstant.LoginName)),this.$getItemLocalStorage(this.$localStorageConstant.Password)&&(t.form.password=this.$getItemLocalStorage(this.$localStorageConstant.Password))}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app flex-row align-items-center login-page",on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.signIn(e)}}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card-group"},[a("div",{staticClass:"card p-4"},[a("div",{staticClass:"card-body"},[a("el-form",{ref:"user",staticClass:"demo-ruleForm",attrs:{model:t.form}},[a("h1",[t._v("Đăng nhập")]),t._v(" "),a("el-form-item",{attrs:{prop:"Username",rules:[{required:!0,message:"Vui lòng nhập tài khoản"}]}},[a("div",{staticClass:"input-group mb-2"},[a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"icon-user"})]),t._v(" "),a("el-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Tên đăng nhập"},model:{value:t.form.Username,callback:function(e){t.$set(t.form,"Username",e)},expression:"form.Username"}})],1)]),t._v(" "),a("el-form-item",{attrs:{prop:"password",rules:[{required:!0,message:"Vui lòng nhập mật khẩu"}]}},[a("div",{staticClass:"input-group mb-2"},[a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"icon-lock"})]),t._v(" "),a("el-input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Mật khẩu"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)]),t._v(" "),"isMobileApp"==t.myDevice?a("el-form-item",{attrs:{prop:"base",rules:[{required:!0,message:"Vui lòng nhập địa chỉ trang"}]}},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-globe"})]),t._v(" "),a("el-input",{staticClass:"form-control",attrs:{placeholder:"Địa chỉ trang chủ"},model:{value:t.form.base,callback:function(e){t.$set(t.form,"base",e)},expression:"form.base"}})],1)]):t._e(),t._v(" "),a("el-form-item",{attrs:{prop:"remember"}},[a("el-checkbox",{attrs:{"true-label":"true","false-label":"false"},model:{value:t.form.remember,callback:function(e){t.$set(t.form,"remember",e)},expression:"form.remember"}},[t._v("Lưu thông tin")])],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-primary px-4",attrs:{type:"button"},on:{click:t.signIn}},[t._v("Đăng nhập")])]),t._v(" "),a("div",{staticClass:"col-6 text-right"},[a("button",{staticClass:"btn btn-link px-0",attrs:{type:"button"}},[a("router-link",{attrs:{to:"pages/reset-pass"}},[t._v("Quên mật khẩu?")])],1)])])],1)],1)])])])])])])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";(function(t){var i=a(416),s=a(110);a(3);e.a={components:{Parameter:s.a,ProjectTreeGrid:i.a},data:function(){return{radio:"1",isSystemAdmin:this.$isSystemAdmin(),isMantisAdmin:this.$isMantisAdmin(),groups:[],title:"dự án",groupt:[],groupType:"4",groupOri:[],groupP:[],groupRole:[],TreeGrid:[],parentgroups:[],defaultProps:{children:"children",label:"label"}}},created:function(){var t=this;this.init(),this.$on("reload",function(e){t.init()}),this.$on("search",function(e){t.init(e)})},methods:{chooseSelect:function(){},init:function(e){var a=this,i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="tblGroup.Search",i.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",i.R1_RequestFields="GroupId;CreatedByName;GroupParent;ModifiedByName;Permit;PermitName;Status;SubStatus;SubStatusName;Active;ActiveName;GroupName;Description;ProjectCode;Department;DepartmentName;GroupType;StartDate;FinishDate;",i.R1_GroupType=this.groupType,i.R1_GroupType+=";5",this.$Utils.post(i).then(function(i){if(i.success){var s=a.$Utils.getDataWithRoot(i.R1,"Data.UserDS.Group"),o=a.$Lodash.filter(s,["GroupType","5"]),n=a.$Lodash.filter(s,["GroupType","4"]);n.forEach(function(t){t.GroupRole=[],o.forEach(function(e){t.GroupId===e.GroupParent&&(e.Name=e.GroupName,t.GroupRole.push(e))})}),e||(n=n.map(function(t){return t.text=t.GroupName,t})),a.groupP=n,a.$Utils.isEmpty(n,"length")||(n=[n]),e&&(n=n.filter(function(t){return-1!==t.GroupName.toLowerCase().indexOf(e.toLowerCase())})),a.groupOri=t.makeArray(t.map(n,function(t,e){return t||{}})),a.groups=a.$Utils.createCustomTreeFromList(a.groupOri,"GroupId","GroupParent","children",{Name:"GroupName",Id:"GroupId"},{type:"group"}),a.parentgroups=a.$Lodash.cloneDeep(a.groups)}},function(t){console.log(t)})}}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(417)}var s=a(418),o=a(436),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(21),s=a.n(i),o=(a(3),a(281)),n=a(30),l=a.n(n),r=a(256);e.a={name:"example",components:{ElTreeGrid:l.a,ElTableTreeColumn:o.a},props:["datasource","group","checkRadio","title","groupRole"],data:function(){return{searchText:"",props:{stripe:!0,border:!0,showHeader:!0,showSummary:!1,showRowHover:!0,showIndex:!1,treeType:!0,isFold:!0,expandType:!1,selectionType:!1}}},watch:{searchText:function(t){this.$parent.$emit("search",this.searchText)}},computed:{propList:function(){return s()(this.props).map(function(t){return{name:t}})}},methods:{search:function(t){},reload:function(){this.$parent.$emit("reload")},onDelete:function(e){var a=this,i=this,s=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),o=e;o.Id=e.GroupId,this.$confirm("Bạn chắc chắn muốn xóa "+this.title+" "+o.label,"Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Bỏ qua",type:"warning"}).then(function(){var n=a.$Lodash.cloneDeep(a.$singleRequest);n.R1_RequestTemplate="OrgnizationList",n.R1_GroupParent=o.Id,a.$Utils.post(n).then(function(n){n=a.$Utils.getDataWithRoot(n,"R1.Data.UserDS.Group");var l=n,r={};l.push(o),t.each(l,function(t,n){n.Id!==o.Id?(r={RequestAction:"DeleteGroup",RequestClass:"BPM",ConditionFields:"GroupId;",GroupId:n.GroupId,SessionId:s},i.$Utils.post(r).then(function(t){})):(r={RequestAction:"DeleteGroup",RequestClass:"BPM",ConditionFields:"GroupId;",GroupId:o.GroupId,SessionId:s},i.$Utils.post(r).then(function(t){t.success?(e.GroupId&&a.removeCategory(e),i.reload(),i.$message({type:"success",message:"Xóa thành công"}),a.$hub.$emit("reloadGroup","Reload")):i.$message({type:"danger",message:"Xóa không thành công!"})}))})})}).catch(function(){})},removeCategory:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.SearchSetting",a.R1_ParentCode="xSetting.Project.Parameter.Project.Category",a.R1_Value=t.GroupId,e.$Utils.postCheckResult(a).then(function(t){var a=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting");if(console.log(a),a.length>0){var i=e.$Lodash.cloneDeep(e.$singleRequest),s=0,o={};i.TotalRequests=a.length,a.forEach(function(t){s++,o.RequestTemplate="Setting.Delete",o.Id=t.Id,i=e.$Utils.updateParamsSingleRequest(i,o,s)}),e.$Utils.postCheckResult(i).then(function(){})}})},showCreatedDepartment:function(t){var e="Thêm mới "+this.title,a={user:t,search:this.reload};void 0!==t&&(e="Chỉnh sửa "+this.title),this.$hub.$emit("set-modal-data",e,"60%",!0,"center",r.a,!0,"showCreatedDepartment",a,!1)}}}}).call(e,a(2))},,,,,,function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(21),n=a.n(o),l=a(3),r=a(282),c="4e5c6049-41c2-4abd-b9de-6b32beb22490",d="GroupId;CreatedByName;GroupParent;ModifiedByName;Permit;PermitName;Status;SubStatus;SubStatusName;Active;ActiveName;GroupName;Description;ProjectCode;Department;DepartmentName;GroupType;StartDate;FinishDate;";e.a={props:["data"],components:{ProjectCategories:r.a},data:function(){return{DisplayPermit:!0,textarea:"",ListPermit:[],ListStatus:[],ListUser:[],ListGroup:[],dataToPass:{},groupRoleTemp:[],GroupRoles:[],ListGroupId:{},model:{Name:"",ProjectCode:"",SubStatus:"",Active:!0,Permit:"",StartDate:"",FinishDate:"",Department:[],Description:"",GroupId:void 0,Status:1}}},computed:{FormCelSpan:function(){return 24},TreeCelSpan:function(){return 24}},methods:{resetForm:function(t){this.$refs[t].resetFields()},closeForm:function(){this.$hub.$emit("close-modal")},checkExits:function(){var t=this,e=void 0==this.model.GroupId||""==this.model.GroupId;if(!this.model.GroupName||null==this.model.GroupName||""==this.model.GroupName.trim())return void this.$Utils.showMessage("error","Tên dự án cần phải có");var a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="tblGroup.Search",a.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",a.R1_RequestFields=d,a.R1_GroupType="4",this.$Utils.post(a).then(function(a){var i=t.$Utils.getDataWithRoot(a.R1,"Data.UserDS.Group");if(e){if(i=i.filter(function(e){return t.model.GroupName&&t.model.GroupName.toLowerCase()===e.GroupName.toLowerCase()||t.model.ProjectCode==e.ProjectCode}),i.length>0)return void t.$Utils.showMessage("error","Dự án hoặc mã dự án đã tồn tại")}else if(i=i.filter(function(e){return t.model.GroupName.toLowerCase()==e.GroupName.toLowerCase()&&t.model.GroupId!=e.GroupId}),i.length>0)return void t.$Utils.showMessage("error","Dự án đã tồn tại");t.save()})},save:function(){var t=this,e=!0;if(this.$Utils.isEmpty(this.model.GroupName)?this.$Utils.isEmpty(this.model.ProjectCode)&&""!==this.model.ProjectCode.trim()?this.$Utils.isEmpty(this.model.Department)&&0!=this.model.Department.length?this.$Utils.isEmpty(this.model.Description)&&0!=this.model.Description.length||(this.$Utils.showMessage("error","Mô tả bắt buộc nhập"),e=!1):(this.$Utils.showMessage("error","Phòng ban bắt buộc nhập"),e=!1):(this.$Utils.showMessage("error","Mã dự án bắt buộc nhập"),e=!1):(this.$Utils.showMessage("error","Tên dự án bắt buộc nhập"),e=!1),e){this.$Utils.isEmpty(this.model.StartDate)&&(this.model.StartDate=l.default.moment(this.model.StartDate).format("YYYY-MM-DD")+"T00:00:00"),this.$Utils.isEmpty(this.model.FinishDate)&&(this.model.FinishDate=l.default.moment(this.model.FinishDate).format("YYYY-MM-DD")+"T23:59:59");var a=this.$Lodash.cloneDeep(this.model.Department);if(this.model.DepartmentName="",this.model.Department="",a.forEach(function(e){var a=t.ListGroup.filter(function(t){return t.GroupId==e});t.model.DepartmentName+=a[0].GroupName+";",t.model.Department+=e+";"}),this.$Utils.isEmpty(this.model.SubStatus)){var i=this.ListStatus.filter(function(e){return e.Id==t.model.SubStatus});i[0]&&i[0].Name&&(this.model.SubStatusName=i[0].Name)}this.UpdateProject()}},UpdateProject:function(e){var a=this,i=this,s=i.$Lodash.cloneDeep(i.$singleRequest);s.R1_RequestTemplate="tblGroup.Update",s.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",s.R1_RequestFields=d,s.R1_GroupType=4,s.R1_Status=1,s.R1_ModifiedByName=JSON.parse(i.$Utils.getUserInfo()).Username,void 0!=i.model.GroupId&&""!=i.model.GroupId||(s.R1_RequestTemplate="tblGroup.Insert",s.R1_CreatedByName=JSON.parse(i.$Utils.getUserInfo()).Username),this.$Utils.isEmpty(this.model.StartDate)&&(this.model.StartDate=l.default.moment(this.model.StartDate).format("YYYY-MM-DD")+"T00:00:00"),this.$Utils.isEmpty(this.model.FinishDate)&&(this.model.FinishDate=l.default.moment(this.model.FinishDate).format("YYYY-MM-DD")+"T23:59:59"),s=i.$Utils.updateParamsSingleRequest(s,i.model),i.$Utils.post(s).then(function(e){if(e.success){if(i.$Utils.showMessage("success","Cập nhật thành công."),"tblGroup.Insert"==s.R1_RequestTemplate){var o={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:i.$Utils.getUserInfo("UserId"),GroupId:e.R1.Data};i.$Utils.post(o).then(function(t){}),i.ListUser.filter(function(t){if(-1!=t.Groups.indexOf(i.$supervisor)){var a={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:t.UserId,GroupId:e.R1.Data};i.$Utils.post(a).then(function(t){})}}),i.model.Department&&i.model.Department.split(";").forEach(function(t){if(t&&""!=t)if(i.model.Permit==c){var s=a.$Lodash.cloneDeep(a.$singleRequest);s.R1_RequestTemplate="tblGroup.Search",s.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",s.R1_RequestFields="GroupId;GroupName;GroupType;GroupParent;ProjectCode;CreatedBy;State;Status;Type",s.R1_GroupType="2",s.R1_GroupParent=t,a.$Utils.post(s).then(function(s){var o=a.$Utils.getDataWithRoot(s.R1,"Data.UserDS.Group");o&&i.ListUser.filter(function(a){if(a.UserId!=i.$Utils.getUserInfo("UserId")&&-1!=a.Groups.indexOf(t)&&-1==a.Groups.indexOf(i.$supervisor)&&a.Groups&&a.Groups.length>0){a.Groups.split(";").forEach(function(s){var n=i.$Lodash.find(o,{GroupId:s});if(n&&n.GroupParent===t&&"Leader"===n.GroupName&&"2"===n.GroupType){var l={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:a.UserId,GroupId:e.R1.Data};i.$Utils.post(l).then(function(t){})}})}})})}else i.ListUser.filter(function(a){if(a.UserId!=i.$Utils.getUserInfo("UserId")&&-1!=a.Groups.indexOf(t)&&-1==a.Groups.indexOf(i.$supervisor)){var s={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:a.UserId,GroupId:e.R1.Data};i.$Utils.post(s).then(function(t){})}})}),t.each(i.GroupRoles,function(t,s){var o={R1_Status:1,RequestAction:"Request",RequestClass:"xBase",TotalRequests:1,R1_RequestTemplate:"OrgnizationInsert",R1_GroupParent:e.R1.Data,R1_GroupName:s.Name,R1_GroupType:5,R1_Description:s.Caption};i.$Utils.post(o).then(function(t){var o=i.$Lodash.cloneDeep(i.$singleRequest);o.R1_RequestTemplate="tblGroup.Update",o.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",o.R1_RequestFields="GroupId;"+s.Name+";",o["R1_"+s.Name]=t.R1.Data,o.R1_GroupId=e.R1.Data,i.$Utils.post(o).then(function(t){}),i.model[s.Value]&&i.model[s.Value].forEach(function(s){if(s&&""!=s){var o=a.$Lodash.find(a.ListUser,{UserId:s});if(console.log(o),o&&-1==o.Groups.indexOf(s)){var n={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:s,GroupId:e.R1.Data};i.$Utils.post(n).then(function(t){console.info("data InsertUserGroup ",t)})}var n={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:s,GroupId:t.R1.Data};i.$Utils.post(n).then(function(t){console.info("newData InsertUserGroup ",t)})}});var n={RequestClass:"BPM",RequestAction:"UpdateGroupForNestedSet"};i.$Utils.post(n).then(function(t){})})})}else{var l=[];t.each(i.GroupRoles,function(t,a){if(l.push(a.Name),-1==n()(i.ListGroupId).indexOf(a.Name)){var s={R1_Status:1,RequestAction:"Request",RequestClass:"xBase",TotalRequests:1,R1_RequestTemplate:"OrgnizationInsert",R1_GroupParent:e.R1.Data,R1_GroupName:a.Name,R1_GroupType:5,R1_Description:a.Caption};i.$Utils.post(s).then(function(s){i.ListGroupId[a.Name]=s.R1.Data,i.updateUserLink(t,a,e)});var o={RequestClass:"BPM",RequestAction:"UpdateGroupForNestedSet"};i.$Utils.post(o).then(function(){})}else i.updateUserLink(t,a,e)}),t.each(i.ListGroupId,function(t,e){if(-1==l.indexOf(t)){var a={RequestAction:"DeleteGroup",RequestClass:"BPM",ConditionFields:"GroupId;",GroupId:e};i.$Utils.post(a).then(function(t){})}})}i.data.search(),i.closeForm()}else i.$Utils.showMessage("error",i.toastMessage.updateItemFailed)})},updateUserLink:function(t,e,a){var i=this,s=this.$Lodash.difference(i.model[e.Value],i.model["old_"+e.Value]);this.$Lodash.difference(i.model["old_"+e.Value],i.model[e.Value]).map(function(t){if(i.ListGroupId[e.Name]){var a={RequestAction:"DeleteUserGroup",RequestClass:"BPM",UserId:t,GroupId:i.data.user.GroupId};i.$Utils.post(a).then(function(t){});var a={RequestAction:"DeleteUserGroup",RequestClass:"BPM",UserId:t,GroupId:i.ListGroupId[e.Name]};i.$Utils.post(a).then(function(t){})}}),s.map(function(t){if(i.ListGroupId[e.Name]){var a={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:t,GroupId:i.data.user.GroupId};i.$Utils.post(a).then(function(t){});var a={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:t,GroupId:i.ListGroupId[e.Name]};i.$Utils.post(a).then(function(t){})}})},Delete:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){e&&(DeleteGroup(e.GroupId),e.children&&t.each(value.children,function(t,e){Delete(e)}))}),DeleteGroup:function(t){var e={RequestAction:"DeleteGroup",RequestClass:"BPM",ConditionFields:"GroupId",GroupId:t,SessionId:this.$getItemLocalStorage(this.$localStorageConstant.SessionId)};this.$Utils.post(e).then(function(t){})},checkPermit:function(t){this.DisplayPermit=t.Id===c},checkWorker:function(e){var a=this;if(e.length>=this.model.Department.length){var i="";e.forEach(function(t){i+=t+";"});var o={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",SessionId:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),ConditionFields:"IncludedGroupManager;Group;Status",StaticFields:"UserId;Username;LoginName;Description;Status;",OrderFields:"LoginName ASC",Group:i,Status:1};this.$Utils.post(o).then(function(e){e=a.$Utils.getDataWithRoot(e,"Data.UserDS.User"),a.ListWorker=e,a.isSystemAdmin||(a.ListWorker=a.ListWorker.filter(function(t){if(t.Groups)return-1==s()(t.Groups).indexOf("superadmin")})),a.ListWorker.forEach(function(e){t.each(a.GroupRoles,function(t,i){(!a.data.user[i.Name]&&a.$Utils.isEmpty(objGroup[i.Value])&&objGroup[i.Value].indexOf(e.UserId)>-1||e.Groups.indexOf(a.data.user[i.Name])>-1)&&a.model[i.Value].push(e.UserId)})})})}}},created:function(){var e=this,a=this;a.dataToPass=a.data;var i=a.dataToPass.user;i&&i.GroupName&&(this.$Utils.isEmpty(i.StartDate)&&(a.model.StartDate=new Date(i.StartDate)),this.$Utils.isEmpty(i.FinishDate)&&(a.model.FinishDate=new Date(i.FinishDate)),a.model.GroupId=i.GroupId,a.model.GroupName=i.GroupName,a.model.ProjectCode=i.ProjectCode,a.model.SubStatus=i.SubStatus,a.model.Active=i.Active,a.model.Status=i.Status,a.model.Department=i.Department,a.model.Description=i.Description),a.DisplayPermit=!1,a.viewModel={Data:{Fields:[]}},a.model.Permit===c&&(a.DisplayPermit=!0);var s=a.$Lodash.cloneDeep(a.$singleRequest);s.R1_RequestTemplate="Setting.SearchSetting",s.R1_ParentCode="xSetting.Project.Parameter.ProjectPermit",s.R2_RequestTemplate="Setting.SearchSetting",s.R2_ParentCode="xSetting.Project.Parameter.ProjectStatus",s.TotalRequests=2,a.$Utils.post(s).then(function(t){a.ListPermit=a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),a.ListPermit.forEach(function(t){a.data.user&&t.Id==a.data.user.Permit&&(a.model.Permit=t)}),a.ListStatus=a.$Utils.getDataWithRoot(t.R2,"Data.DynamicDS.Setting")});var o=a.$Lodash.cloneDeep(a.model.Department);a.model.Department=[];var n=a.$Lodash.cloneDeep(a.$singleRequest);n.R1_RequestTemplate="OrgnizationList",n.R1_GroupType=1,n.R1_Status=1,a.$Utils.post(n).then(function(e){a.ListGroup=a.$Utils.getDataWithRoot(e.R1,"Data.UserDS.Group"),t.each(a.ListGroup,function(t,e){var i=e.Level;for(a.ListGroup[t].text="";i>1;)a.ListGroup[t].text+="|-- ",i--;a.ListGroup[t].text+=e.GroupName,a.$Utils.isEmpty(o)&&"string"==typeof o&&o.split(";").forEach(function(t){""!=t&&t==e.GroupId&&a.model.Department.push(e.GroupId)})})});var l=a.$Lodash.cloneDeep(a.$singleRequest);l.R1_RequestTemplate="Setting.SearchSetting",l.R1_ParentCode="xSetting.Default.Permissions.RoleProjectTemplate",a.$Utils.post(l).then(function(t){a.groupRoleTemp=a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),a.groupRoleTemp.forEach(function(t){e.$set(a.model,t.Value,[]),e.$set(a.model,"old_"+t.Value,[])}),a.listWorker=[];var i={RequestClass:"BPM",RequestAction:"SearchUserWithGroups",StaticFields:"UserId;Username;LoginName;Status",ConditionFields:"IncludedGroupManager;Group;Status;LoginName",IncludedGroup:!0,Status:1,RequestDataType:"json",SessionId:a.$getItemLocalStorage(a.$localStorageConstant.SessionId)};a.$Utils.post(i).then(function(t){t=a.$Utils.getDataWithRoot(t,"Data.UserDS.User"),a.ListUser=[],t.forEach(function(t){(!a.$isSystemAdmin()&&"superadmin"!=t.LoginName||a.$isSystemAdmin())&&a.ListUser.push(t)}),a.dataToPass.user&&a.dataToPass.user.GroupRole&&a.dataToPass.user.GroupRole.length>0&&a.groupRoleTemp.forEach(function(e){a.dataToPass.user.GroupRole.forEach(function(i){a.ListGroupId[i.GroupName]=i.GroupId,e.Name==i.GroupName&&(t.forEach(function(t){a.$Utils.isEmpty(i.GroupId)&&t.Groups.indexOf(i.GroupId)>-1&&(!a.$isSystemAdmin()&&"superadmin"!=t.LoginName||a.$isSystemAdmin())&&(a.model[e.Value]||(a.model[e.Value]=[]),a.model[e.Value].push(t.UserId),a.model["old_"+e.Value].push(t.UserId))}),a.GroupRoles.push(e))})})}),a.$forceUpdate()})}}}).call(e,a(2))},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__=__webpack_require__(45),__WEBPACK_IMPORTED_MODULE_3__components_static_EditProjectCategory__=__webpack_require__(430);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__.a.name,__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__.a),__webpack_exports__.a={props:["data"],components:{EditProjectCategory:__WEBPACK_IMPORTED_MODULE_3__components_static_EditProjectCategory__.a},data:function(){return{model:{Name:"",Parent:""},ListData:[],treeData:{Name:"Nghiệp vụ",children:[],level:"0",Level:"5"},viewModel:{}}},created:function(){var t=this;this.updateDatagroup();var e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.SearchSetting",e.R1_ParentCode="xSetting.Project.Parameter.Project.Category",e.R1_IncludedNestedSetParent=!0,this.$Utils.post(e).then(function(e){t.ListData=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.$Utils.isEmpty(t.ListData,"0")&&(t.ParentId=t.$Lodash.cloneDeep(t.ListData[0].Id),t.ListData.shift(),t.PageKey=t.ListData[0],t.getSetting())})},methods:{getSetting:function getSetting(){var _this2=this;this.ListData=[];var request=this.$Lodash.cloneDeep(this.$singleRequest);request.R1_RequestTemplate="Setting.SearchSettingTree",request.R1_ParentCode="xSetting.Project.Parameter.Project.Category",request.R1_Value=this.data.GroupId,request.R2_RequestTemplate="Setting.SearchSetting",request.R2_ParentCode="xSetting.Project.Parameter.Project.Category",request.R2_Value=this.data.GroupId,request.TotalRequests=2,this.$Utils.postCheckResult(request).then(function(data){_this2.treeData.children=_this2.$Utils.getDataWithRoot(data.R1,"Data");var SourceList=_this2.$Utils.getDataWithRoot(data.R2,"Data.DynamicDS.Setting");if(_this2.$Utils.isEmpty(SourceList,"0"))var RootLevel=_this2.$Lodash.cloneDeep(SourceList[0].Level);$.each(SourceList,function(key,value){var index=key-1;_this2.ListData.push(value);var childRank=eval(value.Level-RootLevel);for(_this2.ListData[key].text="";childRank>0;)_this2.ListData[key].text+="|-- ",childRank--;_this2.ListData[key].text+=value.Name})})},consoleData:function(t){},changeState:function(t){this.$set(t,"$foldClose",!t.$foldClose)},changePosition:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);if(a.R1_RequestTemplate="Setting.MoveNode",a.R1_Id=t.data.Id,t.afterParent.children&&t.afterParent.children.length>1){var i=0;$.each(t.afterParent.children,function(e,s){s.Id==t.data.Id&&e>0?(i=e-1,a.R1_ReferenceId=t.afterParent.children[i].Id,a.R1_NestedSetType="MoveToAfterAnother"):s.Id==t.data.Id&&0==e&&(i=1,a.R1_ReferenceId=t.afterParent.children[i].Id,a.R1_NestedSetType="MoveToBeforeAnother")})}else a.R1_ReferenceId=t.afterParent.Id,a.R1_NestedSetType="MoveToLastChildNode";this.$Utils.post(a).then(function(a){e.getAllLevel(t.afterParent.Level,t.data);var i=e.$Lodash.cloneDeep(e.$singleRequest);i.R1_RequestTemplate="AG_Task_Task.Search",i.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",i.R1_RequestFields="Id;Index;ProjectCategories;ProjectCategoriesName;Code;ProjectCategoriesLevel1;ProjectCategoriesLevel2;ProjectCategoriesLevel3;ProjectCategoriesLevel4;TargetsLevel1;TargetsLevel2;TargetsLevel3;TargetsLevel4;ProjectCategoriesLevel5;ProjectCategoriesLevel6;ProjectCategoriesLevel7;ProjectCategoriesLevel8;ProjectCategoriesLevel9;ProjectCategoriesLevel10;ProjectCategoriesLevel11;ProjectCategoriesLevel12",i.R1_Keyword=t.data.Id,e.$Utils.post(i).then(function(a){a=e.$Utils.getDataWithRoot(a.R1,"Data.TasksDS.Task"),e.ListTask=e.$Lodash.cloneDeep(a),e.inputData=[],e.checkParent(t.afterParent,t.data)})})},editCategory:function(t){var e={model:t,function:{getSetting:this.getSetting}};this.$hub.$emit("set-child-modal-data","Sửa nghiệp vụ","40%",!0,"center",__WEBPACK_IMPORTED_MODULE_3__components_static_EditProjectCategory__.a,!1,"",e)},deleteSetting:function(t){var e=this;if(this.$Utils.isEmpty(t)){var a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.Delete",a.R1_Id=t.Id,this.$Utils.postCheckResult(a).then(function(a){$.each(e.ListData,function(a,i){t.Id==i.ParentId&&e.deleteSetting(i)}),e.getSetting()})}},checkExits:function(){var t=this;if(!this.model.Name||null==this.model.Name||""==this.model.Name.trim())return void this.$Utils.showMessage("error","Tên nghiệp vụ cần phải có");this.model.Parent&&""!=this.model.Parent&&(this.objParent=this.ListData.filter(function(e){return e.Id==t.model.Parent})[0]);var e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.SearchSetting",e.R1_Value=this.data.GroupId,e.R1_ParentCode="xSetting.Project.Parameter.Project.Category",this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");if(a=a.filter(function(e){return e.Name.toLowerCase()===t.model.Name.toLowerCase()}),a.length>0)return void t.$Utils.showMessage("error","Tên nghiệp vụ đã có");t.insertSetting()})},insertSetting:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.Insert",a.R1_Name=this.model.Name,a.R1_Value=this.data.GroupId,a.R1_ValueName=this.data.GroupName,a.R1_ReferenceId=this.$Utils.isEmpty(this.objParent)?this.objParent.Id:this.ParentId,a.R1_NestedSetType="InsertLastChildNode",this.$Utils.postCheckResult(a).then(function(t){e.$Utils.linkToRoleEveryone([{Id:t.R1.Data,Caption:e.model.Name}]),e.$Utils.isEmpty(e.objParent,"Level")?e.onSave(e.objParent.Level):e.onSave(5),e.model.Name=null,e.model.Parent=null,e.objParent=null,e.getSetting()})},updateDatagroup:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.TotalRequests=4,e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_Code="DataGroup.danh-sach-cong-viec.04b66",e.R2_RequestTemplate="SettingNew.SearchSetting",e.R2_ParentCode="xSetting.Project.Form",e.R2_Level="4",e.R2_Name="DataGroup.danh-sach-cong-viec.04b66",e.R3_RequestTemplate="SettingNew.SearchSetting",e.R3_ParentCode="xSetting.Project.List",e.R3_Level="4",e.R3_Name="DataGroup.danh-sach-cong-viec.04b66",e.R4_RequestTemplate="SettingNew.SearchSetting",e.R4_ParentCode="xSetting.Project.Filter",e.R4_Level="4",e.R4_Name="DataGroup.danh-sach-cong-viec.04b66",this.$Utils.post(e).then(function(e){t.SettingFilter=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0],t.$Utils.isEmpty(t.SettingFilter,"Description")&&"string"==typeof t.SettingFilter.Description&&(t.SettingFilter.Description=JSON.parse(t.SettingFilter.Description)),t.objFields={},t.sortedFilter=[];for(var a=1;a<=t.SettingFilter.Description.FCount;a++)1==a&&(t.FilterSettings=""),t.FilterSettings+=t.SettingFilter["F"+a],a==t.SettingFilter.Description.FCount&&(t.setFilterSetting=!0,t.FilterSetting=JSON.parse(t.FilterSettings),t.SettingFilter.Fields=t.FilterSetting);t.viewModel.ListModules=t.$Utils.getDataWithRoot(e.R2,"Data.DynamicDS.Setting"),t.viewModel.ListModules=t.viewModel.ListModules.concat(t.$Utils.getDataWithRoot(e.R3,"Data.DynamicDS.Setting")),t.viewModel.ListModules=t.viewModel.ListModules.concat(t.$Utils.getDataWithRoot(e.R4,"Data.DynamicDS.Setting")),t.viewModel.ListModules.forEach(function(t){if(void 0!=t.Description){t.Description=JSON.parse(t.Description),t.ObjectFields="";for(var e=1;e<=7;e++)void 0!=t["OF"+e]&&(t.ObjectFields+=t["OF"+e]);t.ObjectFields=JSON.parse(t.ObjectFields)}}),t.DatagroupSource=t.$Lodash.cloneDeep(t.viewModel.ListModules)})},onSave:function(t,e){var a=this,i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);if(t-=4,-1==i.indexOf("ProjectCategoriesLevel"+t)){var s={Caption:"Danh mục cấp "+t,DataSource:"xDynamicData_Setting",FieldColumnType:"String",FieldStorageType:"Struct",FilterIsUsed:"true",FormDisplay:"- Danh mục cấp "+t+" -",FormFieldType:"Hidden",FormIncludeSubmit:"true",FormValidate:"",ListButtonGroups:"",ListIsHidden:"true",Name:"ProjectCategoriesLevel"+t,PlaceHolder:"- Danh mục cấp "+t+" -",ReportIsUsed:"true"};this.SettingFilter.Fields.push(s),i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);var o=JSON.parse(this.SettingFilter.Value),n={Name:"ProjectCategoriesLevel"+t,ColumnType:"String",StorageType:"Struct"};o.push(n),this.SettingFilter.Value=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(o),this.sourceFields=this.$Lodash.cloneDeep(this.SettingFilter.Fields),delete this.SettingFilter.Fields;var l=0;this.SettingFilter.Description.FCount=0;for(var r=1;r<7;r++)i.length>l&&(this.SettingFilter["F"+r]=i.substring(l,l+9999),l=1e4*r-r,this.SettingFilter.Description.FCount=r);if(this.SettingFilter.Description=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Description),!this.$Utils.isEmpty(e)||0==e){var c=this.$Lodash.cloneDeep(this.$singleRequest);this.$Utils.updateParamsSingleRequest(c,this.$Lodash.cloneDeep(this.SettingFilter)),c.R1_RequestTemplate="SettingNew.Update",this.$Utils.post(c).then(function(t){a.saveModules()})}}},saveModules:function(){var t=this,e=this.$Lodash.cloneDeep(this.SettingFilter);e.Description=JSON.parse(e.Description),e.Description.Fields=this.$Lodash.cloneDeep(this.sourceFields);var a=this.$Lodash.cloneDeep(this.viewModel.ListModules),i=this.$Lodash.cloneDeep(this.$singleRequest);i.TotalRequests=0,a.forEach(function(a){i.TotalRequests++,a.ModuleType=a.Value,a.Description.DataGroupCaption=e.Caption,a.Description.RootData=e.Description.RootData,a.Description.DataSource=e.Description.DataSource,a.Description.AdditionConditions=e.Description.AdditionConditions,-1!=["Form","Filter","List"].indexOf(a.Description.ModuleType)&&(a.Description.Link=e.Description.Link),-1!=["Form","Filter"].indexOf(a.Description.ModuleType)&&(a.Description.Dependencies=e.Description.Dependencies);var s=["Multicheck","IndexDefault","Tool"];(t.$Lodash.cloneDeep(a.ObjectFields).forEach(function(t){for(var i=!1,o=0;o<e.Description.Fields.length;o++){var n=e.Description.Fields[o];if(t.Name==n.Name){i=!0;break}}-1!=["List"].indexOf(a.Description.ModuleType)&&(-1!=s.indexOf(t.Name)&&(i=!0),"true"==t.ManualCalculator&&(i=!0)),i||($.each(a.ObjectFields,function(e,i){t.Name==i.Name&&a.ObjectFields.splice(e,1)}),void 0!=a.Description.Groups&&a.Description.Groups.forEach(function(e){void 0!=e.ListFields&&-1!=e.ListFields.indexOf(t.Name)&&(e.ListFields=e.ListFields.replace(t.Name+";",""))}))}),t.$Utils.isEmpty(a.Description,"Buttons"))&&(t.$Lodash.cloneDeep(a.Description.Buttons).forEach(function(t){for(var i=!1,s=0;s<e.Description.Buttons.length;s++)e.Description.Buttons[s].Code==t.Code&&(i=!0);i||$.each(a.Description.Buttons,function(e,i){t.Code==i.Code&&a.Description.Buttons.splice(e,1)})}),a.Description.Buttons.forEach(function(t){a.Description.Buttons.forEach(function(e){e.Code==t.Code&&(t=e)})}));if(-1!=["Form","List"].indexOf(a.Description.ModuleType))for(var o=0;o<a.Description.Buttons.length;o++)e.Description.Buttons.forEach(function(t){a.Description.Buttons[o].Code==t.Code&&(a.Description.Buttons[o]=t)});a.Fields=t.$Lodash.cloneDeep(a.ObjectFields),a.Fields.forEach(function(a){e.Description.Fields.forEach(function(e){e.Name==a.Name&&($.each(e,function(e,i){t.$Utils.isEmpty(a[e])||(a[e]=i)}),t.$Utils.deleteAutoValue(a))})}),-1!=["Form","Filter"].indexOf(a.Description.ModuleType)?e.Description.Fields.forEach(function(e){t.$Utils.deleteAutoValue(e),"Hidden"==e.FormFieldType&&a.Fields.push(e),void 0!=e.DynamicText&&null!=e.DynamicText&&a.Fields.push({Name:e.DynamicText,FieldStorageType:"Dynamic"})}):e.Description.Fields.forEach(function(e){t.$Utils.deleteAutoValue(e),"true"==e.ListIsHidden&&a.Fields.push(e),void 0!=e.DynamicText&&null!=e.DynamicText&&a.Fields.push({Name:e.DynamicText,FieldStorageType:"Dynamic"})}),a.ObjectFields=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.ObjectFields);for(var n=0,l=0,o=1;o<7;o++)a.ObjectFields.length>n&&(a["OF"+o]=a.ObjectFields.substring(n,n+9999),n=1e4*o-o,l=o);a.Description.OFCount=l,delete a.ObjectFields,n=0,l=0,a.Fields=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.Fields);for(var o=1;o<7;o++)a.Fields.length>n&&(a["F"+o]=a.Fields.substring(n,n+9999),n=1e4*o-o,l=o);a.Description.FCount=l,delete a.Fields,a.Description=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.Description),i=t.$Utils.updateParamsSingleRequest(i,a,i.TotalRequests),i=t.$Utils.updateParamsSingleRequest(i,{RequestTemplate:"SettingNew.Update"},i.TotalRequests)}),this.$Utils.post(i).then(function(e){t.updateDatagroup()})},getAllLevel:function getAllLevel(parent,data){this.onSave(eval(parent)+1),this.$Utils.isEmpty(data.children)&&this.getAllLevel(eval(parent)+1,data.children)},checkParent:function(t){var e=this;if(this.$Utils.isEmpty(t,"$parent")){var a=this.$Lodash.cloneDeep(t.$parent);delete t.$parent,this.inputData.unshift(a),this.checkParent(t.$parent)}else{var i=this.$Lodash.cloneDeep(this.$singleRequest);i.TotalRequests=0,$.each(this.ListTask,function(t,a){if(e.$Utils.isEmpty(a,"ProjectCategoriesName")&&""!=a.ProjectCategories){var s=!1,o=e.$Lodash.cloneDeep(e.inputData),n=e.$Utils.isEmpty(a,"ProjectCategoriesName")?a.ProjectCategoriesName.split(";"):[];$.each(a.ProjectCategories.split(";"),function(t,a){if(""!=a){if(1==s){var i={};i.Id=a,i.Name=n[t],o.push(i)}a==e.inputData[e.inputData.length-1].Id&&(s=!0)}}),1==s&&(i["R"+[i.TotalRequests+1]+"_RequestTemplate"]="AG_Task_Task.Update",i["R"+[i.TotalRequests+1]+"_RequestDataGroup"]="DataGroup.danh-sach-cong-viec.04b66",i["R"+[i.TotalRequests+1]+"_RequestFields"]="Id;Index;ProjectCategories;Code;",i["R"+[i.TotalRequests+1]+"_ProjectCategories"]="",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesName"]="",i["R"+[i.TotalRequests+1]+"_Id"]=a.Id,$.each(o,function(t,e){i["R"+[i.TotalRequests+1]+"_ProjectCategories"]+=t.Id+";",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesName"]+=t.Name+";",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesLevel"+[e+1]]=t.Id,i["R"+[i.TotalRequests+1]+"_RequestFields"]+="ProjectCategoriesLevel"+[e+1]+";"}),i.TotalRequests++)}}),this.$Utils.post(i)}}}}}).call(__webpack_exports__,__webpack_require__(2))},function(t,e){},function(t,e,a){"use strict";var i=a(3);e.a={name:"SortableTree",props:{data:{type:Object},attr:{type:String,default:"name"},closeStateKey:{type:String,default:""},childrenAttr:{type:String,default:"children"},mixinParentKey:{type:String,default:""},draggable:{type:Boolean,default:!0},parentData:{type:Object},idx:{type:Number,default:-1},dragInfo:{type:Object,default:function(){return{data:null,vm:null,vmIdx:-1,parentData:null}}}},data:function(){return{dragObj:this.dragInfo}},computed:{children:function(){var t=this.data[this.childrenAttr];if(!t||!t.length)return[];var e=[];return t.forEach(function(t){return e.push({_replaceLi_:!0},t)}),e.push({_replaceLi_:!0}),e},isParent:function(){return this.data===this.dragObj.parentData},isNextToMe:function(){return this.parentData===this.dragObj.parentData&&1===Math.abs(this.idx-this.dragObj.vmIdx)},isMeOrMyAncestor:function(){for(var t=this;t;){if(t.data===this.dragObj.data)return!0;t=t.$parent}return!1},isAllowToDrop:function(){return!(this.isNextToMe||this.isParent||this.isMeOrMyAncestor)}},methods:{changePosition:function(t){this.$emit("changePosition",t)},hasChildren:function(t){return t[this.childrenAttr]&&t[this.childrenAttr].length},dragStart:function(t){if(this.data._replaceLi_)return t.preventDefault();t.dataTransfer.setData("text/plain",null),this.dragObj.data=this.data,this.dragObj.vm=this.$el,this.dragObj.vmIdx=this.idx,this.dragObj.parentData=this.parentData,this.dragObj.pastIdx=(this.idx-1)/2},dragEnter:function(){this.dragObj.vm.classList.add("draging"),this.isAllowToDrop&&this.$el.classList.add("droper")},dragLeave:function(t){this.$el.classList.remove("droper")},drop:function(){if(this.dragObj.vm.classList.remove("draging"),this.$el.classList.remove("droper"),this.isAllowToDrop){var t=this.dragObj.parentData[this.childrenAttr].indexOf(this.dragObj.data);this.dragObj.parentData[this.childrenAttr].splice(t,1);var e=this.parentData;if(this.data._replaceLi_)if(this.dragObj.parentData===this.parentData){var a=this.idx/2;t>a?this.parentData[this.childrenAttr].splice(a,0,this.dragObj.data):this.parentData[this.childrenAttr].splice(a-1,0,this.dragObj.data)}else this.parentData[this.childrenAttr].splice(this.idx/2,0,this.dragObj.data);else e=this.data,this.data[this.childrenAttr]||i.default.set(this.data,[this.childrenAttr],[]),this.data[this.childrenAttr].push(this.dragObj.data);this.$emit("changePosition",{beforeParent:this.dragObj.parentData,data:this.dragObj.data,afterParent:e,beforeIndex:this.dragObj.pastIdx})}},dragEnd:function(){}},updated:function(){this.mixinParentKey&&(this.data[this.mixinParentKey]=this.parentData)},mounted:function(){this.mixinParentKey&&(this.data[this.mixinParentKey]=this.parentData)}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sortable-tree",attrs:{draggable:t.draggable&&t.parentData},on:{dragstart:function(e){e.stopPropagation(),t.dragStart(e)},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragenter:function(e){e.stopPropagation(),e.preventDefault(),t.dragEnter()},dragleave:function(e){e.stopPropagation(),t.dragLeave()},drop:function(e){e.stopPropagation(),e.preventDefault(),t.drop(e)},dragend:function(e){e.stopPropagation(),e.preventDefault(),t.dragEnd(e)}}},[a("div",{staticClass:"content"},[t._t("default",[a("span",[t._v(t._s(t.data[t.attr]))])],{item:t.data})],2),t._v(" "),t.hasChildren(t.data)&&(!this.closeStateKey||this.closeStateKey&&!this.data[this.closeStateKey])?a("ul",t._l(t.children,function(e,i){return a("li",{key:i,class:{"parent-li":t.hasChildren(e),"exist-li":!e._replaceLi_,"blank-li":e._replaceLi_}},[a("sortable-tree",{attrs:{data:e,attr:t.attr,childrenAttr:t.childrenAttr,mixinParentKey:t.mixinParentKey,closeStateKey:t.closeStateKey,draggable:t.draggable,parentData:t.data,idx:i,dragInfo:t.dragInfo},on:{changePosition:t.changePosition},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[t._t("default",[a("span",[t._v(t._s(i[t.attr]))])],{item:i})]}}])})],1)})):t._e()])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(431)}var s=a(432),o=a(433),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-5106e775",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={props:["data"],data:function(){return{textarea:"",model:this.$Lodash.cloneDeep(this.data.model),ListStatus:[],ListUser:[],ListGroup:[],users:[{label:"Administrator",value:"Administrator"},{label:"Phạm Bá Nam",value:"Phạm Bá Nam"},{label:"Đỗ Qúy Anh",value:"Đỗ Qúy Anh"},{label:"Phạm Tuân",value:"Phạm Tuân"},{label:"Anh Nhật",value:"Anh Nhật"},{label:"Anh Dũng",value:"Anh Dũng"}]}},methods:{resetForm:function(t){this.$refs[t].resetFields()},closeForm:function(){this.$hub.$emit("close-child-modal")},checkExits:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.SearchSetting",e.R1_Value=this.model.Value,e.R1_ParentCode="xSetting.Project.Parameter.Project.Category",this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");a=a.filter(function(e){return e.Name==t.model.Name}),a.length>0||t.updateSetting()})},updateSetting:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.Update",e.R1_Name=this.model.Name,e.R1_Id=this.model.Id,this.$Utils.postCheckResult(e).then(function(e){t.data.function.getSetting(),t.closeForm()})}},created:function(){}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("Tên nghiệp vụ")]),t._v(" "),a("el-input",{attrs:{placeholder:"Tên nghiệp vụ"},model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.checkExits()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.closeForm()}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-categories"},[a("b-card",[a("el-form",{attrs:{model:t.model,inline:!t.$isMobileDevice,"label-width":"130px"}},[a("el-form-item",{attrs:{rules:{required:!0,message:"Tên bắt buộc nhập",trigger:"blur"},label:"Tên ",prop:"Name"}},[a("el-input",{attrs:{type:"text",placeholder:"Nghiệp vụ dự án"},model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Nghiệp vụ cha"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Nghiệp vụ cha"},model:{value:t.model.Parent,callback:function(e){t.$set(t.model,"Parent",e)},expression:"model.Parent"}},[a("el-option",{attrs:{value:""}},[t._v("-- Chọn nút cha --")]),t._v(" "),t._l(t.ListData,function(t){return a("el-option",{key:t.Id,attrs:{label:t.text,value:t.Id}})})],2)],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:t.checkExits}},[t._v("Lưu")])],1)],1)],1),t._v(" "),a("b-card",[a("sortable-tree",{attrs:{data:t.treeData,mixinParentKey:"$parent",dragEnable:!0,closeStateKey:"$foldClose"},on:{changePosition:t.changePosition},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("div",{staticClass:"custom-tree-content",class:{exitChild:i.children&&i.children.length}},[i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[t._v("▶")]):!i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[t._v("▼")]):t._e(),t._v(" "),a("span",{staticClass:"mr-3"},[t._v(t._s(i.Name))]),"0"!=i.level?a("span",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editCategory(i)}}},[a("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}})]),t._v(" | "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.deleteSetting(i)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]):t._e()])]}}])})],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"EditProject"},[a("el-row",[a("el-col",{attrs:{span:t.FormCelSpan}},[a("el-form",{attrs:{model:t.model}},[a("el-form-item",{attrs:{prop:"GroupName",rules:{required:!0,message:"Tên bắt buộc phải có",trigger:"blur"},label:"Tên dự án"}},[a("el-input",{attrs:{placeholder:"Tên dự án"},model:{value:t.model.GroupName,callback:function(e){t.$set(t.model,"GroupName",e)},expression:"model.GroupName"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"ProjectCode",rules:{required:!0,message:"Mã bắt buộc phải có",trigger:"blur"},label:"Mã dự án"}},[a("el-input",{attrs:{placeholder:"Mã dự án"},model:{value:t.model.ProjectCode,callback:function(e){t.$set(t.model,"ProjectCode",e)},expression:"model.ProjectCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Phòng ban",rules:{required:!0,message:"Tên bắt buộc nhập",trigger:"blur"}}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Phòng ban",filterable:"",multiple:""},model:{value:t.model.Department,callback:function(e){t.$set(t.model,"Department",e)},expression:"model.Department"}},t._l(t.ListGroup,function(t){return a("el-option",{key:t.GroupId,attrs:{label:t.GroupName,value:t.GroupId}})}))],1),t._v(" "),a("el-form-item",{attrs:{prop:"Description",label:"Mô tả",rules:{required:!0,message:"Mô tả bắt buộc nhập",trigger:"blur"}}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Mô tả"},model:{value:t.model.Description,callback:function(e){t.$set(t.model,"Description",e)},expression:"model.Description"}})],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:t.$isMobileDevice?24:12}},[a("el-form-item",{attrs:{prop:"StartDate",label:"Ngày bắt đầu"}},[a("el-date-picker",{attrs:{size:"mini",clearable:!0,format:"dd/MM/yyyy"},model:{value:t.model.StartDate,callback:function(e){t.$set(t.model,"StartDate",e)},expression:"model.StartDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:t.$isMobileDevice?24:12}},[a("el-form-item",{attrs:{prop:"FinishDate",label:"Ngày kết thúc"}},[a("el-date-picker",{attrs:{size:"mini",clearable:!0,format:"dd/MM/yyyy"},model:{value:t.model.FinishDate,callback:function(e){t.$set(t.model,"FinishDate",e)},expression:"model.FinishDate"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:t.$isMobileDevice?24:12}},[a("el-form-item",{attrs:{label:"Trạng thái"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Trạng thái"},model:{value:t.model.SubStatus,callback:function(e){t.$set(t.model,"SubStatus",e)},expression:"model.SubStatus"}},t._l(t.ListStatus,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Id}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:t.$isMobileDevice?24:12}},[a("el-form-item",{attrs:{label:"Quyền xem"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:t.model.Permit,callback:function(e){t.$set(t.model,"Permit",e)},expression:"model.Permit"}},t._l(t.ListPermit,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Id}})}))],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"Active"}},[a("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:t.model.Active,callback:function(e){t.$set(t.model,"Active",e)},expression:"model.Active"}},[t._v("Kích hoạt")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Vai trò sử dụng"}},[a("el-select",{staticClass:"w-100",attrs:{multiple:"",clearable:"",filterable:"","value-key":"Name"},model:{value:t.GroupRoles,callback:function(e){t.GroupRoles=e},expression:"GroupRoles"}},t._l(t.groupRoleTemp,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),t._l(t.GroupRoles,function(e){return t.GroupRoles.length>0?[a("el-form-item",{key:e.Id,attrs:{label:e.Caption}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:e.Caption,multiple:""},model:{value:t.model[e.Value],callback:function(a){t.$set(t.model,e.Value,a)},expression:"model[item.Value]"}},t._l(t.ListUser,function(t){return a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.UserId}})}))],1)]:t._e()}),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.checkExits()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.closeForm()}}},[t._v("Đóng")])],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:t.TreeCelSpan}},[t.model.GroupId?a("ProjectCategories",{attrs:{data:t.model}}):t._e()],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"grouptreegrid mt-2"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini",icon:"fa fa-plus"},on:{click:function(e){t.showCreatedDepartment()}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"Nhập từ khóa","suffix-icon":"el-icon-search"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)],1),t._v(" "),a("el-table",{attrs:{data:t.datasource,border:""}},[a("el-table-tree-column",{attrs:{prop:"GroupName",label:"Tên",levelKey:"level",treeKey:"Id",parentKey:"ParentId"}}),t._v(" "),a("el-table-column",{attrs:{label:"Mô tả",prop:"Description","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"Phòng ban",prop:"DepartmentName","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"",icon:"el-icon-edit"},on:{click:function(a){t.showCreatedDepartment(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"",icon:"el-icon-delete"},on:{click:function(a){t.onDelete(e.row)}}})],1)]}}])})],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(104),s=a.n(i),o=a(442),n=a(448),l=a(7),r=(a(3),a(452)),c=a.n(r);e.a={components:{ParameterSetting:o.a,ParameterAddingDialog:n.a,draggable:c.a},props:["settingType"],data:function(){return{isAddAble:!1,isSearch:!1,keywordSearchTable:null,codes:[],selectedCode:"",params:[],selectedParam:"",selectedParamId:"",dataTable:[],searchResult:[],sessionId:""}},mounted:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:!1};"crm"===this.settingType?(e.R1_Level=5,e.R1_ParentCode="xSetting.Project.Parameter.CRM2",this.$Utils.post(e).then(function(e){t.codes=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")})):"tool"===this.settingType?(e.R1_Level=4,e.R1_ParentCode="xSetting.Project.Tools",this.$Utils.post(e).then(function(e){t.codes=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")})):"default"===this.settingType&&(this.codes=[{value:"xSystem.Setting.xTask",label:"Tham số công việc"},{value:"xSetting.Project.Parameter.DocumentView",label:"Tham số tài liệu"}])},methods:{onDragEnd:function(){var t=arguments[0],e=t.item,a=t.newIndex,i=t.target.children[a+1],s=!0;i||(i=t.target.children[t.target.children.length-2],s=!1),this.changePosition(s,e.id,i.id)},handleAddNewCode:function(t){var e={parent:{Code:"xSetting.Project.Parameter.CRM2"},type:"Parameter.AddNewCode"};this.showAddingDialog(e)},handleAddNewParam:function(t){var e=this,a={parent:this.codes.filter(function(t){return t.Code===e.selectedCode})[0],type:"Parameter.AddNewParam"};this.showAddingDialog(a)},handleAddNewValue:function(){var t=this,e={parent:this.params.filter(function(e){return e.Code===t.selectedParam})[0],type:"Parameter.AddNewValue"};this.showAddingDialog(e)},handleCodeChange:function(t){this.selectedParam="",this.selectedParamId="",this.dataTable=[],void 0===t||null==t||""===t?this.params=[]:this.loadCodes(t)},handleParamChange:function(t){void 0===t||null===t||""===t?(this.reload(),this.isAddAble=!1,this.selectedParamId=""):(this.loadParams(t),this.selectedParamId=this.params.filter(function(e){return e.Code===t})[0].Id,this.isAddAble=!0)},loadCodes:function(t){var e=this,a=0;switch(this.settingType){case"default":a=5;break;case"crm":a=6;break;case"tool":a=5}var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:!1,R1_Level:a,R1_ParentCode:t,SessionId:this.sessionId};this.$Utils.post(i).then(function(a){a=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),"tool"===e.settingType?e.dataTable=a:e.params=a,"xSystem.Setting.xTask"===t&&e.params.push({Name:"Độ ưu tiên",Code:"TaskPriority"})})},loadParams:function(e){var a=this;if(e)if("TaskPriority"===e){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xEdu.TaskPriority",R1_Code:e};l.a.post(i).then(function(e){var i=l.a.getDataWithRoot(e.R1,"Data.DocumentDS.Document");t.each(i,function(t,e){e.Color=e.Lead}),a.dataTable=i})}else{var s={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:!1,R1_ParentCode:e,SessionId:this.sessionId};this.$Utils.post(s).then(function(t){a.dataTable=a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting")})}},reload:function(){this.dataTable=[]},searchData:function(){this.loadParams(this.selectedParam)},handleEdit:function(t,e){var a={paramtypes:this.codes,parameter:e,selectedParam:this.selectedParam};this.showdialog(a)},handleDelete:function(t,e){var a=this;a.$confirm("Hành động này không thể hoàn tác. Bạn thực sự muốn xóa bản ghi này?","Cảnh Báo",{confirmButtonText:"Xóa",cancelButtonText:"Bỏ qua",type:"warning"}).then(function(){"TaskPriority"!==a.selectedParam?a.deleteSetting(e):a.deletePriority(e)}).catch(function(){})},deleteSetting:function(t){var e=this,a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.Delete",R1_Id:t.Id};e.$Utils.post(a).then(function(t){t.success?(e.$Utils.showMessage("success","Xóa Thành công"),e.searchData()):e.$Utils.showMessage("error","Có lỗi xảy ra")})},deletePriority:function(t){var e=this,a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xEdu.TaskPriority.Delete",R1_RequestFields:"Code; Name; Description; Id",R1_Id:t.Id};l.a.post(a).then(function(t){t.success?(l.a.showMessage("success","Xóa thành công"),e.searchData()):l.a.showMessage("success","Không thể xóa bản ghi này")})},showdialog:function(t){this.$hub.$emit("set-modal-data","Thông tin thiết lập","50%",!0,"left",o.a,!0,"",t)},showAddingDialog:function(t){this.$hub.$emit("set-modal-data","Thông tin tạo mới","50%",!0,"left",n.a,!0,"",t)},changePosition:function(t,e,a){var i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="Setting.MoveNode",i.R1_Id=e,i.R1_ReferenceId=a,i.R1_NestedSetType=t?"MoveToBeforeAnother":"MoveToAfterAnother",this.$Utils.post(i).then(function(t){})}},created:function(){var t=this;this.sessionId=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),this.$hub.$on("loadParameter",function(e){t.searchData()}),this.$hub.$on("Parameter.AddNewCode",function(e){"crm"===t.settingType&&(t.codes.push(e),t.selectedCode=e.Code,t.handleCodeChange(t.selectedCode))}),this.$hub.$on("Parameter.AddNewParam",function(e){"crm"===t.settingType&&(t.params.push(e),t.selectedParam=e.Code,t.handleParamChange(t.selectedParam))}),this.$hub.$on("Parameter.AddNewValue",function(e){t.searchData()}),"appInfo"===this.settingType&&(this.params=[{Code:"xSetting.Default.AppInfo"}],this.selectedParam=this.params[0].Code,this.handleParamChange(this.selectedParam)),"rolePermission"===this.settingType&&(this.params=[{Code:"xSetting.Default.Permissions.RoleTemplate"}],this.selectedParam=this.params[0].Code,this.handleParamChange(this.selectedParam)),"projectPermission"===this.settingType&&(this.params=[{Code:"xSetting.Default.Permissions.RoleProjectTemplate"}],this.selectedParam=this.params[0].Code,this.handleParamChange(this.selectedParam))},watch:{selectedParam:function(t){t||(this.isAddAble=!1)},keywordSearchTable:function(t){var e=this;this.isSearch=t||t.trim(),t=this.$Utils.removeVNCharacters(t),this.isSearch?this.searchResult=this.dataTable.filter(function(a){return e.$Utils.removeVNCharacters(s()(a).join("|")).indexOf(t)>-1}):this.searchResult=this.dataTable},dataTable:function(t){this.searchResult=t}},destroyed:function(){this.$hub.$off("loadParameter"),this.$hub.$off("Parameter.AddNewCode"),this.$hub.$off("Parameter.AddNewParam"),this.$hub.$off("Parameter.AddNewValue")}}}).call(e,a(2))},,,,function(t,e,a){"use strict";function i(t){a(443)}var s=a(444),o=a(447),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(56),s=a.n(i),o=a(57),n=a.n(o);e.a={name:"ParameterSetting",props:["data","type"],data:function(){return{model:{Id:null,Name:null,Value:null,Description:null,Color:null,Code:null,Caption:null},isAddNew:!0,codes:[],params:[],selectedParamCode:"",selectedParam:"",selectedParamsId:"",rules:{Name:[{validator:function(t,e,a){void 0===e||null===e||""===e.trim()?a(new Error("Tên cần phải có")):a()},trigger:"blur"}]}}},methods:{checkExistCode:function(t){var e=this;return n()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}},t,e)}))()},generateCodeByName:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1];return n()(s.a.mark(function i(){var o,n,l;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=a,e=t.$Utils.toCapitalize(e).trim().replace(/\s/g,"_"),n=o+"."+e,i.next=5,t.checkExistCode(n);case 5:return l=i.sent,l&&(n=n+"-"+Date.now()),i.abrupt("return",n);case 8:case"end":return i.stop()}},i,t)}))()},onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=e,i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};a.$Utils.isEmpty(a.model.Id)?(i.R1_RequestTemplate="Setting.Update",i.R1_Id=a.model.Id):i.R1_RequestTemplate="Setting.Insert",i.R1_NestedSetType="InsertLastChildNode",i.R1_Color=a.model.Color,i.R1_ReferenceId=a.selectedParamsId,i.R1_Caption=a.model.Caption,i.R1_Name=a.model.Name,i.R1_Code=a.model.Code,i.R1_Value=a.model.Value,i.R1_Description=a.model.Description,"TaskPriority"===a.selectedParam&&(delete a.model.ReferenceId,delete a.model.value,void 0===a.model.Id||null===a.model.Id||""===a.model.Id?(i.R1_RequestTemplate="xEdu.TaskPriority.Insert",i.R1_Code="TaskPriority",i.R1_RequestFields="Code; Name; Description; Lead;",i.R1_Lead=a.model.Color,delete i.R1_NestedSetType):(i.R1_RequestTemplate="xEdu.TaskPriority.Update",i.R1_Code="TaskPriority",i.R1_RequestFields="Code; Name; Description; Id; Lead;",i.R1_Lead=a.model.Color,delete i.R1_NestedSetType)),a.$Utils.post(i).then(function(t){t.success?(a.$Utils.showMessage("success","Lưu thành công"),a.$hub.$emit("loadParameter"),e.$hub.$emit("close-modal")):(a.$Utils.showMessage("error","Có lỗi xảy ra"),e.$hub.$emit("close-modal"))})})},close:function(){this.$hub.$emit("close-modal")}},mounted:function(){var t=this;console.log(this.data),t.$Utils.isEmpty(t.data,"selectedParamsId")&&(t.selectedParamsId=t.data.selectedParamsId),t.$Utils.isEmpty(t.data,"isAddNew")&&(t.isAddNew=t.data.isAddNew),t.$Utils.isEmpty(t.data,"codes")&&(t.codes=t.data.codes),t.$Utils.isEmpty(t.data,"params")&&(t.params=t.data.params),t.$Utils.isEmpty(t.data,"selectedCodes")&&(t.selectedParamCode=t.data.selectedCodes),t.$Utils.isEmpty(t.data,"selectedParams")&&(t.selectedParam=t.data.selectedParams),t.$Utils.isEmpty(t.data,"parameter")&&(t.model={Id:t.data.parameter.Id,Name:t.data.parameter.Name,Value:t.data.parameter.Value,Description:t.data.parameter.Description,Color:t.data.parameter.Color,Code:t.data.parameter.Code,Caption:t.data.parameter.Caption})},watch:{"model.Name":function(t){}}}},,,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"documentForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[t.isAddNew?t._e():a("el-form-item",{attrs:{label:"Loại tham số:"}},[a("el-select",{attrs:{disabled:"",placeholder:"Chọn"},model:{value:t.selectedParamCode,callback:function(e){t.selectedParamCode=e},expression:"selectedParamCode"}},t._l(t.codes,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),t.isAddNew?t._e():a("el-form-item",{attrs:{label:"Tham số:"}},[a("el-select",{attrs:{disabled:"",placeholder:"Chọn"},model:{value:t.selectedParam,callback:function(e){t.selectedParam=e},expression:"selectedParam"}},t._l(t.params,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Id",prop:"Id"}},[a("el-input",{attrs:{disabled:""},model:{value:t.model.Id,callback:function(e){t.$set(t.model,"Id",e)},expression:"model.Id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên hiển thị",prop:"Name"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên",prop:"Name"}},[a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã",prop:"Code"}},[a("el-input",{model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị"}},[a("el-input",{model:{value:t.model.Value,callback:function(e){t.$set(t.model,"Value",e)},expression:"model.Value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.Description,callback:function(e){t.$set(t.model,"Description",e)},expression:"model.Description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Màu"}},[a("el-color-picker",{model:{value:t.model.Color,callback:function(e){t.$set(t.model,"Color",e)},expression:"model.Color"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("form")}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(449)}var s=a(450),o=a(451),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-67e7efba",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(56),s=a.n(i),o=a(57),n=a.n(o),l=a(54);e.a={name:"parameter-adding-dialog",props:["data"],data:function(){var t=this;return{model:{Id:null,Name:null,Value:null,Description:null,Color:null,Code:null,Caption:null},isAddNew:!0,codes:[],params:[],selectedCode:"",selectedParam:"",selectedParamId:"",parent:{},siblings:[],rules:{Name:[{validator:function(e,a,i){void 0!==a&&null!==a&&""!==a.trim()||i(new Error("Tên cần phải có")),t.checkExistName(a)?i(new Error("Tên đã được sử dụng")):i()},trigger:"blur"}],Code:[{validator:function(e,a,i){t.checkExistCode(a)?i(new Error("Mã đã được sử dụng")):i()},trigger:"change"}]}}},methods:{getListCode:function(t){var e=this;l.a.requestSetting(t,!0).then(function(t){t.length>0&&(e.parent=t[0],e.siblings=e.getSiblings(e.parent,t))})},getSiblings:function(t,e){return e.filter(function(e){return e.Level-t.Level==1})},checkExistCode:function(t){return t?this.siblings.some(function(e){return e.Code===t.trim()}):""},checkExistName:function(t){return this.siblings.some(function(e){return e.Name===t.trim()})},generateCodeByName:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1];return n()(s.a.mark(function i(){var o,n;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=a,e=t.$Utils.toCapitalize(e).trim().replace(/\s/g,"_"),n=o+"."+e,i.abrupt("return",n);case 4:case"end":return i.stop()}},i,t)}))()},onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=e,i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};i.R1_NestedSetType="InsertLastChildNode",i.R1_Color=a.model.Color,i.R1_ReferenceId=a.parent.Id,i.R1_Name=a.model.Name,i.R1_Value=a.model.Value,i.R1_Caption=a.model.Caption,i.R1_Description=a.model.Description,a.$Utils.isEmpty(a.model.Id)?(i.R1_RequestTemplate="Setting.Update",i.R1_Id=a.model.Id):(i.R1_RequestTemplate="Setting.Insert",i.R1_ParentId=a.parent.Id,i.R1_Code=a.model.Code),"TaskPriority"===a.parent.Code&&(delete a.model.ReferenceId,delete a.model.value,void 0===a.model.Id||null===a.model.Id||""===a.model.Id?(i.R1_RequestTemplate="xEdu.TaskPriority.Insert",i.R1_Code="TaskPriority",i.R1_RequestFields="Code; Name; Description; Lead;",i.R1_Lead=a.model.Color,delete i.R1_NestedSetType):(i.R1_RequestTemplate="xEdu.TaskPriority.Update",i.R1_Code="TaskPriority",i.R1_RequestFields="Code; Name; Description; Id; Lead;",i.R1_Lead=a.model.Color,delete i.R1_NestedSetType)),a.$Utils.post(i).then(function(t){t.success?(a.$Utils.showMessage("success","Lưu thành công"),e.$hub.$emit("close-modal"),e.type?(a.model.Id=t.R1.Data,e.$hub.$emit(e.type,a.model)):a.$hub.$emit("loadParameter")):(a.$Utils.showMessage("error","Có lỗi xảy ra"),e.$hub.$emit("close-modal"))})})},close:function(){this.$hub.$emit("close-modal")}},created:function(){},mounted:function(){var t=this;t.$Utils.isEmpty(t.data,"parent")&&(t.parent=t.data.parent),t.$Utils.isEmpty(t.data,"type")&&(t.type=t.data.type),t.$Utils.isEmpty(t.data,"isAddNew")&&(t.isAddNew=t.data.isAddNew),t.$Utils.isEmpty(t.data,"selectedCode")&&(t.selectedCode=t.data.selectedCode),t.$Utils.isEmpty(t.data,"selectedParam")&&(t.selectedParam=t.data.selectedParam),t.$Utils.isEmpty(t.data,"parameter")&&(t.model={Id:t.data.parameter.Id,Name:t.data.parameter.Name,Value:t.data.parameter.Value,Description:t.data.parameter.Description,Color:t.data.parameter.Color,Code:t.data.parameter.Code,Caption:t.data.parameter.Caption}),t.parent&&this.getListCode(t.parent.Code)},watch:{"model.Name":function(t){}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",staticClass:"documentForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tham số cha:"}},[a("strong",[t._v("\n      "+t._s(this.parent.Name||this.parent.Id)+"\n    ")])]),t._v(" "),a("el-form-item",{attrs:{label:"Tên",prop:"Name"}},[a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên hiển thị",prop:"Name"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã",prop:"Code"}},[a("el-input",{model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị"}},[a("el-input",{model:{value:t.model.Value,callback:function(e){t.$set(t.model,"Value",e)},expression:"model.Value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.Description,callback:function(e){t.$set(t.model,"Description",e)},expression:"model.Description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Màu"}},[a("el-color-picker",{model:{value:t.model.Color,callback:function(e){t.$set(t.model,"Color",e)},expression:"model.Color"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("form")}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},,,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{inline:!t.$isMobileDevice,"label-width":"120px"}},[["appInfo","rolePermission","projectPermission"].includes(t.settingType)?t._e():a("div",[a("el-form-item",{attrs:{label:"Loại tham số:"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},on:{change:t.handleCodeChange},model:{value:t.selectedCode,callback:function(e){t.selectedCode=e},expression:"selectedCode"}},t._l(t.codes,function(e){return a("el-option",{key:e.value,attrs:{label:"default"!=t.settingType?e.Name:e.label,value:"default"!=t.settingType?e.Code:e.value}})})),t._v(" "),"crm"===t.settingType?a("div",{staticClass:"d-inline"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Thêm mới Loại tham số",placement:"top-start"}},[a("el-button",{attrs:{type:"text"},on:{click:t.handleAddNewCode}},[a("i",{staticClass:"icon-plus"})])],1)],1):t._e()],1),t._v(" "),"tool"!=t.settingType?a("el-form-item",{attrs:{label:"Tham số:"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},on:{change:t.handleParamChange},model:{value:t.selectedParam,callback:function(e){t.selectedParam=e},expression:"selectedParam"}},t._l(t.params,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Code}})})),t._v(" "),"crm"===t.settingType&&t.selectedCode?a("div",{staticClass:"d-inline"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Thêm mới Tham số",placement:"top-start"}},[a("el-button",{attrs:{type:"text"},on:{click:t.handleAddNewParam}},[a("i",{staticClass:"icon-plus"})])],1)],1):t._e()],1):t._e()],1)]),t._v(" "),a("div",[a("el-row",{staticClass:"mgb10"},[a("el-col",{attrs:{span:12}},[t.isAddAble?a("el-button",{on:{click:t.handleAddNewValue}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v("\n          Thêm giá trị\n        ")]):t._e()],1),t._v(" "),a("el-col",{staticClass:"pull-right",attrs:{span:12}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"Tìm kiếm"},model:{value:t.keywordSearchTable,callback:function(e){t.keywordSearchTable=e},expression:"keywordSearchTable"}})],1),t._v(" "),a("div",{staticClass:"clearfix"})],1)],1),t._v(" "),a("table",{staticClass:"table table-condensed"},[t._m(0,!1,!1),t._v(" "),a("draggable",{attrs:{options:{handle:".handleIcon"},element:"tbody"},on:{end:t.onDragEnd},model:{value:t.searchResult,callback:function(e){t.searchResult=e},expression:"searchResult"}},t._l(t.searchResult,function(e,i){return a("tr",{key:e.Id,staticClass:"hoverdragable",attrs:{id:e.Id}},[a("td",{staticClass:"handleIcon",staticStyle:{"text-align":"center",cursor:"pointer"}},[a("i",{staticClass:"fa fa-bars",staticStyle:{"font-size":"20px","pointer-events":"none",color:"#999"},attrs:{"aria-hidden":"true"}})]),t._v(" "),a("td",[t._v(t._s(i+1))]),t._v(" "),a("td",[a("div",[a("span",[t._v(t._s(e.Name))])])]),t._v(" "),a("td",[a("div",[a("span",[t._v(t._s(e.Caption))])])]),t._v(" "),a("td",[a("div",[a("span",[t._v(t._s(e.Code))])])]),t._v(" "),a("td",[a("div",[a("span",[t._v(t._s(e.Value))])])]),t._v(" "),a("td",[a("div",[a("span",[t._v(t._s(e.Description))])])]),t._v(" "),a("td",{staticStyle:{display:"flex"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(a){t.handleEdit(i,e)}}}),t._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(a){t.handleDelete(t.$index,e)}}})],1)])}))],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("#")]),t._v(" "),a("th",[t._v("Tham số")]),t._v(" "),a("th",[t._v("Tên hiển thị")]),t._v(" "),a("th",[t._v("Mã")]),t._v(" "),a("th",[t._v("Giá trị")]),t._v(" "),a("th",[t._v("Mô tả")]),t._v(" "),a("th",[t._v("Xử lý")])])])}],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-radio",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],attrs:{size:"mini",label:"1"},on:{change:t.chooseSelect},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Dự án")]),t._v(" "),t.isSystemAdmin?a("el-radio",{attrs:{size:"mini",label:"4"},on:{change:t.chooseSelect},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Vai trò")]):t._e()],1),t._v(" "),1==this.radio?a("ProjectTreeGrid",{attrs:{datasource:t.groups,groupRole:t.groupRole,group:t.groupP,title:t.title}}):t._e(),t._v(" "),"4"===this.radio?a("Parameter",{staticClass:"mgt10",attrs:{settingType:"projectPermission"}}):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(457),s=a(573),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";a(3),a(294),a(295);e.a={}},function(t,e,a){"use strict";var i=a(21),s=a.n(i),o=a(459),n=a(466),l=a(258),r=a(259),c=a(1),d=a.n(c),u=(a(3),a(568)),m=a.n(u);e.a={name:"gantt",components:{ganttHeader:o.a,ganttBody:n.a},inject:["SessionId","taskDone","notDone","listStatus"],data:function(){return{isShow:!0,ganttStart:this.getGanttDate().start,ganttEnd:this.getGanttDate().end,ProjectStartTimeStartValue:"",ProjectStartTimeEndValue:"",selectedDepts:void 0,selectedProjects:void 0,selectedWorkers:void 0,selectedStatus:void 0,selectedDate:!0,selectedActive:void 0,selectedProjs:void 0,dueDate:!1,overDue:!1,T_token:0,timelineSetting:null,loading:!0,testGanttData:m.a,tasks:{data:[]},list:[],users:[],active:[],deactive:[]}},props:["projects","workers"],watch:{projects:{handler:function(t,e){this.list=t},deep:!0},workers:{handler:function(t,e){var a=this.$Lodash.filter(t,function(t){return"superadmin"!=t.LoginName&&"admin"!=t.LoginName});this.active=this.$Lodash.filter(a,{Status:"1"}),this.deactive=this.$Lodash.filter(a,{Status:"0"}),this.users=t},deep:!0}},computed:{showTaskId:function(){return""}},methods:{onResetFilter:function(t,e,a,i,s,o){this.selectedDate=t,this.selectedWorkers=e,this.selectedStatus=a,this.dueDate=i,this.overDue=s,this.selectedActive=o,this.initGantt()},onChangeDueDate:function(t){this.dueDate=t,this.initGantt()},onChangeOverDue:function(t){this.overDue=t,this.initGantt()},onSwitchView:function(){this.isShow=!this.isShow},checkStatus:function(t){return t.Status&&this.taskDone.indexOf(t.Status)>-1?"completed":d()(t.Deadline).isBefore(d()())?"overdue":d()(t.Deadline).isAfter(d()())&&d()(t.Deadline).isBefore(d()().endOf("days"))?"due-today":"planned"},initGantt:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="tblGroup.Search",e.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",e.R1_RequestFields="GroupId;GroupName;GroupType;GroupParent;ProjectCode;CreatedBy;State;Status;Type;Department",e.R1_GroupType="4",e.R1_GroupId=this.selectedProjs,this.$isSystemAdmin()||this.$isMantisAdmin()||(e.R1_AssignedUser=this.SessionId),this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.UserDS.Group");if(t.tasks.data=[],0!==a.length){if(t.selectedDepts){var i=t.selectedDepts.split(";");a=t.$Lodash.filter(a,function(e){var a=[];return e.Department&&(a=e.Department.split(";")),t.$Lodash.intersection(i,a).length>0})}var o=s()(t.$Lodash.keyBy(a,"GroupId")),n={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};n.R1_RequestTemplate="AG_Task_Task.Search",n.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",n.R1_RequestFields="Id;Index;Name;PlanStartDate;Deadline;Status;Sumary;VersionProject;Progress;StatusName;Worker",n.R1_VersionProject=o.join(";"),n.R1_RequestOrderFields="PlanStartDate ASC",t.selectedActive&&("1"===t.selectedActive?n.R1_Worker=s()(t.$Lodash.keyBy(t.active,"UserId")).join(";"):"0"===t.selectedActive&&(n.R1_Worker=s()(t.$Lodash.keyBy(t.deactive,"UserId")).join(";"))),t.selectedDate&&(n.R1_PlanStartDateStartValue=t.$Utils.formatDateTime(t.ProjectStartTimeStartValue),n.R1_PlanStartDateEndValue=t.$Utils.formatDateTime(t.ProjectStartTimeEndValue)),n.R1_AssignedUser=t.SessionId,t.selectedWorkers&&(n.R1_Worker=t.selectedWorkers),t.selectedStatus&&(n.R1_Status=t.selectedStatus),(t.overDue||t.dueDate)&&(n.R1_Status=t.notDone.join(";")),t.$Utils.postCheckResult(n).then(function(e){var i=t.$Utils.getDataWithRoot(e.R1,"Data.TasksDS.Task");t.overDue&&(i=t.$Lodash.filter(i,function(t){return d()(t.Deadline).isBefore(d()())})),t.dueDate&&(i=t.$Lodash.filter(i,function(t){return d()(t.Deadline).isAfter(d()())&&d()(t.Deadline).isBefore(d()().endOf("days"))})),a.forEach(function(e){t.$Lodash.filter(i,{VersionProject:e.GroupId}).length>0&&t.tasks.data.push({id:e.GroupId,text:e.GroupName,progress:0,open:!0,type:"project"})}),i.forEach(function(e){e.real_start_date=null,e.real_due_date=null,e.deleted=!1,e.startDueStatus="",e.status=t.checkStatus(e),e.progress=e.Progress?parseInt(e.Progress):0,e.text=e.Name,e.projectId=e.VersionProject,e.parent=e.VersionProject,e.id=e.Id,e.start_date=t.$Utils.formatDateTime(e.PlanStartDate,"DD-MM-YYYY"),e.end_date=t.$Utils.formatDateTime(e.Deadline,"DD-MM-YYYY"),e.type="task",e.Type&&(e.type=e.Type),e.startDate=t.$Utils.formatDateTime(e.PlanStartDate,"YYYY-MM-DD")+" 00:00:00",e.dueDate=t.$Utils.formatDateTime(e.Deadline,"YYYY-MM-DD")+" 00:00:00",e.duration=d()(e.Deadline).diff(d()(e.PlanStartDate),"days"),0==e.duration&&(e.duration=1,e.end_date=d()(e.PlanStartDate).add(1,"days").format("DD-MM-YYYY")),t.tasks.data.push(e)})})}})},getGanttDate:function(t){var e=new Date,a=new Date,i=void 0,s=void 0;return t?(i=e.setMonth(e.getMonth()-6-11*t),s=a.setMonth(a.getMonth()+(6-11*t))):(i=e.setMonth(e.getMonth()-6),s=a.setMonth(a.getMonth()+6)),this.ganttStart=i,this.ganttEnd=s,{start:i,end:s}},onChangeActive:function(t){t.length>0?this.selectedActive=t:this.selectedActive=void 0,this.initGantt()},onChangeStatus:function(t){t.length>0?this.selectedStatus=t.join(";"):this.selectedStatus=void 0,this.initGantt()},onChangeWorker:function(t){t.length>0?this.selectedWorkers=t.join(";"):this.selectedWorkers=void 0,this.initGantt()},onChangeDate:function(t){this.selectedDate=t,this.initGantt()},onChangeProject:function(t){t.length>0?this.selectedProjects=t.join(";"):this.selectedProjects=void 0,this.initGantt()},onPrevYear:function(){this.T_token+=1,this.getGanttDate(this.T_token)},onNextYear:function(){this.T_token-=1,this.getGanttDate(this.T_token)},onPrev:function(){var t=Object(r.a)(".gantt_task")[0].clientWidth,e=Object(r.a)(".gantt_task")[0].scrollLeft;e-t>0?Object(l.a)({end:e-t,type:"scrollLeft",tagName:"gantt_task",rate:6}):this.onPrevYear()},onNext:function(){var t=Object(r.a)(".gantt_data_area")[0].clientWidth,e=Object(r.a)(".gantt_task")[0].clientWidth,a=Object(r.a)(".gantt_task")[0].scrollLeft;a<t-e?Object(l.a)({end:a+e,type:"scrollLeft",tagName:"gantt_task",rate:6}):this.onNextYear()},onToday:function(){if(this.ganttStart&&this.ganttEnd)if(d()().isBetween(this.ganttStart,this.ganttEnd)){var t=Object(r.a)(".today")[0].offsetLeft;Object(l.a)({end:t-180,type:"scrollLeft",tagName:"gantt_task",rate:6})}else this.T_token=0,this.getGanttDate()},onView:function(t){}},created:function(){var t=this;this.$hub.$on("filterChanged",function(e){t.ProjectStartTimeStartValue=e.dateRangeSelected[0],t.ProjectStartTimeEndValue=e.dateRangeSelected[1],e.selectedDepts&&(t.selectedDepts=e.selectedDepts.join(";")),e.selectedProjs&&(t.selectedProjs=e.selectedProjs.join(";")),t.initGantt()}),this.$root.$on("task-show",function(t){window.gantt.selectTask(t)}),this.$root.$on("task-hide",function(t){window.gantt.unselectTask(t)})},destroyed:function(){this.$hub.$off("filterChanged"),this.$root.$off("task-show",function(){window.gantt.selectTask()}),this.$root.$off("task-hide",function(){window.gantt.unselectTask()})}}},function(t,e,a){"use strict";function i(t){a(460)}var s=a(461),o=a(465),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(257);e.a={components:{ProjectFilter:i.a},name:"ganttHeader",props:{baseList:{type:Array,default:function(){return[]}},workers:{type:Array,default:function(){return[]}},status:{type:Object,default:function(){return[]}},active:{type:Array,default:function(){return[{Id:"",Name:"Tất cả"},{Id:"1",Name:"Đang hoạt động"},{Id:"0",Name:"Không hoạt động"}]}},onChangeOverDue:{type:Function},onResetFilter:{type:Function},onChangeDueDate:{type:Function},onChangeActive:{type:Function},onChangeStatus:{type:Function},onChangeProject:{type:Function},onChangeWorker:{type:Function},onChangeDate:{type:Function},onView:{type:Function},onToday:{type:Function},onPrev:{type:Function},onNext:{type:Function},switchView:{type:Function},isShowTask:{type:Boolean,default:function(){return!0}}},data:function(){return{VersionProject:[],WorkerProject:[],StatusTask:[],DateProject:!0,DueDate:!1,OverDue:!1,UserActive:"",users:[]}},methods:{closeFilter:function(){this.$refs.GanttFilter.hide()},resetFilter:function(){this.DateProject=!0,this.WorkerProject="",this.StatusTask="",this.DueDate=!1,this.OverDue=!1,this.UserActive="",this.onResetFilter(this.DateProject,this.WorkerProject,this.StatusTask,this.DueDate,this.OverDue,this.UserActive)}},watch:{workers:{handler:function(t,e){this.users=t},deep:!0}}}},function(t,e){},function(t,e,a){"use strict";e.a={props:{workers:{type:Array,default:function(){return[]}},status:{type:Object,default:function(){return[]}},actives:{type:Array,default:function(){return[{Id:"",Name:"Tất cả"},{Id:"1",Name:"Đang hoạt động"},{Id:"0",Name:"Không hoạt động"}]}},onChangeOverDue:{type:Function},onResetFilter:{type:Function},onChangeDueDate:{type:Function},onChangeActive:{type:Function},onChangeStatus:{type:Function},onChangeProject:{type:Function},onChangeWorker:{type:Function},onChangeDate:{type:Function},onView:{type:Function},onToday:{type:Function},onPrev:{type:Function},onNext:{type:Function},switchView:{type:Function},onCloseFilter:{type:Function},isShowTask:{type:Boolean,default:function(){return!0}}},data:function(){return{VersionProject:[],WorkerProject:[],StatusTask:[],DateProject:!0,DueDate:!1,OverDue:!1,UserActive:"",users:[]}},watch:{workers:{handler:function(t,e){var a=this.$Lodash.filter(t,function(t){return"superadmin"!=t.LoginName&&"admin"!=t.LoginName});this.active=this.$Lodash.filter(a,{Status:"1"}),this.deactive=this.$Lodash.filter(a,{Status:"0"}),this.users=[{label:"HOẠT ĐỘNG",options:this.active},{label:"KHÔNG HOẠT ĐỘNG",options:this.deactive}]},deep:!0}},methods:{resetFilter:function(){this.DateProject=!0,this.WorkerProject="",this.StatusTask="",this.DueDate=!1,this.OverDue=!1,this.UserActive="",this.onResetFilter(this.DateProject,this.WorkerProject,this.StatusTask,this.DueDate,this.OverDue,this.UserActive)}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{inline:!t.$isMobileDevice}},[a("el-form-item",{staticClass:"mb-0",attrs:{label:""}},[a("el-checkbox",{on:{change:t.onChangeDate},model:{value:t.DateProject,callback:function(e){t.DateProject=e},expression:"DateProject"}},[a("span",[t._v("Theo khoảng thời gian")])])],1),t._v(" "),a("el-form-item",{staticClass:"mb-0",attrs:{label:""}},[a("el-checkbox",{on:{change:t.onChangeDueDate},model:{value:t.DueDate,callback:function(e){t.DueDate=e},expression:"DueDate"}},[a("span",{staticClass:"sm-none"},[t._v("Đến hạn")])])],1),t._v(" "),a("el-form-item",{staticClass:"mb-0",attrs:{label:""}},[a("el-checkbox",{on:{change:t.onChangeOverDue},model:{value:t.OverDue,callback:function(e){t.OverDue=e},expression:"OverDue"}},[a("span",{staticClass:"sm-none"},[t._v("Quá hạn")])])],1),t._v(" "),a("el-form-item",{staticClass:"mb-0",attrs:{label:""}},[a("el-select",{attrs:{filterable:"",placeholder:"Nhân sự thực hiện",multiple:"","collapse-tags":"","no-data-text":"Không có dữ liệu"},on:{change:t.onChangeWorker},model:{value:t.WorkerProject,callback:function(e){t.WorkerProject=e},expression:"WorkerProject"}},t._l(t.users,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.UserId}})}))}))],1),t._v(" "),a("el-form-item",{staticClass:"mb-0",attrs:{label:""}},[a("el-select",{staticClass:"Status",attrs:{placeholder:"Trạng thái","no-data-text":"Không có dữ liệu"},on:{change:t.onChangeActive},model:{value:t.UserActive,callback:function(e){t.UserActive=e},expression:"UserActive"}},t._l(t.actives,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Id}})}))],1),t._v(" "),a("el-form-item",{staticClass:"mb-0",attrs:{label:""}},[a("el-select",{staticClass:"Status",attrs:{filterable:"",placeholder:"Trạng thái",multiple:"","collapse-tags":"","no-data-text":"Không có dữ liệu"},on:{change:t.onChangeStatus},model:{value:t.StatusTask,callback:function(e){t.StatusTask=e},expression:"StatusTask"}},t._l(t.status,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t.Id}})}))],1),t._v(" "),t.$isMobileDevice?a("span",[a("el-button",{on:{click:t.resetFilter}},[t._v("Lọc mặc định")]),t._v(" "),a("el-button",{on:{click:t.onCloseFilter}},[t._v("Đóng")])],1):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gantt-header"},[a("div",{staticClass:"gantt-header-navigator"},[t.$isMobileDevice?t._e():a("div",{staticClass:"InlineFilter mt-2"},[a("ProjectFilter",{attrs:{onChangeWorker:t.onChangeWorker,onChangeDate:t.onChangeDate,onChangeStatus:t.onChangeStatus,onChangeActive:t.onChangeActive,onChangeDueDate:t.onChangeDueDate,onChangeOverDue:t.onChangeOverDue,onResetFilter:t.resetFilter,onCloseFilter:t.closeFilter,workers:t.users,status:t.status}})],1),t._v(" "),t.$isMobileDevice?a("div",{staticClass:"gantt-header-today"},[a("i",{directives:[{name:"b-modal",rawName:"v-b-modal.GanttFilter",modifiers:{GanttFilter:!0}}],staticClass:"AdvFilter fa fa-filter"})]):t._e(),t._v(" "),a("b-modal",{ref:"GanttFilter",staticClass:"chartFilter text-primary",attrs:{id:"GanttFilter",title:"Bộ lọc","header-bg-variant":"primary","hide-footer":""}},[[a("ProjectFilter",{attrs:{onChangeWorker:t.onChangeWorker,onChangeDate:t.onChangeDate,onChangeStatus:t.onChangeStatus,onChangeActive:t.onChangeActive,onChangeDueDate:t.onChangeDueDate,onChangeOverDue:t.onChangeOverDue,onResetFilter:t.resetFilter,onCloseFilter:t.closeFilter,workers:t.users,status:t.status}})]],2),t._v(" "),t.$isMobileDevice?a("div",{staticClass:"gantt-header-today"},[a("i",{class:t.isShowTask?"fa fa-window-maximize fa-lg":"fa fa-columns fa-lg",on:{click:t.switchView}})]):t._e(),t._v(" "),a("div",{staticClass:"gantt-header-today"},[a("el-button",{attrs:{type:"text"},on:{click:t.onToday}},[t._v("\n               Hôm nay\n            ")])],1),t._v(" "),a("div",{staticClass:"gantt-header-arrow"},[a("i",{staticClass:"fa fa-arrow-circle-o-left fa-lg",on:{click:t.onPrev}}),t._v(" "),a("i",{staticClass:"fa fa-arrow-circle-o-right fa-lg",on:{click:t.onNext}})])],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(467),s=a(567),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(42),s=a.n(i),o=a(4),n=(a.n(o),a(68)),l=a.n(n),r=a(21),c=a.n(r),d=a(468),u=(a.n(d),a(469)),m=a(470),p=(a.n(m),a(471)),h=(a.n(p),a(472)),f=(a.n(h),a(473)),g=(a.n(f),a(474)),_=(a.n(g),a(475)),v=(a.n(_),a(258)),b=a(259),C=a(1),D=a.n(C),y=a(96),S=a.n(y),R=a(103);e.a={name:"ganttBody",props:{ganttData:{type:Object,default:function(){return{data:[]}}},startDate:{type:Number,default:function(){return 0}},endDate:{type:Number,default:function(){return 0}},floatingPanelOpen:{type:Boolean,default:function(){return!0}},hideWeekend:{type:Boolean,default:function(){return!1}},isShowTask:{type:Boolean,default:function(){return!0}},onTaskUpdate:{type:Function},showTaskId:{type:String}},data:function(){return{ganttStyle:{width:"100%",background:"white"},events:[],gdata:void 0}},computed:{filterGanttData:function(){var t=this;if(this.ganttData)return this.ganttData;var e=["","#fd6461","#f7a650","#ffdf7f","#89cc76","#77beff","#d08ce0","#a5a5a7"],a=this.kanbanList,i=this.kanbankbcList,s=this.kbcList,o=this.kbcTaskList,n=this.taskList,r=this.kanbanId,d=a[r],u=i[r];if(!(d&&c()(i).length&&u&&c()(n).length))return{data:[]};if(!d)return{data:[]};var m={id:d.id,text:d.name,progress:0,open:!0,type:"project"};if(!u)return{data:[m]};var p=u.reduce(function(a,i){var l=s[i],r=o[i];if(!l)return m;var d={id:l.kbc.id,text:l.kbc.name,parent:l.kbc.kanbanId,type:"tasklist",open:!0};if(!r||!c()(n).length)return a.push(d),a;var u=r.map(function(a){var s=n[a],o=!s.startDate&&!s.dueDate;return{id:s.id,projectId:s.projectId,text:s.name,startDate:s.startDate,dueDate:s.dueDate,start_date:o?D()(t.startDate).startOf("day").toDate():t.getStartDate(s.startDate,s.dueDate),duration:o?366:t.getDuration(s.startDate,s.dueDate),startDueStatus:t.getNoStartDueDateIndicator(s.startDate,s.dueDate),type:"task",status:t.getTaskStatus(s.startDate,s.dueDate,s.done),progress:0,parent:i,label:e[s.label],real_start_date:D()(s.startDate).toDate(),real_due_date:D()(s.dueDate).toDate(),deleted:s.deleted}});return a.push(d),a.concat(u)},[]);return{data:[m].concat(l()(p))}}},watch:{isShowTask:{handler:"changeVIew",deep:!0},$route:function(t,e){t.params.kbId!==e.params.kbId&&this.componentDidMount()},ganttData:{handler:"updateGanttTask",deep:!0},endDate:"componentDidMount"},methods:{changeVIew:function(t){u.a.config.show_grid=t,this.componentDidMount()},showTaskDetail:function(t,e){e?(this.$set(t,"activeName",e),this.$hub.$emit("set-modal-data","Chi tiết công việc","60%",!0,"center",R.a,!0,"",t)):this.$hub.$emit("set-modal-data","Chi tiết công việc","60%",!0,"center",R.a,!0,"",t)},updateGanttTask:function(t,e){return void this.componentDidMount()},getStartDate:function(t,e){return t?D()(t).format("DD-MM-YYYY"):e?D()(e).format("DD-MM-YYYY"):null},getTaskStatus:function(t,e,a){if(!t&&!e){var i="no-start-due";return a&&(i+="-completed"),i}if(a)return"completed";var s=Math.abs(D()(D()(e).startOf("day")).diff(D()(t).startOf("day"),"days"));return D()(t).add(s,"days").isBefore(D()(),"day")?"overdue":D()(t).add(s,"days").isSame(D()(),"day")?"due-today":"planned"},getDuration:function(t,e){if(!t||!e)return 1;return D()(D()(e).startOf("day")).diff(D()(t).startOf("day"),"days")+1||1},getNoStartDueDateIndicator:function(t,e){return t?e?"":"no-due-date":"no-start-date"},componentDidMount:function(){this.ganttEvents().destroy(),u.a.getVisibleTaskCount()>0&&u.a.clearAll(),this.configGantt(),this.templatesGantt(),this.attachEventGantt(),this.initiateGantt(this.ganttData),this.addMarkerGantt(),this.attachJqueryEvent(),this.scrollToCurrentDay()},scrollToCurrentDay:function(){var t=Object(b.a)(".today");if(t.length>0){var e=t[0].offsetLeft;Object(v.a)({end:e-180,type:"scrollLeft",tagName:"gantt_task",rate:6})}},highlightRow:function(t){t&&(this.clearHighlight(t),Object(b.b)(u.a.getTaskRowNode(t),"active"),Object(b.b)(Object(b.a)('.gantt_task_row[task_id="'+t+'"]'),"active"))},clearHighlight:function(t){Object(b.d)(Object(b.a)(".gantt_row"),"active"),Object(b.d)(Object(b.a)(".gantt_task_row"),"active"),Object(b.d)(Object(b.a)(".gantt_tree_content"),"active")},initiateGantt:function(t){var e=S.a.cloneDeep(t);u.a.config.touch=this.$isMobileDevice,u.a.init("gantt-placeholder"),u.a.clearAll(),u.a.parse(e),u.a.config.start_date=this.startDate,u.a.config.end_date=this.endDate,u.a.render(),u.a.selectTask(this.showTaskId)},configGantt:function(){u.a.config.autosize="y",u.a.config.columns=[{name:"text",label:" ",width:"*",tree:!0}],u.a.config.show_grid=this.isShowTask,u.a.config.row_height=21,u.a.config.scale_unit="month",u.a.config.scale_height=65,u.a.config.date_scale="%M %Y",u.a.config.min_column_width=31,u.a.config.show_progress=!0,u.a.config.prevent_default_scroll=!1,u.a.config.grid_width=245,u.a.config.show_task_cells=!1,u.a.config.show_marker=!0,u.a.config.grid_resize=!1,u.a.config.smart_scales=!0,u.a.config.subscales=[{unit:"week",step:1,date:"Tuần %W"},{unit:"day",step:1,date:"%j",css:function(t){var e="sub_scale";return 6!==t.getDay()&&0!==t.getDay()||(e+=" weekend"),e}}],u.a.config.drag_links=!1,u.a.config.details_on_dblclick=!1},templatesGantt:function(){var t=this;u.a.templates.tooltip_text=function(t,e,a){return"tasklist"===a.type||"project"===a.type?a.text:"<b>Tên công việc:</b> "+a.text+"<br/>\n                        <b>Tổng ngày："+(a.startDate||a.dueDate?a.duration:"")+"</b><br/>\n                        <b>Ngày bắt đầu:</b> "+(a.startDate?D()(a.startDate).format("DD-MM-YYYY"):"")+"<br/>\n                        <b>Ngày kết thúc:</b> "+(a.dueDate?D()(a.dueDate).format("DD-MM-YYYY"):"")},u.a.templates.grid_blank=function(t){return'<div class="gantt_hide_item">'+t.status+"</div>"},u.a.templates.task_class=function(t,e,a){return"task"===a.type?a.status+" "+a.type+" "+a.startDueStatus:a.type},u.a.templates.grid_row_class=function(t,e,a){switch(a.type){case"project":return"gantt_grid_project";case"tasklist":return"gantt_grid_tasklist";default:return!1}},u.a.templates.grid_folder=function(t){return""},u.a.templates.task_row_class=function(t,e,a){return"gantt_grid_row"},u.a.templates.grid_file=function(t){return'<div class="gantt_label" style="background: '+t.label+'"></div>'},u.a.templates.task_cell_class=function(t,e){return(6===e.getDay()||0===e.getDay())&&"weekend"},u.a.templates.scale_cell_class=function(t){return"main_scale"},u.a.templates.scale_row_class=function(t){switch(t.unit){case"day":return"day_scale";case"month":return"month_scale";default:return"week_scale"}},u.a.ignore_time=function(e){return(0===e.getDay()||6===e.getDay())&&t.hideWeekend},u.a.templates.grid_open=function(t){var e=t.$open?"el-icon-arrow-down":"el-icon-arrow-right";return'<div class="gantt_tree_icon gantt_'+(t.$open?"close":"open")+'"><i class="'+e+'"></i></div>'},u.a.templates.task_text=function(t,e,a){var i="";switch(a.startDueStatus&&(i+='<div class="gantt_'+a.startDueStatus+'"></div>'),a.type){case"project":i+='<div class="gantt_project_start-indicator"></div><div class="gantt_project_end-indicator"></div>';break;case"tasklist":i+='<div class="gantt_tasklist_start-indicator"></div><div class="gantt_tasklist_end-indicator"></div>';break;case"milestone":i+='<div class="gantt_milestone_start-indicator"></div><i class="fa fa-exclamation-triangle"></i><div class="gantt_milestone_end-indicator"></div>'}return i}},adjustMarkers:function(t){var e=[].slice.call(document.querySelectorAll(".gantt_marker_content"),0);e.length>0&&(e[0].style.top=t+"px")},ganttEvents:function(){var t=this;return{on:function(e,a){var i=u.a.attachEvent(e,a);t.events.push(i)},destroy:function(){t.events.forEach(function(t){u.a.detachEvent(t)}),t.events=[]}}},attachEventGantt:function(){var t=this;this.events=[];var e=this.ganttEvents();this.ganttEvents().on("onGanttScroll",function(e,a){return t.adjustMarkers(a)}),e.on("onBeforeTaskChanged",function(t,e,a){return console.log("drag:",t,e,a,a.end_date),!0}),e.on("onBeforeDrag",function(t,e,a){return console.log("drag:",t,e,a),!1}),e.on("onBeforeTaskDrag",function(t,e,a){var i=u.a.getTask(t);return i.startDate||i.dueDate}),e.on("onAfterTaskDrag",function(e,a,i){var s=u.a.getTask(e);t.updateTaskDate(e,s)})},attachJqueryEvent:function(){var t=this,e="";Object(b.c)(Object(b.a)(".gantt_data_area, .gantt_grid_data, .gantt_row, .gantt_tree_content"),"mouseover",function(e){var a=e.target.closest("[task_id]");if(a){var i=a.getAttribute("task_id");if(t.floatingPanelOpen)return void t.highlightRow(i);u.a.selectTask(i)}}),Object(b.c)(Object(b.a)(".gantt_grid_scale"),"mouseover",function(e){t.floatingPanelOpen||u.a.unselectTask()}),Object(b.c)(Object(b.a)(".gantt_task"),"mousedown",function(t){e=t.clientX;var a=t.target.closest("[task_id]");if(a){var i=a.getAttribute("task_id");u.a.selectTask(i)}}),Object(b.c)(Object(b.a)(".gantt_task"),"mouseup",function(a){if(a.clientX===e){var i=a.target.closest("[task_id]");if(!i)return;var s=i.getAttribute("task_id");u.a.selectTask(s),t.onShowTaskById(s)}t.floatingPanelOpen||u.a.unselectTask()})},addMarkerGantt:function(){var t=D()().hour(12).minute(0).second(0).toDate();u.a.addMarker({start_date:t,css:"today",text:"Hôm nay",title:"Ngày： "+D()(t).format("YYYY-MM-DD")}),u.a.renderMarkers()},updateTaskDate:function(t,e){console.log("updateTaskDate")},updateGanttTaskById:function(t){var e=u.a.getTask(t.id);e&&(s()(e,t),u.a.updateTask(t.id))},onShowTaskById:function(t){var e=this.$Lodash.find(this.ganttData.data,{id:t});e&&"project"!==e.type&&"task"===e.type&&this.showTaskDetail(e)}},mounted:function(){var t=this;this.$nextTick(function(){t.componentDidMount()})},beforeDestroy:function(){this.ganttEvents().destroy()},destroyed:function(){this.ganttEvents().destroy()}}},function(t,e){},function(t,e,a){"use strict";(function(t,i){var s=a(4),o=a.n(s),n=a(25),l=a.n(n);/*
@license

dhtmlxGantt v.4.2.1 Stardard
This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.

(c) Dinamenta, UAB.
*/
e.a=gantt=window.gantt={version:"4.2.1"},gantt.event=function(t,e,a){t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent&&t.attachEvent("on"+e,a)},gantt.eventRemove=function(t,e,a){t.removeEventListener?t.removeEventListener(e,a,!1):t.detachEvent&&t.detachEvent("on"+e,a)},gantt._eventable=function(t){t._silent_mode=!1,t._silentStart=function(){this._silent_mode=!0},t._silentEnd=function(){this._silent_mode=!1},t.attachEvent=function(t,e,a){return t="ev_"+t.toLowerCase(),this[t]||(this[t]=new this._eventCatcher(a||this)),t+":"+this[t].addEvent(e)},t.callEvent=function(t,e){return!!this._silent_mode||(t="ev_"+t.toLowerCase(),!this[t]||this[t].apply(this,e))},t.checkEvent=function(t){return!!this["ev_"+t.toLowerCase()]},t._eventCatcher=function(t){var e=[],a=function(){for(var a=!0,i=0;i<e.length;i++)if(e[i]){var s=e[i].apply(t,arguments);a=a&&s}return a};return a.addEvent=function(t){return"function"==typeof t&&e.push(t)-1},a.removeEvent=function(t){e[t]=null},a},t.detachEvent=function(t){if(t){var e=t.split(":");this[e[0]].removeEvent(e[1])}},t.detachAllEvents=function(){for(var t in this)0===t.indexOf("ev_")&&delete this[t]},t=null},gantt.copy=function(t){var e,a,i;if(t&&"object"==(void 0===t?"undefined":l()(t))){for(i={},a=[Array,Date,Number,String,Boolean],e=0;e<a.length;e++)t instanceof a[e]&&(i=e?new a[e](t):new a[e]);for(e in t)Object.prototype.hasOwnProperty.apply(t,[e])&&(i[e]=gantt.copy(t[e]))}return i||t},gantt.mixin=function(t,e,a){for(var i in e)t[i]&&!a||(t[i]=e[i]);return t},gantt.defined=function(t){return void 0!==t},gantt.uid=function(){return this._seed||(this._seed=(new Date).valueOf()),++this._seed},gantt.bind=function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},function(){function t(t){var e=!1,a=!1;if(window.getComputedStyle){var i=window.getComputedStyle(t,null);e=i.display,a=i.visibility}else t.currentStyle&&(e=t.currentStyle.display,a=t.currentStyle.visibility);return"none"!=e&&"hidden"!=a}function e(t){return!isNaN(t.getAttribute("tabindex"))&&1*t.getAttribute("tabindex")>=0}function a(t){return!{a:!0,area:!0}[t.nodeName.loLowerCase()]||!!t.getAttribute("href")}function i(t){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[t.nodeName.toLowerCase()]||!t.hasAttribute("disabled")}gantt._getFocusableNodes=function(s){for(var o=s.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),n=Array.prototype.slice.call(o,0),l=0;l<n.length;l++){var r=n[l];(e(r)||i(r)||a(r))&&t(r)||(n.splice(l,1),l--)}return n}}(),gantt._get_position=function(t){var e=0,a=0;if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),s=document.body,o=document.documentElement,n=window.pageYOffset||o.scrollTop||s.scrollTop,l=window.pageXOffset||o.scrollLeft||s.scrollLeft,r=o.clientTop||s.clientTop||0,c=o.clientLeft||s.clientLeft||0;return e=i.top+n-r,a=i.left+l-c,{y:Math.round(e),x:Math.round(a),width:t.offsetWidth,height:t.offsetHeight}}for(;t;)e+=parseInt(t.offsetTop,10),a+=parseInt(t.offsetLeft,10),t=t.offsetParent;return{y:e,x:a,width:t.offsetWidth,height:t.offsetHeight}},gantt._detectScrollSize=function(){var t=document.createElement("div");t.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},window.dhtmlx&&(dhtmlx.attaches||(dhtmlx.attaches={}),dhtmlx.attaches.attachGantt=function(t,e,a){var i=document.createElement("DIV");a=a||window.gantt,i.id="gantt_"+a.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),this.dataType="gantt",this.dataObj=a;var s=this.vs[this.av];s.grid=a,a.init(i.id,t,e),i.firstChild.style.border="none",s.gridId=i.id,s.gridObj=i;return this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(dhtmlXCellObject.prototype.attachGantt=function(t,e,a){a=a||window.gantt;var i=document.createElement("DIV");i.id="gantt_"+a.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),this.dataType="gantt",this.dataObj=a,a.init(i.id,t,e),i.firstChild.style.border="none";return i=null,this.callEvent("_onContentAttach",[]),this.dataObj}),gantt._eventable(gantt),gantt.config||(gantt.config={}),gantt.config||(gantt.config={}),gantt.templates||(gantt.templates={}),function(){gantt.mixin(gantt.config,{links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,show_links:!0,show_task_cells:!0,static_background:!1,branch_loading:!1,show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,xml_date:"%d-%m-%Y %H:%i",api_date:"%d-%m-%Y %H:%i",start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,preserve_scroll:!0,readonly:!1,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:"44"}],step:1,scale_unit:"day",scale_offset_minimal:!0,subscales:[],inherit_scale_class:!1,time_step:60,duration_step:1,date_scale:"%d %M",task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"task_id",link_attribute:"link_id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"column_index",grid_resizer_attribute:"grid_resizer",keep_grid_width:!1,grid_resize:!1,show_unscheduled:!0,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0}),gantt.keys={edit_save:13,edit_cancel:27},gantt._init_template=function(t,e,a){var i=this._reg_templates||{};a=a||t,this.config[t]&&i[a]!=this.config[t]&&(e&&this.templates[a]||(this.templates[a]=this.date.date_to_str(this.config[t]),i[a]=this.config[t])),this._reg_templates=i},gantt._init_templates=function(){var t=gantt.locale.labels;t.gantt_save_btn=t.icon_save,t.gantt_cancel_btn=t.icon_cancel,t.gantt_delete_btn=t.icon_delete;var e=this.date.date_to_str,a=this.config;gantt._init_template("date_scale",!0),gantt._init_template("date_grid",!0,"grid_date_format"),gantt._init_template("task_date",!0),gantt.mixin(this.templates,{xml_date:this.date.str_to_date(a.xml_date,a.server_utc),xml_format:e(a.xml_date,a.server_utc),api_date:this.date.str_to_date(a.api_date),progress_text:function(t,e,a){return""},grid_header_class:function(t,e){return""},task_text:function(t,e,a){return a.text},task_class:function(t,e,a){return""},grid_row_class:function(t,e,a){return""},task_row_class:function(t,e,a){return""},task_cell_class:function(t,e){return""},scale_cell_class:function(t){return""},scale_row_class:function(t){return""},grid_indent:function(t){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(t){return"<div class='gantt_tree_icon gantt_folder_"+(t.$open?"open":"closed")+"'></div>"},grid_file:function(t){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(t){return"<div class='gantt_tree_icon gantt_"+(t.$open?"close":"open")+"'></div>"},grid_blank:function(t){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(t,e){return e&&gantt.isUnscheduledTask(e)&&gantt.config.show_unscheduled?gantt.templates.task_unscheduled_time(e):gantt.templates.grid_date_format(t)},task_time:function(t,e,a){return gantt.isUnscheduledTask(a)&&gantt.config.show_unscheduled?gantt.templates.task_unscheduled_time(a):gantt.templates.task_date(t)+" - "+gantt.templates.task_date(e)},task_unscheduled_time:function(t){return""},time_picker:e(a.time_picker),link_class:function(t){return""},link_description:function(t){var e=gantt.getTask(t.source),a=gantt.getTask(t.target);return"<b>"+e.text+"</b> &ndash;  <b>"+a.text+"</b>"},drag_link:function(t,e,a,i){t=gantt.getTask(t);var s=gantt.locale.labels,o="<b>"+t.text+"</b> "+(e?s.link_start:s.link_end)+"<br/>";return a&&(a=gantt.getTask(a),o+="<b> "+a.text+"</b> "+(i?s.link_start:s.link_end)+"<br/>"),o},drag_link_class:function(t,e,a,i){var s="";if(t&&a){s=" "+(gantt.isLinkAllowed(t,a,e,i)?"gantt_link_allow":"gantt_link_deny")}return"gantt_link_tooltip"+s},tooltip_date_format:gantt.date.date_to_str("%Y-%m-%d"),tooltip_text:function(t,e,a){return"<b>Task:</b> "+a.text+"<br/><b>Start date:</b> "+gantt.templates.tooltip_date_format(t)+"<br/><b>End date:</b> "+gantt.templates.tooltip_date_format(e)}}),this.callEvent("onTemplatesReady",[])}}(),gantt._click={},gantt._dbl_click={},gantt._context_menu={},gantt._on_click=function(t){t=t||window.event;var e=t.target||t.srcElement,a=gantt.locate(t),i=!0;if(null!==a?i=!gantt.checkEvent("onTaskClick")||gantt.callEvent("onTaskClick",[a,t]):gantt.callEvent("onEmptyClick",[t]),i){if(!gantt._find_ev_handler(t,e,gantt._click,a))return;a&&gantt.getTask(a)&&gantt.config.select_task&&gantt.selectTask(a)}},gantt._on_contextmenu=function(t){t=t||window.event;var e=t.target||t.srcElement,a=gantt.locate(e),i=gantt.locate(e,gantt.config.link_attribute),s=!gantt.checkEvent("onContextMenu")||gantt.callEvent("onContextMenu",[a,i,t]);return s||(t.preventDefault?t.preventDefault():t.returnValue=!1),s},gantt._find_ev_handler=function(t,e,a,i){for(var s=!0;e;){var o=gantt._getClassName(e);if(o){o=o.split(" ");for(var n=0;n<o.length;n++)if(o[n]&&a[o[n]]){var l=a[o[n]].call(gantt,t,i,e);s=s&&!(void 0!==l&&!0!==l)}}e=e.parentNode}return s},gantt._on_dblclick=function(t){t=t||window.event;var e=t.target||t.srcElement,a=gantt.locate(t),i=!gantt.checkEvent("onTaskDblClick")||gantt.callEvent("onTaskDblClick",[a,t]);if(i){if(!gantt._find_ev_handler(t,e,gantt._dbl_click,a))return;null!==a&&gantt.getTask(a)&&i&&gantt.config.details_on_dblclick&&gantt.showLightbox(a)}},gantt._on_mousemove=function(t){if(gantt.checkEvent("onMouseMove")){var e=gantt.locate(t);gantt._last_move_event=t,gantt.callEvent("onMouseMove",[e,t])}},gantt._DnD=function(t,e){this._obj=t,e&&(this._settings=e),gantt._eventable(this);var a=this.getInputMethods();this._drag_start_timer=null,gantt.attachEvent("onGanttScroll",gantt.bind(function(t,e){this.clearDragTimer()},this));for(var i=0;i<a.length;i++)gantt.bind(function(a){gantt.event(t,a.down,gantt.bind(function(i){e.original_target={target:i.target||i.srcElement},gantt.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(gantt.bind(function(){this.dragStart(t,i,a)},this),gantt.config.touch_drag)):this.dragStart(t,i,a)},this)),gantt.event(document.body,a.up,gantt.bind(function(t){this.clearDragTimer()},this))},this)(a[i])},gantt._DnD.prototype={traceDragEvents:function(t,e){var a=gantt.bind(function(a){return this.dragMove(t,a,e.accessor)},this),i=(gantt.bind(function(e){return this.dragScroll(t,e)},this),gantt.bind(function(t){return t&&t.preventDefault&&t.preventDefault(),(t||event).cancelBubble=!0,!(!gantt.defined(this.config.updates_per_second)||gantt._checkTimeout(this,this.config.updates_per_second))||a(t)},this)),s=gantt.bind(function(a){return gantt.eventRemove(document.body,e.move,i),gantt.eventRemove(document.body,e.up,s),this.dragEnd(t)},this);gantt.event(document.body,e.move,i),gantt.event(document.body,e.up,s)},checkPositionChange:function(t){var e=t.x-this.config.pos.x,a=t.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(a),2))>this.config.sensitivity},initDnDMarker:function(){var t=this.config.marker=document.createElement("div");t.className="gantt_drag_marker",t.innerHTML="Dragging object",document.body.appendChild(t)},backupEventTarget:function(t,e){if(gantt.config.touch){var a=e(t),i=a.target||a.srcElement,s=i.cloneNode(!0);this.config.original_target={target:s},this.config.backup_element=i,i.parentNode.appendChild(s),i.style.display="none",document.body.appendChild(i)}},getInputMethods:function(){var t=[];if(t.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(t){return t}}),gantt.config.touch){var e=!0;try{document.createEvent("TouchEvent")}catch(t){e=!1}e?t.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(t){return t.touches&&t.touches.length>1?null:t.touches[0]?{target:document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY),pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t}}):window.navigator.pointerEnabled?t.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(t){return"mouse"==t.pointerType?null:t}}):window.navigator.msPointerEnabled&&t.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t}})}return t},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(t,e,a){this.config={obj:t,marker:null,started:!1,pos:this.getPosition(e),sensitivity:4},this._settings&&gantt.mixin(this.config,this._settings,!0),this.traceDragEvents(t,a),gantt._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",gantt.config.touch&&this.dragMove(t,e,a.accessor)},dragMove:function(t,e,a){var i=a(e);if(i){if(!this.config.marker&&!this.config.started){var s=this.getPosition(i);if(gantt.config.touch||this.checkPositionChange(s)){if(this.config.started=!0,this.config.ignore=!1,!1===this.callEvent("onBeforeDragStart",[t,this.config.original_target]))return this.config.ignore=!0,!0;this.backupEventTarget(e,a),this.initDnDMarker(),gantt._touch_feedback(),this.callEvent("onAfterDragStart",[t,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?void 0:(i.pos=this.getPosition(i),this.config.marker.style.left=i.pos.x+"px",this.config.marker.style.top=i.pos.y+"px",this.callEvent("onDragMove",[t,i]),!1)}},dragEnd:function(t){var e=this.config.backup_element;e&&e.parentNode&&e.parentNode.removeChild(e),gantt._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(t){var e=0,a=0;return t=t||window.event,t.pageX||t.pageY?(e=t.pageX,a=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:e,y:a}}},gantt._init_grid=function(){this._click.gantt_close=this.bind(function(t,e,a){return this.close(e),!1},this),this._click.gantt_open=this.bind(function(t,e,a){return this.open(e),!1},this),this._click.gantt_row=this.bind(function(t,e,a){if(null!==e){var i=this.getTask(e);this.config.scroll_on_click&&this.showDate(i.start_date),this.callEvent("onTaskRowClick",[e,a])}},this),this._click.gantt_grid_head_cell=this.bind(function(t,e,a){var i=a.getAttribute("column_id");if(this.callEvent("onGridHeaderClick",[i,t])){if("add"==i)return void this._click.gantt_add(t,this.config.root_id);if(this.config.sort){for(var s,o=i,n=0;n<this.config.columns.length;n++)if(this.config.columns[n].name==i){s=this.config.columns[n];break}if(s&&void 0!==s.sort&&!0!==s.sort&&!(o=s.sort))return;var l=this._sort&&this._sort.direction&&this._sort.name==i?this._sort.direction:"desc";l="desc"==l?"asc":"desc",this._sort={name:i,direction:l},this.sort(o,"desc"==l)}}},this),!this.config.sort&&this.config.order_branch&&this._init_dnd(),this._click.gantt_add=this.bind(function(t,e,a){if(!this.config.readonly){var i={};return this.createTask(i,e||this.config.root_id),!1}},this),this._init_resize&&this._init_resize()},gantt._render_grid=function(){this._calc_grid_width(),this._is_grid_visible()&&this._render_grid_header()},gantt._calc_grid_width=function(){for(var t=this.getGridColumns(),e=0,a=[],i=[],s=0;s<t.length;s++){var o=parseInt(t[s].width,10);window.isNaN(o)&&(o=50,a.push(s)),i[s]=o,e+=o}if(this.config.autofit||a.length){var n=this._get_grid_width()-e;a.length>0?a.length:i.length>0&&i.length;if(a.length>0)for(var l=n/(a.length?a.length:1),s=0;s<a.length;s++){var r=a[s];i[r]+=l}else for(var l=n/(i.length?i.length:1),s=0;s<i.length;s++)i[s]+=l;for(var s=0;s<i.length;s++)t[s].width=i[s]}else this.config.grid_width=e},gantt._render_grid_header=function(){for(var t=this.getGridColumns(),e=[],a=0,i=this.locale.labels,s=this.config.scale_height-2,o=0;o<t.length;o++){var n=o==t.length-1,l=t[o];l.name||(l.name=gantt.uid()+"");var r=1*l.width;n&&this._get_grid_width()>a+r&&(l.width=r=this._get_grid_width()-a),a+=r;var c=this._sort&&l.name==this._sort.name?"<div class='gantt_sort gantt_"+this._sort.direction+"'></div>":"",d=["gantt_grid_head_cell","gantt_grid_head_"+l.name,n?"gantt_last_cell":"",this.templates.grid_header_class(l.name,l)].join(" "),u="width:"+(r-(n?1:0))+"px;",m=l.label||i["column_"+l.name];m=m||"";var p=this._waiAria.gridScaleCellAttrString(l,m),h="<div class='"+d+"' style='"+u+"' "+p+" column_id='"+l.name+"'>"+m+c+"</div>";e.push(h)}this.$grid_scale.style.height=this.config.scale_height-1+"px",this.$grid_scale.style.lineHeight=s+"px",this.$grid_scale.style.width=a-1+"px",this.$grid_scale.innerHTML=e.join("")},gantt._render_grid_item=function(t){if(!gantt._is_grid_visible())return null;for(var e,a=this.getGridColumns(),i=[],s=0;s<a.length;s++){var o,n,l,r=s==a.length-1,c=a[s];if("add"==c.name){var d=this._waiAria.gridAddButtonAttrString(c);n="<div "+d+" class='gantt_add'></div>",l=""}else n=c.template?c.template(t):t[c.name],n instanceof Date&&(n=this.templates.date_grid(n,t)),l=n,n="<div class='gantt_tree_content'>"+n+"</div>";var u="gantt_cell"+(r?" gantt_last_cell":""),m="";if(c.tree){for(var p=0;p<t.$level;p++)m+=this.templates.grid_indent(t);e=this._has_children(t.id),e?(m+=this.templates.grid_open(t),m+=this.templates.grid_folder(t)):(m+=this.templates.grid_blank(t),m+=this.templates.grid_file(t))}var h="width:"+(c.width-(r?1:0))+"px;";this.defined(c.align)&&(h+="text-align:"+c.align+";");var d=this._waiAria.gridCellAttrString(c,l);o="<div class='"+u+"' style='"+h+"' "+d+">"+m+n+"</div>",i.push(o)}var u=gantt.getGlobalTaskIndex(t.id)%2==0?"":" odd";if(u+=t.$transparent?" gantt_transparent":"",u+=t.$dataprocessor_class?" "+t.$dataprocessor_class:"",this.templates.grid_row_class){var f=this.templates.grid_row_class.call(this,t.start_date,t.end_date,t);f&&(u+=" "+f)}this.getState().selected_task==t.id&&(u+=" gantt_selected");var g=document.createElement("div");return g.className="gantt_row"+u,g.style.height=this.config.row_height+"px",g.style.lineHeight=gantt.config.row_height+"px",g.setAttribute(this.config.task_attribute,t.id),this._waiAria.taskRowAttr(t,g),g.innerHTML=i.join(""),g},gantt.open=function(t){gantt._set_item_state(t,!0),this.callEvent("onTaskOpened",[t])},gantt.close=function(t){gantt._set_item_state(t,!1),this.callEvent("onTaskClosed",[t])},gantt._set_item_state=function(t,e){t&&this._pull[t]&&(this._pull[t].$open=e,gantt._refresh_on_toggle_element(t))},gantt._refresh_on_toggle_element=function(t){this.refreshData()},gantt._is_grid_visible=function(){return this.config.grid_width&&this.config.show_grid},gantt._get_grid_width=function(){return this._is_grid_visible()?this._is_chart_visible()?this.config.grid_width:this._x:0},gantt.moveTask=function(t,e,a){var i=arguments[3];if(i){if(i===t)return;a=this.getParent(i),e=this.getTaskIndex(i)}if(t!=a){a=a||this.config.root_id;var s=this.getTask(t),o=this.getParent(s.id),n=(this.getChildren(this.getParent(s.id)),this.getChildren(a));if(-1==e&&(e=n.length+1),o==a){if(this.getTaskIndex(t)==e)return}if(!1!==this.callEvent("onBeforeTaskMove",[t,a,e])){this._replace_branch_child(o,t),n=this.getChildren(a);n[e]?n=n.slice(0,e).concat([t]).concat(n.slice(e)):n.push(t),this.setParent(s,a),this._branches[a]=n;var l=this.calculateTaskLevel(s)-s.$level;s.$level+=l;for(var r=this._getTaskTree(t),c=0;c<r.length;c++){this._pull[r[c]].$level+=l}1*e>0?s.$drop_target=i?(this.getTaskIndex(t)>this.getTaskIndex(i)?"next:":"")+i:"next:"+gantt.getPrevSibling(t):n[1*e+1]?s.$drop_target=n[1*e+1]:s.$drop_target=a,!1!==this.callEvent("onAfterTaskMove",[t,a,e])&&this.refreshData()}}},gantt._init_dnd=function(){var t=new gantt._DnD(this.$grid_data,{updates_per_second:60});this.defined(this.config.dnd_sensitivity)&&(t.config.sensitivity=this.config.dnd_sensitivity),t.attachEvent("onBeforeDragStart",this.bind(function(e,a){if(!this._locateHTML(a))return!1;this.hideQuickInfo&&this._hideQuickInfo();var i=this.locate(a),s=gantt.getTask(i);return!gantt._is_readonly(s)&&(t.config.initial_open_state=s.$open,!!this.callEvent("onRowDragStart",[i,a.target||a.srcElement,a])&&void 0)},this)),t.attachEvent("onAfterDragStart",this.bind(function(e,a){var i=this._locateHTML(a);t.config.marker.innerHTML=i.outerHTML,t.config.id=this.locate(a);var s=this.getTask(t.config.id);t.config.index=this.getTaskIndex(t.config.id),t.config.parent=s.parent,s.$open=!1,s.$transparent=!0,this.refreshData()},this)),t.lastTaskOfLevel=function(t){for(var e=gantt._order,a=gantt._pull,i=null,s=0,o=e.length;s<o;s++)a[e[s]].$level==t&&(i=a[e[s]]);return i?i.id:null},t._getGridPos=this.bind(function(t){var e=this._get_position(this.$grid_data),a=e.x,i=t.pos.y-10;i<e.y&&(i=e.y);var s=gantt.getTaskCount()*gantt.config.row_height;return i>e.y+s-this.config.row_height&&(i=e.y+s-this.config.row_height),e.x=a,e.y=i,e},this),t._getTargetY=this.bind(function(t){var e=this._get_position(this.$grid_data),a=t.pageY-e.y+gantt.getScrollState().y;return a<0&&(a=0),a},this),t._getTaskByY=this.bind(function(t,e){t=t||0,gantt.config.smart_rendering&&(t+=this.$grid_data.scrollTop);var a=Math.floor(t/this.config.row_height);return a=e<a?a-1:a,a>this._order.length-1?null:this._order[a]},this),t.attachEvent("onDragMove",this.bind(function(e,a){function i(t,e){return!gantt.isChildOf(c.id,e.id)&&(t.$level==e.$level||gantt.config.order_branch_free)}var s=t.config,o=t._getGridPos(a);s.marker.style.left=o.x+10+"px",s.marker.style.top=o.y+"px";var n=this.getTask(t.config.id),l=t._getTargetY(a),r=t._getTaskByY(l,gantt.getGlobalTaskIndex(n.id));if(this.isTaskExists(r)||(r=t.lastTaskOfLevel(gantt.config.order_branch_free?n.$level:0))==t.config.id&&(r=null),this.isTaskExists(r)){var c=this.getTask(r);if(gantt.getGlobalTaskIndex(c.id)*this.config.row_height+this.config.row_height/2<l){var d=this.getGlobalTaskIndex(c.id),u=this._pull[this._order[d+1]];if(u){if(u.id==n.id)return this.config.order_branch_free&&this.isChildOf(n.id,c.id)&&1==this.getChildren(c.id).length?void this.moveTask(n.id,this.getTaskIndex(c.id)+1,this.getParent(c.id)):void 0;c=u}else if(u=this._pull[this._order[d]],i(u,n)&&u.id!=n.id)return void this.moveTask(n.id,-1,this.getParent(u.id))}else if(this.config.order_branch_free&&c.id!=n.id&&i(c,n)){if(!this.hasChild(c.id))return c.$open=!0,void this.moveTask(n.id,-1,c.id);if(this.getGlobalTaskIndex(c.id)||this.config.row_height/3<l)return}for(var d=this.getGlobalTaskIndex(c.id),m=this._pull[this._order[d-1]],p=1;(!m||m.id==c.id)&&d-p>=0;)m=this._pull[this._order[d-p]],p++;if(n.id==c.id)return;i(c,n)&&n.id!=c.id?this.moveTask(n.id,0,0,c.id):c.$level!=n.$level-1||gantt.getChildren(c.id).length?m&&i(m,n)&&n.id!=m.id&&this.moveTask(n.id,-1,this.getParent(m.id)):this.moveTask(n.id,0,c.id)}return!0},this)),t.attachEvent("onDragEnd",this.bind(function(){var e=this.getTask(t.config.id);e.$transparent=!1,e.$open=t.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[t.config.id,t.config.parent,t.config.index])?(this.moveTask(t.config.id,t.config.index,t.config.parent),e.$drop_target=null):this.callEvent("onRowDragEnd",[t.config.id,e.$drop_target]),this.refreshData()},this))},gantt.getGridColumns=function(){return this.config.columns},gantt._has_children=function(t){return this.getChildren(t).length>0},function(){function t(t){l&&clearInterval(l);var a={x:t.clientX,y:t.clientY};l=setInterval(function(){e(a)},n)}function e(t){if(!gantt.getState().drag_mode&&!document.querySelector(".gantt_drag_marker"))return clearInterval(l),void(r=null);var e=gantt._get_position(gantt.$task),n=t.x-e.x,c=t.y-e.y,d=a(n,e.width,r?r.x:0,s),u=a(c,e.height,r?r.y:0,s);!u&&!d||r||(r={x:n,y:c},d=0,u=0),d*=gantt.config.scroll_speed||o,u*=gantt.config.scroll_speed||o,d&&u&&(Math.abs(d/5)>Math.abs(u)?u=0:Math.abs(u/5)>Math.abs(d)&&(d=0)),d||u?(r.started=!0,i(d,u)):clearInterval(l)}function a(t,e,a,i){return t<i&&(!r||r.started||t<a)?-1:e-t<i&&(!r||r.started||t>a)?1:0}function i(t,e){var a=gantt.getScrollState(),i=null,s=null;t&&(i=a.x+t),e&&(s=a.y+e),gantt.scrollTo(i,s)}var s=50,o=30,n=50,l=null,r=null;gantt.attachEvent("onGanttReady",function(){gantt.eventRemove(document.body,"mousemove",t),gantt.event(document.body,"mousemove",t)})}(),gantt._wbs={_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!(!gantt._groups||!gantt._groups.is_active())},_getWBSCode:function(t){return t?(this._isRecalcNeeded()&&this._calcWBS(),t.$virtual?"":this._isGroupSort()?t.$wbs||"":(t.$wbs||(this.reset(),this._calcWBS()),t.$wbs)):""},_setWBSCode:function(t,e){t.$wbs=e},getWBSCode:function(t){return this._getWBSCode(t)},_calcWBS:function(){if(this._isRecalcNeeded()){var t=!0;gantt.eachTask(function(e){if(t)return t=!1,void this._setWBSCode(e,"1");var a=gantt.getPrevSibling(e.id);if(null!==a){var i=gantt.getTask(a).$wbs;i&&(i=i.split("."),i[i.length-1]++,this._setWBSCode(e,i.join(".")))}else{var s=gantt.getParent(e.id);this._setWBSCode(e,gantt.getTask(s).$wbs+".1")}},gantt.config.root_id,this),this._needRecalc=!1}}},gantt.getWBSCode=function(t){return gantt._wbs.getWBSCode(t)},gantt.attachEvent("onAfterTaskMove",function(){return gantt._wbs.reset(),!0}),gantt.attachEvent("onBeforeParse",function(){return gantt._wbs.reset(),!0}),gantt.attachEvent("onAfterTaskDelete",function(){return gantt._wbs.reset(),!0}),gantt.attachEvent("onAfterTaskAdd",function(){return gantt._wbs.reset(),!0}),function(){var t=gantt._has_children;gantt._has_children=function(e){return!!t.apply(this,arguments)||!!this.isTaskExists(e)&&this.getTask(e).$has_child}}(),gantt._need_dynamic_loading=function(t){if(gantt.config.branch_loading&&gantt._load_url){if(!gantt.getUserData(t,"was_rendered")&&gantt._has_children(t)&&!gantt.hasChild(t))return!0}return!1},gantt._refresh_on_toggle_element=function(t){gantt._need_dynamic_loading(t)&&gantt.getTask(t).$open||this.refreshData()},gantt.attachEvent("onTaskOpened",function(t){if(gantt.config.branch_loading&&gantt._load_url&&gantt._need_dynamic_loading(t)){var e=gantt._load_url;e=e.replace(/(\?|&)?parent_id=.+&?/,"");var a=e.indexOf("?")>=0?"&":"?",i=0;this._cached_scroll_pos&&this._cached_scroll_pos.y&&(i=Math.max(this._cached_scroll_pos.y,0)),gantt.load(e+a+"parent_id="+encodeURIComponent(t),this._load_type,function(){i&&gantt.scrollTo(null,i)}),gantt.setUserData(t,"was_rendered",!0)}}),gantt.getGridColumns=function(){for(var t=gantt.config.columns,e=[],a=0;a<t.length;a++)t[a].hide||e.push(t[a]);return e},gantt.getGridColumn=function(t){for(var e=gantt.config.columns,a=0;a<e.length;a++)if(e[a].name==t)return e[a];return null},function(){function t(t){return(t+"").replace(i," ").replace(s," ")}function e(t){return(t+"").replace(o,"&#39;")}function a(){return!gantt.config.wai_aria_attributes}var i=new RegExp("<(?:.|\n)*?>","gm"),s=new RegExp(" +","gm"),o=new RegExp("'","gm");gantt._waiAria={getAttributeString:function(a){var i=[" "];for(var s in a){var o=e(t(a[s]));i.push(s+"='"+o+"'")}return i.push(" "),i.join(" ")},getTimelineCellAttr:function(t){return gantt._waiAria.getAttributeString({"aria-label":t})},_taskCommonAttr:function(e,a){a.setAttribute("aria-label",t(gantt.templates.tooltip_text(e.start_date,e.end_date,e))),gantt._is_readonly(e)&&a.setAttribute("aria-readonly",!0),e.$dataprocessor_class&&a.setAttribute("aria-busy",!0),a.setAttribute("aria-selected",gantt.getState().selected_task==e.id||gantt.isSelectedTask&&gantt.isSelectedTask(e.id)?"true":"false")},setTaskBarAttr:function(t,e){this._taskCommonAttr(t,e),!gantt._is_readonly(t)&&gantt.config.drag_move&&(t.id!=gantt.getState().drag_id?e.setAttribute("aria-grabbed",!1):e.setAttribute("aria-grabbed",!0))},taskRowAttr:function(t,e){this._taskCommonAttr(t,e),!gantt._is_readonly(t)&&gantt.config.order_branch&&e.setAttribute("aria-grabbed",!1),e.setAttribute("role","row"),e.setAttribute("aria-level",t.$level),gantt._has_children(t.id)&&e.setAttribute("aria-expanded",t.$open?"true":"false")},linkAttr:function(e,a){var i=gantt.config.links,s=e.type==i.finish_to_start||e.type==i.start_to_start,o=e.type==i.start_to_start||e.type==i.start_to_finish,n=gantt.locale.labels.link+" "+gantt.templates.drag_link(e.source,o,e.target,s);a.setAttribute("aria-label",t(n)),gantt._is_readonly(e)&&a.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(t){t.setAttribute("role","separator")},lightboxHiddenAttr:function(t){t.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},lightboxAttr:function(t){t.setAttribute("role","dialog"),t.setAttribute("aria-hidden","true"),t.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(t){return this.getAttributeString({role:"button","aria-label":gantt.locale.labels[t],tabindex:"0"})},lightboxHeader:function(t,e){t.setAttribute("aria-label",e)},lightboxSelectAttrString:function(t){var e="";switch(t){case"%Y":e=gantt.locale.labels.years;break;case"%m":e=gantt.locale.labels.months;break;case"%d":e=gantt.locale.labels.days;break;case"%H:%i":e=gantt.locale.labels.hours+gantt.locale.labels.minutes}return gantt._waiAria.getAttributeString({"aria-label":e})},lightboxDurationInputAttrString:function(t){return this.getAttributeString({"aria-label":gantt.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",gantt.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(t,e){var a="";if("add"==t.name)a=this.getAttributeString({role:"button","aria-label":gantt.locale.labels.new_task});else{var i={role:"columnheader","aria-label":e};gantt._sort&&gantt._sort.name==t.name&&("asc"==gantt._sort.direction?i["aria-sort"]="ascending":i["aria-sort"]="descending"),a=this.getAttributeString(i)}return a},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(t,e){return this.getAttributeString({role:"gridcell","aria-label":e})},gridAddButtonAttrString:function(t){return this.getAttributeString({role:"button","aria-label":gantt.locale.labels.new_task})},messageButtonAttrString:function(t){return"tabindex='0' role='button' aria-label='"+t+"'"},messageInfoAttr:function(t){t.setAttribute("role","alert")},messageModalAttr:function(t,e){t.setAttribute("role","dialog"),e&&t.setAttribute("aria-labelledby",e)},quickInfoAttr:function(t){t.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(t,e){t.setAttribute("aria-label",e)},quickInfoButtonAttrString:function(t){return gantt._waiAria.getAttributeString({role:"button","aria-label":t,tabindex:"0"})},tooltipAttr:function(t){t.setAttribute("role","tooltip")},tooltipVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(t){t.setAttribute("aria-hidden","true")}};for(var n in gantt._waiAria)gantt._waiAria[n]=function(t){return function(){return a()?"":t.apply(this,arguments)}}(gantt._waiAria[n])}(),gantt._scale_helpers={getSum:function(t,e,a){void 0===a&&(a=t.length-1),void 0===e&&(e=0);for(var i=0,s=e;s<=a;s++)i+=t[s];return i},setSumWidth:function(t,e,a,i){var s=e.width;void 0===i&&(i=s.length-1),void 0===a&&(a=0);var o=i-a+1;if(!(a>s.length-1||o<=0||i>s.length-1)){var n=this.getSum(s,a,i),l=t-n;this.adjustSize(l,s,a,i),this.adjustSize(-l,s,i+1),e.full_width=this.getSum(s)}},splitSize:function(t,e){for(var a=[],i=0;i<e;i++)a[i]=0;return this.adjustSize(t,a),a},adjustSize:function(t,e,a,i){a||(a=0),void 0===i&&(i=e.length-1);for(var s=i-a+1,o=this.getSum(e,a,i),n=0,l=a;l<=i;l++){var r=Math.floor(t*(o?e[l]/o:1/s));o-=e[l],t-=r,s--,e[l]+=r,n+=r}e[e.length-1]+=t},sortScales:function(t){function e(t,e){var a=new Date(1970,0,1);return gantt.date.add(a,e,t)-a}t.sort(function(t,a){return e(t.unit,t.step)<e(a.unit,a.step)?1:e(t.unit,t.step)>e(a.unit,a.step)?-1:0});for(var a=0;a<t.length;a++)t[a].index=a},primaryScale:function(){return gantt._init_template("date_scale"),{unit:gantt.config.scale_unit,step:gantt.config.step,template:gantt.templates.date_scale,date:gantt.config.date_scale,css:gantt.templates.scale_cell_class}},prepareConfigs:function(t,e,a,i){for(var s=this.splitSize(i,t.length),o=a,n=[],l=t.length-1;l>=0;l--){var r=l==t.length-1,c=this.initScaleConfig(t[l]);r&&this.processIgnores(c),this.initColSizes(c,e,o,s[l]),this.limitVisibleRange(c),r&&(o=c.full_width),n.unshift(c)}for(var l=0;l<n.length-1;l++)this.alineScaleColumns(n[n.length-1],n[l]);for(var l=0;l<n.length;l++)this.setPosSettings(n[l]);return n},setPosSettings:function(t){for(var e=0,a=t.trace_x.length;e<a;e++)t.left.push((t.width[e-1]||0)+(t.left[e-1]||0))},_ignore_time_config:function(t,e){if(this.config.skip_off_time){for(var a=!0,i=t,s=0;s<e.step;s++)s&&(i=gantt.date.add(t,s,e.unit)),a=a&&!this.isWorkTime(i,e.unit);return a}return!1},processIgnores:function(t){t.ignore_x={},t.display_count=t.count},initColSizes:function(t,e,a,i){var s=a;t.height=i;var o=void 0===t.display_count?t.count:t.display_count;o||(o=1),t.col_width=Math.floor(s/o),e&&t.col_width<e&&(t.col_width=e,s=t.col_width*o),t.width=[];for(var n=t.ignore_x||{},l=0;l<t.trace_x.length;l++)if(n[t.trace_x[l].valueOf()]||t.display_count==t.count)t.width[l]=0;else{var r=1;if("month"==t.unit){var c=Math.round((gantt.date.add(t.trace_x[l],t.step,t.unit)-t.trace_x[l])/864e5);r=c}t.width[l]=r}this.adjustSize(s-this.getSum(t.width),t.width),t.full_width=this.getSum(t.width)},initScaleConfig:function(t){var e=gantt.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{}},t);return this.eachColumn(t.unit,t.step,function(t){e.count++,e.trace_x.push(new Date(t)),e.trace_indexes[t.valueOf()]=e.trace_x.length-1}),e},iterateScales:function(t,e,a,i,s){for(var o=e.trace_x,n=t.trace_x,l=a||0,r=i||n.length-1,c=0,d=1;d<o.length;d++){var u=t.trace_indexes[+o[d]];void 0!==u&&u<=r&&(s&&s.apply(this,[c,d,l,u]),l=u,c=d)}},alineScaleColumns:function(t,e,a,i){this.iterateScales(t,e,a,i,function(a,i,s,o){var n=this.getSum(t.width,s,o-1);this.getSum(e.width,a,i-1)!=n&&this.setSumWidth(n,e,a,i-1)})},eachColumn:function(t,e,a){var i=new Date(gantt._min_date),s=new Date(gantt._max_date);gantt.date[t+"_start"]&&(i=gantt.date[t+"_start"](i));var o=new Date(i);for(+o>=+s&&(s=gantt.date.add(o,e,t));+o<+s;){a.call(this,new Date(o));var n=o.getTimezoneOffset();o=gantt.date.add(o,e,t),o=gantt._correct_dst_change(o,n,e,t),gantt.date[t+"_start"]&&(o=gantt.date[t+"_start"](o))}},limitVisibleRange:function(t){var e=t.trace_x,a=t.width.length-1,i=0;if(+e[0]<+gantt._min_date&&0!=a){var s=Math.floor(t.width[0]*((e[1]-gantt._min_date)/(e[1]-e[0])));i+=t.width[0]-s,t.width[0]=s,e[0]=new Date(gantt._min_date)}var o=e.length-1,n=e[o],l=gantt.date.add(n,t.step,t.unit);if(+l>+gantt._max_date&&o>0){var s=t.width[o]-Math.floor(t.width[o]*((l-gantt._max_date)/(l-n)));i+=t.width[o]-s,t.width[o]=s}if(i){for(var r=this.getSum(t.width),c=0,d=0;d<t.width.length;d++){var u=Math.floor(i*(t.width[d]/r));t.width[d]+=u,c+=u}this.adjustSize(i-c,t.width)}}},gantt._tasks_dnd={drag:null,_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this.clear_drag_state();var t=gantt.config.drag_mode;this.set_actions();var e={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var a in this._events)for(var i in t)this._events[a][i]=e[a];this._handlers[t.move]=this._move,this._handlers[t.resize]=this._resize,this._handlers[t.progress]=this._resize_progress},set_actions:function(){var t=gantt.$task_data;gantt.event(t,"mousemove",gantt.bind(function(t){this.on_mouse_move(t||event)},this)),gantt.event(t,"mousedown",gantt.bind(function(t){this.on_mouse_down(t||event)},this)),gantt.event(t,"mouseup",gantt.bind(function(t){this.on_mouse_up(t||event)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null}},_resize:function(t,e,a){var i=gantt.config,s=this._drag_task_coords(t,a);a.left?(t.start_date=gantt.dateFromPos(s.start+e),t.start_date||(t.start_date=new Date(gantt.getState().min_date))):(t.end_date=gantt.dateFromPos(s.end+e),t.end_date||(t.end_date=new Date(gantt.getState().max_date))),t.end_date-t.start_date<i.min_duration&&(a.left?t.start_date=gantt.calculateEndDate({start_date:t.end_date,duration:-1,task:t}):t.end_date=gantt.calculateEndDate({start_date:t.start_date,duration:1,task:t})),gantt._init_task_timing(t)},_resize_progress:function(t,e,a){var i=this._drag_task_coords(t,a),s=Math.max(0,a.pos.x-i.start);t.progress=Math.min(1,s/(i.end-i.start))},_move:function(t,e,a){var i=this._drag_task_coords(t,a),s=gantt.dateFromPos(i.start+e),o=gantt.dateFromPos(i.end+e);s?o?(t.start_date=s,t.end_date=o):(t.end_date=new Date(gantt.getState().max_date),t.start_date=gantt.dateFromPos(gantt.posFromDate(t.end_date)-(i.end-i.start))):(t.start_date=new Date(gantt.getState().min_date),t.end_date=gantt.dateFromPos(gantt.posFromDate(t.start_date)+(i.end-i.start)))},_drag_task_coords:function(t,e){return{start:e.obj_s_x=e.obj_s_x||gantt.posFromDate(t.start_date),end:e.obj_e_x=e.obj_e_x||gantt.posFromDate(t.end_date)}},_mouse_position_change:function(t,e){var a=t.x-e.x,i=t.y-e.y;return Math.sqrt(a*a+i*i)},_is_number:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},on_mouse_move:function(t){if(this.drag.start_drag){var e=gantt._get_mouse_pos(t),a=this.drag.start_drag.start_x,i=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(a)&&this._is_number(i)&&this._mouse_position_change({x:a,y:i},e)>20)&&this._start_dnd(t)}if(this.drag.mode){if(!gantt._checkTimeout(this,40))return;this._update_on_move(t)}},_update_on_move:function(t){var e=this.drag;if(e.mode){var a=gantt._get_mouse_pos(t);if(e.pos&&e.pos.x==a.x)return;e.pos=a;var i=gantt.dateFromPos(a.x);if(!i||isNaN(i.getTime()))return;var s=a.x-e.start_x,o=gantt.getTask(e.id);if(this._handlers[e.mode]){var n=gantt.mixin({},o),l=gantt.mixin({},o);this._handlers[e.mode].apply(this,[l,s,e]),gantt.mixin(o,l,!0),gantt.callEvent("onTaskDrag",[o.id,e.mode,l,n,t]),gantt.mixin(o,l,!0),gantt._update_parents(e.id),gantt.refreshTask(e.id)}}},on_mouse_down:function(t,e){if(2!=t.button){var a=gantt.locate(t),i=null;if(gantt.isTaskExists(a)&&(i=gantt.getTask(a)),!gantt._is_readonly(i)&&!this.drag.mode){this.clear_drag_state(),e=e||t.target||t.srcElement;var s=gantt._getClassName(e);if(!s||!this._get_drag_mode(s))return e.parentNode?this.on_mouse_down(t,e.parentNode):void 0;var o=this._get_drag_mode(s);if(o)if(o.mode&&o.mode!=gantt.config.drag_mode.ignore&&gantt.config["drag_"+o.mode]){if(a=gantt.locate(e),i=gantt.copy(gantt.getTask(a)||{}),gantt._is_readonly(i))return this.clear_drag_state(),!1;if(gantt._is_flex_task(i)&&o.mode!=gantt.config.drag_mode.progress)return void this.clear_drag_state();o.id=a;var n=gantt._get_mouse_pos(t);o.start_x=n.x,o.start_y=n.y,o.obj=i,this.drag.start_drag=o,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(gantt.checkEvent("onMouseDown")&&gantt.callEvent("onMouseDown",[s.split(" ")[0]])&&e.parentNode)return this.on_mouse_down(t,e.parentNode)}}},_fix_dnd_scale_time:function(t,e){function a(t){gantt.isWorkTime(t.start_date,void 0,t)||(t.start_date=gantt.calculateEndDate({start_date:t.start_date,duration:-1,unit:gantt.config.duration_unit,task:t}))}var i=gantt._tasks.unit,s=gantt._tasks.step;gantt.config.round_dnd_dates||(i="minute",s=gantt.config.time_step),e.mode==gantt.config.drag_mode.resize?e.left?(t.start_date=gantt.roundDate({date:t.start_date,unit:i,step:s}),a(t)):(t.end_date=gantt.roundDate({date:t.end_date,unit:i,step:s}),function(t){gantt.isWorkTime(new Date(t.end_date-1),void 0,t)||(t.end_date=gantt.calculateEndDate({start_date:t.end_date,duration:1,unit:gantt.config.duration_unit,task:t}))}(t)):e.mode==gantt.config.drag_mode.move&&(t.start_date=gantt.roundDate({date:t.start_date,unit:i,step:s}),a(t),t.end_date=gantt.calculateEndDate(t))},_fix_working_times:function(t,e){var e=e||{mode:gantt.config.drag_mode.move};gantt.config.work_time&&gantt.config.correct_work_time&&(e.mode==gantt.config.drag_mode.resize?e.left?t.start_date=gantt.getClosestWorkTime({date:t.start_date,dir:"future",task:t}):t.end_date=gantt.getClosestWorkTime({date:t.end_date,dir:"past",task:t}):e.mode==gantt.config.drag_mode.move&&gantt.correctTaskWorkTime(t))},on_mouse_up:function(t){var e=this.drag;if(e.mode&&e.id){var a=gantt.getTask(e.id);if(gantt.config.work_time&&gantt.config.correct_work_time&&this._fix_working_times(a,e),this._fix_dnd_scale_time(a,e),gantt._init_task_timing(a),this._fireEvent("before_finish",e.mode,[e.id,e.mode,gantt.copy(e.obj),t])){var i=e.id;gantt._init_task_timing(a),this.clear_drag_state(),gantt.updateTask(a.id),this._fireEvent("after_finish",e.mode,[i,e.mode,t])}else e.obj._dhx_changed=!1,gantt.mixin(a,e.obj,!0),gantt.updateTask(a.id)}this.clear_drag_state()},_get_drag_mode:function(t){var e=gantt.config.drag_mode,a=(t||"").split(" "),i=a[0],s={mode:null,left:null};switch(i){case"gantt_task_line":case"gantt_task_content":s.mode=e.move;break;case"gantt_task_drag":s.mode=e.resize,a[1]&&-1!==a[1].indexOf("left",a[1].length-"left".length)?s.left=!0:s.left=!1;break;case"gantt_task_progress_drag":s.mode=e.progress;break;case"gantt_link_control":case"gantt_link_point":s.mode=e.ignore;break;default:s=null}return s},_start_dnd:function(t){var e=this.drag=this.drag.start_drag;delete e.start_drag;var a=gantt.config,i=e.id;a["drag_"+e.mode]&&gantt.callEvent("onBeforeDrag",[i,e.mode,t])&&this._fireEvent("before_start",e.mode,[i,e.mode,t])?(delete e.start_drag,gantt.callEvent("onTaskDragStart",[])):this.clear_drag_state()},_fireEvent:function(t,e,a){gantt.assert(this._events[t],"Invalid stage:{"+t+"}");var i=this._events[t][e];return gantt.assert(i,"Unknown after drop mode:{"+e+"}"),gantt.assert(a,"Invalid event arguments"),!gantt.checkEvent(i)||gantt.callEvent(i,a)}},gantt.roundTaskDates=function(t){var e=gantt._tasks_dnd.drag;e||(e={mode:gantt.config.drag_mode.move}),gantt._tasks_dnd._fix_dnd_scale_time(t,e)},gantt._render_link=function(t){for(var e=this.getLink(t),a=gantt._get_link_renderers(),i=0;i<a.length;i++)a[i].render_item(e)},gantt._get_link_type=function(t,e){var a=null;return t&&e?a=gantt.config.links.start_to_start:!t&&e?a=gantt.config.links.finish_to_start:t||e?t&&!e&&(a=gantt.config.links.start_to_finish):a=gantt.config.links.finish_to_finish,a},gantt.isLinkAllowed=function(t,e,a,i){var s=null;if(!(s="object"==(void 0===t?"undefined":l()(t))?t:{source:t,target:e,type:this._get_link_type(a,i)}))return!1;if(!(s.source&&s.target&&s.type))return!1;if(s.source==s.target)return!1;var o=!0;return this.checkEvent("onLinkValidation")&&(o=this.callEvent("onLinkValidation",[s])),o},gantt._render_link_element=function(t){var e=this._path_builder.get_points(t),a=gantt._drawer,i=a.get_lines(e),s=document.createElement("div"),o="gantt_task_link";t.color&&(o+=" gantt_link_inline_color");var n=this.templates.link_class?this.templates.link_class(t):"";n&&(o+=" "+n),this.config.highlight_critical_path&&this.isCriticalLink&&this.isCriticalLink(t)&&(o+=" gantt_critical_link"),s.className=o,s.setAttribute(gantt.config.link_attribute,t.id);for(var l=0;l<i.length;l++){l==i.length-1&&(i[l].size-=gantt.config.link_arrow_size);var r=a.render_line(i[l],i[l+1]);t.color&&(r.firstChild.style.backgroundColor=t.color),s.appendChild(r)}var c=i[i.length-1].direction,d=gantt._render_link_arrow(e[e.length-1],c);return t.color&&(d.style.borderColor=t.color),s.appendChild(d),gantt._waiAria.linkAttr(t,s),s},gantt._render_link_arrow=function(t,e){var a=document.createElement("div"),i=gantt._drawer,s=t.y,o=t.x,n=gantt.config.link_arrow_size,l=gantt.config.row_height,r="gantt_link_arrow gantt_link_arrow_"+e;switch(e){case i.dirs.right:s-=(n-l)/2,o-=n;break;case i.dirs.left:s-=(n-l)/2;break;case i.dirs.up:o-=n;break;case i.dirs.down:s+=2*n,o-=n}return a.style.cssText=["top:"+s+"px","left:"+o+"px"].join(";"),a.className=r,a},gantt._drawer={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(t){this.current_pos=gantt.copy(t)},get_lines:function(t){this.clear(),this.point(t[0]);for(var e=1;e<t.length;e++)this.line_to(t[e]);return this.get_path()},line_to:function(t){var e=gantt.copy(t),a=this.current_pos,i=this._get_line(a,e);this.path.push(i),this.current_pos=e},get_path:function(){return this.path},get_wrapper_sizes:function(t){var e,a=gantt.config.link_wrapper_width,i=(gantt.config.link_line_width,t.y+(gantt.config.row_height-a)/2);switch(t.direction){case this.dirs.left:e={top:i,height:a,lineHeight:a,left:t.x-t.size-a/2,width:t.size+a};break;case this.dirs.right:e={top:i,lineHeight:a,height:a,left:t.x-a/2,width:t.size+a};break;case this.dirs.up:e={top:i-t.size,lineHeight:t.size+a,height:t.size+a,left:t.x-a/2,width:a};break;case this.dirs.down:e={top:i,lineHeight:t.size+a,height:t.size+a,left:t.x-a/2,width:a}}return e},get_line_sizes:function(t){var e,a=gantt.config.link_line_width,i=gantt.config.link_wrapper_width,s=t.size+a;switch(t.direction){case this.dirs.left:case this.dirs.right:e={height:a,width:s,marginTop:(i-a)/2,marginLeft:(i-a)/2};break;case this.dirs.up:case this.dirs.down:e={height:s,width:a,marginTop:(i-a)/2,marginLeft:(i-a)/2}}return e},render_line:function(t){var e=this.get_wrapper_sizes(t),a=document.createElement("div");a.style.cssText=["top:"+e.top+"px","left:"+e.left+"px","height:"+e.height+"px","width:"+e.width+"px"].join(";"),a.className="gantt_line_wrapper";var i=this.get_line_sizes(t),s=document.createElement("div");return s.style.cssText=["height:"+i.height+"px","width:"+i.width+"px","margin-top:"+i.marginTop+"px","margin-left:"+i.marginLeft+"px"].join(";"),s.className="gantt_link_line_"+t.direction,a.appendChild(s),a},_get_line:function(t,e){var a=this.get_direction(t,e),i={x:t.x,y:t.y,direction:this.get_direction(t,e)};return a==this.dirs.left||a==this.dirs.right?i.size=Math.abs(t.x-e.x):i.size=Math.abs(t.y-e.y),i},get_direction:function(t,e){return e.x<t.x?this.dirs.left:e.x>t.x?this.dirs.right:e.y>t.y?this.dirs.down:this.dirs.up}},gantt._y_from_ind=function(t){return t*gantt.config.row_height},gantt._path_builder={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(t){return t?(this.path.push(gantt.copy(t)),t):this.current()},point_to:function(t,e,a){a=a?{x:a.x,y:a.y}:gantt.copy(this.point());var i=gantt._drawer.dirs;switch(t){case i.left:a.x-=e;break;case i.right:a.x+=e;break;case i.up:a.y-=e;break;case i.down:a.y+=e}return this.point(a)},get_points:function(t){var e=this.get_endpoint(t),a=gantt.config,i=e.e_y-e.y,s=e.e_x-e.x,o=gantt._drawer.dirs;this.clear(),this.point({x:e.x,y:e.y});var n=2*a.link_arrow_size,l=e.e_x>e.x;if(t.type==gantt.config.links.start_to_start)this.point_to(o.left,n),l?(this.point_to(o.down,i),this.point_to(o.right,s)):(this.point_to(o.right,s),this.point_to(o.down,i)),this.point_to(o.right,n);else if(t.type==gantt.config.links.finish_to_start)if(l=e.e_x>e.x+2*n,this.point_to(o.right,n),l)s-=n,this.point_to(o.down,i),this.point_to(o.right,s);else{s-=2*n;var r=i>0?1:-1;this.point_to(o.down,r*(a.row_height/2)),this.point_to(o.right,s),this.point_to(o.down,r*(Math.abs(i)-a.row_height/2)),this.point_to(o.right,n)}else if(t.type==gantt.config.links.finish_to_finish)this.point_to(o.right,n),l?(this.point_to(o.right,s),this.point_to(o.down,i)):(this.point_to(o.down,i),this.point_to(o.right,s)),this.point_to(o.left,n);else if(t.type==gantt.config.links.start_to_finish)if(l=e.e_x>e.x-2*n,this.point_to(o.left,n),l){s+=2*n;var r=i>0?1:-1;this.point_to(o.down,r*(a.row_height/2)),this.point_to(o.right,s),this.point_to(o.down,r*(Math.abs(i)-a.row_height/2)),this.point_to(o.left,n)}else s+=n,this.point_to(o.down,i),this.point_to(o.right,s);return this.path},get_endpoint:function(t){var e=gantt.config.links,a=!1,i=!1;t.type==e.start_to_start?a=i=!0:t.type==e.finish_to_finish?a=i=!1:t.type==e.finish_to_start?(a=!1,i=!0):t.type==e.start_to_finish?(a=!0,i=!1):gantt.assert(!1,"Invalid link type");var s=gantt._get_task_visible_pos(gantt._pull[t.source],a),o=gantt._get_task_visible_pos(gantt._pull[t.target],i);return{x:s.x,e_x:o.x,y:s.y,e_y:o.y}}},gantt._init_links_dnd=function(){function t(t,e,a){var i=gantt._get_task_pos(t,!!e);return i.y+=gantt.config.row_height/2,a=a||0,i.x+=(e?-1:1)*a,i}function e(t){var e=i(),a=["gantt_link_tooltip"];e.from&&e.to&&(gantt.isLinkAllowed(e.from,e.to,e.from_start,e.to_start)?a.push("gantt_allowed_link"):a.push("gantt_invalid_link"));var s=gantt.templates.drag_link_class(e.from,e.from_start,e.to,e.to_start);s&&a.push(s);var o="<div class='"+s+"'>"+gantt.templates.drag_link(e.from,e.from_start,e.to,e.to_start)+"</div>";t.innerHTML=o}function a(t,e){t.style.left=e.x+5+"px",t.style.top=e.y+5+"px"}function i(){return{from:gantt._link_source_task,to:gantt._link_target_task,from_start:gantt._link_source_task_start,to_start:gantt._link_target_task_start}}function s(){gantt._link_source_task=gantt._link_source_task_start=gantt._link_target_task=null,gantt._link_target_task_start=!0}function o(t,e,a,s){var o=r(),c=i(),d=["gantt_link_direction"];gantt.templates.link_direction_class&&d.push(gantt.templates.link_direction_class(c.from,c.from_start,c.to,c.to_start));var u=Math.sqrt(Math.pow(a-t,2)+Math.pow(s-e,2));if(u=Math.max(0,u-3)){o.className=d.join(" ");var m=(s-e)/(a-t),p=Math.atan(m);2==l(t,a,e,s)?p+=Math.PI:3==l(t,a,e,s)&&(p-=Math.PI);var h=Math.sin(p),f=Math.cos(p),g=Math.round(e),_=Math.round(t),v=["-webkit-transform: rotate("+p+"rad)","-moz-transform: rotate("+p+"rad)","-ms-transform: rotate("+p+"rad)","-o-transform: rotate("+p+"rad)","transform: rotate("+p+"rad)","width:"+Math.round(u)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){v.push('-ms-filter: "'+n(h,f)+'"');var b=Math.abs(Math.round(t-a)),C=Math.abs(Math.round(s-e));switch(l(t,a,e,s)){case 1:g-=C;break;case 2:_-=b,g-=C;break;case 3:_-=b}}v.push("top:"+g+"px"),v.push("left:"+_+"px"),o.style.cssText=v.join(";")}}function n(t,e){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+e+",M12 = -"+t+",M21 = "+t+",M22 = "+e+",SizingMethod = 'auto expand')"}function l(t,e,a,i){return e>=t?i<=a?1:4:i<=a?2:3}function r(){return d._direction||(d._direction=document.createElement("div"),gantt.$task_links.appendChild(d._direction)),d._direction}function c(){d._direction&&(d._direction.parentNode&&d._direction.parentNode.removeChild(d._direction),d._direction=null)}var d=new gantt._DnD(this.$task_bars,{sensitivity:0,updates_per_second:60});d.attachEvent("onBeforeDragStart",gantt.bind(function(e,a){var i=a.target||a.srcElement;if(s(),gantt.getState().drag_id)return!1;if(gantt._locate_css(i,"gantt_link_point")){gantt._locate_css(i,"task_left")&&(gantt._link_source_task_start=!0);var o=gantt._link_source_task=this.locate(a),n=gantt.getTask(o);if(gantt._is_readonly(n))return s(),!1;var l=0;return gantt._get_safe_type(n.type)==gantt.config.types.milestone&&(l=(gantt._get_visible_milestone_width()-gantt._get_milestone_width())/2),this._dir_start=t(n,!!gantt._link_source_task_start,l),!0}return!1},this)),d.attachEvent("onAfterDragStart",gantt.bind(function(t,a){this.config.touch&&(this._show_link_points=!0,this.refreshData()),e(d.config.marker)},this)),d.attachEvent("onDragMove",gantt.bind(function(i,s){var n=d.config,l=d.getPosition(s);a(n.marker,l);var r=gantt._is_link_drop_area(s),c=gantt._link_target_task,u=gantt._link_landing,m=gantt._link_target_task_start,p=gantt.locate(s),h=!0;if(r&&(h=!gantt._locate_css(s,"task_right"),r=!!p),gantt._link_target_task=p,gantt._link_landing=r,gantt._link_target_task_start=h,r){var f=gantt.getTask(p),g=gantt._locate_css(s,"gantt_link_control"),_=0;g&&(_=Math.floor(g.offsetWidth/2)),this._dir_end=t(f,!!gantt._link_target_task_start,_)}else this._dir_end=gantt._get_mouse_pos(s);var v=!(u==r&&c==p&&m==h);return v&&(c&&gantt.refreshTask(c,!1),p&&gantt.refreshTask(p,!1)),v&&e(n.marker),o(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),d.attachEvent("onDragEnd",gantt.bind(function(){var t=i();if(t.from&&t.to&&t.from!=t.to){var e=gantt._get_link_type(t.from_start,t.to_start),a={source:t.from,target:t.to,type:e};a.type&&gantt.isLinkAllowed(a)&&gantt.addLink(a)}s(),this.config.touch?(this._show_link_points=!1,this.refreshData()):(t.from&&gantt.refreshTask(t.from,!1),t.to&&gantt.refreshTask(t.to,!1)),c()},this)),gantt._is_link_drop_area=function(t){return!!gantt._locate_css(t,"gantt_link_control")}},gantt._get_link_state=function(){return{link_landing_area:this._link_landing,link_target_id:this._link_target_task,link_target_start:this._link_target_task_start,link_source_id:this._link_source_task,link_source_start:this._link_source_task_start}},gantt._task_renderer=function(t,e,a,i){return this._task_area_pulls||(this._task_area_pulls={}),this._task_area_renderers||(this._task_area_renderers={}),this._task_area_renderers[t]?this._task_area_renderers[t]:(e||this.assert(!1,"Invalid renderer call"),a&&a.setAttribute(this.config.layer_attribute,!0),this._task_area_renderers[t]={render_item:function(t,s){if(s=s||a,i&&!i(t))return void this.remove_item(t.id);var o=e.call(gantt,t);this.append(t,o,s)},clear:function(e){this.rendered=gantt._task_area_pulls[t]={},this.clear_container(e)},clear_container:function(t){(t=t||a)&&(t.innerHTML="")},render_items:function(t,e){e=e||a;var i=document.createDocumentFragment();this.clear(e);for(var s=0,o=t.length;s<o;s++)this.render_item(t[s],i);e.appendChild(i)},append:function(t,e,a){if(!e)return void(this.rendered[t.id]&&this.remove_item(t.id));this.rendered[t.id]&&this.rendered[t.id].parentNode?this.replace_item(t.id,e):a.appendChild(e),this.rendered[t.id]=e},replace_item:function(t,e){var a=this.rendered[t];a&&a.parentNode&&a.parentNode.replaceChild(e,a),this.rendered[t]=e},remove_item:function(t){this.hide(t),delete this.rendered[t]},hide:function(t){var e=this.rendered[t];e&&e.parentNode&&e.parentNode.removeChild(e)},restore:function(t){var e=this.rendered[t.id];e?e.parentNode||this.append(t,e,a):this.render_item(t,a)},change_id:function(t,e){this.rendered[e]=this.rendered[t],delete this.rendered[t]},rendered:this._task_area_pulls[t],node:a,unload:function(){this.clear(),delete gantt._task_area_renderers[t],delete gantt._task_area_pulls[t]}},this._task_area_renderers[t])},gantt._clear_renderers=function(){for(var t in this._task_area_renderers)this._task_renderer(t).unload()},gantt._is_layer=function(t){return t&&t.hasAttribute&&t.hasAttribute(this.config.layer_attribute)},gantt._show_link_points=!1,gantt._init_tasks=function(){function t(t,e,a,i){for(var s=0;s<t.length;s++)t[s].change_id(e,a),t[s].render_item(i)}this._tasks={col_width:this.config.columnWidth,width:[],full_width:0,trace_x:[],rendered:{}},this._click.gantt_task_link=this.bind(function(t,e){var a=this.locate(t,gantt.config.link_attribute);a&&this.callEvent("onLinkClick",[a,t])},this),this._click.gantt_scale_cell=this.bind(function(t,e){var a=gantt._get_mouse_pos(t),i=gantt.dateFromPos(a.x),s=Math.floor(gantt._day_index_by_date(i)),o=gantt._tasks.trace_x[s];gantt.callEvent("onScaleClick",[t,o])},this),this._dbl_click.gantt_task_link=this.bind(function(t,e,a){var e=this.locate(t,gantt.config.link_attribute);this._delete_link_handler(e,t)},this),this._dbl_click.gantt_link_point=this.bind(function(t,e,a){var e=this.locate(t),i=this.getTask(e),s=null;return a.parentNode&&gantt._getClassName(a.parentNode)&&(s=gantt._getClassName(a.parentNode).indexOf("_left")>-1?i.$target[0]:i.$source[0]),s&&this._delete_link_handler(s,t),!1},this),this._tasks_dnd.init(),this._init_links_dnd(),this._link_layers.clear();var e=this.addLinkLayer({renderer:this._render_link_element,container:this.$task_links,filter:gantt._create_filter([gantt._filter_link,gantt._is_chart_visible].concat(this._get_link_filters()))});this._linkRenderer=this._link_layers.getRenderer(e),this._task_layers.clear();var a=this.addTaskLayer({renderer:this._render_task_element,container:this.$task_bars,filter:gantt._create_filter([gantt._filter_task,gantt._is_chart_visible].concat(this._get_task_filters()))});this._taskRenderer=this._task_layers.getRenderer(a),this.addTaskLayer({renderer:this._render_grid_item,container:this.$grid_data,filter:gantt._create_filter([gantt._filter_task,gantt._is_grid_visible].concat(this._get_task_filters()))}),this.addTaskLayer({renderer:this._render_bg_line,container:this.$task_bg,filter:gantt._create_filter([gantt._filter_task,gantt._is_chart_visible,gantt._is_std_background].concat(this._get_task_filters()))}),this._onTaskIdChange&&this.detachEvent(this._onTaskIdChange),this._onTaskIdChange=this.attachEvent("onTaskIdChange",function(e,a){t(this._get_task_renderers(),e,a,this.getTask(a))}),this._onLinkIdChange&&this.detachEvent(this._onLinkIdChange),this._onLinkIdChange=this.attachEvent("onLinkIdChange",function(e,a){t(this._get_link_renderers(),e,a,this.getLink(a))})},gantt._get_task_filters=function(){return[]},gantt._get_link_filters=function(){return[]},gantt._is_chart_visible=function(){return!!this.config.show_chart},gantt._filter_task=function(t,e){var a=null,i=null;if(this.config.start_date&&this.config.end_date){if(this._isAllowedUnscheduledTask(e))return!0;if(a=this.config.start_date.valueOf(),i=this.config.end_date.valueOf(),+e.start_date>i||+e.end_date<+a)return!1}return!0},gantt._filter_link=function(t,e){return!!this.config.show_links&&(!(!gantt.isTaskVisible(e.source)||!gantt.isTaskVisible(e.target)||gantt._isAllowedUnscheduledTask(gantt.getTask(e.source))||gantt._isAllowedUnscheduledTask(gantt.getTask(e.target)))&&this.callEvent("onBeforeLinkDisplay",[t,e]))},gantt._is_std_background=function(){return!this.config.static_background},gantt._delete_link_handler=function(t,e){if(t&&this.callEvent("onLinkDblClick",[t,e])){var a=gantt.getLink(t);if(gantt._is_readonly(a))return;var i=gantt.locale.labels.link+" "+this.templates.link_description(this.getLink(t))+" "+gantt.locale.labels.confirm_link_deleting;window.setTimeout(function(){gantt._dhtmlx_confirm(i,"",function(){gantt.deleteLink(t)})},gantt.config.touch?300:1)}},gantt.getTaskNode=function(t){return this._taskRenderer.rendered[t]},gantt.getLinkNode=function(t){return this._linkRenderer.rendered[t]},gantt._get_tasks_data=function(){for(var t=[],e=this._get_data_range(),a=0;a<e.length;a++){var i=this._pull[e[a]];i.$index=a,this.resetProjectDates(i),t.push(i)}return t},gantt._get_data_range=function(){return this._order},gantt._get_links_data=function(){return this._links.slice()},gantt._render_data=function(){this.callEvent("onBeforeDataRender",[]),this._order_synced?this._order_synced=!1:this._sync_order();for(var t=this._get_tasks_data(),e=this._get_task_renderers(),a=0;a<e.length;a++)e[a].clear();var i=gantt._get_links_data();e=this._get_link_renderers();for(var a=0;a<e.length;a++)e[a].clear();this._update_layout_sizes(),this._scroll_resize();for(var e=this._get_task_renderers(),a=0;a<e.length;a++)e[a].render_items(t);var i=gantt._get_links_data();e=this._get_link_renderers();for(var a=0;a<e.length;a++)e[a].render_items(i);this.callEvent("onDataRender",[])},gantt._update_layout_sizes=function(){var t=this._tasks;t.bar_height=this._get_task_height();var e=Math.max(gantt._y-(gantt._scroll_sizes().x?gantt._scroll_sizes().scroll_size+1:0)-1,0);this.$task_data.style.height=Math.max(e-this.config.scale_height,0)+"px",gantt.config.smart_rendering?this.$task_bg.style.height=gantt.config.row_height*this.getVisibleTaskCount()+"px":this.$task_bg.style.height="",this.$task_bg.style.backgroundImage="";for(var a=this.$task_data.childNodes,i=0,s=a.length;i<s;i++){var o=a[i];this._is_layer(o)&&o.style&&(o.style.width=t.full_width+"px")}if(this._is_grid_visible()){for(var n=this.getGridColumns(),l=0,i=0;i<n.length;i++)l+=n[i].width;this.$grid_data.style.width=Math.max(l-1,0)+"px"}},gantt._scale_range_unit=function(){var t=this.config.scale_unit;if(this.config.scale_offset_minimal){var e=this._get_scales();t=e[e.length-1].unit}return t},gantt._init_tasks_range=function(){var t=this._scale_range_unit();if(this.config.start_date&&this.config.end_date){this._min_date=this.date[t+"_start"](new Date(this.config.start_date));var e=new Date(this.config.end_date),a=this.date[t+"_start"](new Date(e));return e=+e!=+a?this.date.add(a,1,t):a,void(this._max_date=e)}this._get_tasks_data();var i=this.getSubtaskDates();this._min_date=i.start_date,this._max_date=i.end_date,this._max_date&&this._min_date||(this._min_date=new Date,this._max_date=new Date),this._min_date=this.date[t+"_start"](this._min_date),this._min_date=this.calculateEndDate({start_date:this.date[t+"_start"](this._min_date),duration:-1,unit:t}),this._max_date=this.date[t+"_start"](this._max_date),this._max_date=this.calculateEndDate({start_date:this._max_date,duration:2,unit:t})},gantt._prepare_scale_html=function(t,e,a){var i=[],s=null,o=null,n=null;(t.template||t.date)&&(o=t.template||this.date.date_to_str(t.date));var l=0,r=t.count;!this.config.smart_scales||isNaN(e)||isNaN(a)||(l=this._findBinary(t.left,e),r=this._findBinary(t.left,a)+1),n=t.css||function(){},!t.css&&this.config.inherit_scale_class&&(n=gantt.templates.scale_cell_class);for(var c=l;c<r&&t.trace_x[c];c++){s=new Date(t.trace_x[c]);var d=o.call(this,s),u=t.width[c],m=t.height-(this.config.smart_scales&&t.index?1:0),p=t.left[c],h="",f="",g="";if(u){h="width:"+u+"px;height:"+m+"px;"+(this.config.smart_scales?"position:absolute;left:"+p+"px":""),g="gantt_scale_cell"+(c==t.count-1?" gantt_last_cell":""),f=n.call(this,s),f&&(g+=" "+f);var _=gantt._waiAria.getTimelineCellAttr(d),v="<div class='"+g+"'"+_+" style='"+h+"'>"+d+"</div>";i.push(v)}}return i.join("")},gantt._get_scales=function(){var t=this._scale_helpers,e=[t.primaryScale()].concat(this.config.subscales);return t.sortScales(e),e},gantt._get_scale_chunk_html=function(t,e,a){for(var i=[],s=this.templates.scale_row_class,o=0;o<t.length;o++){var n="gantt_scale_line",l=s(t[o]);l&&(n+=" "+l),i.push('<div class="'+n+'" style="height:'+t[o].height+"px;position:relative;line-height:"+t[o].height+'px">'+this._prepare_scale_html(t[o],e,a)+"</div>")}return i.join("")},gantt._refreshScales=function(){if(this.config.smart_scales&&this.config.show_chart){var t=this._scales,e=gantt.getScrollState().x;this.$task_scale.innerHTML=this._get_scale_chunk_html(t,e,e+this._x-this._get_grid_width())}},gantt.attachEvent("onGanttScroll",function(t,e,a,i){gantt.config.smart_scales&&t!=a&&gantt._refreshScales()}),gantt.attachEvent("onGanttRender",function(){gantt.config.smart_scales&&gantt._refreshScales()}),gantt._render_tasks_scales=function(){this._init_tasks_range(),this._scroll_resize(),this._set_sizes();var t="",e=0,a=0;if(this._is_chart_visible()){var i=this._scale_helpers,s=this._get_scales();a=this.config.scale_height-1;var o=this._get_resize_options(),n=o.x?Math.max(this.config.autosize_min_width,0):Math.max(this._x-this._get_grid_width()-2,0),l=i.prepareConfigs(s,this.config.min_column_width,n,a),r=this._tasks=l[l.length-1];this._scales=l,t=this._get_scale_chunk_html(l,0,this._x-this._get_grid_width());var c=this._scroll_sizes();e=r.full_width+(this._scroll_sizes().y?c.scroll_size:0)+"px",r.full_width+"px",a+="px"}this._is_chart_visible()?this.$task.style.display="":this.$task.style.display="none",this.$task_scale.style.height=a,this.$task_data.style.width=this.$task_scale.style.width=e,this.$task_scale.innerHTML=t},gantt._render_bg_line=function(t){var e=gantt._tasks,a=e.count,i=document.createElement("div");if(gantt.config.show_task_cells)for(var s=0;s<a;s++){var o=e.width[s],n="";if(o>0){var l=document.createElement("div");l.style.width=o+"px",n="gantt_task_cell"+(s==a-1?" gantt_last_cell":""),c=this.templates.task_cell_class(t,e.trace_x[s]),c&&(n+=" "+c),l.className=n,i.appendChild(l)}}var r=gantt.getGlobalTaskIndex(t.id)%2!=0,c=gantt.templates.task_row_class(t.start_date,t.end_date,t),d="gantt_task_row"+(r?" odd":"")+(c?" "+c:"");return this.getState().selected_task==t.id&&(d+=" gantt_selected"),i.className=d,gantt.config.smart_rendering&&(i.style.position="absolute",i.style.top=this.getTaskTop(t.id)+"px",i.style.width="100%"),i.style.height=gantt.config.row_height+"px",i.setAttribute(this.config.task_attribute,t.id),i},gantt._adjust_scales=function(){if(this.config.fit_tasks){var t=+this._min_date,e=+this._max_date;if(this._init_tasks_range(),+this._min_date!=t||+this._max_date!=e)return this.render(),this.callEvent("onScaleAdjusted",[]),!0}return!1},gantt.refreshTask=function(t,e){var a=this._get_task_renderers(),i=this.getTask(t);if(i&&this.isTaskVisible(t)){for(var s=0;s<a.length;s++)a[s].render_item(i);if(void 0!==e&&!e)return;for(var s=0;s<i.$source.length;s++)gantt.refreshLink(i.$source[s]);for(var s=0;s<i.$target.length;s++)gantt.refreshLink(i.$target[s])}},gantt.refreshLink=function(t){if(this.isLinkExists(t))this._render_link(t);else for(var e=this._get_link_renderers(),a=0;a<e.length;a++)e[a].remove_item(t)},gantt._combine_item_class=function(t,e,a){var i=[t];e&&i.push(e);var s=gantt.getState(),o=this.getTask(a);this._get_safe_type(o.type)==this.config.types.milestone&&i.push("gantt_milestone"),this._get_safe_type(o.type)==this.config.types.project&&i.push("gantt_project"),this._is_flex_task(o)&&i.push("gantt_dependent_task"),this.config.select_task&&a==s.selected_task&&i.push("gantt_selected"),a==s.drag_id&&(i.push("gantt_drag_"+s.drag_mode),s.touch_drag&&i.push("gantt_touch_"+s.drag_mode));var n=gantt._get_link_state();if(n.link_source_id==a&&i.push("gantt_link_source"),n.link_target_id==a&&i.push("gantt_link_target"),this.config.highlight_critical_path&&this.isCriticalTask&&this.isCriticalTask(o)&&i.push("gantt_critical_task"),n.link_landing_area&&n.link_target_id&&n.link_source_id&&n.link_target_id!=n.link_source_id){var l=n.link_source_id,r=n.link_source_start,c=n.link_target_start,d=gantt.isLinkAllowed(l,a,r,c),u="";u=d?c?"link_start_allow":"link_finish_allow":c?"link_start_deny":"link_finish_deny",i.push(u)}return i.join(" ")},gantt._render_pair=function(t,e,a,i){var s=gantt.getState();+a.start_date>=+s.min_date&&t.appendChild(i(e+" task_left")),+a.end_date<=+s.max_date&&t.appendChild(i(e+" task_right"))},gantt._get_task_height=function(){var t=this.config.task_height;return"full"==t&&(t=this.config.row_height-5),t=Math.min(t,this.config.row_height),Math.max(t,0)},gantt._get_milestone_width=function(){return this._get_task_height()},gantt._get_visible_milestone_width=function(){var t=gantt._get_task_height();return Math.sqrt(2*t*t)},gantt.getTaskPosition=function(t,e,a){var i=this.posFromDate(e||t.start_date),s=this.posFromDate(a||t.end_date);return s=Math.max(i,s),{left:i,top:this.getTaskTop(t.id),height:gantt._get_task_height(),width:Math.max(s-i,0)}},gantt._get_task_width=function(t,e,a){return Math.round(this._get_task_pos(t,!1).x-this._get_task_pos(t,!0).x)},gantt._is_readonly=function(t){return(!t||!t[this.config.editable_property])&&(t&&t[this.config.readonly_property]||this.config.readonly)},gantt._task_default_render=function(t){if(!this._isAllowedUnscheduledTask(t)){var e=this._get_task_pos(t),a=this.config,i=this._get_task_height(),s=Math.floor((this.config.row_height-i)/2);this._get_safe_type(t.type)==a.types.milestone&&a.link_line_width>1&&(s+=1);var o=document.createElement("div"),n=gantt._get_task_width(t),l=this._get_safe_type(t.type);o.setAttribute(this.config.task_attribute,t.id),a.show_progress&&l!=this.config.types.milestone&&this._render_task_progress(t,o,n);var r=gantt._render_task_content(t,n);t.textColor&&(r.style.color=t.textColor),o.appendChild(r);var c=this._combine_item_class("gantt_task_line",this.templates.task_class(t.start_date,t.end_date,t),t.id);(t.color||t.progressColor||t.textColor)&&(c+=" gantt_task_inline_color"),o.className=c;var d=["left:"+e.x+"px","top:"+(s+e.y)+"px","height:"+i+"px","line-height:"+Math.max(i<30?i-2:i,0)+"px","width:"+n+"px"];t.color&&d.push("background-color:"+t.color),t.textColor&&d.push("color:"+t.textColor),o.style.cssText=d.join(";");var u=this._render_leftside_content(t);return u&&o.appendChild(u),u=this._render_rightside_content(t),u&&o.appendChild(u),gantt._waiAria.setTaskBarAttr(t,o),this._is_readonly(t)||(a.drag_resize&&!this._is_flex_task(t)&&l!=this.config.types.milestone&&gantt._render_pair(o,"gantt_task_drag",t,function(t){var e=document.createElement("div");return e.className=t,e}),a.drag_links&&this.config.show_links&&gantt._render_pair(o,"gantt_link_control",t,function(t){var e=document.createElement("div");e.className=t,e.style.cssText=["height:"+i+"px","line-height:"+i+"px"].join(";");var a=document.createElement("div");return a.className="gantt_link_point",a.style.display=gantt._show_link_points?"block":"",e.appendChild(a),e})),o}},gantt._render_task_element=function(t){var e=this.config.type_renderers,a=e[this._get_safe_type(t.type)],i=this._task_default_render;return a||(a=i),a.call(this,t,this.bind(i,this))},gantt._render_side_content=function(t,e,a){if(!e)return null;var i=e(t.start_date,t.end_date,t);if(!i)return null;var s=document.createElement("div");return s.className="gantt_side_content "+a,s.innerHTML=i,s},gantt._render_leftside_content=function(t){var e="gantt_left "+gantt._get_link_crossing_css(!0,t);return gantt._render_side_content(t,this.templates.leftside_text,e)},gantt._render_rightside_content=function(t){var e="gantt_right "+gantt._get_link_crossing_css(!1,t);return gantt._render_side_content(t,this.templates.rightside_text,e)},gantt._get_conditions=function(t){return t?{$source:[gantt.config.links.start_to_start],$target:[gantt.config.links.start_to_start,gantt.config.links.finish_to_start]}:{$source:[gantt.config.links.finish_to_start,gantt.config.links.finish_to_finish],$target:[gantt.config.links.finish_to_finish]}},gantt._get_link_crossing_css=function(t,e){var a=gantt._get_conditions(t);for(var i in a)for(var s=e[i],o=0;o<s.length;o++)for(var n=gantt.getLink(s[o]),l=0;l<a[i].length;l++)if(n.type==a[i][l])return"gantt_link_crossing";return""},gantt._render_task_content=function(t,e){var a=document.createElement("div");return this._get_safe_type(t.type)!=this.config.types.milestone&&(a.innerHTML=this.templates.task_text(t.start_date,t.end_date,t)),a.className="gantt_task_content",a},gantt._render_task_progress=function(t,e,a){var i=1*t.progress||0;a=Math.max(a-2,0);var s=document.createElement("div"),o=Math.round(a*i);if(o=Math.min(a,o),t.progressColor&&(s.style.backgroundColor=t.progressColor,s.style.opacity=1),s.style.width=o+"px",s.className="gantt_task_progress",s.innerHTML=this.templates.progress_text(t.start_date,t.end_date,t),e.appendChild(s),this.config.drag_progress&&!gantt._is_readonly(t)){var n=document.createElement("div");n.style.left=o+"px",n.className="gantt_task_progress_drag",s.appendChild(n),e.appendChild(n)}},gantt._get_line=function(t){var e={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};return e[t]||e.hour},gantt.dateFromPos=function(t){var e=this._tasks;if(t<0||t>e.full_width||!e.full_width)return null;var a=this._findBinary(this._tasks.left,t),i=this._tasks.left[a],s=e.width[a]||e.col_width,o=0;s&&(o=(t-i)/s);var n=0;return o&&(n=gantt._get_coll_duration(e,e.trace_x[a])),new Date(e.trace_x[a].valueOf()+Math.round(o*n))},gantt.posFromDate=function(t){if(!this._is_chart_visible())return 0;var e=gantt._day_index_by_date(t);this.assert(e>=0,"Invalid day index");var a=Math.floor(e),i=e%1,s=gantt._tasks.left[Math.min(a,gantt._tasks.width.length-1)];return a==gantt._tasks.width.length&&(s+=gantt._tasks.width[gantt._tasks.width.length-1]),i&&(a<gantt._tasks.width.length?s+=gantt._tasks.width[a]*(i%1):s+=1),s},gantt._day_index_by_date=function(t){var e=new Date(t).valueOf(),a=gantt._tasks.trace_x,i=gantt._tasks.ignore_x;if(e<=this._min_date)return 0;if(e>=this._max_date)return a.length;for(var s=gantt._findBinary(a,e),o=+gantt._tasks.trace_x[s];i[o];)o=gantt._tasks.trace_x[++s];return o?s+(t-a[s])/gantt._get_coll_duration(gantt._tasks,a[s]):0},gantt._findBinary=function(t,e){for(var a,i,s,o=0,n=t.length-1;o<=n;)if(a=Math.floor((o+n)/2),i=+t[a],s=+t[a-1],i<e)o=a+1;else{if(!(i>e))return a;if(!isNaN(s)&&s<e)return a-1;n=a-1}return t.length-1},gantt._get_coll_duration=function(t,e){return gantt.date.add(e,t.step,t.unit)-e},gantt._get_x_pos=function(t,e){e=!1!==e;gantt.posFromDate(e?t.start_date:t.end_date)},gantt.getTaskTop=function(t){return this._y_from_ind(this.getGlobalTaskIndex(t))},gantt._get_task_coord=function(t,e,a){e=!1!==e,a=a||0;var i=this._get_safe_type(t.type)==this.config.types.milestone,s=null;s=e||i?t.start_date||this._default_task_date(t):t.end_date||this.calculateEndDate({start_date:this._default_task_date(t),task:t});var o=this.posFromDate(s),n=this.getTaskTop(t.id);return i&&(e?o-=a:o+=a),{x:o,y:n}},gantt._get_task_pos=function(t,e){e=!1!==e;var a=gantt._get_milestone_width()/2;return this._get_task_coord(t,e,a)},gantt._get_task_visible_pos=function(t,e){e=!1!==e;var a=gantt._get_visible_milestone_width()/2;return this._get_task_coord(t,e,a)},gantt._correct_shift=function(t,e){return t-=6e4*(new Date(gantt._min_date).getTimezoneOffset()-new Date(t).getTimezoneOffset())*(e?-1:1)},gantt._get_mouse_pos=function(t){if(t.pageX||t.pageY)var e={x:t.pageX,y:t.pageY};var a=gantt.env.isIE?document.documentElement:document.body,e={x:t.clientX+a.scrollLeft-a.clientLeft,y:t.clientY+a.scrollTop-a.clientTop},i=gantt._get_position(gantt.$task_data);return e.x=e.x-i.x+gantt.$task_data.scrollLeft,e.y=e.y-i.y+gantt.$task_data.scrollTop,e},gantt._is_layer=function(t){return t&&t.hasAttribute&&t.hasAttribute(this.config.layer_attribute)},gantt.attachEvent("onGanttReady",function(){gantt._task_layers.add(),gantt._link_layers.add()}),gantt._layers={prepareConfig:function(t){"function"==typeof t&&(t={renderer:t});t.id=gantt.uid();return t.container||(t.container=document.createElement("div")),t},create:function(t,e){return{tempCollection:[],renderers:{},container:t,getRenderers:function(){var t=[];for(var e in this.renderers)t.push(this.renderers[e]);return t},getRenderer:function(t){return this.renderers[t]},add:function(t){if(t&&this.tempCollection.push(t),this.container())for(var a=this.container(),i=this.tempCollection,s=0;s<i.length;s++){var t=i[s],o=t.container,n=t.id,l=t.topmost;if(!o.parentNode)if(l)a.appendChild(o);else{var r=e?e():a.firstChild;r?a.insertBefore(o,r):a.appendChild(o)}this.renderers[n]=gantt._task_renderer(n,t.renderer,o,t.filter),this.tempCollection.splice(s,1),s--}},remove:function(t){this.renderers[t].unload(),delete this.renderers[t]},clear:function(){for(var t in this.renderers)this.renderers[t].unload();this.renderers={}}}}},gantt._create_filter=function(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments,0)),function(e){for(var a=!0,i=0,s=t.length;i<s;i++){var o=t[i];o&&(a=a&&!1!==o.apply(gantt,[e.id,e]))}return a}},gantt._add_generic_layer=function(t,e){return function(a){return void 0===a.filter&&(a.filter=gantt._create_filter(e)),a=gantt._layers.prepareConfig(a),t.add(a),a.id}},gantt._task_layers=gantt._layers.create(function(){return gantt.$task_data},function(){return gantt.$task_links}),gantt._link_layers=gantt._layers.create(function(){return gantt.$task_data}),gantt.addTaskLayer=gantt._add_generic_layer(gantt._task_layers,[gantt._filter_task,gantt._is_chart_visible].concat(gantt._get_task_filters())),gantt.removeTaskLayer=function(t){gantt._task_layers.remove(t)},gantt.addLinkLayer=gantt._add_generic_layer(gantt._link_layers,[gantt._filter_link,gantt._is_chart_visible].concat(gantt._get_link_filters())),gantt.removeLinkLayer=function(t){gantt._link_layers.remove(t)},gantt._get_task_renderers=function(){return this._task_layers.getRenderers()},gantt._get_link_renderers=function(){return this._link_layers.getRenderers()},gantt._pull={},gantt._branches={},gantt._order=[],gantt._lpull={},gantt._links=[],gantt._order_full=[],gantt.load=function(t,e,a){this._load_url=t,this.assert(arguments.length,"Invalid load arguments");var i="json",s=null;arguments.length>=3?(i=e,s=a):"string"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(s=arguments[1]),this._load_type=i,this.callEvent("onLoadStart",[t,i]),this.ajax.get(t,gantt.bind(function(e){this.on_load(e,i),this.callEvent("onLoadEnd",[t,i]),"function"==typeof s&&s.call(this)},this))},gantt.parse=function(t,e){this.on_load({xmlDoc:{responseText:t}},e)},gantt.serialize=function(t){return t=t||"json",this[t].serialize()},gantt.on_load=function(t,e){this.callEvent("onBeforeParse",[]),e||(e="json"),this.assert(this[e],"Invalid data type:'"+e+"'");var a=t.xmlDoc.responseText,i=this[e].parse(a,t);this._process_loading(i)},gantt._load_task=function(t){return this._init_task(t),!!this.callEvent("onTaskLoading",[t])&&(this._pull[t.id]=t,!0)},gantt._build_pull=function(t){for(var e=null,a=[],i=0,s=t.length;i<s;i++)e=t[i],this._load_task(e)&&a.push(e);return a},gantt._build_hierarchy=function(t){for(var e=null,a=0,i=t.length;a<i;a++)e=t[a],this.setParent(e,this.getParent(e)||this.config.root_id);for(var a=0,i=t.length;a<i;a++)e=t[a],this._add_branch(e),e.$level=this.calculateTaskLevel(e)},gantt._process_loading=function(t){t.collections&&this._load_collections(t.collections);var e=this._build_pull(t.data);if(this._build_hierarchy(e),this._sync_order(),this._order_synced=!0,this._init_links(t.links||(t.collections?t.collections.links:[])),this.callEvent("onParse",[]),this.render(),this.config.initial_scroll){var a=this._order[0]||this.config.root_id;a&&this.showTask(a)}},gantt._init_links=function(t){if(t)for(var e=0;e<t.length;e++)if(t[e]){var a=this._init_link(t[e]);this._lpull[a.id]=a}this._sync_links()},gantt._load_collections=function(t){var e=!1;for(var a in t)if(t.hasOwnProperty(a)){e=!0;var i=t[a],s=this.serverList[a];if(!s)continue;s.splice(0,s.length);for(var o=0;o<i.length;o++){var n=i[o],l=this.copy(n);l.key=l.value;for(var r in n)if(n.hasOwnProperty(r)){if("value"==r||"label"==r)continue;l[r]=n[r]}s.push(l)}}e&&this.callEvent("onOptionsLoad",[])},gantt._sync_order=function(t){this._order=[],this._order_full=[],this._order_search={},this._sync_order_item({parent:this.config.root_id,$open:!0,$ignore:!0,id:this.config.root_id}),t||(this._scroll_resize(),this._set_sizes())},gantt.attachEvent("onBeforeTaskDisplay",function(t,e){return!e.$ignore}),gantt._sync_order_item=function(t,e){t.id!==gantt.config.root_id&&(this._order_full.push(t.id),!e&&this._filter_task(t.id,t)&&this.callEvent("onBeforeTaskDisplay",[t.id,t])&&(this._order.push(t.id),this._order_search[t.id]=this._order.length-1));var a=this.getChildren(t.id);if(a)for(var i=0;i<a.length;i++)this._sync_order_item(this._pull[a[i]],e||!t.$open)},gantt.getTaskCount=function(){return this._order_full.length},gantt.getLinkCount=function(){return this._links.length},gantt.getVisibleTaskCount=function(){return this._order.length},gantt.getTaskIndex=function(t){for(var e=this.getChildren(this.getParent(t)),a=0;a<e.length;a++)if(e[a]==t)return a;return-1},gantt.getGlobalTaskIndex=function(t){this.assert(t,"Invalid argument");var e=this._order_search[t];return void 0!==e?e:-1},gantt._get_visible_order=gantt.getGlobalTaskIndex,gantt.eachTask=function(t,e,a){e=e||this.config.root_id,a=a||this;var i=this.getChildren(e);if(i)for(var s=0;s<i.length;s++){var o=this._pull[i[s]];t.call(a,o),this.hasChild(o.id)&&this.eachTask(t,o.id,a)}},gantt._eachParent=function(t,e,a){a=a||this;for(var i=e;this.getParent(i)&&this.isTaskExists(this.getParent(i));)i=this.getTask(this.getParent(i)),t.call(a,i)},gantt.json={parse:function(t){return gantt.assert(t,"Invalid data"),"string"==typeof t&&(window.JSON?t=JSON.parse(t):gantt.assert(!1,"JSON is not supported")),t.dhx_security&&(gantt.security_key=t.dhx_security),t},serializeTask:function(t){return this._copyObject(t)},serializeLink:function(t){return this._copyLink(t)},_copyLink:function(t){var e={};for(var a in t)e[a]=t[a];return e},_copyObject:function(t){var e={};for(var a in t)"$"!=a.charAt(0)&&(e[a]=t[a],e[a]instanceof Date&&(e[a]=gantt.templates.xml_format(e[a])));return e},serialize:function(){var t=[],e=[];gantt.eachTask(function(e){gantt.resetProjectDates(e),t.push(this.serializeTask(e))},gantt.config.root_id,this);for(var a=gantt.getLinks(),i=0;i<a.length;i++)e.push(this.serializeLink(a[i]));return{data:t,links:e}}},gantt.xml={_xmlNodeToJSON:function(t,e){for(var a={},i=0;i<t.attributes.length;i++)a[t.attributes[i].name]=t.attributes[i].value;if(!e){for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];1==s.nodeType&&(a[s.tagName]=s.firstChild?s.firstChild.nodeValue:"")}a.text||(a.text=t.firstChild?t.firstChild.nodeValue:"")}return a},_getCollections:function(t){for(var e={},a=gantt.ajax.xpath("//coll_options",t),i=0;i<a.length;i++)for(var s=a[i].getAttribute("for"),o=e[s]=[],n=gantt.ajax.xpath(".//item",a[i]),l=0;l<n.length;l++){for(var r=n[l],c=r.attributes,d={key:n[l].getAttribute("value"),label:n[l].getAttribute("label")},u=0;u<c.length;u++){var m=c[u];"value"!=m.nodeName&&"label"!=m.nodeName&&(d[m.nodeName]=m.nodeValue)}o.push(d)}return e},_getXML:function(t,e,a){a=a||"data",e.getXMLTopNode||(e=gantt.ajax.parse(e));var i=gantt.ajax.xmltop(a,e.xmlDoc);if(i.tagName!=a)throw"Invalid XML data";var s=i.getAttribute("dhx_security");return s&&(gantt.security_key=s),i},parse:function(t,e){e=this._getXML(t,e);for(var a={},i=a.data=[],s=gantt.ajax.xpath("//task",e),o=0;o<s.length;o++)i[o]=this._xmlNodeToJSON(s[o]);return a.collections=this._getCollections(e),a},_copyLink:function(t){return"<item id='"+t.id+"' source='"+t.source+"' target='"+t.target+"' type='"+t.type+"' />"},_copyObject:function(t){return"<task id='"+t.id+"' parent='"+(t.parent||"")+"' start_date='"+t.start_date+"' duration='"+t.duration+"' open='"+!!t.open+"' progress='"+t.progress+"' end_date='"+t.end_date+"'><![CDATA["+t.text+"]]></task>"},serialize:function(){for(var t=[],e=[],a=gantt.json.serialize(),i=0,s=a.data.length;i<s;i++)t.push(this._copyObject(a.data[i]));for(var i=0,s=a.links.length;i<s;i++)e.push(this._copyLink(a.links[i]));return"<data>"+t.join("")+"<coll_options for='links'>"+e.join("")+"</coll_options></data>"}},gantt.oldxml={parse:function(t,e){e=gantt.xml._getXML(t,e,"projects");for(var a={collections:{links:[]}},i=a.data=[],s=gantt.ajax.xpath("//task",e),o=0;o<s.length;o++){i[o]=gantt.xml._xmlNodeToJSON(s[o]);var n=s[o].parentNode;"project"==n.tagName?i[o].parent="project-"+n.getAttribute("id"):i[o].parent=n.parentNode.getAttribute("id")}s=gantt.ajax.xpath("//project",e);for(var o=0;o<s.length;o++){var l=gantt.xml._xmlNodeToJSON(s[o],!0);l.id="project-"+l.id,i.push(l)}for(var o=0;o<i.length;o++){var l=i[o];l.start_date=l.startdate||l.est,l.end_date=l.enddate,l.text=l.name,l.duration=l.duration/8,l.open=1,l.duration||l.end_date||(l.duration=1),l.predecessortasks&&a.collections.links.push({target:l.id,source:l.predecessortasks,type:gantt.config.links.finish_to_start})}return a},serialize:function(){gantt.message("Serialization to 'old XML' is not implemented")}},gantt.serverList=function(t,e){return e?this.serverList[t]=e.slice(0):this.serverList[t]||(this.serverList[t]=[]),this.serverList[t]},gantt._calendars={},gantt._calendars.calendarArgumentsHelper={getWorkHoursArguments:function(){var t=arguments[0];return t=t.date instanceof Date?{date:t}:gantt.mixin({},t)},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t=arguments[0];return t.date?(t=gantt.mixin({},t),t.unit=t.unit||gantt.config.duration_unit,t.task=t.task||null,t.calendar=t.calendar||null):(t={},t.date=arguments[0],t.unit=arguments[1],t.task=arguments[2],t.calendar=arguments[3]),t.unit=t.unit||gantt.config.duration_unit,t},getClosestWorkTimeArguments:function(t){return t=arguments[0],t=t instanceof Date?{date:t}:gantt.mixin({},t),t.dir=t.dir||"any",t.unit=t.unit||gantt.config.duration_unit,t},getDurationConfig:function(t,e,a,i){return this.start_date=t,this.end_date=e,this.task=a,this.calendar=i,this.unit=null,this.step=null,this},_getStartEndConfig:function(t){var e,a=gantt._calendars.calendarArgumentsHelper.getDurationConfig;return t instanceof a?t:(t instanceof Date?e=new a(arguments[0],arguments[1],arguments[2],arguments[3]):(e=new a(t.start_date,t.end_date,t.task),t.id&&(e.task=t)),e.unit=e.unit||gantt.config.duration_unit,e.step=e.step||gantt.config.duration_step,e.start_date=e.start_date||e.start||e.date,e)},getDurationArguments:function(t,e,a,i){return gantt._calendars.calendarArgumentsHelper._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,e,a,i){return gantt._calendars.calendarArgumentsHelper._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,e,a,i){var s=arguments[0];return s=s instanceof Date?{start_date:arguments[0],duration:arguments[1],unit:arguments[2],task:arguments[3],calendar:arguments[4]}:gantt.mixin({},s),s.unit=s.unit||gantt.config.duration_unit,s.step=s.step||gantt.config.duration_step,s}},gantt._calendars.calendarStrategy={units:["year","month","week","day","hour","minute"],_workingUnitsCache:{get:function(t,e){var a=-1,i=this._cache;if(i&&i[t]){var s=i[t],o=e.getTime();void 0!==s[o]&&(a=s[o])}return a},put:function(t,e,a){if(!t||!e)return!1;var i=this._cache,s=e.getTime();return a=!!a,!!i&&(i[t]||(i[t]={}),i[t][s]=a,!0)},clear:function(){this._cache={}}},_getUnitOrder:function(t){for(var e=0,a=this.units.length;e<a;e++)if(this.units[e]==t)return e},_timestamp:function(t){var e=null;return t.day||0===t.day?e=t.day:t.date&&(e=Date.UTC(t.date.getFullYear(),t.date.getMonth(),t.date.getDate())),e},_checkIfWorkingUnit:function(t,e,a){return void 0===a&&(a=this._getUnitOrder(e)),void 0===a||!(a&&!this._isWorkTime(t,this.units[a-1],a-1))&&(!this["_is_work_"+e]||this["_is_work_"+e](t))},_is_work_day:function(t){var e=this._getWorkHours(t);return e instanceof Array&&e.length>0},_is_work_hour:function(t){for(var e=this._getWorkHours(t),a=t.getHours(),i=0;i<e.length;i+=2){if(void 0===e[i+1])return e[i]==a;if(a>=e[i]&&a<e[i+1])return!0}return!1},_internDatesPull:{},_nextDate:function(t,e,a){return gantt.date.add(t,a,e)},_getWorkUnitsBetweenGeneric:function(t,e,a,i){var s=new Date(t),o=new Date(e);i=i||1;var n,l,r=0,c=null,d=!1;n=gantt.date[a+"_start"](new Date(s)),n.valueOf()!=s.valueOf()&&(d=!0);var u=!1;l=gantt.date[a+"_start"](new Date(e)),l.valueOf()!=e.valueOf()&&(u=!0);for(var m=!1;s.valueOf()<o.valueOf();)c=this._nextDate(s,a,i),m=c.valueOf()>o.valueOf(),this._isWorkTime(s,a)&&((d||u&&m)&&(n=gantt.date[a+"_start"](new Date(s)),l=gantt.date.add(n,i,a)),d?(d=!1,c=this._nextDate(n,a,i),r+=(l.valueOf()-s.valueOf())/(l.valueOf()-n.valueOf())):u&&m?(u=!1,r+=(o.valueOf()-s.valueOf())/(l.valueOf()-n.valueOf())):r++),s=c;return r},_getHoursPerDay:function(t){for(var e=this._getWorkHours(t),a=0,i=0;i<e.length;i+=2)a+=e[i+1]-e[i]||0;return a},_getWorkHoursForRange:function(t,e){for(var a=0,i=new Date(t),s=new Date(e);i.valueOf()<s.valueOf();)this._isWorkTime(i,"day")&&(a+=this._getHoursPerDay(i)),i=this._nextDate(i,"day",1);return a},_getWorkUnitsBetweenHours:function(t,e,a,i){var s=new Date(t),o=new Date(e);i=i||1;var n=new Date(s),l=gantt.date.add(gantt.date.day_start(new Date(s)),1,"day");if(o.valueOf()<=l.valueOf())return this._getWorkUnitsBetweenGeneric(t,e,a,i);var r=gantt.date.day_start(new Date(o)),c=o,d=this._getWorkUnitsBetweenGeneric(n,l,a,i),u=this._getWorkUnitsBetweenGeneric(r,c,a,i),m=this._getWorkHoursForRange(l,r);return m=m/i+d+u},_getCalendar:function(){return this.worktime},_setCalendar:function(t){this.worktime=t},_tryChangeCalendarSettings:function(t){var e=o()(this._getCalendar());return t(),!this._isEmptyCalendar(this._getCalendar())||(gantt.assert(!1,"Invalid calendar settings, no worktime available"),this._setCalendar(JSON.parse(e)),this._workingUnitsCache.clear(),!1)},_isEmptyCalendar:function(t){var e=!1,a=[],i=!0;for(var s in t.dates)e|=!!t.dates[s],a.push(s);for(var o=[],s=0;s<a.length;s++)a[s]<10&&o.push(a[s]);o.sort();for(var s=0;s<7;s++)o[s]!=s&&(i=!1);return i?!e:!(e||t.hours)},getWorkHours:function(){var t=gantt._calendars.calendarArgumentsHelper.getWorkHoursArguments.apply(this,arguments);return this._getWorkHours(t.date)},_getWorkHours:function(t){var e=this._timestamp({date:t}),a=!0,i=this._getCalendar();return void 0!==i.dates[e]?a=i.dates[e]:void 0!==i.dates[t.getDay()]&&(a=i.dates[t.getDay()]),!0===a?i.hours:a||[]},setWorkTime:function(t){return this._tryChangeCalendarSettings(gantt.bind(function(){var e=void 0===t.hours||t.hours,a=this._timestamp(t);null!==a?this._getCalendar().dates[a]=e:this._getCalendar().hours=e,this._workingUnitsCache.clear()},this))},unsetWorkTime:function(t){return this._tryChangeCalendarSettings(gantt.bind(function(){if(t){var e=this._timestamp(t);null!==e&&delete this._getCalendar().dates[e]}else this.reset_calendar();this._workingUnitsCache.clear()},this))},_isWorkTime:function(t,e,a){var i=this._workingUnitsCache.get(e,t);return-1==i&&(i=this._checkIfWorkingUnit(t,e,a),this._workingUnitsCache.put(e,t,i)),i},isWorkTime:function(){var t=gantt._calendars.calendarArgumentsHelper.isWorkTimeArguments.apply(this,arguments);return this._isWorkTime(t.date,t.unit)},calculateDuration:function(){var t=gantt._calendars.calendarArgumentsHelper.getDurationArguments.apply(this,arguments);if(!t.unit)return!1;var e=0;return e="hour"==t.unit?this._getWorkUnitsBetweenHours(t.start_date,t.end_date,t.unit,t.step):this._getWorkUnitsBetweenGeneric(t.start_date,t.end_date,t.unit,t.step),Math.round(e)},hasDuration:function(){var t=gantt._calendars.calendarArgumentsHelper.getDurationArguments.apply(this,arguments),e=t.start_date,a=t.end_date,i=t.unit,s=t.step;if(!i)return!1;var o=new Date(e),n=new Date(a);for(s=s||1;o.valueOf()<n.valueOf();){if(this._isWorkTime(o,i))return!0;o=this._nextDate(o,i,s)}return!1},calculateEndDate:function(){var t=gantt._calendars.calendarArgumentsHelper.calculateEndDateArguments.apply(this,arguments),e=t.start_date,a=t.duration,i=t.unit,s=t.step,o=t.duration>=0?1:-1;return this._calculateEndDate(e,a,i,s*o)},_calculateEndDate:function(t,e,a,i){if(!a)return!1;var s=new Date(t),o=0;for(i=i||1,e=Math.abs(1*e);o<e;){var n=this._nextDate(s,a,i);this._isWorkTime(i>0?new Date(n.valueOf()-1):new Date(n.valueOf()+1),a)&&o++,s=n}return s},getClosestWorkTime:function(){var t=gantt._calendars.calendarArgumentsHelper.getClosestWorkTimeArguments.apply(this,arguments);return this._getClosestWorkTime(t)},_getClosestWorkTime:function(t){if(this._isWorkTime(t.date,t.unit))return t.date;var e=t.unit,a=gantt.date[e+"_start"](t.date),i=new Date(a),s=new Date(a),o=!0,n=0,l="any"==t.dir||!t.dir,r=1;for("past"==t.dir&&(r=-1);!this._isWorkTime(a,e);){l&&(a=o?i:s,r*=-1);var c=a.getTimezoneOffset();if(a=gantt.date.add(a,r,e),a=gantt._correct_dst_change(a,c,r,e),gantt.date[e+"_start"]&&(a=gantt.date[e+"_start"](a)),l&&(o?i=a:s=a),o=!o,++n>3e3)return gantt.assert(!1,"Invalid working time check"),!1}return a!=s&&"past"!=t.dir||(a=gantt.date.add(a,1,e)),a}},gantt._calendars.disabledWorkTimeCalendar={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(t){return gantt._calendars.calendarArgumentsHelper.getClosestWorkTimeArguments.apply(this,arguments).date},calculateDuration:function(){var t=gantt._calendars.calendarArgumentsHelper.getDurationArguments.apply(this,arguments),e=t.start_date,a=t.end_date,i=t.unit,s=t.step;return this._calculateDuration(e,a,i,s)},_calculateDuration:function(t,e,a,i){var s={week:6048e5,day:864e5,hour:36e5,minute:6e4},o=0;if(s[a])o=Math.round((e-t)/(i*s[a]));else{for(var n=new Date(t),l=new Date(e);n.valueOf()<l.valueOf();)o+=1,n=gantt.date.add(n,i,a);n.valueOf()!=e.valueOf()&&(o+=(l-n)/(gantt.date.add(n,i,a)-n))}return Math.round(o)},hasDuration:function(){var t=gantt._calendars.calendarArgumentsHelper.getDurationArguments.apply(this,arguments),e=t.start_date,a=t.end_date,i=t.unit;t.step;return!!i&&(e=new Date(e),a=new Date(a),e.valueOf()<a.valueOf())},calculateEndDate:function(){var t=gantt._calendars.calendarArgumentsHelper.calculateEndDateArguments.apply(this,arguments),e=t.start_date,a=t.duration,i=t.unit,s=t.step;return gantt.date.add(e,s*a,i)}},function(){var t=function(){this._cache={}};t.prototype=gantt._calendars.calendarStrategy._workingUnitsCache,gantt._calendars.CalendarAPICore=function(){this._workingUnitsCache=new t},gantt._calendars.CalendarAPICore.prototype=gantt._calendars.calendarStrategy}(),gantt._calendars.calendarManager={_calendars:{},_getDayHoursForMultiple:function(t,e){for(var a=[],i=!0,s=0,o=!1,n=gantt.date.day_start(new Date(e)),l=0;l<24;l++)o=t.reduce(function(t,e){return t&&e._is_work_hour(n)},!0),o?(i?(a[s]=l,a[s+1]=l+1,s+=2):a[s-1]+=1,i=!1):i||(i=!0),n=gantt.date.add(n,1,"hour");return a.length||(a=!1),a},mergeCalendars:function(){var t,e=this.createCalendar(),a=[],i=Array.prototype.slice.call(arguments,0);e.worktime.hours=[0,24],e.worktime.dates={};var s=gantt.date.day_start(new Date(2592e5));for(t=0;t<7;t++)a=this._getDayHoursForMultiple(i,s),e.worktime.dates[t]=a,s=gantt.date.add(s,1,"day");for(var o=0;o<i.length;o++)for(var n in i[o].worktime.dates)+n>1e4&&(a=this._getDayHoursForMultiple(i,new Date(+n)),e.worktime.dates[n]=a);return e},_convertWorktimeSettings:function(t){var e=t.days;if(e){t.dates=t.dates||{};for(var a=0;a<e.length;a++)t.dates[a]=e[a],e[a]instanceof Array||(t.dates[a]=!!e[a]);delete t.days}return t},createCalendar:function(t){var e;t||(t={}),e=t.worktime?gantt.copy(t.worktime):gantt.copy(t);var a=gantt.copy(this.defaults.fulltime.worktime);gantt.mixin(e,a);var i=gantt.uid(),s={id:i+"",worktime:this._convertWorktimeSettings(e)},o=new gantt._calendars.CalendarAPICore;return gantt.mixin(o,s),o._tryChangeCalendarSettings(function(){})?o:null},getCalendar:function(t){return t=t||"global",this.createDefaultCalendars(),this._calendars[t]},getCalendars:function(){var t=[];for(var e in this._calendars)t.push(this.getCalendar(e));return t},getTaskCalendar:function(t){if(!t)return this.getCalendar();if(t[gantt.config.calendar_property])return this.getCalendar(t[gantt.config.calendar_property]);if(gantt.config.resource_calendars)for(var e in gantt.config.resource_calendars){var a=gantt.config.resource_calendars[e];if(t[e]){var i=a[t[e]];if(i)return this.getCalendar(i)}}return this.getCalendar()},addCalendar:function(t){if(!(t instanceof gantt._calendars.CalendarAPICore)){var e=t.id;t=this.createCalendar(t),t.id=e}return t.id=t.id||gantt.uid(),this._calendars[t.id]=t,gantt.config.worktimes||(gantt.config.worktimes={}),gantt.config.worktimes[t.id]=t.worktime,t.id},deleteCalendar:function(t){t&&this._calendars[t.id]&&delete this._calendars[t.id],gantt.config.worktimes&&gantt.config.worktimes[t.id]&&delete gantt.config.worktimes[t.id]},restoreConfigCalendars:function(t){for(var e in t)if(!this._calendars[e]){var a=t[e],i=this.createCalendar(a);i.id=e,this.addCalendar(i)}},defaults:{global:{id:"global",worktime:{hours:[8,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(gantt.config.worktimes)}},gantt._timeCalculator={_getCalendar:function(t){var e;if(gantt.config.work_time){var a=gantt._calendars.calendarManager;t.task?e=a.getTaskCalendar(t.task):t.id?e=a.getTaskCalendar(t):t.calendar&&(e=t.calendar),e||(e=a.getTaskCalendar())}else e=gantt._calendars.disabledWorkTimeCalendar;return e},getWorkHours:function(t){return t=gantt._calendars.calendarArgumentsHelper.getWorkHoursArguments.apply(this,arguments),this._getCalendar(t).getWorkHours(t.date)},setWorkTime:function(t,e){return t=gantt._calendars.calendarArgumentsHelper.setWorkTimeArguments.apply(this,arguments),e||(e=gantt._calendars.calendarManager.getCalendar()),e.setWorkTime(t)},unsetWorkTime:function(t,e){return t=gantt._calendars.calendarArgumentsHelper.unsetWorkTimeArguments.apply(this,arguments),e||(e=gantt._calendars.calendarManager.getCalendar()),e.unsetWorkTime(t)},isWorkTime:function(t,e,a,i){var s=gantt._calendars.calendarArgumentsHelper.isWorkTimeArguments.apply(this,arguments);return i=this._getCalendar(s),i.isWorkTime(s)},getClosestWorkTime:function(t){return t=gantt._calendars.calendarArgumentsHelper.getClosestWorkTimeArguments.apply(this,arguments),this._getCalendar(t).getClosestWorkTime(t)},calculateDuration:function(){var t=gantt._calendars.calendarArgumentsHelper.getDurationArguments.apply(this,arguments);return this._getCalendar(t).calculateDuration(t)},hasDuration:function(){var t=gantt._calendars.calendarArgumentsHelper.hasDurationArguments.apply(this,arguments);return this._getCalendar(t).hasDuration(t)},calculateEndDate:function(t){var t=gantt._calendars.calendarArgumentsHelper.calculateEndDateArguments.apply(this,arguments);return this._getCalendar(t).calculateEndDate(t)}},function(){var t=gantt._calendars.calendarManager;gantt.createCalendar=gantt.bind(t.createCalendar,t),gantt.addCalendar=gantt.bind(t.addCalendar,t),gantt.getCalendar=gantt.bind(t.getCalendar,t),gantt.getCalendars=gantt.bind(t.getCalendars,t),gantt.getTaskCalendar=gantt.bind(t.getTaskCalendar,t),gantt.deleteCalendar=gantt.bind(t.deleteCalendar,t)}(),gantt.getTask=function(t){gantt.assert(t,"Invalid argument for gantt.getTask");var e=this._pull[t];return gantt.assert(e,"Task not found id="+t),e},gantt.getTaskByTime=function(t,e){var a=this._pull,i=[];if(t||e){t=+t||-1/0,e=+e||1/0;for(var s in a){var o=a[s];+o.start_date<e&&+o.end_date>t&&i.push(o)}}else for(var s in a)i.push(a[s]);return i},gantt.isTaskExists=function(t){return gantt.defined(this._pull[t])},gantt.isUnscheduledTask=function(t){return!!t.unscheduled||!t.start_date},gantt._isAllowedUnscheduledTask=function(t){return!(!t.unscheduled||!gantt.config.show_unscheduled)},gantt.isTaskVisible=function(t){if(!this._pull[t])return!1;var e=this._pull[t];return!!(+e.start_date<+this._max_date&&+e.end_date>+this._min_date||gantt._isAllowedUnscheduledTask(e))&&void 0!==this._order_search[t]},gantt.updateTask=function(t,e){if(gantt.defined(e)||(e=this.getTask(t)),!1===this.callEvent("onBeforeTaskUpdate",[t,e]))return!1;this._pull[e.id]=e,this._is_parent_sync(e)||this._resync_parent(e),this._isAllowedUnscheduledTask(e)&&(this._init_task(e),this._sync_links()),this._update_parents(e.id),this.refreshTask(e.id),this._sync_order(!0),this.callEvent("onAfterTaskUpdate",[t,e]),this._adjust_scales()},gantt._add_branch=function(t,e){var a=this.getParent(t);this.hasChild(a)||(this._branches[a]=[]);for(var i=this.getChildren(a),s=!1,o=0,n=i.length;o<n;o++)if(i[o]==t.id){s=!0;break}s||(1*e==e?i.splice(e,0,t.id):i.push(t.id)),this._sync_parent(t)},gantt._move_branch=function(t,e,a){this.setParent(t,a),this._sync_parent(t),this._replace_branch_child(e,t.id),this.isTaskExists(a)||a==this.config.root_id?this._add_branch(t):delete this._branches[t.id],t.$level=this.calculateTaskLevel(t),this.eachTask(function(t){t.$level=this.calculateTaskLevel(t)},t.id),this._sync_order()},gantt._resync_parent=function(t){this._move_branch(t,t.$rendered_parent,this.getParent(t))},gantt._sync_parent=function(t){t.$rendered_parent=this.getParent(t)},gantt._is_parent_sync=function(t){return t.$rendered_parent==this.getParent(t)},gantt._replace_branch_child=function(t,e,a){var i=this.getChildren(t);if(i){for(var s=[],o=0;o<i.length;o++)i[o]!=e?s.push(i[o]):a&&s.push(a);this._branches[t]=s}this._sync_order()},gantt.addTask=function(t,e,a){return gantt.defined(t.id)||(t.id=gantt.uid()),gantt.defined(e)||(e=this.getParent(t)||0),this.isTaskExists(e)||(e=0),this.setParent(t,e),t=this._init_task(t),!1!==this.callEvent("onBeforeTaskAdd",[t.id,t])&&(this._pull[t.id]=t,this._add_branch(t,a),this._sync_order(!0),this.callEvent("onAfterTaskAdd",[t.id,t]),this.refreshData(),this._adjust_scales(),t.id)},gantt._default_task_date=function(t,e){var a=!(!e||e==this.config.root_id)&&this.getTask(e),i="";if(a)i=a.start_date;else{var s=this._order[0];i=s?this.getTask(s).start_date?this.getTask(s).start_date:this.getTask(s).end_date?this.calculateEndDate({start_date:this.getTask(s).end_date,duration:-this.config.duration_step}):"":this.config.start_date||this.getState().min_date}return gantt.assert(i,"Invalid dates"),new Date(i)};gantt._set_default_task_timing=function(t){t.start_date=t.start_date||gantt._default_task_date(t,this.getParent(t)),t.duration=t.duration||this.config.duration_step,t.end_date=t.end_date||this.calculateEndDate(t)},gantt.createTask=function(t,e,a){if(t=t||{},gantt.defined(t.id)||(t.id=gantt.uid()),t.start_date||(t.start_date=gantt._default_task_date(t,e)),void 0===t.text&&(t.text=gantt.locale.labels.new_task),void 0===t.duration&&(t.duration=1),e){this.setParent(t,e);this.getTask(e).$open=!0}return this.callEvent("onTaskCreated",[t])?(this.config.details_on_create?(t.$new=!0,this._pull[t.id]=this._init_task(t),this._add_branch(t,a),t.$level=this.calculateTaskLevel(t),this.selectTask(t.id),this.refreshData(),this.showLightbox(t.id)):this.addTask(t,e,a)&&(this.showTask(t.id),this.selectTask(t.id)),t.id):null},gantt.deleteTask=function(t){return this._deleteTask(t)},gantt._getChildLinks=function(t){var e=this.getTask(t);if(!e)return[];for(var a=e.$source.concat(e.$target),i=this.getChildren(e.id),s=0;s<i.length;s++)a=a.concat(this._getChildLinks(i[s]));for(var o={},s=0;s<a.length;s++)o[a[s]]=!0;a=[];for(var s in o)this.isLinkExists(s)&&a.push(s);return a},gantt._getTaskTree=function(t){var e=this.getTask(t);if(!e)return[];for(var a=[],i=this.getChildren(e.id),s=0;s<i.length;s++)a.push(i[s]),a=a.concat(this._getTaskTree(i[s]));return a},gantt._deleteRelatedLinks=function(t,e){var a=this._dp&&!e&&this.config.cascade_delete,i="",s=!!a&&"off"!=this._dp.updateMode;a&&(i=this._dp.updateMode,this._dp.setUpdateMode("off"));for(var o=0;o<t.length;o++)a&&(this._dp.setGanttMode("links"),this._dp.setUpdated(t[o],!0,"deleted")),this._deleteLink(t[o],!0);a&&(this._dp.setUpdateMode(i),s&&this._dp.sendAllData())},gantt._deleteRelatedTasks=function(t,e){var a=this._dp&&!e&&this.config.cascade_delete,i="";a&&(i=this._dp.updateMode,this._dp.setGanttMode("tasks"),this._dp.setUpdateMode("off"));for(var s=this._getTaskTree(t),o=0;o<s.length;o++){var n=s[o];this._unset_task(n),a&&this._dp.setUpdated(n,!0,"deleted")}a&&this._dp.setUpdateMode(i)},gantt._unset_task=function(t){var e=this.getTask(t);this._update_flags(t,null),delete this._pull[t],this._move_branch(e,this.getParent(e),null)},gantt._deleteTask=function(t,e){var a=this.getTask(t);if(!e&&!1===this.callEvent("onBeforeTaskDelete",[t,a]))return!1;var i=gantt._getChildLinks(t);return this._deleteRelatedTasks(t,e),this._deleteRelatedLinks(i,e),this._unset_task(t),e||(this._sync_order(!0),this.callEvent("onAfterTaskDelete",[t,a]),this.refreshData()),!0},gantt.clearAll=function(){this._clear_data(),this.callEvent("onClear",[]),this.refreshData()},gantt._clear_data=function(){this._pull={},this._branches={},this._order=[],this._order_full=[],this._lpull={},this._links=[],this._update_flags(),this.userdata={}},gantt._update_flags=function(t,e){void 0===t?(this._lightbox_id=this._selected_task=null,this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==t&&(this._lightbox_id=e),this._selected_task==t&&(this._selected_task=e),this._tasks_dnd.drag&&this._tasks_dnd.drag.id==t&&(this._tasks_dnd.drag.id=e))},gantt.changeTaskId=function(t,e){var a=this._pull[e]=this._pull[t];this._pull[e].id=e,delete this._pull[t],this._update_flags(t,e),this._replace_branch_child(this.getParent(a),t,e);for(var i in this._pull){var s=this._pull[i];this.getParent(s)==t&&(this.setParent(s,e),this._resync_parent(s))}for(var o=this._get_task_links(a),n=0;n<o.length;n++){var l=this.getLink(o[n]);l.source==t&&(l.source=e),l.target==t&&(l.target=e)}this.callEvent("onTaskIdChange",[t,e])},gantt._get_task_links=function(t){var e=[];return t.$source&&(e=e.concat(t.$source)),t.$target&&(e=e.concat(t.$target)),e},gantt._get_duration_unit=function(){return 1e3*gantt._get_line(this.config.duration_unit)||this.config.duration_unit},gantt._get_safe_type=function(t){return"task"},gantt._get_type_name=function(t){for(var e in this.config.types)if(this.config.types[e]==t)return e;return"task"},gantt.getWorkHours=function(t){return gantt._timeCalculator.getWorkHours(t)},gantt.setWorkTime=function(t){return gantt._timeCalculator.setWorkTime(t)},gantt.unsetWorkTime=function(t){gantt._timeCalculator.unsetWorkTime(t)},gantt.isWorkTime=function(t,e,a){return gantt._timeCalculator.isWorkTime(t,e,a)},gantt.correctTaskWorkTime=function(t){gantt.config.work_time&&gantt.config.correct_work_time&&(gantt.isWorkTime(t.start_date,t)?gantt.isWorkTime(new Date(+t.end_date-1),t)||(t.end_date=gantt.calculateEndDate(t)):(t.start_date=gantt.getClosestWorkTime({date:t.start_date,dir:"future",task:t}),t.end_date=gantt.calculateEndDate(t)))},gantt.getClosestWorkTime=function(t){return gantt._timeCalculator.getClosestWorkTime(t)},gantt.calculateDuration=function(t,e,a){return gantt._timeCalculator.calculateDuration(t,e,a)},gantt._hasDuration=function(t,e,a){return gantt._timeCalculator.hasDuration(t,e,a)},gantt.calculateEndDate=function(t,e,a,i){return gantt._timeCalculator.calculateEndDate(t,e,a,i)},gantt._init_task=function(t){gantt.defined(t.id)||(t.id=gantt.uid()),t.start_date&&(t.start_date=gantt.date.parseDate(t.start_date,"xml_date")),t.end_date&&(t.end_date=gantt.date.parseDate(t.end_date,"xml_date"));var e=null;return(t.duration||0===t.duration)&&(t.duration=e=1*t.duration),e&&(t.start_date&&!t.end_date?t.end_date=this.calculateEndDate(t):!t.start_date&&t.end_date&&(t.start_date=this.calculateEndDate({start_date:t.end_date,duration:-t.duration,task:t}))),this._isAllowedUnscheduledTask(t)&&this._set_default_task_timing(t),gantt._init_task_timing(t),t.start_date&&t.end_date&&gantt.correctTaskWorkTime(t),t.$source=[],t.$target=[],void 0===t.parent&&this.setParent(t,this.config.root_id),gantt.defined(t.$open)||(t.$open=gantt.defined(t.open)?t.open:this.config.open_tree_initially),t.$level=this.calculateTaskLevel(t),t},gantt._get_task_timing_mode=function(t,e){var a=this._get_safe_type(t.type),i={type:a,$no_start:!1,$no_end:!1};return e||a!=t.$rendered_type?(a==this.config.types.project?i.$no_end=i.$no_start=!0:a!=this.config.types.milestone&&(i.$no_end=!(t.end_date||t.duration),i.$no_start=!t.start_date,this._isAllowedUnscheduledTask(t)&&(i.$no_end=i.$no_start=!1)),i):(i.$no_start=t.$no_start,i.$no_end=t.$no_end,i)},gantt._init_task_timing=function(t){var e=gantt._get_task_timing_mode(t,!0),a=t.$rendered_type!=e.type,i=e.type;a&&(t.$no_start=e.$no_start,t.$no_end=e.$no_end,t.$rendered_type=e.type),a&&i!=this.config.types.milestone&&i==this.config.types.project&&this._set_default_task_timing(t),i==this.config.types.milestone&&(t.end_date=t.start_date),t.start_date&&t.end_date&&(t.duration=this.calculateDuration(t)),t.duration=t.duration||0},gantt._is_flex_task=function(t){var e=gantt._get_task_timing_mode(t);return!(!e.$no_end&&!e.$no_start)},gantt.resetProjectDates=function(t){var e=this._get_task_timing_mode(t);if(e.$no_end||e.$no_start){var a=this.getSubtaskDates(t.id);this._assign_project_dates(t,a.start_date,a.end_date)}},gantt.getSubtaskDates=function(t){var e=null,a=null,i=void 0!==t?t:gantt.config.root_id;return this.eachTask(function(t){this._get_safe_type(t.type)==gantt.config.types.project||this.isUnscheduledTask(t)||(t.start_date&&!t.$no_start&&(!e||e>t.start_date.valueOf())&&(e=t.start_date.valueOf()),t.end_date&&!t.$no_end&&(!a||a<t.end_date.valueOf())&&(a=t.end_date.valueOf()))},i),{start_date:e?new Date(e):null,end_date:a?new Date(a):null}},gantt._assign_project_dates=function(t,e,a){var i=this._get_task_timing_mode(t);i.$no_start&&(t.start_date=e&&e!=1/0?new Date(e):this._default_task_date(t,this.getParent(t))),i.$no_end&&(t.end_date=a&&a!=-1/0?new Date(a):this.calculateEndDate({start_date:t.start_date,duration:this.config.duration_step,task:t})),(i.$no_start||i.$no_end)&&this._init_task_timing(t)},gantt._update_parents=function(t,e){if(t){var a=this.getTask(t),i=this.getParent(a),s=this._get_task_timing_mode(a),o=!0;if(s.$no_start||s.$no_end){var n=a.start_date.valueOf(),l=a.end_date.valueOf();gantt.resetProjectDates(a),n==a.start_date.valueOf()&&l==a.end_date.valueOf()&&(o=!1),o&&!e&&this.refreshTask(a.id,!0)}o&&i&&this.isTaskExists(i)&&this._update_parents(i,e)}},gantt.isChildOf=function(t,e){if(!this.isTaskExists(t))return!1;if(e===this.config.root_id)return this.isTaskExists(t);for(var a=this.getTask(t),i=this.getParent(t);a&&this.isTaskExists(i);){if((a=this.getTask(i))&&a.id==e)return!0;i=this.getParent(a)}return!1},gantt.roundDate=function(t){t instanceof Date&&(t={date:t,unit:gantt._tasks.unit,step:gantt._tasks.step});var e,a,i,s=t.date,o=t.step,n=t.unit;if(n==gantt._tasks.unit&&o==gantt._tasks.step&&+s>=+gantt._min_date&&+s<=+gantt._max_date)i=Math.floor(gantt._day_index_by_date(s)),gantt._tasks.trace_x[i]||(i-=1),a=new Date(gantt._tasks.trace_x[i]),e=new Date(a),e=gantt._tasks.trace_x[i+1]?new Date(gantt._tasks.trace_x[i+1]):gantt.date.add(a,o,n);else{for(i=Math.floor(gantt._day_index_by_date(s)),e=gantt.date[n+"_start"](new Date(this._min_date)),gantt._tasks.trace_x[i]&&(e=gantt.date[n+"_start"](gantt._tasks.trace_x[i]));+e<+s;){e=gantt.date[n+"_start"](gantt.date.add(e,o,n));var l=e.getTimezoneOffset();e=gantt._correct_dst_change(e,l,e,n),gantt.date[n+"_start"]&&(e=gantt.date[n+"_start"](e))}a=gantt.date.add(e,-1*o,n)}return t.dir&&"future"==t.dir?e:t.dir&&"past"==t.dir?a:Math.abs(s-a)<Math.abs(e-s)?a:e},gantt.attachEvent("onBeforeTaskUpdate",function(t,e){return gantt._init_task_timing(e),!0}),gantt.attachEvent("onBeforeTaskAdd",function(t,e){return gantt._init_task_timing(e),!0}),gantt.calculateTaskLevel=function(t){var e=0;return this._eachParent(function(){e++},t),e},gantt.sort=function(t,e,a,i){var s=!i;this.isTaskExists(a)||(a=this.config.root_id),t||(t="order");var o="string"==typeof t?function(e,a){return e[t]==a[t]?0:e[t]>a[t]?1:-1}:t;if(e){var n=o;o=function(t,e){return n(e,t)}}var l=this.getChildren(a);if(l){for(var r=[],c=l.length-1;c>=0;c--)r[c]=this._pull[l[c]];r.sort(o);for(var c=0;c<r.length;c++)l[c]=r[c].id,this.sort(t,e,l[c],!0)}s&&this.render()},gantt.getNext=function(t){for(var e=0;e<this._order.length-1;e++)if(this._order[e]==t)return this._order[e+1];return null},gantt.getPrev=function(t){for(var e=1;e<this._order.length;e++)if(this._order[e]==t)return this._order[e-1];return null},gantt._get_parent_id=function(t){var e=this.config.root_id;return t&&(e=t.parent),e},gantt.getParent=function(t){var e=null;return e=void 0!==t.id?t:gantt.getTask(t),this._get_parent_id(e)},gantt.setParent=function(t,e){t.parent=e},gantt.getSiblings=function(t){if(!this.isTaskExists(t))return[];var e=this.getParent(t);return this.getChildren(e)},gantt.getNextSibling=function(t){for(var e=this.getSiblings(t),a=0,i=e.length;a<i;a++)if(e[a]==t)return e[a+1]||null;return null},gantt.getPrevSibling=function(t){for(var e=this.getSiblings(t),a=0,i=e.length;a<i;a++)if(e[a]==t)return e[a-1]||null;return null},gantt._dp_init=function(t){function e(e){for(var a=t.updatedRows.slice(),i=!1,s=0;s<a.length&&!t._in_progress[e];s++)a[s]==e&&("inserted"==gantt.getUserData(e,"!nativeeditor_status")&&(i=!0),t.setUpdated(e,!1));return i}t.setTransactionMode("POST",!0),t.serverProcessor+=(-1!=t.serverProcessor.indexOf("?")?"&":"?")+"editing=true",t._serverProcessor=t.serverProcessor,t.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},t._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],t.setGanttMode=function(e){var a=t.modes||{};t._ganttMode&&(a[t._ganttMode]={_in_progress:t._in_progress,_invalid:t._invalid,updatedRows:t.updatedRows});var i=a[e];i||(i=a[e]={_in_progress:{},_invalid:{},updatedRows:[]}),t._in_progress=i._in_progress,t._invalid=i._invalid,t.updatedRows=i.updatedRows,t.modes=a,t._ganttMode=e},this._sendTaskOrder=function(e,a){a.$drop_target&&(t.setGanttMode("tasks"),this.getTask(e).target=a.$drop_target,t.setUpdated(e,!0,"order"),delete this.getTask(e).$drop_target)},this.attachEvent("onAfterTaskAdd",function(e,a){t.setGanttMode("tasks"),t.setUpdated(e,!0,"inserted")}),this.attachEvent("onAfterTaskUpdate",function(e,a){t.setGanttMode("tasks"),t.setUpdated(e,!0),gantt._sendTaskOrder(e,a)}),this.attachEvent("onAfterTaskDelete",function(a,i){t.setGanttMode("tasks"),!e(a)&&(t.setUpdated(a,!0,"deleted"),"off"==t.updateMode||t._tSend||t.sendAllData())}),this.attachEvent("onAfterLinkUpdate",function(e,a){t.setGanttMode("links"),t.setUpdated(e,!0)}),this.attachEvent("onAfterLinkAdd",function(e,a){t.setGanttMode("links"),t.setUpdated(e,!0,"inserted")}),this.attachEvent("onAfterLinkDelete",function(a,i){t.setGanttMode("links"),!e(a)&&t.setUpdated(a,!0,"deleted")}),this.attachEvent("onRowDragEnd",function(t,e){gantt._sendTaskOrder(t,gantt.getTask(t))});var a=null,i=null;this.attachEvent("onTaskIdChange",function(e,s){if(t._waitMode){var o=gantt.getChildren(s);if(o.length){a=a||{};for(var n=0;n<o.length;n++){var l=this.getTask(o[n]);a[l.id]=l}}var r=this.getTask(s),c=this._get_task_links(r);if(c.length){i=i||{};for(var n=0;n<c.length;n++){var d=this.getLink(c[n]);i[d.id]=d}}}}),t.attachEvent("onAfterUpdateFinish",function(){(a||i)&&(gantt.batchUpdate(function(){for(var t in a)gantt.updateTask(a[t].id);for(var t in i)gantt.updateLink(i[t].id);a=null,i=null}),a?gantt._dp.setGanttMode("tasks"):gantt._dp.setGanttMode("links"))}),t.attachEvent("onBeforeDataSending",function(){var t=this._serverProcessor;if("REST"==this._tMode){var e=this._ganttMode.substr(0,this._ganttMode.length-1);t=t.substring(0,t.indexOf("?")>-1?t.indexOf("?"):t.length),this.serverProcessor=t+("/"==t.slice(-1)?"":"/")+e}else this.serverProcessor=t+gantt._urlSeparator(t)+"gantt_mode="+this._ganttMode;return!0}),this._init_dp_live_update_hooks(t);var s=t.afterUpdate;t.afterUpdate=function(){var e;e=3==arguments.length?arguments[1]:arguments[4];var a=t._ganttMode,i=e.filePath;a="REST"!=this._tMode?-1!=i.indexOf("gantt_mode=links")?"links":"tasks":i.indexOf("/link")>i.indexOf("/task")?"links":"tasks",t.setGanttMode(a);var o=s.apply(t,arguments);return t.setGanttMode(a),o},t._getRowData=gantt.bind(function(e,a){var i;i="tasks"==t._ganttMode?this.isTaskExists(e)?this.getTask(e):{id:e}:this.isLinkExists(e)?this.getLink(e):{id:e},i=gantt.copy(i);var s={};for(var o in i)if("$"!=o.substr(0,1)){var n=i[o];n instanceof Date?s[o]=this.templates.xml_format(n):s[o]=null===n?"":n}var l=this._get_task_timing_mode(i);return l.$no_start&&(i.start_date="",i.duration=""),l.$no_end&&(i.end_date="",i.duration=""),s[t.action_param]=this.getUserData(e,t.action_param),s},this),this._change_id=gantt.bind(function(e,a){"tasks"!=t._ganttMode?this.changeLinkId(e,a):this.changeTaskId(e,a)},this),this._row_style=function(e,a){if("tasks"==t._ganttMode&&gantt.isTaskExists(e)){gantt.getTask(e).$dataprocessor_class=a,gantt.refreshTask(e)}},this._delete_task=function(t,e){},this._dp=t},gantt.getUserData=function(t,e){return this.userdata||(this.userdata={}),this.userdata[t]&&this.userdata[t][e]?this.userdata[t][e]:""},gantt.setUserData=function(t,e,a){this.userdata||(this.userdata={}),this.userdata[t]||(this.userdata[t]={}),this.userdata[t][e]=a},gantt._init_link=function(t){return gantt.defined(t.id)||(t.id=gantt.uid()),t},gantt._sync_links=function(){for(var t=null,e=0,a=this._order_full.length;e<a;e++)t=this._pull[this._order_full[e]],t.$source=[],t.$target=[];this._links=[];for(var i in this._lpull){var s=this._lpull[i];this._links.push(s),this._pull[s.source]&&this._pull[s.source].$source.push(i),this._pull[s.target]&&this._pull[s.target].$target.push(i)}},gantt.getLink=function(t){return gantt.assert(this._lpull[t],"Link doesn't exist"),this._lpull[t]},gantt._get_linked_task=function(t,e){var a=null,i=e?t.target:t.source;gantt.isTaskExists(i)&&(a=gantt.getTask(i));var s=e?"target":"source";return gantt.assert(a,"Link "+s+" not found. Task id="+i+", link id="+t.id),a},gantt._get_link_target=function(t){return gantt._get_linked_task(t,!0)},gantt._get_link_source=function(t){return gantt._get_linked_task(t,!1)},gantt.getLinks=function(){var t=[];for(var e in gantt._lpull)t.push(gantt._lpull[e]);return t},gantt.isLinkExists=function(t){return gantt.defined(this._lpull[t])},gantt.addLink=function(t){return t=this._init_link(t),!1!==this.callEvent("onBeforeLinkAdd",[t.id,t])&&(this._lpull[t.id]=t,this._sync_links(),this._render_link(t.id),this.callEvent("onAfterLinkAdd",[t.id,t]),t.id)},gantt.updateLink=function(t,e){return gantt.defined(e)||(e=this.getLink(t)),!1!==this.callEvent("onBeforeLinkUpdate",[t,e])&&(this._lpull[t]=e,this._sync_links(),this._render_link(t),this.callEvent("onAfterLinkUpdate",[t,e]),!0)},gantt.deleteLink=function(t){return this._deleteLink(t)},gantt._deleteLink=function(t,e){var a=this.getLink(t);return!(!e&&!1===this.callEvent("onBeforeLinkDelete",[t,a]))&&(delete this._lpull[t],this._sync_links(),this.refreshLink(t),e||this.callEvent("onAfterLinkDelete",[t,a]),!0)},gantt.changeLinkId=function(t,e){this._lpull[t]&&(this._lpull[e]=this._lpull[t],this._lpull[e].id=e,delete this._lpull[t],this._sync_links(),this.callEvent("onLinkIdChange",[t,e]))},gantt.getChildren=function(t){return gantt.defined(this._branches[t])?this._branches[t]:[]},gantt.hasChild=function(t){return gantt.defined(this._branches[t])&&this._branches[t].length},gantt.refreshData=function(){this._render_data()},gantt._isTask=function(t){var e=this._get_task_timing_mode(t);return!(t.type&&t.type==gantt.config.types.project||e.$no_start||e.$no_end)},gantt._isProject=function(t){return!this._isTask(t)},gantt._configure=function(t,e,a){for(var i in e)(void 0===t[i]||a)&&(t[i]=e[i])},gantt._init_skin=function(){gantt._get_skin(!1),gantt._init_skin=function(){}},gantt._get_skin=function(t){var e=gantt.skin;if(!e||t)for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i].href.match("dhtmlxgantt_([a-z_]+).css");if(s&&(gantt.skins[s[1]]||!e)){e=s[1];break}}gantt.skin=e||"terrace";var o=gantt.skins[gantt.skin]||gantt.skins.terrace;this._configure(gantt.config,o.config,t);var n=gantt.getGridColumns();n[1]&&void 0===n[1].width&&(n[1].width=o._second_column_width),n[2]&&void 0===n[2].width&&(n[2].width=o._third_column_width),o._lightbox_template&&(gantt._lightbox_template=o._lightbox_template),gantt.resetLightbox()},gantt.resetSkin=function(){this.skin="",this._get_skin(!0)},gantt.skins={},gantt._lightbox_methods={},gantt._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",gantt.showLightbox=function(t){if(t&&!gantt._is_readonly(this.getTask(t))&&this.callEvent("onBeforeLightbox",[t])){var e=this.getTask(t),a=this.getLightbox(this._get_safe_type(e.type));this._center_lightbox(a),this.showCover(),this._fill_lightbox(t,a),this._waiAria.lightboxVisibleAttr(a),this.callEvent("onLightbox",[t])}},gantt._get_timepicker_step=function(){if(this.config.round_dnd_dates){var t=gantt._tasks,e=this._get_line(t.unit)*t.step/60;return(e>=1440||!this._is_chart_visible())&&(e=this.config.time_step),e}return this.config.time_step},gantt.getLabel=function(t,e){for(var a=this._get_typed_lightbox_config(),i=0;i<a.length;i++)if(a[i].map_to==t)for(var s=a[i].options,o=0;o<s.length;o++)if(s[o].key==e)return s[o].label;return""},gantt.updateCollection=function(t,e){e=e.slice(0);var a=gantt.serverList(t);if(!a)return!1;a.splice(0,a.length),a.push.apply(a,e||[]),gantt.resetLightbox()},gantt.getLightboxType=function(){return this._get_safe_type(this._lightbox_type)},gantt.getLightbox=function(t){if(void 0===t&&(t=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this._get_safe_type(t)){this._lightbox_type=this._get_safe_type(t);var e=document.createElement("DIV");e.className="gantt_cal_light";var a=this._is_lightbox_timepicker();(gantt.config.wide_form||a)&&(e.className+=" gantt_cal_light_wide"),a&&(gantt.config.wide_form=!0,e.className+=" gantt_cal_light_full"),e.style.visibility="hidden";for(var i,s=this._lightbox_template,o=this.config.buttons_left,n=0;n<o.length;n++){var l=this.config._migrate_buttons[o[n]]?this.config._migrate_buttons[o[n]]:o[n];i=this._waiAria.lightboxButtonAttrString(l),s+="<div "+i+" class='gantt_btn_set gantt_left_btn_set "+l+"_set'><div dhx_button='1' class='"+l+"'></div><div>"+this.locale.labels[l]+"</div></div>"}o=this.config.buttons_right;for(var n=0;n<o.length;n++){var l=this.config._migrate_buttons[o[n]]?this.config._migrate_buttons[o[n]]:o[n];i=this._waiAria.lightboxButtonAttrString(l),s+="<div "+i+" class='gantt_btn_set gantt_right_btn_set "+l+"_set' style='float:right;'><div dhx_button='1' class='"+l+"'></div><div>"+this.locale.labels[l]+"</div></div>"}s+="</div>",e.innerHTML=s,gantt._waiAria.lightboxAttr(e),gantt.config.drag_lightbox&&(e.firstChild.onmousedown=gantt._ready_to_dnd,e.firstChild.onselectstart=function(){return!1},e.firstChild.style.cursor="pointer",gantt._init_dnd_events()),document.body.insertBefore(e,document.body.firstChild),this._lightbox=e;var r=this._get_typed_lightbox_config(t);s=this._render_sections(r);for(var c=e.getElementsByTagName("div"),n=0;n<c.length;n++){var d=c[n];if("gantt_cal_larea"==d.className){d.innerHTML=s;break}}for(var n=0;n<r.length;n++){var u=r[n];if(u.id&&document.getElementById(u.id)){var m=document.getElementById(u.id),p=m.querySelector("label"),h=m.nextSibling;if(h){var f=h.querySelector("input, select, textarea");f&&(u.inputId=f.id||"input_"+gantt.uid(),f.id||(f.id=u.inputId),p.setAttribute("for",u.inputId))}}}this.resizeLightbox(),this._init_lightbox_events(this),e.style.display="none",e.style.visibility="visible"}return this._lightbox},gantt._render_sections=function(t){for(var e="",a=0;a<t.length;a++){var i=this.form_blocks[t[a].type];if(i){t[a].id="area_"+this.uid();var s=t[a].hidden?" style='display:none'":"",o="";t[a].button&&(o="<div class='gantt_custom_button' index='"+a+"'><div class='gantt_custom_button_"+t[a].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+t[a].button]+"</div></div>"),this.config.wide_form&&(e+="<div class='gantt_wrap_section' "+s+">"),e+="<div id='"+t[a].id+"' class='gantt_cal_lsection'><label>"+o+this.locale.labels["section_"+t[a].name]+"</label></div>"+i.render.call(this,t[a]),e+="</div>"}}return e},gantt.resizeLightbox=function(){var t=this._lightbox;if(t){var e=t.childNodes[1];e.style.height="0px",e.style.height=e.scrollHeight+"px",t.style.height=e.scrollHeight+this.config.lightbox_additional_height+"px",e.style.height=e.scrollHeight+"px"}},gantt._center_lightbox=function(t){if(t){t.style.display="block";var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,a=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,i=window.innerHeight||document.documentElement.clientHeight;t.style.top=e?Math.round(e+Math.max((i-t.offsetHeight)/2,0))+"px":Math.round(Math.max((i-t.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?t.style.left=Math.round(a+(document.body.offsetWidth-t.offsetWidth)/2)+"px":t.style.left=Math.round((document.body.offsetWidth-t.offsetWidth)/2)+"px"}},gantt.showCover=function(){if(!this._cover){this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover";var t=void 0!==document.height?document.height:document.body.offsetHeight,e=document.documentElement?document.documentElement.scrollHeight:0;this._cover.style.height=Math.max(t,e)+"px",document.body.appendChild(this._cover)}},gantt._init_lightbox_events=function(){gantt.lightbox_events={},gantt.lightbox_events.gantt_save_btn=function(t){gantt._save_lightbox()},gantt.lightbox_events.gantt_delete_btn=function(t){gantt.callEvent("onLightboxDelete",[gantt._lightbox_id])&&(gantt.isTaskExists(gantt._lightbox_id)?gantt.$click.buttons.delete(gantt._lightbox_id):gantt.hideLightbox())},gantt.lightbox_events.gantt_cancel_btn=function(t){gantt._cancel_lightbox()},gantt.lightbox_events.default=function(t,e){if(e.getAttribute("dhx_button"))gantt.callEvent("onLightboxButton",[e.className,e,t]);else{var a,i,s,o=gantt._getClassName(e);if(-1!=o.indexOf("gantt_custom_button"))if(-1!=o.indexOf("gantt_custom_button_"))for(a=e.parentNode.getAttribute("index"),s=e;s&&-1==gantt._getClassName(s).indexOf("gantt_cal_lsection");)s=s.parentNode;else a=e.getAttribute("index"),s=e.parentNode,e=e.firstChild;var n=gantt._get_typed_lightbox_config();a&&(a*=1,i=gantt.form_blocks[n[1*a].type],i.button_click(a,e,s,s.nextSibling))}},this.event(gantt.getLightbox(),"click",function(t){t=t||window.event;var e=t.target?t.target:t.srcElement,a=gantt._getClassName(e);if(a||(e=e.previousSibling,a=gantt._getClassName(e)),e&&a&&0===a.indexOf("gantt_btn_set")&&(e=e.firstChild,a=gantt._getClassName(e)),e&&a){return(gantt.defined(gantt.lightbox_events[e.className])?gantt.lightbox_events[e.className]:gantt.lightbox_events.default)(t,e)}return!1}),gantt.getLightbox().onkeydown=function(t){var e=t||window.event,a=t.target||t.srcElement,i=!!(gantt._getClassName(a).indexOf("gantt_btn_set")>-1);switch((t||e).keyCode){case 32:if((t||e).shiftKey)return;i&&a.click&&a.click();break;case gantt.keys.edit_save:if((t||e).shiftKey)return;i&&a.click?a.click():gantt._save_lightbox();break;case gantt.keys.edit_cancel:gantt._cancel_lightbox()}}},gantt._cancel_lightbox=function(){var t=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,t.$new]),gantt.isTaskExists(t.id)&&t.$new&&this._deleteTask(t.id,!0),this.refreshData(),this.hideLightbox()},gantt._save_lightbox=function(){var t=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,t,!!t.$new])&&(t.$new?(delete t.$new,this._replace_branch_child(this.getParent(t.id),t.id),this.addTask(t)):this.isTaskExists(t.id)&&(this.mixin(this.getTask(t.id),t,!0),this.updateTask(t.id)),this.refreshData(),this.hideLightbox())},gantt._resolve_default_mapping=function(t){var e=t.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[t.type]&&("auto"==t.map_to?e={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof t.map_to&&(e={start_date:t.map_to})),e},gantt.getLightboxValues=function(){var t={};gantt.isTaskExists(this._lightbox_id)&&(t=this.mixin({},this.getTask(this._lightbox_id)));for(var e=this._get_typed_lightbox_config(),a=0;a<e.length;a++){var i=document.getElementById(e[a].id);i=i?i.nextSibling:i;var s=this.form_blocks[e[a].type];if(s){var o=s.get_value.call(this,i,t,e[a]),n=gantt._resolve_default_mapping(e[a]);if("string"==typeof n&&"auto"!=n)t[n]=o;else if("object"==(void 0===n?"undefined":l()(n)))for(var r in n)n[r]&&(t[n[r]]=o[r])}}return t},gantt.hideLightbox=function(){var t=this.getLightbox();t&&(t.style.display="none"),this._waiAria.lightboxHiddenAttr(t),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},gantt.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},gantt.resetLightbox=function(){gantt._lightbox&&!gantt._custom_lightbox&&gantt._lightbox.parentNode.removeChild(gantt._lightbox),gantt._lightbox=null},gantt._set_lightbox_values=function(t,e){var a=t,i=e.getElementsByTagName("span"),s=[];gantt.templates.lightbox_header?(s.push(""),s.push(gantt.templates.lightbox_header(a.start_date,a.end_date,a)),i[1].innerHTML="",i[2].innerHTML=gantt.templates.lightbox_header(a.start_date,a.end_date,a)):(s.push(this.templates.task_time(a.start_date,a.end_date,a)),s.push((this.templates.task_text(a.start_date,a.end_date,a)||"").substr(0,70)),i[1].innerHTML=this.templates.task_time(a.start_date,a.end_date,a),i[2].innerHTML=(this.templates.task_text(a.start_date,a.end_date,a)||"").substr(0,70)),i[1].innerHTML=s[0],i[2].innerHTML=s[1],gantt._waiAria.lightboxHeader(e,s.join(" "));for(var o=this._get_typed_lightbox_config(this.getLightboxType()),n=0;n<o.length;n++){var l=o[n];if(this.form_blocks[l.type]){var r=document.getElementById(l.id).nextSibling,c=this.form_blocks[l.type],d=gantt._resolve_default_mapping(o[n]),u=this.defined(a[d])?a[d]:l.default_value;c.set_value.call(gantt,r,u,a,l),l.focus&&c.focus.call(gantt,r)}}t.id&&(gantt._lightbox_id=t.id)},gantt._fill_lightbox=function(t,e){var a=this.getTask(t);this._set_lightbox_values(a,e)},gantt.getLightboxSection=function(t){var e=this._get_typed_lightbox_config(),a=0;for(a;a<e.length&&e[a].name!=t;a++);var i=e[a];if(!i)return null;this._lightbox||this.getLightbox();var s=document.getElementById(i.id),o=s.nextSibling,n={section:i,header:s,node:o,getValue:function(t){return gantt.form_blocks[i.type].get_value.call(gantt,o,t||{},i)},setValue:function(t,e){return gantt.form_blocks[i.type].set_value.call(gantt,o,t,e||{},i)}},l=this._lightbox_methods["get_"+i.type+"_control"];return l?l(n):n},gantt._lightbox_methods.get_template_control=function(t){return t.control=t.node,t},gantt._lightbox_methods.get_select_control=function(t){return t.control=t.node.getElementsByTagName("select")[0],t},gantt._lightbox_methods.get_textarea_control=function(t){return t.control=t.node.getElementsByTagName("textarea")[0],t},gantt._lightbox_methods.get_time_control=function(t){return t.control=t.node.getElementsByTagName("select"),t},gantt._init_dnd_events=function(){this.event(document.body,"mousemove",gantt._move_while_dnd),this.event(document.body,"mouseup",gantt._finish_dnd),gantt._init_dnd_events=function(){}},gantt._move_while_dnd=function(t){if(gantt._dnd_start_lb){document.gantt_unselectable||(document.body.className+=" gantt_unselectable",document.gantt_unselectable=!0);var e=gantt.getLightbox(),a=t&&t.target?[t.pageX,t.pageY]:[event.clientX,event.clientY];e.style.top=gantt._lb_start[1]+a[1]-gantt._dnd_start_lb[1]+"px",e.style.left=gantt._lb_start[0]+a[0]-gantt._dnd_start_lb[0]+"px"}},gantt._ready_to_dnd=function(t){var e=gantt.getLightbox();gantt._lb_start=[parseInt(e.style.left,10),parseInt(e.style.top,10)],gantt._dnd_start_lb=t&&t.target?[t.pageX,t.pageY]:[event.clientX,event.clientY]},gantt._finish_dnd=function(){gantt._lb_start&&(gantt._lb_start=gantt._dnd_start_lb=!1,document.body.className=document.body.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},gantt._focus=function(t,e){if(t&&t.focus)if(gantt.config.touch);else try{e&&t.select&&t.select(),t.focus()}catch(t){}},gantt.form_blocks={getTimePicker:function(t,e){var a=t.time_format;if(!a){var a=["%d","%m","%Y"];gantt._get_line(gantt._tasks.unit)<gantt._get_line("day")&&a.push("%H:%i")}t._time_format_order={size:0};var i=this.config,s=this.date.date_part(new Date(gantt._min_date.valueOf())),o=1440,n=0;gantt.config.limit_time_select&&(o=60*i.last_hour+1,n=60*i.first_hour,s.setHours(i.first_hour));for(var l="",r=0;r<a.length;r++){var c=a[r];r>0&&(l+=" ");var d="";switch(c){case"%Y":t._time_format_order[2]=r,t._time_format_order.size++;var u,m,p,h;t.year_range&&(isNaN(t.year_range)?t.year_range.push&&(p=t.year_range[0],h=t.year_range[1]):u=t.year_range),u=u||10,m=m||Math.floor(u/2),p=p||s.getFullYear()-m,h=h||p+u;for(var f=p;f<h;f++)d+="<option value='"+f+"'>"+f+"</option>";break;case"%m":t._time_format_order[1]=r,t._time_format_order.size++;for(var f=0;f<12;f++)d+="<option value='"+f+"'>"+this.locale.date.month_full[f]+"</option>";break;case"%d":t._time_format_order[0]=r,t._time_format_order.size++;for(var f=1;f<32;f++)d+="<option value='"+f+"'>"+f+"</option>";break;case"%H:%i":t._time_format_order[3]=r,t._time_format_order.size++;var f=n,g=s.getDate();for(t._time_values=[];f<o;){d+="<option value='"+f+"'>"+this.templates.time_picker(s)+"</option>",t._time_values.push(f),s.setTime(s.valueOf()+60*this._get_timepicker_step()*1e3);f=24*(s.getDate()!=g?1:0)*60+60*s.getHours()+s.getMinutes()}}if(d){var _=gantt._waiAria.lightboxSelectAttrString(c);l+="<select "+(t.readonly?"disabled='disabled'":"")+(e?" style='display:none' ":"")+_+">"+d+"</select>"}}return l},_fill_lightbox_select:function(t,e,a,i,s){if(t[e+i[0]].value=a.getDate(),t[e+i[1]].value=a.getMonth(),t[e+i[2]].value=a.getFullYear(),gantt.defined(i[3])){var o=60*a.getHours()+a.getMinutes();o=Math.round(o/gantt._get_timepicker_step())*gantt._get_timepicker_step();var n=t[e+i[3]];n.value=o,n.setAttribute("data-value",o)}},template:{render:function(t){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+(t.height||"30")+"px;'></div>"},set_value:function(t,e,a,i){t.innerHTML=e||""},get_value:function(t,e,a){return t.innerHTML||""},focus:function(t){}},textarea:{render:function(t){return"<div class='gantt_cal_ltext' style='height:"+(t.height||"130")+"px;'><textarea></textarea></div>"},set_value:function(t,e,a){this.form_blocks.textarea._get_input(t).value=e||""},get_value:function(t,e){return this.form_blocks.textarea._get_input(t).value},focus:function(t){var e=this.form_blocks.textarea._get_input(t);gantt._focus(e,!0)},_get_input:function(t){return t.querySelector("textarea")}},select:{render:function(t){for(var e=(t.height||"23")+"px",a="<div class='gantt_cal_ltext' style='height:"+e+";'><select style='width:100%;'>",i=0;i<t.options.length;i++)a+="<option value='"+t.options[i].key+"'>"+t.options[i].label+"</option>";return a+="</select></div>"},set_value:function(t,e,a,i){var s=t.firstChild;!s._dhx_onchange&&i.onchange&&(s.onchange=i.onchange,s._dhx_onchange=!0),void 0===e&&(e=(s.options[0]||{}).value),s.value=e||""},get_value:function(t,e){return t.firstChild.value},focus:function(t){var e=t.firstChild;gantt._focus(e,!0)}},time:{render:function(t){var e=this.form_blocks.getTimePicker.call(this,t),a=["<div style='height:"+(t.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>"];return a.push(e),t.single_date?(e=this.form_blocks.getTimePicker.call(this,t,!0),a.push("<span></span>")):a.push("<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"),a.push(e),a.push("</div>"),a.join("")},set_value:function(t,e,a,i){var s=i,o=t.getElementsByTagName("select"),n=i._time_format_order;i._time_format_size;if(s.auto_end_date)for(var l=function(){d=new Date(o[n[2]].value,o[n[1]].value,o[n[0]].value,0,0),u=gantt.calculateEndDate({start_date:d,duration:1,task:a}),this.form_blocks._fill_lightbox_select(o,n.size,u,n,s)},r=0;r<4;r++)o[r].onchange=l;var c=gantt._resolve_default_mapping(i);"string"==typeof c&&(c={start_date:c});var d=a[c.start_date]||new Date,u=a[c.end_date]||gantt.calculateEndDate({start_date:d,duration:1,task:a});this.form_blocks._fill_lightbox_select(o,0,d,n,s),this.form_blocks._fill_lightbox_select(o,n.size,u,n,s)},get_value:function(t,e,a){var i=t.getElementsByTagName("select"),s=a._time_format_order,o=0,n=0;if(gantt.defined(s[3])){var l=parseInt(i[s[3]].value,10);o=Math.floor(l/60),n=l%60}var r=new Date(i[s[2]].value,i[s[1]].value,i[s[0]].value,o,n);if(o=n=0,gantt.defined(s[3])){var l=parseInt(i[s.size+s[3]].value,10);o=Math.floor(l/60),n=l%60}var c=new Date(i[s[2]+s.size].value,i[s[1]+s.size].value,i[s[0]+s.size].value,o,n);c<=r&&(c=gantt.date.add(r,gantt._get_timepicker_step(),"minute"));var d=gantt._resolve_default_mapping(a),u={start_date:new Date(r),end_date:new Date(c)};return"string"==typeof d?u.start_date:u},focus:function(t){gantt._focus(t.getElementsByTagName("select")[0])}},duration:{render:function(t){var e=this.form_blocks.getTimePicker.call(this,t);e="<div class='gantt_time_selects'>"+e+"</div>";var a=this.locale.labels[this.config.duration_unit+"s"],i=t.single_date?' style="display:none"':"",s=t.readonly?" disabled='disabled'":"",o=this._waiAria.lightboxDurationInputAttrString(t),n="<div class='gantt_duration' "+i+"><input type='button' class='gantt_duration_dec' value='−'"+s+"><input type='text' value='5' class='gantt_duration_value'"+s+" "+o+"><input type='button' class='gantt_duration_inc' value='+'"+s+"> "+a+" <span></span></div>";return"<div style='height:"+(t.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+e+" "+n+"</div>"},set_value:function(t,e,a,i){function s(){var e=gantt.form_blocks.duration._get_start_date.call(gantt,t,i),s=gantt.form_blocks.duration._get_duration.call(gantt,t,i),o=gantt.calculateEndDate({start_date:e,duration:s,task:a});u.innerHTML=gantt.templates.task_date(o)}function o(t){var e=c.value;e=parseInt(e,10),window.isNaN(e)&&(e=0),e+=t,e<1&&(e=1),c.value=e,s()}var n=i,l=t.getElementsByTagName("select"),r=t.getElementsByTagName("input"),c=r[1],d=[r[0],r[2]],u=t.getElementsByTagName("span")[0],m=i._time_format_order;d[0].onclick=gantt.bind(function(){o(-1*this.config.duration_step)},this),d[1].onclick=gantt.bind(function(){o(1*this.config.duration_step)},this),l[0].onchange=s,l[1].onchange=s,l[2].onchange=s,l[3]&&(l[3].onchange=s),c.onkeydown=gantt.bind(function(t){t=t||window.event;var e=t.charCode||t.keyCode||t.which;return 40==e?(o(-1*this.config.duration_step),!1):38==e?(o(1*this.config.duration_step),!1):void window.setTimeout(function(t){s()},1)},this),c.onchange=gantt.bind(function(t){s()},this);var p=gantt._resolve_default_mapping(i);"string"==typeof p&&(p={start_date:p});var h=a[p.start_date]||new Date,f=a[p.end_date]||gantt.calculateEndDate({start_date:h,duration:1,task:a}),g=Math.round(a[p.duration])||gantt.calculateDuration({start_date:h,end_date:f,task:a});gantt.form_blocks._fill_lightbox_select(l,0,h,m,n),c.value=g,s()},_get_start_date:function(t,e){var a=t.getElementsByTagName("select"),i=e._time_format_order,s=0,o=0;if(gantt.defined(i[3])){var n=a[i[3]],l=parseInt(n.value,10);isNaN(l)&&n.hasAttribute("data-value")&&(l=parseInt(n.getAttribute("data-value"),10)),s=Math.floor(l/60),o=l%60}return new Date(a[i[2]].value,a[i[1]].value,a[i[0]].value,s,o)},_get_duration:function(t,e){var a=t.getElementsByTagName("input")[1];return a=parseInt(a.value,10),a&&!window.isNaN(a)||(a=1),a<0&&(a*=-1),a},get_value:function(t,e,a){var i=gantt.form_blocks.duration._get_start_date(t,a),s=gantt.form_blocks.duration._get_duration(t,a),o=gantt.calculateEndDate({start_date:i,duration:s,task:e}),n=gantt._resolve_default_mapping(a),l={start_date:new Date(i),end_date:new Date(o),duration:s};return"string"==typeof n?l.start_date:l},focus:function(t){gantt._focus(t.getElementsByTagName("select")[0])}},parent:{_filter:function(t,e,a){var i=e.filter||function(){return!0};t=t.slice(0);for(var s=0;s<t.length;s++){var o=t[s];(o.id==a||gantt.isChildOf(o.id,a)||!1===i(o.id,o))&&(t.splice(s,1),s--)}return t},_display:function(t,e){var a=[],i=[];e&&(a=gantt.getTaskByTime(),t.allow_root&&a.unshift({id:gantt.config.root_id,text:t.root_label||""}),a=this._filter(a,t,e),t.sort&&a.sort(t.sort));for(var s=t.template||gantt.templates.task_text,o=0;o<a.length;o++){var n=s.apply(gantt,[a[o].start_date,a[o].end_date,a[o]]);void 0===n&&(n=""),i.push({key:a[o].id,label:n})}return t.options=i,t.map_to=t.map_to||"parent",gantt.form_blocks.select.render.apply(this,arguments)},render:function(t){return gantt.form_blocks.parent._display(t,!1)},set_value:function(t,e,a,i){var s=document.createElement("div");s.innerHTML=gantt.form_blocks.parent._display(i,a.id);var o=s.removeChild(s.firstChild);return t.onselect=null,t.parentNode.replaceChild(o,t),gantt.form_blocks.select.set_value.apply(gantt,[o,e,a,i])},get_value:function(){return gantt.form_blocks.select.get_value.apply(gantt,arguments)},focus:function(){return gantt.form_blocks.select.focus.apply(gantt,arguments)}}},gantt._is_lightbox_timepicker=function(){for(var t=this._get_typed_lightbox_config(),e=0;e<t.length;e++)if("time"==t[e].name&&"time"==t[e].type)return!0;return!1},gantt._dhtmlx_confirm=function(t,e,a,i){if(!t)return a();var s={text:t};e&&(s.title=e),i&&(s.ok=i),a&&(s.callback=function(t){t&&a()}),gantt.confirm(s)},gantt._get_typed_lightbox_config=function(t){void 0===t&&(t=this.getLightboxType());var e=this._get_type_name(t);return gantt.config.lightbox[e+"_sections"]?gantt.config.lightbox[e+"_sections"]:gantt.config.lightbox.sections},gantt._silent_redraw_lightbox=function(t){var e=this.getLightboxType();if(this.getState().lightbox){var a=this.getState().lightbox,i=this.getLightboxValues(),s=this.copy(this.getTask(a));this.resetLightbox();var o=this.mixin(s,i,!0),n=this.getLightbox(t||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(o,n)}else this.resetLightbox(),this.getLightbox(t||void 0);this.callEvent("onLightboxChange",[e,this.getLightboxType()])},gantt._extend_to_optional=function(t){var e=t,a={render:e.render,focus:e.focus,set_value:function(t,i,s,o){var n=gantt._resolve_default_mapping(o);if(!s[n.start_date]||"start_date"==n.start_date&&this._isAllowedUnscheduledTask(s)){a.disable(t,o);var l={};for(var r in n)l[n[r]]=s[r];return e.set_value.call(gantt,t,i,l,o)}return a.enable(t,o),e.set_value.call(gantt,t,i,s,o)},get_value:function(t,a,i){return i.disabled?{start_date:null}:e.get_value.call(gantt,t,a,i)},update_block:function(t,e){if(gantt.callEvent("onSectionToggle",[gantt._lightbox_id,e]),t.style.display=e.disabled?"none":"block",e.button){var a=t.previousSibling.querySelector(".gantt_custom_button_label"),i=gantt.locale.labels,s=e.disabled?i[e.name+"_enable_button"]:i[e.name+"_disable_button"];a.innerHTML=s}gantt.resizeLightbox()},disable:function(t,e){e.disabled=!0,a.update_block(t,e)},enable:function(t,e){e.disabled=!1,a.update_block(t,e)},button_click:function(t,e,i,s){if(!1!==gantt.callEvent("onSectionButton",[gantt._lightbox_id,i])){var o=gantt._get_typed_lightbox_config()[t];o.disabled?a.enable(s,o):a.disable(s,o)}}};return a},gantt.form_blocks.duration_optional=gantt._extend_to_optional(gantt.form_blocks.duration),gantt.form_blocks.time_optional=gantt._extend_to_optional(gantt.form_blocks.time),gantt.dataProcessor=function(t){return this.serverProcessor=t,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.mandatoryFields=[],this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),gantt._eventable(this),this},gantt.dataProcessor.prototype={setTransactionMode:function(t,e){"object"==(void 0===t?"undefined":l()(t))?(this._tMode=t.mode||this._tMode,gantt.defined(t.headers)&&(this._headers=t.headers),gantt.defined(t.payload)&&(this._payload=t.payload)):(this._tMode=t,this._tSend=e),"REST"==this._tMode&&(this._tSend=!1,this._endnm=!0),"JSON"==this._tMode&&(this._tSend=!1,this._endnm=!0,this._headers=this._headers||{},this._headers["Content-type"]="application/json")},escape:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return this._utf?encodeURIComponent(t):escape(t)}),enableUTFencoding:function(t){this._utf=!!t},setDataColumns:function(t){this._columns="string"==typeof t?t.split(","):t},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(t){this._endnm=!!t},enablePartialDataSend:function(t){this._changed=!!t},setUpdateMode:function(t,e){this.autoUpdate="cell"==t,this.updateMode=t,this.dnd=e},ignore:function(t,e){this._silent_mode=!0,t.call(e||window),this._silent_mode=!1},setUpdated:function(t,e,a){if(!this._silent_mode){var i=this.findRow(t);a=a||"updated";var s=this.obj.getUserData(t,this.action_param);s&&"updated"==a&&(a=s),e?(this.set_invalid(t,!1),this.updatedRows[i]=t,this.obj.setUserData(t,this.action_param,a),this._in_progress[t]&&(this._in_progress[t]="wait")):this.is_invalid(t)||(this.updatedRows.splice(i,1),this.obj.setUserData(t,this.action_param,"")),e||this._clearUpdateFlag(t),this.markRow(t,e,a),e&&this.autoUpdate&&this.sendData(t)}},_clearUpdateFlag:function(t){},markRow:function(t,e,a){var i="",s=this.is_invalid(t);if(s&&(i=this.styles[s],e=!0),this.callEvent("onRowMark",[t,e,a,s])&&(i=this.styles[e?a:"clear"]+i,this.obj[this._methods[0]](t,i),s&&s.details)){i+=this.styles[s+"_cell"];for(var o=0;o<s.details.length;o++)s.details[o]&&this.obj[this._methods[1]](t,o,i)}},getState:function(t){return this.obj.getUserData(t,this.action_param)},is_invalid:function(t){return this._invalid[t]},set_invalid:function(t,e,a){a&&(e={value:e,details:a,toString:function(){return this.value.toString()}}),this._invalid[t]=e},checkBeforeUpdate:function(t){return!0},sendData:function(t){if(!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2){if(this.obj.editStop&&this.obj.editStop(),void 0===t||this._tSend)return this.sendAllData();if(this._in_progress[t])return!1;if(this.messages=[],!this.checkBeforeUpdate(t)&&this.callEvent("onValidationError",[t,this.messages]))return!1;this._beforeSendData(this._getRowData(t),t)}},_beforeSendData:function(t,e){if(!this.callEvent("onBeforeUpdate",[e,this.getState(e),t]))return!1;this._sendData(t,e)},serialize:function(t,e){if("string"==typeof t)return t;if(void 0!==e)return this.serialize_one(t,"");var a=[],i=[];for(var s in t)t.hasOwnProperty(s)&&(a.push(this.serialize_one(t[s],s+this.post_delim)),i.push(s));return a.push("ids="+this.escape(i.join(","))),gantt.security_key&&a.push("dhx_security="+gantt.security_key),a.join("&")},serialize_one:function(t,e){if("string"==typeof t)return t;var a=[];for(var i in t)if(t.hasOwnProperty(i)){if(("id"==i||i==this.action_param)&&"REST"==this._tMode)continue;a.push(this.escape((e||"")+i)+"="+this.escape(t[i]))}return a.join("&")},_applyPayload:function(t){if(this._payload)for(var e in this._payload)t=t+gantt._urlSeparator(t)+this.escape(e)+"="+this.escape(this._payload[e]);return t},_sendData:function(t,e){if(t){if(!this.callEvent("onBeforeDataSending",e?[e,this.getState(e),t]:[null,null,t]))return!1;e&&(this._in_progress[e]=(new Date).valueOf());var a=this,i=function(i){var s=[];if(e)s.push(e);else if(t)for(var o in t)s.push(o);return a.afterUpdate(a,i,s)},s=this.serverProcessor+(this._user?gantt._urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):""),n=this._applyPayload(s);if("GET"==this._tMode)gantt.ajax.query({url:n+gantt._urlSeparator(n)+this.serialize(t,e),method:"GET",callback:i,headers:this._headers});else if("POST"==this._tMode)gantt.ajax.query({url:n,method:"POST",headers:this._headers,data:this.serialize(t,e),callback:i});else if("JSON"==this._tMode){var l=t[this.action_param],r={};for(var c in t)r[c]=t[c];delete r[this.action_param],delete r.id,delete r.gr_id,gantt.ajax.query({url:n,method:"POST",headers:this._headers,callback:i,data:o()({id:e,action:l,data:r})})}else if("REST"==this._tMode){var d=this.getState(e),u=s.replace(/(\&|\?)editing\=true/,""),r="",m="post";"inserted"==d?r=this.serialize(t,e):"deleted"==d?(m="DELETE",u=u+("/"==u.slice(-1)?"":"/")+e):(m="PUT",r=this.serialize(t,e),u=u+("/"==u.slice(-1)?"":"/")+e),u=this._applyPayload(u),gantt.ajax.query({url:u,method:m,headers:this._headers,data:r,callback:i})}this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var t=!0,e=0;e<this.updatedRows.length;e++)t&=this.checkBeforeUpdate(this.updatedRows[e]);if(!t&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());else for(var e=0;e<this.updatedRows.length;e++)if(!this._in_progress[this.updatedRows[e]]){if(this.is_invalid(this.updatedRows[e]))continue;if(this._beforeSendData(this._getRowData(this.updatedRows[e]),this.updatedRows[e]),this._waitMode&&("tree"==this.obj.mytype||this.obj._h2))return}}},_getAllData:function(t){for(var e={},a=!1,i=0;i<this.updatedRows.length;i++){var s=this.updatedRows[i];if(!this._in_progress[s]&&!this.is_invalid(s)){var o=this._getRowData(s);this.callEvent("onBeforeUpdate",[s,this.getState(s),o])&&(e[s]=o,a=!0,this._in_progress[s]=(new Date).valueOf())}}return a?e:null},setVerificator:function(t,e){this.mandatoryFields[t]=e||function(t){return""!==t}},clearVerificator:function(t){this.mandatoryFields[t]=!1},findRow:function(t){var e=0;for(e=0;e<this.updatedRows.length&&t!=this.updatedRows[e];e++);return e},defineAction:function(t,e){this._uActions||(this._uActions=[]),this._uActions[t]=e},afterUpdateCallback:function(t,e,a,i){var s=t,o="error"!=a&&"invalid"!=a;if(o||this.set_invalid(t,a),this._uActions&&this._uActions[a]&&!this._uActions[a](i))return delete this._in_progress[s];"wait"!=this._in_progress[s]&&this.setUpdated(t,!1);var n=t;switch(a){case"inserted":case"insert":e!=t&&(this.setUpdated(t,!1),this.obj[this._methods[2]](t,e),t=e);break;case"delete":case"deleted":return this.obj.setUserData(t,this.action_param,"true_deleted"),this.obj[this._methods[3]](t),delete this._in_progress[s],this.callEvent("onAfterUpdate",[t,a,e,i])}"wait"!=this._in_progress[s]?(o&&this.obj.setUserData(t,this.action_param,""),delete this._in_progress[s]):(delete this._in_progress[s],this.setUpdated(e,!0,this.obj.getUserData(t,this.action_param))),this.callEvent("onAfterUpdate",[n,a,e,i])},afterUpdate:function(t,e,a){if(window.JSON){var i;try{i=JSON.parse(e.xmlDoc.responseText)}catch(t){e.xmlDoc.responseText.length||(i={})}if(i){var s=i.action||this.getState(a)||"updated",o=i.sid||a[0],n=i.tid||a[0];return t.afterUpdateCallback(o,n,s,i),void t.finalizeUpdate()}}var l=gantt.ajax.xmltop("data",e.xmlDoc);if(!l)return this.cleanUpdate(a);var r=gantt.ajax.xpath("//data/action",l);if(!r.length)return this.cleanUpdate(a);for(var c=0;c<r.length;c++){var d=r[c],s=d.getAttribute("type"),o=d.getAttribute("sid"),n=d.getAttribute("tid");t.afterUpdateCallback(o,n,s,d)}t.finalizeUpdate()},cleanUpdate:function(t){if(t)for(var e=0;e<t.length;e++)delete this._in_progress[t[e]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,("tree"==this.obj.mytype||this.obj._h2)&&this.updatedRows.length&&this.sendData(),this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(t){this.obj=t,this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(t){this.attachEvent("onAfterUpdate",t)},enableDebug:function(t){},setOnBeforeUpdateHandler:function(t){this.attachEvent("onBeforeDataSending",t)},setAutoUpdate:function(t,e){t=t||2e3,this._user=e||(new Date).valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(t,e,a,i){this.afterAutoUpdate(t,e,a,i)}),this.attachEvent("onFullSync",function(){this.fullSync()});var a=this;window.setInterval(function(){a.loadUpdate()},t)},afterAutoUpdate:function(t,e,a,i){return"collision"!=e||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(t,e){if(this._update_busy)return!1;this._update_busy=!0,gantt.ajax.get(t,e)},_v:function(t){return t.firstChild?t.firstChild.nodeValue:""},_a:function(t){for(var e=[],a=0;a<t.length;a++)e[a]=this._v(t[a]);return e},loadUpdate:function(){var t=this,e=this.obj.getUserData(0,"version"),a=this.serverProcessor+gantt._urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+e].join("&");a=a.replace("editing=true&",""),this.getUpdates(a,function(e){var a=gantt.ajax.xpath("//userdata",e);t.obj.setUserData(0,"version",t._v(a[0]));var i=gantt.ajax.xpath("//update",e);if(i.length){t._silent_mode=!0;for(var s=0;s<i.length;s++){var o=i[s].getAttribute("status"),n=i[s].getAttribute("id"),l=i[s].getAttribute("parent");switch(o){case"inserted":t.callEvent("insertCallback",[i[s],n,l]);break;case"updated":t.callEvent("updateCallback",[i[s],n,l]);break;case"deleted":t.callEvent("deleteCallback",[i[s],n,l])}}t._silent_mode=!1}t._update_busy=!1,t=null})}},gantt._init_dp_live_update_hooks=function(t){t.attachEvent("insertCallback",gantt._insert_callback),t.attachEvent("updateCallback",gantt._update_callback),t.attachEvent("deleteCallback",gantt._delete_callback)},gantt._update_callback=function(t,e){var a=t.data||gantt.xml._xmlNodeToJSON(t.firstChild);if(gantt.isTaskExists(e)){var i=gantt.getTask(e);for(var s in a){var o=a[s];switch(s){case"id":continue;case"start_date":case"end_date":o=gantt.templates.xml_date(o);break;case"duration":i.end_date=gantt.calculateEndDate({start_date:i.start_date,duration:o,task:i})}i[s]=o}gantt.updateTask(e),gantt.refreshData()}},gantt._insert_callback=function(t,e,a,i){var s=t.data||gantt.xml._xmlNodeToJSON(t.firstChild),o={add:gantt.addTask,isExist:gantt.isTaskExists};"links"==i&&(o.add=gantt.addLink,o.isExist=gantt.isLinkExists),o.isExist.call(gantt,e)||(s.id=e,o.add.call(gantt,s))},gantt._delete_callback=function(t,e,a,i){var s={delete:gantt.deleteTask,isExist:gantt.isTaskExists};"links"==i&&(s.delete=gantt.deleteLink,s.isExist=gantt.isLinkExists),s.isExist.call(gantt,e)&&s.delete.call(gantt,e)},gantt.assert=function(t,e){t||gantt.config.show_errors&&!1!==gantt.callEvent("onError",[e])&&gantt.message({type:"error",text:e,expire:-1})},gantt.init=function(t,e,a){this.callEvent("onBeforeGanttReady",[]),e&&a&&(this.config.start_date=this._min_date=new Date(e),this.config.end_date=this._max_date=new Date(a)),this._init_skin(),this.date.init(),this.config.scroll_size||(this.config.scroll_size=this._detectScrollSize());var i;gantt.event(window,"resize",function(){clearTimeout(i),i=setTimeout(function(){gantt.render()},300)}),this.init=function(t){this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this._reinit(t)},this._reinit(t)},gantt._reinit=function(t){this._init_html_area(t),this._set_sizes(),this._clear_renderers(),this.resetLightbox(),this._update_flags(),this._init_touch_events(),this._init_templates(),this._init_grid(),this._init_tasks(),this._set_scroll_events(),gantt.event(this.$container,"click",this._on_click),gantt.event(this.$container,"dblclick",this._on_dblclick),gantt.event(this.$container,"mousemove",this._on_mousemove),gantt.event(this.$container,"contextmenu",this._on_contextmenu),this.callEvent("onGanttReady",[]),this.render()},gantt._init_html_area=function(t){this._obj="string"==typeof t?document.getElementById(t):t,this.assert(this._obj,"Invalid html container: "+t);var e=this._waiAria.gridAttrString(),a=this._waiAria.gridDataAttrString(),i="<div class='gantt_container'><div class='gantt_grid' "+e+"></div><div class='gantt_task'></div>";i+="<div class='gantt_ver_scroll'><div></div></div><div class='gantt_hor_scroll'><div></div></div></div>",this._obj.innerHTML=i,this.$container=this._obj.firstChild;var s=this.$container.childNodes;this.$grid=s[0],this.$task=s[1],this.$scroll_ver=s[2],this.$scroll_hor=s[3],this.$grid.innerHTML="<div class='gantt_grid_scale' "+gantt._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+a+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'><div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2]},gantt.$click={buttons:{edit:function(t){gantt.showLightbox(t)},delete:function(t){var e=gantt.locale.labels.confirm_deleting,a=gantt.locale.labels.confirm_deleting_title;gantt._dhtmlx_confirm(e,a,function(){if(!gantt.isTaskExists(t))return void gantt.hideLightbox();gantt.getTask(t).$new?(gantt._deleteTask(t,!0),gantt.refreshData()):gantt.deleteTask(t),gantt.hideLightbox()})}}},gantt._calculate_content_height=function(){var t=this.config.scale_height,e=this._order.length*this.config.row_height,a=this._scroll_hor?this.config.scroll_size+1:0;return this._is_grid_visible()||this._is_chart_visible()?t+e+2+a:0},gantt._calculate_content_width=function(){var t=this._get_grid_width(),e=this._tasks?this._tasks.full_width:0;this._scroll_ver&&this.config.scroll_size;return this._is_chart_visible()||(e=0),this._is_grid_visible()||(t=0),t+e+1},gantt._get_resize_options=function(){var t={x:!1,y:!1};return"xy"==this.config.autosize?t.x=t.y=!0:"y"==this.config.autosize||!0===this.config.autosize?t.y=!0:"x"==this.config.autosize&&(t.x=!0),t},gantt._clean_el_size=function(t){return 1*(t||"").toString().replace("px","")||0},gantt._get_box_styles=function(){var t=null;t=window.getComputedStyle?window.getComputedStyle(this._obj,null):{width:this._obj.clientWidth,height:this._obj.clientHeight};var e=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a={boxSizing:"border-box"==t.boxSizing};t.MozBoxSizing&&(a.boxSizing="border-box"==t.MozBoxSizing);for(var i=0;i<e.length;i++)a[e[i]]=t[e[i]]?this._clean_el_size(t[e[i]]):0;var s={horPaddings:a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth,vertPaddings:a.paddingTop+a.paddingBottom+a.borderTopWidth+a.borderBottomWidth,borderBox:a.boxSizing,innerWidth:a.width,innerHeight:a.height,outerWidth:a.width,outerHeight:a.height};return s.borderBox?(s.innerWidth-=s.horPaddings,s.innerHeight-=s.vertPaddings):(s.outerWidth+=s.horPaddings,s.outerHeight+=s.vertPaddings),s},gantt._do_autosize=function(){var t=this._get_resize_options(),e=this._get_box_styles();if(t.y){var a=this._calculate_content_height();e.borderBox&&(a+=e.vertPaddings),this._obj.style.height=a+"px"}if(t.x){var i=this._calculate_content_width();e.borderBox&&(i+=e.horPaddings),this._obj.style.width=i+"px"}},gantt._set_sizes=function(){this._do_autosize();var t=this._get_box_styles();if(this._y=t.innerHeight,!(this._y<20)){this.$grid.style.height=this.$task.style.height=Math.max(this._y-this.$scroll_hor.offsetHeight-2,0)+"px";var e=Math.max(this._y-(this.config.scale_height||0)-this.$scroll_hor.offsetHeight-2,0);this.$grid_data.style.height=this.$task_data.style.height=e+"px";var a=Math.max(this._get_grid_width()-1,0);this.$grid.style.width=a+"px",this.$grid.style.display=0===a?"none":"",t=this._get_box_styles(),this._x=t.innerWidth,this._x<20||(this.$grid_data.style.width=Math.max(this._get_grid_width()-1,0)+"px",this.$task.style.width=Math.max(this._x-this._get_grid_width()-2,0)+"px")}},gantt.getScrollState=function(){return this.$task&&this.$task_data?{x:this.$task.scrollLeft,y:this.$task_data.scrollTop}:null},gantt._save_scroll_state=function(t,e){var a={};this._cached_scroll_pos=this._cached_scroll_pos||{},void 0!==t&&(a.x=Math.max(t,0)),void 0!==e&&(a.y=Math.max(e,0)),this.mixin(this._cached_scroll_pos,a,!0)},gantt._restore_scroll_state=function(){var t={x:0,y:0};return this._cached_scroll_pos&&(t.x=this._cached_scroll_pos.x||t.x,t.y=this._cached_scroll_pos.y||t.y),t},gantt.scrollTo=function(t,e){var a=this._restore_scroll_state();1*t==t&&(this.$task.scrollLeft=t,this._save_scroll_state(t,void 0)),1*e==e&&(this.$scroll_ver.scrollTop=e,this.$task_data.scrollTop=e,this.$grid_data.scrollTop=e,this._save_scroll_state(void 0,this.config.show_chart?this.$task_data.scrollTop:this.$scroll_ver.scrollTop));var i=gantt._restore_scroll_state();this.callEvent("onGanttScroll",[a.x,a.y,i.x,i.y])},gantt.showDate=function(t){var e=this.posFromDate(t),a=Math.max(e-this.config.task_scroll_offset,0);this.scrollTo(a)},gantt.showTask=function(t){var e,a=this._get_task_pos(this.getTask(t)),i=Math.max(a.x-this.config.task_scroll_offset,0),s=this._scroll_sizes().y;e=s?a.y-(s-this.config.row_height)/2:a.y,this.scrollTo(i,e)},gantt._on_resize=gantt.setSizes=function(){gantt._set_sizes(),gantt._scroll_resize(),gantt._set_sizes()},gantt.render=function(){this.callEvent("onBeforeGanttRender",[]);var t=this.copy(this._restore_scroll_state()),e=null;if(t&&(e=gantt.dateFromPos(t.x+this.config.task_scroll_offset)),this._render_grid(),this._render_tasks_scales(),this._scroll_resize(),this._on_resize(),this._render_data(),this.config.preserve_scroll&&t){var a=gantt._restore_scroll_state();+e==+gantt.dateFromPos(a.x)&&a.y==t.y||(e&&this.showDate(e),gantt.scrollTo(void 0,t.y))}this.callEvent("onGanttRender",[])},gantt._set_scroll_events=function(){function t(t){var a=gantt._get_resize_options();gantt._wheel_time=new Date;var i=e?-20*t.deltaX:2*t.wheelDeltaX,s=e?-40*t.deltaY:t.wheelDelta;if(!t.shiftKey||t.deltaX||t.wheelDeltaX||(i=2*s,s=0),i&&Math.abs(i)>Math.abs(s)){if(a.x)return!0;if(!gantt.$scroll_hor||!gantt.$scroll_hor.offsetWidth)return!0;var o=i/-40,n=gantt.$task.scrollLeft,l=n+30*o;if(gantt.scrollTo(l,null),gantt.$scroll_hor.scrollLeft=l,n==gantt.$task.scrollLeft)return!0}else{if(a.y)return!0;if(!gantt.$scroll_ver||!gantt.$scroll_ver.offsetHeight)return!0;var o=s/-40;void 0===s&&(o=t.detail);var r=gantt.$scroll_ver.scrollTop,c=gantt.$scroll_ver.scrollTop+30*o;if(!gantt.config.prevent_default_scroll&&gantt._cached_scroll_pos&&(gantt._cached_scroll_pos.y==c||gantt._cached_scroll_pos.y<=0&&c<=0))return!0;if(gantt.scrollTo(null,c),gantt.$scroll_ver.scrollTop=c,r==gantt.$scroll_ver.scrollTop)return!0}return t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1}this.event(this.$scroll_hor,"scroll",function(){if(new Date-(gantt._wheel_time||0)<100)return!0;if(!gantt._touch_scroll_active){var t=gantt.$scroll_hor.scrollLeft;gantt.scrollTo(t)}}),this.event(this.$scroll_ver,"scroll",function(){if(!gantt._touch_scroll_active){var t=gantt.$scroll_ver.scrollTop;t!=gantt.$scroll_ver.prevTop&&(gantt.$scroll_ver.prevTop=t,gantt.scrollTo(null,t))}}),this.event(this.$task,"scroll",function(){var t=gantt.$task.scrollLeft;gantt.$scroll_hor.scrollLeft!=t&&(gantt.$scroll_hor.scrollLeft=t)}),this.event(this.$task_data,"scroll",function(){var t=gantt.$task_data.scrollTop;gantt.$scroll_ver.scrollTop!=t&&(gantt.$scroll_ver.scrollTop=t)});var e=gantt.env.isFF;e?this.event(gantt.$container,"wheel",t):this.event(gantt.$container,"mousewheel",t)},gantt._scroll_resize=function(){if(!(this._x<20||this._y<20)){var t=this._scroll_sizes();t.x?(this.$scroll_hor.style.display="block",this.$scroll_hor.style.height=t.scroll_size+"px",this.$scroll_hor.style.width=t.x+"px",this.$scroll_hor.firstChild.style.width=t.x_inner+"px"):(this.$scroll_hor.style.display="none",this.$scroll_hor.style.height=this.$scroll_hor.style.width="0px"),t.y?(this.$scroll_ver.style.display="block",this.$scroll_ver.style.width=t.scroll_size+"px",this.$scroll_ver.style.height=t.y+"px",this.$scroll_ver.style.top=this.config.scale_height+"px",this.$scroll_ver.firstChild.style.height=t.y_inner+"px"):(this.$scroll_ver.style.display="none",this.$scroll_ver.style.width=this.$scroll_ver.style.height="0px")}},gantt._scroll_sizes=function(){var t=this._get_grid_width(),e=Math.max(this._x-t,0),a=Math.max(this._y-this.config.scale_height,0),i=this.config.scroll_size+1,s=this._get_resize_options(),o=this.config.row_height*this._order.length,n=this._scroll_ver=!s.y&&o>a,l=Math.max(this._tasks.full_width-(n?0:i),0),r=this._scroll_hor=!s.x&&l>e,c={x:!1,y:!1,scroll_size:i,x_inner:l+t+i+2,y_inner:o};return r&&(c.x=Math.max(this._x-(n?i:2),0)),n&&(c.y=Math.max(this._y-(r?i:2)-this.config.scale_height,0)),c},gantt._getClassName=function(t){if(!t)return"";var e=t.className||"";return e.baseVal&&(e=e.baseVal),e.indexOf||(e=""),gantt._trim(e)},gantt.locate=function(t){var e=gantt._get_target_node(t);if((gantt._getClassName(e)||"").indexOf("gantt_task_cell")>=0)return null;for(var a=arguments[1]||this.config.task_attribute;e;){if(e.getAttribute){var i=e.getAttribute(a);if(i)return i}e=e.parentNode}return null},gantt._get_target_node=function(t){var e;return t.tagName?e=t:(t=t||window.event,e=t.target||t.srcElement),e},gantt._trim=function(t){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(t)},gantt._locate_css=function(t,e,a){void 0===a&&(a=!0);for(var i=gantt._get_target_node(t),s="";i;){if(s=gantt._getClassName(i)){var o=s.indexOf(e);if(o>=0){if(!a)return i;var n=0===o||!gantt._trim(s.charAt(o-1)),l=o+e.length>=s.length||!gantt._trim(s.charAt(o+e.length));if(n&&l)return i}}i=i.parentNode}return null},gantt._locateHTML=function(t,e){var a=gantt._get_target_node(t);for(e=e||this.config.task_attribute;a;){if(a.getAttribute){if(a.getAttribute(e))return a}a=a.parentNode}return null},gantt.getTaskRowNode=function(t){for(var e=this.$grid_data.childNodes,a=this.config.task_attribute,i=0;i<e.length;i++)if(e[i].getAttribute){var s=e[i].getAttribute(a);if(s==t)return e[i]}return null},gantt.getState=function(){return{drag_id:this._tasks_dnd.drag?this._tasks_dnd.drag.id:void 0,drag_mode:this._tasks_dnd.drag?this._tasks_dnd.drag.mode:void 0,drag_from_start:this._tasks_dnd.drag?this._tasks_dnd.drag.left:void 0,selected_task:this._selected_task,min_date:this._min_date?new Date(this._min_date):void 0,max_date:this._max_date?new Date(this._max_date):void 0,lightbox:this._lightbox_id,touch_drag:this._touch_drag,scale_unit:this._tasks?this._tasks.unit:void 0,scale_step:this._tasks?this._tasks.step:void 0}},gantt._checkTimeout=function(t,e){if(!e)return!0;var a=1e3/e;return a<1||!t._on_timeout&&(setTimeout(function(){delete t._on_timeout},a),t._on_timeout=!0,!0)},gantt.selectTask=function(t){if(!this.config.select_task)return!1;if(t){if(this._selected_task==t)return this._selected_task;if(!this.callEvent("onBeforeTaskSelected",[t]))return!1;this.unselectTask(),this._selected_task=t,this.refreshTask(t),this.callEvent("onTaskSelected",[t])}return this._selected_task},gantt.unselectTask=function(t){var t=t||this._selected_task;t&&(this._selected_task=null,this.refreshTask(t),this.callEvent("onTaskUnselected",[t]))},gantt.getSelectedId=function(){return this.defined(this._selected_task)?this._selected_task:null},gantt.changeLightboxType=function(t){if(this.getLightboxType()==t)return!0;gantt._silent_redraw_lightbox(t)},gantt._is_render_active=function(){return!this._skip_render},gantt._correct_dst_change=function(t,e,a,i){var s=gantt._get_line(i)*a;if(s>3600&&s<86400){var o=t.getTimezoneOffset()-e;o&&(t=gantt.date.add(t,o,"minute"))}return t},function(){var t={};gantt._disableMethod=function(e,a){a="function"==typeof a?a:function(){},t[e]||(t[e]=this[e],this[e]=a)},gantt._restoreMethod=function(e){t[e]&&(this[e]=t[e],t[e]=null)},gantt._disableMethods=function(t){for(var e in t)this._disableMethod(e,t[e])},gantt._restoreMethods=function(){for(var e in t)this._restoreMethod(e)}}(),gantt._batchUpdatePayload=function(t){try{t()}catch(t){window.console.error(t)}},gantt.batchUpdate=function(t,e){if(!this._is_render_active())return void this._batchUpdatePayload(t);var a,i=this._dp&&"off"!=this._dp.updateMode;i&&(a=this._dp.updateMode,this._dp.setUpdateMode("off"));var s={},o={_sync_order:!0,_sync_links:!0,_adjust_scales:!0,render:!0,_render_data:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(t){s[t.id]=t}};this._disableMethods(o),this._skip_render=!0,this.callEvent("onBeforeBatchUpdate",[]),this._batchUpdatePayload(t),this.callEvent("onAfterBatchUpdate",[]),this._restoreMethods(),this._sync_order(),this._sync_links();for(var n in s)this.resetProjectDates(s[n]);this._adjust_scales(),this._skip_render=!1,e||this.render(),i&&(this._dp.setUpdateMode(a),this._dp.setGanttMode("tasks"),this._dp.sendData(),this._dp.setGanttMode("links"),this._dp.sendData())},gantt.env={isIE:navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0,isIE6:!window.XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:navigator.userAgent.indexOf("Opera")>=0,isChrome:navigator.userAgent.indexOf("Chrome")>=0,isKHTML:navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0,isFF:navigator.userAgent.indexOf("Firefox")>=0,isIPad:navigator.userAgent.search(/iPad/gi)>=0,isEdge:-1!=navigator.userAgent.indexOf("Edge")},gantt.ajax={cache:!0,method:"get",parse:function(t){if("string"!=typeof t)return t;var e;return t=t.replace(/^[\s]+/,""),window.DOMParser&&!gantt.env.isIE?e=(new window.DOMParser).parseFromString(t,"text/xml"):window.ActiveXObject!==window.undefined&&(e=new window.ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)),e},xmltop:function(t,e,a){if(void 0===e.status||e.status<400){var i=e.responseXML?e.responseXML||e:gantt.ajax.parse(e.responseText||e);if(i&&null!==i.documentElement&&!i.getElementsByTagName("parsererror").length)return i.getElementsByTagName(t)[0]}return-1!==a&&gantt.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],a]),document.createElement("DIV")},xpath:function(t,e){if(e.nodeName||(e=e.responseXML||e),gantt.env.isIE)return e.selectNodes(t)||[];for(var a,i=[],s=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ANY_TYPE,null);;){if(!(a=s.iterateNext()))break;i.push(a)}return i},query:function(t){gantt.ajax._call(t.method||"GET",t.url,t.data||"",t.async||!0,t.callback,null,t.headers)},get:function(t,e){this._call("GET",t,null,!0,e)},getSync:function(t){return this._call("GET",t,null,!1)},put:function(t,e,a){this._call("PUT",t,e,!0,a)},del:function(t,e,a){this._call("DELETE",t,e,!0,a)},post:function(t,e,a){1==arguments.length?e="":2!=arguments.length||"function"!=typeof e&&"function"!=typeof window[e]?e=String(e):(a=e,e=""),this._call("POST",t,e,!0,a)},postSync:function(t,e){return e=null===e?"":String(e),this._call("POST",t,e,!1)},getLong:function(t,e){this._call("GET",t,null,!0,e,{url:t})},postLong:function(t,e,a){2!=arguments.length||"function"!=typeof e&&!l()(window[e])||(a=e,e=""),this._call("POST",t,e,!0,a,{url:t,postData:e})},_call:function(t,e,a,i,s,o,n){var l=window.XMLHttpRequest&&!gantt.env.isIE?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(i&&(l.onreadystatechange=function(){if(4==l.readyState||r&&3==l.readyState){if((200!=l.status||""===l.responseText)&&!gantt.callEvent("onAjaxError",[l]))return;window.setTimeout(function(){"function"==typeof s&&s.apply(window,[{xmlDoc:l,filePath:e}]),o&&(void 0!==o.postData?gantt.ajax.postLong(o.url,o.postData,s):gantt.ajax.getLong(o.url,s)),s=null,l=null},1)}}),"GET"!=t||this.cache||(e+=(e.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),l.open(t,e,i),n)for(var c in n)l.setRequestHeader(c,n[c]);else"POST"==t.toUpperCase()||"PUT"==t||"DELETE"==t?l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==t&&(a=null);if(l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.send(a),!i)return{xmlDoc:l,filePath:e}}},gantt._urlSeparator=function(t){return-1!=t.indexOf("?")?"&":"?"},function(){function t(t,e){var a=t.callback;gantt.modalbox.hide(t.box),h=t.box=null,a&&a(e)}function e(e){if(h){e=e||event;var a=e.which||event.keyCode,i=!1;if(gantt.message.keyboard){if(13==a||32==a){var s=e.target||e.srcElement;gantt._getClassName(s).indexOf("gantt_popup_button")>-1&&s.click?s.click():(t(h,!0),i=!0)}27==a&&(t(h,!1),i=!0)}if(i)return e.preventDefault&&e.preventDefault(),!(e.cancelBubble=!0)}else;}function a(t){a.cover||(a.cover=document.createElement("DIV"),a.cover.onkeydown=e,a.cover.className="dhx_modal_cover",document.body.appendChild(a.cover));document.body.scrollHeight;a.cover.style.display=t?"inline-block":"none"}function i(t,e){return"<div "+gantt._waiAria.messageButtonAttrString(t)+" class='gantt_popup_button dhtmlx_popup_button gantt_"+t.toLowerCase().replace(/ /g,"_")+"_button dhtmlx_"+t.toLowerCase().replace(/ /g,"_")+"_button' result='"+e+"' ><div>"+t+"</div></div>"}function s(t){f.area||(f.area=document.createElement("DIV"),f.area.className="gantt_message_area dhtmlx_message_area",f.area.style[f.position]="5px",document.body.appendChild(f.area)),f.hide(t.id);var e=document.createElement("DIV");return e.innerHTML="<div>"+t.text+"</div>",e.className="gantt-info dhtmlx-info gantt-"+t.type+" dhtmlx-"+t.type,e.onclick=function(){f.hide(t.id),t=null},gantt._waiAria.messageInfoAttr(e),"bottom"==f.position&&f.area.firstChild?f.area.insertBefore(e,f.area.firstChild):f.area.appendChild(e),t.expire>0&&(f.timers[t.id]=window.setTimeout(function(){f.hide(t.id)},t.expire)),f.pull[t.id]=e,e=null,t.id}function o(){for(var t=[].slice.apply(arguments,[0]),e=0;e<t.length;e++)if(t[e])return t[e]}function n(e,a,s){var n=document.createElement("DIV"),l=gantt.uid();gantt._waiAria.messageModalAttr(n,l),n.className=" gantt_modal_box dhtmlx_modal_box gantt-"+e.type+" dhtmlx-"+e.type,n.setAttribute("dhxbox",1);var r="";if(e.width&&(n.style.width=e.width),e.height&&(n.style.height=e.height),e.title&&(r+='<div class="gantt_popup_title dhtmlx_popup_title">'+e.title+"</div>"),r+='<div class="gantt_popup_text dhtmlx_popup_text" id="'+l+'"><span>'+(e.content?"":e.text)+'</span></div><div  class="gantt_popup_controls dhtmlx_popup_controls">',a&&(r+=i(o(e.ok,gantt.locale.labels.message_ok,"OK"),!0)),s&&(r+=i(o(e.cancel,gantt.locale.labels.message_cancel,"Cancel"),!1)),e.buttons)for(var c=0;c<e.buttons.length;c++)r+=i(e.buttons[c],c);if(r+="</div>",n.innerHTML=r,e.content){var d=e.content;"string"==typeof d&&(d=document.getElementById(d)),"none"==d.style.display&&(d.style.display=""),n.childNodes[e.title?1:0].appendChild(d)}return n.onclick=function(a){a=a||event;var i=a.target||a.srcElement;if(i.className||(i=i.parentNode),"gantt_popup_button"==i.className.split(" ")[0]){var s=i.getAttribute("result");s="true"==s||"false"!=s&&s,t(e,s)}},e.box=n,(a||s)&&(h=e),n}function r(t,i,s){var o=t.tagName?t:n(t,i,s);t.hidden||a(!0),document.body.appendChild(o);var l=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-o.offsetWidth)/2)),r=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-o.offsetHeight)/2));return"top"==t.position?o.style.top="-3px":o.style.top=r+"px",o.style.left=l+"px",o.onkeydown=e,gantt.modalbox.focus(o),t.hidden&&gantt.modalbox.hide(o),gantt.callEvent("onMessagePopup",[o]),o}function c(t){return r(t,!0,!1)}function d(t){return r(t,!0,!0)}function u(t){return r(t)}function m(t,e,a){return"object"!=(void 0===t?"undefined":l()(t))&&("function"==typeof e&&(a=e,e=""),t={text:t,type:e,callback:a}),t}function p(t,e,a,i){return"object"!=(void 0===t?"undefined":l()(t))&&(t={text:t,type:e,expire:a,id:i}),t.id=t.id||f.uid(),t.expire=t.expire||f.expire,t}var h=null;document.attachEvent?document.attachEvent("onkeydown",e):document.addEventListener("keydown",e,!0),gantt.alert=function(){var t=m.apply(this,arguments);return t.type=t.type||"confirm",c(t)},gantt.confirm=function(){var t=m.apply(this,arguments);return t.type=t.type||"alert",d(t)},gantt.modalbox=function(){var t=m.apply(this,arguments);return t.type=t.type||"alert",u(t)},gantt.modalbox.hide=function(t){for(;t&&t.getAttribute&&!t.getAttribute("dhxbox");)t=t.parentNode;t&&(t.parentNode.removeChild(t),a(!1),gantt.callEvent("onAfterMessagePopup",[t]))},gantt.modalbox.focus=function(t){setTimeout(function(){var e=gantt._getFocusableNodes(t);e.length&&e[0].focus&&e[0].focus()},1)};var f=gantt.message=function(t,e,a,i){switch(t=p.apply(this,arguments),t.type=t.type||"info",t.type.split("-")[0]){case"alert":return c(t);case"confirm":return d(t);case"modalbox":return u(t);default:return s(t)}};f.seed=(new Date).valueOf(),f.uid=function(){return f.seed++},f.expire=4e3,f.keyboard=!0,f.position="top",f.pull={},f.timers={},f.hideAll=function(){for(var t in f.pull)f.hide(t)},f.hide=function(t){var e=f.pull[t];e&&e.parentNode&&(window.setTimeout(function(){e.parentNode.removeChild(e),e=null},2e3),e.className+=" hidden",f.timers[t]&&window.clearTimeout(f.timers[t]),delete f.pull[t])}}(),gantt.date={init:function(){for(var t=gantt.locale.date.month_short,e=gantt.locale.date.month_short_hash={},a=0;a<t.length;a++)e[t[a]]=a;for(var t=gantt.locale.date.month_full,e=gantt.locale.date.month_full_hash={},a=0;a<t.length;a++)e[t[a]]=a},date_part:function(t){var e=new Date(t);return t.setHours(0),this.hour_start(t),t.getHours()&&(t.getDate()<e.getDate()||t.getMonth()<e.getMonth()||t.getFullYear()<e.getFullYear())&&t.setTime(t.getTime()+36e5*(24-t.getHours())),t},time_part:function(t){return(t.valueOf()/1e3-60*t.getTimezoneOffset())%86400},week_start:function(t){var e=t.getDay();return gantt.config.start_on_monday&&(0===e?e=6:e--),this.date_part(this.add(t,-1*e,"day"))},month_start:function(t){return t.setDate(1),this.date_part(t)},year_start:function(t){return t.setMonth(0),this.month_start(t)},day_start:function(t){return this.date_part(t)},hour_start:function(t){return t.getMinutes()&&t.setMinutes(0),this.minute_start(t),t},minute_start:function(t){return t.getSeconds()&&t.setSeconds(0),t.getMilliseconds()&&t.setMilliseconds(0),t},_add_days:function(t,e){var a=new Date(t.valueOf());return a.setDate(a.getDate()+e),e>=0&&!t.getHours()&&a.getHours()&&(a.getDate()<=t.getDate()||a.getMonth()<t.getMonth()||a.getFullYear()<t.getFullYear())&&a.setTime(a.getTime()+36e5*(24-a.getHours())),a},add:function(t,e,a){var i=new Date(t.valueOf());switch(a){case"day":i=gantt.date._add_days(i,e);break;case"week":i=gantt.date._add_days(i,7*e);break;case"month":i.setMonth(i.getMonth()+e);break;case"year":i.setYear(i.getFullYear()+e);break;case"hour":i.setTime(i.getTime()+60*e*60*1e3);break;case"minute":i.setTime(i.getTime()+60*e*1e3);break;default:return gantt.date["add_"+a](t,e,a)}return i},to_fixed:function(t){return t<10?"0"+t:t},copy:function(t){return new Date(t.valueOf())},date_to_str:function(t,e){return t=t.replace(/%[a-zA-Z]/g,function(t){switch(t){case"%d":return'"+gantt.date.to_fixed(date.getDate())+"';case"%m":return'"+gantt.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+gantt.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+gantt.locale.date.day_short[date.getDay()]+"';case"%l":return'"+gantt.locale.date.day_full[date.getDay()]+"';case"%M":return'"+gantt.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+gantt.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+gantt.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+gantt.date.to_fixed(date.getHours())+"';case"%i":return'"+gantt.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+gantt.date.to_fixed(date.getSeconds())+"';case"%W":return'"+gantt.date.to_fixed(gantt.date.getISOWeek(date))+"';default:return t}}),e&&(t=t.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+t+'";')},str_to_date:function(t,e){for(var a="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",i=t.match(/%[a-zA-Z]/g),s=0;s<i.length;s++)switch(i[s]){case"%j":case"%d":a+="set[2]=temp["+s+"]||1;";break;case"%n":case"%m":a+="set[1]=(temp["+s+"]||1)-1;";break;case"%y":a+="set[0]=temp["+s+"]*1+(temp["+s+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":a+="set[3]=temp["+s+"]||0;";break;case"%i":a+="set[4]=temp["+s+"]||0;";break;case"%Y":a+="set[0]=temp["+s+"]||0;";break;case"%a":case"%A":a+="set[3]=set[3]%12+((temp["+s+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":a+="set[5]=temp["+s+"]||0;";break;case"%M":a+="set[1]=gantt.locale.date.month_short_hash[temp["+s+"]]||0;";break;case"%F":a+="set[1]=gantt.locale.date.month_full_hash[temp["+s+"]]||0;"}var o="set[0],set[1],set[2],set[3],set[4],set[5]";return e&&(o=" Date.UTC("+o+")"),new Function("date","var set=[0,0,1,0,0,0]; "+a+" return new Date("+o+");")},getISOWeek:function(t){if(!t)return!1;var e=t.getDay();0===e&&(e=7);var a=new Date(t.valueOf());a.setDate(t.getDate()+(4-e));var i=a.getFullYear(),s=Math.round((a.getTime()-new Date(i,0,1).getTime())/864e5);return 1+Math.floor(s/7)},getUTCISOWeek:function(t){return this.getISOWeek(t)},convert_to_utc:function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},parseDate:function(t,e){return t&&!t.getFullYear&&(gantt.defined(e)&&(e="string"==typeof e?gantt.defined(gantt.templates[e])?gantt.templates[e]:gantt.date.str_to_date(e):gantt.templates.xml_date),t=t?e(t):null),t}},gantt.date.quarter_start=function(t){gantt.date.month_start(t);var e,a=t.getMonth();return e=a>=9?9:a>=6?6:a>=3?3:0,t.setMonth(e),t},gantt.date.add_quarter=function(t,e){return gantt.date.add(t,3*e,"month")},t&&function(t){var e=[];t.fn.dhx_gantt=function(a){if("string"!=typeof(a=a||{})){var i=[];return this.each(function(){if(this&&this.getAttribute&&!this.getAttribute("dhxgantt")){for(var t in a)"data"!=t&&(gantt.config[t]=a[t]);gantt.init(this),a.data&&gantt.parse(a.data),i.push(gantt)}}),1===i.length?i[0]:i}if(e[a])return e[a].apply(this,[]);t.error("Method "+a+" does not exist on jQuery.dhx_gantt")}}(i),gantt.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel"}},gantt.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80},gantt.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80},gantt.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70},gantt.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}},gantt.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80},gantt.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80},gantt.config.touch_drag=500,gantt.config.touch=!0,gantt.config.touch_feedback=!0,gantt.config.touch_feedback_duration=1,gantt._prevent_touch_scroll=!1,gantt._touch_feedback=function(){gantt.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(gantt.config.touch_feedback_duration)},gantt._init_touch_events=function(){if("force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))),this.config.touch){var t=!0;try{document.createEvent("TouchEvent")}catch(e){t=!1}t?this._touch_events(["touchmove","touchstart","touchend"],function(t){return t.touches&&t.touches.length>1?null:t.touches[0]?{target:t.target,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(t){return"mouse"==t.pointerType?null:t},function(t){return!t||"mouse"==t.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t},function(t){return!t||t.pointerType==t.MSPOINTER_TYPE_MOUSE})}},gantt._touch_events=function(t,e,a){function i(t){return t&&t.preventDefault&&t.preventDefault(),(t||event).cancelBubble=!0,!1}function s(t){var e=gantt._task_area_pulls,a=gantt.getTask(t);if(a&&gantt.isTaskVisible(t))for(var i in e)if((a=e[i][t])&&a.getAttribute("task_id")&&a.getAttribute("task_id")==t){var s=a.cloneNode(!0);return u=a,e[i][t]=s,a.style.display="none",s.className+=" gantt_drag_move ",a.parentNode.appendChild(s),s}}var o,n=0,l=!1,r=!1,c=null,d=null,u=null;this._gantt_touch_event_ready||(this._gantt_touch_event_ready=1,gantt.event(gantt.$container,t[0],function(t){if(!a(t)&&l){d&&clearTimeout(d);var s=e(t);if(gantt._tasks_dnd.drag.id||gantt._tasks_dnd.drag.start_drag)return gantt._tasks_dnd.on_mouse_move(s),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1;if(!gantt._prevent_touch_scroll){if(s&&c){var u=c.pageX-s.pageX,m=c.pageY-s.pageY;if(!r&&(Math.abs(u)>5||Math.abs(m)>5)&&(gantt._touch_scroll_active=r=!0,n=0,o=gantt.getScrollState()),r){gantt.scrollTo(o.x+u,o.y+m);var p=gantt.getScrollState();if(o.x!=p.x&&m>2*u||o.y!=p.y&&u>2*m)return i(t)}}return i(t)}return!0}})),gantt.event(this.$container,"contextmenu",function(t){if(l)return i(t)}),gantt.event(this.$container,t[1],function(t){if(!a(t)){if(t.touches&&t.touches.length>1)return void(l=!1);c=e(t),gantt._locate_css(c,"gantt_hor_scroll")||gantt._locate_css(c,"gantt_ver_scroll")||(l=!0),d=setTimeout(function(){var t=gantt.locate(c);!t||gantt._locate_css(c,"gantt_link_control")||gantt._locate_css(c,"gantt_grid_data")||(gantt._tasks_dnd.on_mouse_down(c),gantt._tasks_dnd.drag&&gantt._tasks_dnd.drag.start_drag&&(s(t),gantt._tasks_dnd._start_dnd(c),gantt._touch_drag=!0,gantt.refreshTask(t),gantt._touch_feedback())),d=null},gantt.config.touch_drag)}}),gantt.event(this.$container,t[2],function(t){if(!a(t)){d&&clearTimeout(d),gantt._touch_drag=!1,l=!1;var s=e(t);if(gantt._tasks_dnd.on_mouse_up(s),u&&(gantt.refreshTask(gantt.locate(u)),u.parentNode&&(u.parentNode.removeChild(u),gantt._touch_feedback())),gantt._touch_scroll_active=l=r=!1,u=null,c&&n){var o=new Date;o-n<500?(gantt._on_dblclick(c),i(t)):n=o}else n=new Date}})},function(){function t(t,e){var a=gantt.env.isIE?"":"%c",i=[a,'"',t,'"',a," has been deprecated in dhtmlxGantt v4.0 and will stop working in v5.0. Use ",a,'"',e,'"',a," instead. \nSee more details at http://docs.dhtmlx.com/gantt/migrating.html "].join(""),s=window.console.warn||window.console.log,o=[i];gantt.env.isIE||(o=o.concat(["font-weight:bold","font-weight:normal","font-weight:bold","font-weight:normal"])),s.apply(window.console,o)}window.dhtmlx||(window.dhtmlx={});for(var e=["message","alert","confirm","modalbox","uid","copy","mixin","defined","bind","assert"],a=0;a<e.length;a++)window.dhtmlx[e[a]]||(dhtmlx[e[a]]=function(e){return function(){return t("dhtmlx."+e,"gantt."+e),gantt[e].apply(gantt,arguments)}}(e[a]));window.dataProcessor||(window.dataProcessor=function(e){return t("new dataProcessor(url)","new gantt.dataProcessor(url)"),new gantt.dataProcessor(e)})}()}).call(e,a(2),a(2))},function(t,e){/*
@license

dhtmlxGantt v.4.2.1 Stardard
This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.

(c) Dinamenta, UAB.
*/
gantt._markers||(gantt._markers={}),gantt.config.show_markers=!0,gantt.attachEvent("onClear",function(){gantt._markers={}}),gantt.attachEvent("onGanttReady",function(){function t(t){if(!gantt.config.show_markers)return!1;if(!t.start_date)return!1;var e=gantt.getState();if(!(+t.start_date>+e.max_date||+t.end_date&&+t.end_date<+e.min_date||+t.start_date<+e.min_date)){var a=document.createElement("div");a.setAttribute("marker_id",t.id);var i="gantt_marker";gantt.templates.marker_class&&(i+=" "+gantt.templates.marker_class(t)),t.css&&(i+=" "+t.css),t.title&&(a.title=t.title),a.className=i;var s=gantt.posFromDate(t.start_date);if(a.style.left=s+"px",a.style.height=Math.max(gantt._y_from_ind(gantt._order.length),0)+"px",t.end_date){var o=gantt.posFromDate(t.end_date);a.style.width=Math.max(o-s,0)+"px"}return t.text&&(a.innerHTML="<div class='gantt_marker_content' >"+t.text+"</div>"),a}}var e=document.createElement("div");e.className="gantt_marker_area",gantt.$task_data.appendChild(e),gantt.$marker_area=e,gantt._markerRenderer=gantt._task_renderer("markers",t,gantt.$marker_area,null)}),gantt.attachEvent("onDataRender",function(){gantt.renderMarkers()}),gantt.getMarker=function(t){return this._markers?this._markers[t]:null},gantt.addMarker=function(t){return t.id=t.id||gantt.uid(),this._markers[t.id]=t,t.id},gantt.deleteMarker=function(t){return!(!this._markers||!this._markers[t])&&(delete this._markers[t],!0)},gantt.updateMarker=function(t){this._markerRenderer&&this._markerRenderer.render_item(this.getMarker(t))},gantt._getMarkers=function(){var t=[];for(var e in this._markers)t.push(this._markers[e]);return t},gantt.renderMarkers=function(){if(!this._markers)return!1;if(!this._markerRenderer)return!1;var t=this._getMarkers();return this._markerRenderer.render_items(t),!0}},function(t,e){/*
@license
dhtmlxGantt v.4.1.0 Stardard
This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.
(c) Dinamenta, UAB.
*/
gantt._tooltip={},gantt._tooltip_class="gantt_tooltip",gantt.config.tooltip_timeout=30,gantt.config.tooltip_offset_y=20,gantt.config.tooltip_offset_x=10,gantt._create_tooltip=function(){return this._tooltip_html||(this._tooltip_html=document.createElement("div"),this._tooltip_html.className=gantt._tooltip_class,this._waiAria.tooltipAttr(this._tooltip_html)),this._tooltip_html},gantt._is_cursor_under_tooltip=function(t,e){return t.x>=e.pos.x&&t.x<=e.pos.x+e.width||t.y>=e.pos.y&&t.y<=e.pos.y+e.height},gantt._show_tooltip=function(t,e){if(!gantt.config.touch||gantt.config.touch_tooltip){var a=this._create_tooltip();a.innerHTML=t,gantt.$task_data.appendChild(a);var i=a.offsetWidth+20,s=a.offsetHeight+80,o=this.$task.offsetHeight,n=this.$task.offsetWidth,l=this.getScrollState();gantt._waiAria.tooltipVisibleAttr(a),e.y+=l.y;var r={x:e.x,y:e.y};e.x+=1*gantt.config.tooltip_offset_x||0,e.y+=1*gantt.config.tooltip_offset_y||0,e.y=Math.min(Math.max(l.y,e.y),l.y+o-s),e.x=Math.min(Math.max(l.x,e.x),l.x+n-i),gantt._is_cursor_under_tooltip(r,{pos:e,width:i,height:s})&&(r.x+i>n+l.x&&(e.x=r.x-(i-20)-(1*gantt.config.tooltip_offset_x||0)),r.y+s>o+l.y&&(e.y=r.y-(s-90)-(1*gantt.config.tooltip_offset_y||0))),a.style.left=e.x+"px",a.style.top=e.y+"px"}},gantt._hide_tooltip=function(){this._tooltip_html&&this._waiAria.tooltipHiddenAttr(this._tooltip_html),this._tooltip_html&&this._tooltip_html.parentNode&&this._tooltip_html.parentNode.removeChild(this._tooltip_html),this._tooltip_id=0},gantt._is_tooltip=function(t){var e=t.target||t.srcElement;return gantt._is_node_child(e,function(t){return t.className==this._tooltip_class})},gantt._is_task_line=function(t){var e=t.target||t.srcElement;return gantt._is_node_child(e,function(t){return t==this.$task_data})},gantt._is_node_child=function(t,e){for(var a=!1;t&&!a;)a=e.call(gantt,t),t=t.parentNode;return a},gantt._tooltip_pos=function(t){if(t.pageX||t.pageY)var e={x:t.pageX,y:t.pageY};var a=gantt.env.isIE?document.documentElement:document.body,e={x:t.clientX+a.scrollLeft-a.clientLeft,y:t.clientY+a.scrollTop-a.clientTop},i=gantt._get_position(gantt.$task_data);return e.x=e.x-i.x,e.y=e.y-i.y,e},gantt.attachEvent("onMouseMove",function(t,e){if(this.config.tooltip_timeout){document.createEventObject&&!document.createEvent&&(e=document.createEventObject(e));var a=this.config.tooltip_timeout;this._tooltip_id&&!t&&(isNaN(this.config.tooltip_hide_timeout)||(a=this.config.tooltip_hide_timeout)),clearTimeout(gantt._tooltip_ev_timer),gantt._tooltip_ev_timer=setTimeout(function(){gantt._init_tooltip(t,e)},a)}else gantt._init_tooltip(t,e)}),gantt._init_tooltip=function(t,e){if(!this._is_tooltip(e)&&(t!=this._tooltip_id||this._is_task_line(e))){if(!t)return this._hide_tooltip();this._tooltip_id=t;var a=this.getTask(t),i=this.templates.tooltip_text(a.start_date,a.end_date,a);if(!i)return void this._hide_tooltip();this._show_tooltip(i,this._tooltip_pos(e))}},gantt.attachEvent("onMouseLeave",function(t){gantt._is_tooltip(t)||this._hide_tooltip()})},function(t,e){/*
@license

dhtmlxGantt v.4.1.0 Stardard
This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.

(c) Dinamenta, UAB.
*/
gantt.config.day_date="%M %d %D",gantt.config.default_date="%Y %M %d",gantt.config.month_date="%Y %M",gantt.locale={date:{month_full:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],month_short:["Thg. 1","Thg. 2","Thg. 3","Thg. 4","Thg. 5","Thg. 6","Thg. 7","Thg. 8","Thg. 9","Thg. 10","Thg. 11","Thg. 12"],day_full:["Chủ nhật","Thứ hai","Thứ ba","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],day_short:["CN","T2","T3","T4","T5","T6","T7"]},labels:{dhx_cal_today_button:"Hôm nay",day_tab:"Ngày",week_tab:"Tuần",month_tab:"Tháng",new_event:"Mới",icon_save:"Lưu",icon_cancel:"Huỷ",icon_details:"Chi tiết",icon_edit:"Sửa",icon_delete:"Xoá",confirm_closing:"Dữ liệu sẽ bị xoá, tiếp tục?",confirm_deleting:"Bạn muốn xoá?",section_description:"Mô tả",section_time:"Thời gian",section_type:"Loại",column_text:"column_text",column_start_date:"column_start_date",column_duration:"column_duration",column_add:"",link:"link",confirm_link_deleting:"Bạn muốn xoá kết nối?",link_start:" (bắt đầu)",link_end:" (kết thúc)",type_task:"Loại CV",type_project:"Loại dự án",type_milestone:"Loại milestone",minutes:"phút",hours:"giờ",days:"ngày",weeks:"tuần",months:"tháng",years:"năm",message_ok:"có",message_cancel:"không"}}},function(t,e){/*
@license

dhtmlxGantt v.4.1.0 Stardard
This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.

(c) Dinamenta, UAB.
*/
gantt._markers||(gantt._markers={}),gantt.config.show_markers=!0,gantt.attachEvent("onClear",function(){gantt._markers={}}),gantt.attachEvent("onGanttReady",function(){function t(t){if(!gantt.config.show_markers)return!1;if(!t.start_date)return!1;var e=gantt.getState();if(!(+t.start_date>+e.max_date||+t.end_date&&+t.end_date<+e.min_date||+t.start_date<+e.min_date)){var a=document.createElement("div");a.setAttribute("marker_id",t.id);var i="gantt_marker";gantt.templates.marker_class&&(i+=" "+gantt.templates.marker_class(t)),t.css&&(i+=" "+t.css),t.title&&(a.title=t.title),a.className=i;var s=gantt.posFromDate(t.start_date);if(a.style.left=s+"px",a.style.height=Math.max(gantt._y_from_ind(gantt._order.length),0)+"px",t.end_date){var o=gantt.posFromDate(t.end_date);a.style.width=Math.max(o-s,0)+"px"}return t.text&&(a.innerHTML="<div class='gantt_marker_content' >"+t.text+"</div>"),a}}var e=document.createElement("div");e.className="gantt_marker_area",gantt.$task_data.appendChild(e),gantt.$marker_area=e,gantt._markerRenderer=gantt._task_renderer("markers",t,gantt.$marker_area,null)}),gantt.attachEvent("onDataRender",function(){gantt.renderMarkers()}),gantt.getMarker=function(t){return this._markers?this._markers[t]:null},gantt.addMarker=function(t){return t.id=t.id||gantt.uid(),this._markers[t.id]=t,t.id},gantt.deleteMarker=function(t){return!(!this._markers||!this._markers[t])&&(delete this._markers[t],!0)},gantt.updateMarker=function(t){this._markerRenderer&&this._markerRenderer.render_item(this.getMarker(t))},gantt._getMarkers=function(){var t=[];for(var e in this._markers)t.push(this._markers[e]);return t},gantt.renderMarkers=function(){if(!this._markers)return!1;if(!this._markerRenderer)return!1;var t=this._getMarkers();return this._markerRenderer.render_items(t),!0}},function(t,e){/*
@license
dhtmlxGantt v.4.1.0 Stardard
This software is covered by GPL license. You also can obtain Commercial or Enterprise license to use it in non-GPL project - please contact sales@dhtmlx.com. Usage without proper license is prohibited.
(c) Dinamenta, UAB.
*/
gantt._tooltip={},gantt._tooltip_class="gantt_tooltip",gantt.config.tooltip_timeout=30,gantt.config.tooltip_offset_y=20,gantt.config.tooltip_offset_x=10,gantt._create_tooltip=function(){return this._tooltip_html||(this._tooltip_html=document.createElement("div"),this._tooltip_html.className=gantt._tooltip_class,this._waiAria.tooltipAttr(this._tooltip_html)),this._tooltip_html},gantt._is_cursor_under_tooltip=function(t,e){return t.x>=e.pos.x&&t.x<=e.pos.x+e.width||t.y>=e.pos.y&&t.y<=e.pos.y+e.height},gantt._show_tooltip=function(t,e){if(!gantt.config.touch||gantt.config.touch_tooltip){var a=this._create_tooltip();a.innerHTML=t,gantt.$task_data.appendChild(a);var i=a.offsetWidth+20,s=a.offsetHeight+80,o=this.$task.offsetHeight,n=this.$task.offsetWidth,l=this.getScrollState();gantt._waiAria.tooltipVisibleAttr(a),e.y+=l.y;var r={x:e.x,y:e.y};e.x+=1*gantt.config.tooltip_offset_x||0,e.y+=1*gantt.config.tooltip_offset_y||0,e.y=Math.min(Math.max(l.y,e.y),l.y+o-s),e.x=Math.min(Math.max(l.x,e.x),l.x+n-i),gantt._is_cursor_under_tooltip(r,{pos:e,width:i,height:s})&&(r.x+i>n+l.x&&(e.x=r.x-(i-20)-(1*gantt.config.tooltip_offset_x||0)),r.y+s>o+l.y&&(e.y=r.y-(s-90)-(1*gantt.config.tooltip_offset_y||0))),a.style.left=e.x+"px",a.style.top=e.y+"px"}},gantt._hide_tooltip=function(){this._tooltip_html&&this._waiAria.tooltipHiddenAttr(this._tooltip_html),this._tooltip_html&&this._tooltip_html.parentNode&&this._tooltip_html.parentNode.removeChild(this._tooltip_html),this._tooltip_id=0},gantt._is_tooltip=function(t){var e=t.target||t.srcElement;return gantt._is_node_child(e,function(t){return t.className==this._tooltip_class})},gantt._is_task_line=function(t){var e=t.target||t.srcElement;return gantt._is_node_child(e,function(t){return t==this.$task_data})},gantt._is_node_child=function(t,e){for(var a=!1;t&&!a;)a=e.call(gantt,t),t=t.parentNode;return a},gantt._tooltip_pos=function(t){if(t.pageX||t.pageY)var e={x:t.pageX,y:t.pageY};var a=gantt.env.isIE?document.documentElement:document.body,e={x:t.clientX+a.scrollLeft-a.clientLeft,y:t.clientY+a.scrollTop-a.clientTop},i=gantt._get_position(gantt.$task_data);return e.x=e.x-i.x,e.y=e.y-i.y,e},gantt.attachEvent("onMouseMove",function(t,e){if(this.config.tooltip_timeout){document.createEventObject&&!document.createEvent&&(e=document.createEventObject(e));var a=this.config.tooltip_timeout;this._tooltip_id&&!t&&(isNaN(this.config.tooltip_hide_timeout)||(a=this.config.tooltip_hide_timeout)),clearTimeout(gantt._tooltip_ev_timer),gantt._tooltip_ev_timer=setTimeout(function(){gantt._init_tooltip(t,e)},a)}else gantt._init_tooltip(t,e)}),gantt._init_tooltip=function(t,e){if(!this._is_tooltip(e)&&(t!=this._tooltip_id||this._is_task_line(e))){if(!t)return this._hide_tooltip();this._tooltip_id=t;var a=this.getTask(t),i=this.templates.tooltip_text(a.start_date,a.end_date,a);if(!i)return void this._hide_tooltip();this._show_tooltip(i,this._tooltip_pos(e))}},gantt.attachEvent("onMouseLeave",function(t){gantt._is_tooltip(t)||this._hide_tooltip()})},function(t,e){},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(3),n=a(108),l=a(111),r=a(55);e.a={name:"Showtaskdetails",props:["data"],components:{UploadFile:n.a,Comment:l.a},data:function(){return{activeName:"0",task:{},SettingForm:[],ListUserInfo:{}}},created:function(){var t=this;if(t.searchUser(),t.$Utils.isEmpty(t.data,"dataToPass"))t.task=t.data.dataToPass,t.saveUserList(t.task),t.$forceUpdate();else{var e=t.$Lodash.cloneDeep(t.$singleRequest);e.RequestClass="xBase",e.RequestAction="Request",e.TotalRequests=1,e.R1_RequestTemplate="AG_Task_Task.Search",e.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",e.R1_RequestFields="Id;Name;Index;ActualStartDate;ActualFinishDate;PlanStartDate;Deadline;StatusName;WorkerName;Content;ManagerName;PlanManHour;RemainingManHour;RestTime;VersionProject;Action;Categories;CategoryProjectLevel1;CategoryProjectLevel2;CategoryProjectLevel3;ChosenOne;Code;CreatedBy;GroupRoot;Manager;Milestone;ModifiedBy;PriorityId;Project;ProjectType;Quality;Status;TaskQualityResult;TaskRequest;TaskResult;TaskState;TotalComment;TotalDownload;Type;Version;Worker;TagName;StatusDisplayName;SeverityName;VersionProjectName;CategoriesLevel1;CategoriesLevel2;CategoriesLevel3;CategoriesLevel4;TargetsLevel1;TargetsLevel2;TargetsLevel3;TargetsLevel4;TargetsName;ProjectCategoriesLevel1;ProjectCategoriesName;ProjectCategoriesLevel2;ProjectCategoriesLevel3;UserList;",e.R1_Id=t.data.Id,t.$Utils.postCheckResult(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.TasksDS.Task"),t.task=t.$Lodash.cloneDeep(e[0]),t.task.SeenList=t.$Utils.jsonParse(t.task.UserList),t.saveUserList(t.task),t.$forceUpdate()})}t.data.activeName&&(t.activeName="1"),t.loadSetting()},methods:{getUserInfo:function(t,e){var a=this;return!(!a.ListUserInfo||!a.ListUserInfo[t])&&(a.ListUserInfo[t][e]?a.ListUserInfo[t][e]:"Avatar"==e&&"assets/images/avatars/profile.png")},loadAvatar:function(t){return t=t.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===t?this.$appUri.BaseURL+t:this.$appUri.BaseURL+t.replace("/","")+"&Height=50&Width=50"},createLogs:function(t){var e=this,a=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{RequestTemplate:"ChangedLogs.Count",SourceId:t,Code:"ChangedHistory"});this.$Utils.post(a).then(function(t){if(e.$Utils.isEmpty(t,"R1.Data")){var i=[{ColumnCaption:"Đã xem",ColumnName:"Seen",NewDisplayValue:"",NewValue:""}],o=e.$Utils.updateParamsSingleRequest(a,{RequestTemplate:"ChangedLogs.Insert",Version:parseInt(t.R1.Data)+1,Changes:s()(i),CreatedByName:e.$Utils.getUserInfo("Username")});e.$Utils.post(o).then(function(t){t.success&&t.R1.success||e.$Utils.showMessage("error",e.$toastMessage.insertHistoryFailed+(objReturn.Name?objReturn.Name:""))})}else e.$Utils.showMessage("error",e.$toastMessage.insertHistoryFailed+(objReturn.Name?objReturn.Name:""))})},saveUserList:function(t){var e=this,a=!1;if("superadmin"!=this.$Utils.getUserInfo("LoginName")){if(this.$Utils.isEmpty(t,"UserList")&&""!=t.UserList){if(-1==t.UserList.indexOf(this.$Utils.getUserInfo("UserId"))){var i=JSON.parse(t.UserList);i.push(this.$Utils.getUserInfo("UserId")),a=!0}}else{var i=[];i.push(this.$Utils.getUserInfo("UserId")),a=!0}if(1==a){var o=this.$Lodash.cloneDeep(this.$singleRequest);o.R1_RequestTemplate="AG_Task_Task.Update",o.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",o.R1_Id=t.Id,o.R1_UserList=s()(i),o.R1_RequestFields="Id,UserList",this.$Utils.post(o).then(function(a){e.createLogs(t.Id)})}}},showTaskDetail:function(){if(this.$Utils.isEmpty(this.data,"setting")){var t="/dynamic/view/Index="+this.task.Index;this.close(),this.$router.push(t)}else{var e={url:"task-report-page",RootData:"AG_Task_Task",DataSource:"Form.task.0d1c1",DataGroup:"DataGroup.danh-sach-cong-viec.04b66",ElementType:"Popup",ModuleCode:"Form.task.0d1c1",parentSetting:{object:this.task,set:{ElementType:"Popup",GetFullData:"true"},isCall:!0,loadScrumboard:!0,loadCalendar:!0},ModuleType:"Form"};this.$hub.$emit("set-modal-data","Chỉnh sửa công việc","100%",!0,"center",r.default,!0,"",{Template:"Modal",Module:[e]},!1)}},loadSetting:function(){var e=this,a=this,i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBase",R1_ParentCode:"xSetting.Project.Form",R1_Code:"Form.task.0d1c1"};a.$Utils.post(i).then(function(i){var s=a.$Utils.getDataWithRoot(i.R1,"Data.DynamicDS.Setting")[0];a.$Utils.isEmpty(s,"Description")&&a.$Lodash.isString(s.Description)&&(s.Description=JSON.parse(s.Description)),t.each(s.Description,function(t,e){s[t]=e}),e.SettingForm=s})},searchUser:function(){var t=this,e=this,a={RequestAction:"SearchUser",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"Status;LoginName;UserId;GroupId;",StaticFields:"UserId;Username;LoginName;Status;",DynamicFields:"Avatar;",OrderFields:"LoginName ASC"};e.$Utils.post(a).then(function(a){a=t.$Utils.getDataWithRoot(a,"UserDS.User"),e.ListUserInfo=t.$Lodash.chain(a).keyBy("UserId").value()})},close:function(){this.$hub.$emit("close-modal")},moment:function(t){return o.default.moment(t)},formatDate:function(t){return o.default.moment(t).format("DD/MM/YYYY  h:mm")}}}}).call(e,a(2))},function(t,e){},function(t,e,a){"use strict";e.a={name:"UploadFile",props:["attachments","callBackOnSuccess","parent","idSetting"],data:function(){return{action:this.$appUri.BaseUri,data:{},sizeLimit:20,Setting:{},datasource:[],currentUser:JSON.parse(localStorage.getItem("LoggedOnUser")).UserId,base:"localhost"===window.location.hostname?this.$Utils.URL()+"/":"/",CountFile:0}},created:function(){var t=JSON.parse(localStorage.getItem("LoggedOnUser")),e=this.$getItemLocalStorage(this.$localStorageConstant.SessionId);this.data={RequestClass:"xBase",RequestAction:"Upload",SessionId:e,Username:t.Username,WriteTempFile:!0}},watch:{parent:function(t){this.Setting=this.idSetting,this.$Utils.isEmpty(this.parent,"Id")?(this.data.Parent=this.parent.Id,this.getList()):(this.Setting.Attachment="",this.Setting.clearUploaded=this.clearUploaded)}},methods:{clearUploaded:function(){this.datasource=[]},getList:function(){var t=this;if(this.$Utils.isEmpty(this.data,"Parent")||this.$Utils.isEmpty(this.Setting,"Attachment")){var e={RequestClass:"xBase",RequestAction:"SearchBinary",StaticFields:"Name;Created;Modified;FileName;FileExtension;FileSize;CreatedBy;Description;Parent;FileSize",DynamicFields:"CreatedByName;SignatureVerified"};this.$Utils.isEmpty(this.data,"Parent")?(e.Parent=this.data.Parent,e.ConditionFields="Parent"):(e.Id=this.Setting.Attachment,e.ConditionFields="Id"),this.$Utils.post(e).then(function(e){e&&e.Data&&e.Data.DynamicDS&&e.Data.DynamicDS.Binary?(e.Data.DynamicDS.Binary.length>0?t.datasource=e.Data.DynamicDS.Binary:t.datasource=[e.Data.DynamicDS.Binary],t.parent.TotalDownload=e.Data.DynamicDS.Binary.length):"0"==e.TotalCount&&(t.datasource=[])})}else this.datasource=[]},removeFile:function(t){var e=this,a={RequestClass:"xBase",RequestAction:"DeleteBinary",Id:t.Id,Parent:""};this.$Utils.post(a).then(function(t){if(e.Setting.Attachment)e.Setting.Attachment.replace(t.msg+";","");else{var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:e.Setting.DataSource+".Update",R1_RequestDataGroup:e.Setting.DataGroup,R1_RequestFields:"Id;TotalDownload",R1_Id:e.data.Parent};e.$Utils.isEmpty(e.parent,"TotalDownload")&&!isNaN(e.parent.TotalDownload)?a.R1_TotalDownload=parseInt(e.$Lodash.cloneDeep(e.parent.TotalDownload))-1:a.R1_TotalDownload=0,e.parent.TotalDownload=a.R1_TotalDownload,e.$Utils.post(a).then(function(t){})}e.getList()})},checkFileSize:function(t){return!(t.size/1048576>this.sizeLimit)||(this.$message({message:"Cảnh báo, bạn không thể upload file quá "+this.sizeLimit+"Mb",type:"warning"}),!1)},handleChange:function(t,e){},handleRemove:function(t,e){var a=this,i=(JSON.parse(localStorage.getItem("LoggedOnUser")),this.$getItemLocalStorage(this.$localStorageConstant.SessionId)),s={RequestClass:"xBase",RequestAction:"DeleteBinary",SessionId:i,Id:t.response.AttachmentId,Parent:""};this.$Utils.post(s).then(function(t){if(a.Setting.Attachment)a.Setting.Attachment.replace(t.msg+";","");else{var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:a.Setting.DataSource+".Update",R1_RequestDataGroup:a.Setting.DataGroup,R1_RequestFields:"Id;TotalDownload",R1_Id:a.data.Parent};a.$Utils.isEmpty(a.parent,"TotalDownload")&&!isNaN(a.parent.TotalDownload)?e.R1_TotalDownload=parseInt(a.$Lodash.cloneDeep(a.parent.TotalDownload))-1:e.R1_TotalDownload=0,a.parent.TotalDownload=e.R1_TotalDownload,a.$Utils.post(e).then(function(t){})}})},handlePreview:function(t){window.location.href=this.$appUri.BaseURL+"Download.ashx?id="+t.response.AttachmentId},handleSuccess:function(t,e,a){if(this.$Utils.isEmpty(this.Setting.Attachment)&&(this.Setting.Attachment+=t.AttachmentId+";"),this.CountFile<a.length-1)this.CountFile++;else{if(this.$Utils.isEmpty(this.data,"Parent")){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:this.Setting.DataSource+".Update",R1_RequestDataGroup:this.Setting.DataGroup,R1_RequestFields:"Id;TotalDownload",R1_Id:this.data.Parent};this.$Utils.isEmpty(this.parent,"TotalDownload")&&!isNaN(this.parent.TotalDownload)?i.R1_TotalDownload=parseInt(this.$Lodash.cloneDeep(this.parent.TotalDownload))+a.length:i.R1_TotalDownload=a.length,this.parent.TotalDownload=i.R1_TotalDownload,this.$Utils.post(i).then(function(t){})}this.CountFile=0,this.$refs.upload.clearFiles(),this.getList()}},submitUpload:function(){this.$refs.upload.submit()}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.action,data:t.data,"on-remove":t.handleRemove,"on-change":t.handleChange,"before-upload":t.checkFileSize,"on-success":t.handleSuccess,"auto-upload":!0,multiple:""}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("Chọn file")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("Dung lượng file không được quá "+t._s(t.sizeLimit)+"Mb")])],1),t._v(" "),this.datasource&&this.datasource.length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:this.datasource,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FileName",label:"Tên file"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$isMobileDevice?a("a",[t._v(t._s(e.row.FileName))]):a("a",{attrs:{href:t.base+"Download.ashx?Id="+e.row.Id,target:"_blank"}},[t._v(t._s(e.row.FileName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"CreatedByName",label:"Người Tạo"}}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.CreatedBy==t.currentUser?a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(a){t.removeFile(e.row)}}}):t._e()]}}])})],1):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i);e.a={props:["attachmentsComment","attachmentsReply","callBackOnSuccess","parent","idSetting","button"],data:function(){return{CurrentButton:this.button,type:"popup",action:this.$appUri.BaseUri,imgType:"image/png;image/bmp;image/gif;image/jpg;image/jpe;image/jpeg",dataComment:{RequestClass:"xBase",RequestAction:"Upload",Username:this.$rootScope.loggedOnUser.Username,WriteTempFile:!0},dataReply:{RequestClass:"xBase",RequestAction:"Upload",Username:this.$rootScope.loggedOnUser.Username,WriteTempFile:!0},commentId:"",CommentFile:[],ReplyFile:[],sizeLimit:20,configEditor:this.$froOptions,base:this.$appUri.BaseURL,isShowReplyRichText:!0,isShowComentRichText:!0,Comment:"",Reply:"",commentCount:0,currentUser:this.$rootScope.loggedOnUser,showComposes:{},Attachment:[],CountFile:0,parentObj:this.parent,Comments:[]}},methods:{loadAvatar:function(t){return void 0==t&&(t="assets/images/avatars/profile.png"),t=t.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===t?this.$appUri.BaseURL+t:this.$appUri.BaseURL+t.replace("/","")+"&Height=50&Width=50"},removeComments:function(e){var a=this;this.$Utils.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){if(e.ParentId==a.$rootScope.loggedOnUser.UserId){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Comment.Delete",R1_Id:e.Id};if(a.$Utils.isEmpty(e.CommentParent))a.$Utils.isEmpty(e.Attachment)&&JSON.parse(e.Attachment).forEach(function(t){""!=t&&t.AttachmentId&&a.$Utils.deleteAttachmentBinary(t.AttachmentId)}),a.$Utils.post(i).then(function(t){1==t.R1.success?(a.$Utils.showMessage("success","Xóa thành công"),a.loadComments(a.parent.Id)):a.$Utils.showMessage("error","Xóa không thành công")});else{a.$Utils.isEmpty(e.Attachment)&&JSON.parse(e.Attachment).forEach(function(t){""!=t&&t.AttachmentId&&a.$Utils.deleteAttachmentBinary(t.AttachmentId)});var o=a.$Lodash.cloneDeep(a.params);o.R1_CommentParent=e.Id,o.R1_CommentParentColumnType=0,a.$Utils.post(o).then(function(o){o&&o.R1.Data&&o.R1.Data.DocumentDS&&o.R1.Data.DocumentDS.Comment?(o.R1.Data.DocumentDS.Comment.length>0?a.Children=o.R1.Data.DocumentDS.Comment:a.Children=[o.R1.Data.DocumentDS.Comment],t.each(a.Children,function(t,e){t+=2,i["R"+t+"_RequestTemplate"]="Comment.Delete",i["R"+t+"_Id"]=e.Id,i.TotalRequests++,a.$Utils.isEmpty(e.Attachment)&&JSON.parse(e.Attachment).forEach(function(t){""!=t&&t.AttachmentId&&a.$Utils.deleteAttachmentBinary(t.AttachmentId)})}),a.$Utils.post(i).then(function(t){if(1==t.R1.success){a.$Utils.showMessage("success","Xóa thành công");var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Comment",R1_Parent:a.parent.Id};"popup"===a.type&&(e.R1_RequestOrderFields="DisplayDate ASC"),a.$Utils.post(e).then(function(t){if(a.$Utils.isEmpty(t,"R1.Data.DocumentDS.Comment")){var e=t.filter(function(t){return void 0==t.CommentParent}).length;a.parentObj.TotalComment=e}else a.parentObj.TotalComment=0;var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;TotalComment",R1_Id:a.parent.Id,R1_UserList:s()([a.$Utils.getUserInfo("UserId")])};i.R1_TotalComment=a.parentObj.TotalComment,a.$Utils.post(i)}),a.loadComments(a.parent.Id)}else a.$Utils.showMessage("error","Xóa không thành công")})):(a.$Utils.isEmpty(e.Attachment)&&JSON.parse(e.Attachment).forEach(function(t){""!=t&&t.AttachmentId&&a.$Utils.deleteAttachmentBinary(t.AttachmentId)}),a.$Utils.post(i).then(function(t){if(1==t.R1.success){a.$Utils.showMessage("success","Xóa thành công"),a.$Utils.showMessage("success","Xóa thành công");var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Comment",R1_Parent:a.parent.Id};"popup"===a.type&&(e.R1_RequestOrderFields="DisplayDate ASC"),a.$Utils.post(e).then(function(t){if(a.$Utils.isEmpty(t,"R1.Data.DocumentDS.Comment")){t=a.$Utils.getDataWithRoot(t,"R1.Data.DocumentDS.Comment");var e=t.filter(function(t){return void 0==t.CommentParent}).length;a.parentObj.TotalComment=e}else a.parentObj.TotalComment=0;var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;TotalComment",R1_Id:a.parent.Id};i.R1_TotalComment=a.parentObj.TotalComment,a.$Utils.post(i)}),a.loadComments(a.parent.Id)}else a.$Utils.showMessage("error","Xóa không thành công")}))})}}else a.$Utils.showMessage("error","Bạn không có quyền thực hiện tác vụ này!")})},removeFile:function(e,a,i){var o=this;if(this.$Utils.deleteAttachmentBinary(e,i),this.$Utils.isEmpty(a)){var n=this.$Lodash.cloneDeep(JSON.parse(a.Attachment));t.each(n,function(t,a){a.AttachmentId==e&&n.splice(t,1)});var l={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Comment.Update",R1_Id:a.Id,R1_Attachment:s()(n)};this.$Utils.post(l).then(function(t){o.loadComments(o.parent.Id)})}else this.loadComments(this.parent.Id)},postComment:function(e){var a=this;if(void 0===e||""===e.trim()){if(void 0===this.Comment||""===this.Comment.trim())return void this.$message.error("Nội dung thảo luận cần phải có")}else if(void 0===this.Reply||""===this.Reply.trim())return void this.$message.error("Nội dung trả lời cần phải có");var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Comment.Insert"};this.objComment={ParentId:this.currentUser.UserId,RatingPoints:0,State:1,Index:0,Author:this.currentUser.Username,AuthorDate:this.$Utils.formatDateTime(),DisplayDate:this.$Utils.formatDateTime(),PublishedDate:this.$Utils.formatDateTime(),CreatedByLoginName:this.currentUser.LoginName},this.$Utils.isEmpty(this.parent,"Id")&&(this.objComment.Parent=this.parent.Id),this.$Utils.isEmpty(e)?(this.objComment.CommentParent=e,this.objComment.Content=this.$Utils.encodeHtmlEntities(this.Reply)):this.objComment.Content=this.$Utils.encodeHtmlEntities(this.Comment),i=this.$Utils.updateParamsSingleRequest(i,this.objComment),1==this.tasked?this.tasked=!1:this.Setting.Buttons&&this.Setting.Buttons.forEach(function(t){"Update"==t.Action&&t.ExtraSetting&&-1!=t.ExtraSetting.indexOf("DisplayDependOn=Id&DisplayDependType=DependExist")&&(a.CurrentButton=t,a.Setting.functions.getElementData(0,[]))}),this.Attachment&&this.Attachment.length>0&&(i.R1_Attachment=s()(this.Attachment)),this.$Utils.post(i).then(function(o){var n={Id:o.R1.Data,Avatar:a.currentUser.Avatar,ParentId:a.currentUser.UserId,RatingPoints:"0",State:"1",Parent:a.parent.Id,Author:a.currentUser.Username,CreatedByLoginName:a.currentUser.Username,DisplayDate:new Date,Attachment:s()(a.$Lodash.cloneDeep(a.Attachment))};a.Attachment=[],e?(n.Content=a.$Lodash.cloneDeep(a.Reply),n.CommentParent=e,t.each(a.Comments,function(t,i){e==i.Id&&(a.Comments[t].Replies||(a.Comments[t].Replies=[]),"popup"===a.type?a.Comments[t].Replies.push(n):a.Comments[t].Replies.unshift(n))}),a.Reply="",a.showComposes[e]=!1):(n.Content=a.$Lodash.cloneDeep(a.Comment),"popup"===a.type?a.Comments.push(n):a.Comments.unshift(n),a.showComposes[n.Id]=!1,a.Comment="");var l=a.$Lodash.cloneDeep(a.$singleRequest);l.R1_RequestTemplate="Permission",l.R1_Parent=a.parent.Id,l.R1_Code="Email",a.$Utils.post(l).then(function(e){if(e=a.$Utils.getDataWithRoot(e,"R1.Data.DataDS.Linked"),e.length>0){var i=a.$Lodash.cloneDeep(a.$singleRequest);i.TotalRequests=2,i.R1_UserId="",i.R1_RequestTemplate="User",i.R1_Status=1,e.forEach(function(t){i.R1_UserId.indexOf(t.Child)<0&&(i.R1_UserId+=t.Child+";")}),i.R2_RequestTemplate="Setting.SearchBase",i.R2_Code="Notification.taskcomentemail03a18",a.$Utils.post(i).then(function(e){var i=[],s=a.$Utils.getDataWithRoot(e,"R2.Data.DynamicDS.Setting")[0];if(!a.$Utils.isEmpty(s,"Description"))return!1;var o=a.$Lodash.cloneDeep(n.Content);s.Description=JSON.parse(s.Description);var l=s.Description.Content?a.$Utils.decodeHtmlEntities(s.Description.Content):"";l=l.replace("{{CommentContentObject}}",o),a.$Utils.getDataWithRoot(e,"R1.Data.UserDS.User").forEach(function(t){i.push({To:t.Email,Code:a.parent.Id,Subject:a.$Utils.expressionToString(a.parent,s.Description.Title),Body:a.$Utils.encodeHtmlEntities(a.$Utils.expressionToString(a.parent,l)),Name:"Email",From:"SH",State:2,Date:a.$Utils.formatDateTime(),Parent:a.$Utils.getUserInfo("UserId"),Sender:a.$Utils.getUserInfo("UserId"),SenderName:a.$Utils.getUserInfo("Username"),Receiver:t.UserId,ReceiverName:t.Username})});var r=a.$Lodash.cloneDeep(a.$singleRequest);r.TotalRequests=0,r.RequestTemplate="SendMessage",i.forEach(function(e){a.$Utils.isEmpty(e.To)&&""!=e.To&&(r.TotalRequests++,t.each(e,function(t,e){r["R"+r.TotalRequests+"_"+t]=e}))}),r.TotalRequests>0&&(a.createHistoryLogs(a.$Utils.encodeHtmlEntities(o),a.objComment),a.$Utils.post(r,function(){}))})}});var l=a.$Lodash.cloneDeep(a.$singleRequest);if(l.R1_RequestTemplate="Permission",l.R1_Parent=a.parent.Id,l.R1_Code="Notification",a.$Utils.post(l).then(function(t){if(t=a.$Utils.getDataWithRoot(t,"R1.Data.DataDS.Linked"),t.length>0){var e=a.$Utils.uuidv4(),i="/"!==a.$appUri.BaseURL?a.$appUri.BaseURL.substring(0,a.$appUri.BaseURL.length-1):window.origin;JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.Notification)).Port;t.forEach(function(t){var o="comment";a.$Utils.isEmpty(a.objComment,"CommentParent")&&(o="reply"),a.sender=s()({i:a.$rootScope.loggedOnUser.UserId,a:a.$rootScope.loggedOnUser.LoginName,avatar:a.$rootScope.loggedOnUser.Avatar,n:a.$rootScope.loggedOnUser.Username,s:a.$getItemLocalStorage(a.$localStorageConstant.SessionId),g:"",p:JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.Notification)).Port,c:"10",e:i}),a.content=s()({id:e,action:o,index:a.parent.Index,Link:"dynamic/view/Index="+a.parent.Index,Name:a.parent.Name,Content:a.objComment.Content}),a.notification=s()({i:e,mt:1,st:"4",s:a.sender,c:a.content,d:s()(a.objComment)}),"tblGroup"==t.ChildTable?(a.toGroup=s()({i:t.Child,e:i}),a.sendNotifi("Group",a.toGroup,a.notification)):(a.to=s()({i:t.Child,c:"10",e:i}),a.sendNotifi("Individual",a.to,a.notification))})}}),void 0==i.R1_CommentParent){var r={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Comment",R1_Parent:a.parent.Id};"popup"===a.type&&(r.R1_RequestOrderFields="DisplayDate ASC");var c={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;TotalComment;",R1_Id:a.parent.Id,R1_UserList:s()([a.$Utils.getUserInfo("UserId")])};a.$Utils.post(r).then(function(t){if(a.$Utils.isEmpty(t,"R1.Data.DocumentDS.Comment")){t=a.$Utils.getDataWithRoot(t,"R1.Data.DocumentDS.Comment");var e=t.filter(function(t){return void 0==t.CommentParent}).length;a.parentObj.TotalComment=e}else a.parentObj.TotalComment=0;c.R1_TotalComment=a.parentObj.TotalComment,a.$Utils.post(c),a.$hub.$emit("loadScrumboard")})}})},sendNotifi:function(t,e,a){switch(t){case"System":this.$hub.proxy.invoke("sendSystemNotification",e,a);break;case"Group":this.$hub.proxy.invoke("sendGroupNotification",e,a);break;case"Individual":this.$hub.proxy.invoke("sendIndividualNotification",e,a)}},checkComment:function(){this.Comment&&""!=this.Comment&&(this.tasked=!0,this.postComment())},createHistoryLogs:function(t,e){var a=this,i=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{RequestTemplate:"ChangedLogs.Count",SourceId:this.parent.Id,Code:"ChangedHistory"});this.$Utils.post(i).then(function(o){if(a.$Utils.isEmpty(o,"R1.Data")){if(a.$Utils.isEmpty(e,"CommentParent")&&""!=e.CommentParent)var n=[{ColumnCaption:"Phản hồi",ColumnName:"Reply",NewDisplayValue:t,NewValue:t,OldDisplayValue:a.Parent.Content,OldValue:a.Parent.Content}];else var n=[{ColumnCaption:"Thảo luận",ColumnName:"Comment",NewDisplayValue:t,NewValue:t}];var l=a.$Utils.updateParamsSingleRequest(i,{RequestTemplate:"ChangedLogs.Insert",Version:parseInt(o.R1.Data)+1,Changes:s()(n),CreatedByName:a.$Utils.getUserInfo("Username")});a.$Utils.post(l).then(function(t){t.success&&t.R1.success||a.$Utils.showMessage("error",a.$toastMessage.insertHistoryFailed+(objReturn.Name?objReturn.Name:""))})}else a.$Utils.showMessage("error",a.$toastMessage.insertHistoryFailed+(objReturn.Name?objReturn.Name:""))})},showCompose:function(e){if(this.Parent=e,this.showComposes[e.Id])this.showComposes[e.Id]=!1;else{var a={};if(t.each(this.showComposes,function(t){a[t]=e.Id==t}),this.showComposes=a,e.Replies){var i=e.Replies[e.Replies.length-1].Id;document.getElementById(i).scrollIntoView()}}},loadAttachments:function(t){return[{}]},loadComments:function(e){var a=this,i=(this.$rootScope.loggedOnUser,this.$getItemLocalStorage(this.$localStorageConstant.SessionId));this.params={RequestClass:"xBase",RequestAction:"Request",SessionId:i,TotalRequests:2,R1_RequestTemplate:"Comment",R1_Parent:e,R1_RequestOrderFields:"DisplayDate DESC",R2_RequestTemplate:"Comment.Count",R2_Parent:e},"popup"===this.type&&(this.params.R1_RequestOrderFields="DisplayDate ASC"),this.$Utils.post(this.params).then(function(e){var i=a.$Utils.getDataWithRoot(e,"R1.Data.DocumentDS.Comment"),s=[];i.forEach(function(e){-1==t.inArray(e.CreatedByLoginName,s)&&s.push(e.CreatedByLoginName)});var o={RequestAction:"SearchUsers",RequestClass:"BPM",RequestDataType:"json",StaticFields:"LoginName",DynamicFields:"Avatar",ConditionFields:"LoginName",LoginName:s.toString()};a.$Utils.post(o).then(function(t){t=a.$Utils.getDataWithRoot(t,"Data.UserDS.User"),i.forEach(function(e){t.forEach(function(t){t.LoginName===e.CreatedByLoginName&&(e.Avatar=void 0!=t.Avatar?t.Avatar.substring(1):"assets/images/avatars/profile.png")})}),a.Comments=a.$Utils.createCustomTreeFromList(i,"Id","CommentParent","Replies")}),a.commentCount=a.$Utils.getDataWithRoot(e,"R2.Data")})},checkFileSizeComment:function(t){return!(t.size/1048576>this.sizeLimit)||(this.$message({message:"Cảnh báo, bạn không thể upload file quá "+this.sizeLimit+"Mb",type:"warning"}),!1)},handleChangeComment:function(t,e){this.CommentFile=e},handleRemoveComment:function(t,e){JSON.parse(localStorage.getItem("LoggedOnUser")),this.$getItemLocalStorage(this.$localStorageConstant.SessionId)},handlePreviewComment:function(t){window.location.href=this.$appUri.BaseURL+"Download.ashx?id="+t.response.AttachmentId},handleSuccessComment:function(t,e,a){t.Type=e.raw.type,this.Attachment.push(t),this.CountFile<a.length-1?this.CountFile++:(this.CountFile=0,this.$refs.uploadComment.clearFiles(),this.postComment())},checkFileSizeReply:function(t){return!(t.size/1048576>this.sizeLimit)||(this.$message({message:"Cảnh báo, bạn không thể upload file quá "+this.sizeLimit+"Mb",type:"warning"}),!1)},handleChangeReply:function(t,e){this.ReplyFile=e},handleRemoveReply:function(t,e){},handlePreviewReply:function(t){window.location.href=this.$appUri.BaseURL+"Download.ashx?id="+t.response.AttachmentId},handleSuccessReply:function(t,e,a){t.Type=e.raw.type,this.Attachment.push(t),this.CountFile<a.length-1?this.CountFile++:(this.CountFile=0,this.$refs.uploadReply[0].clearFiles(),this.postComment(this.Parent.Id))},submitUpload:function(t){this.$Utils.isEmpty(this.$refs["upload"+t],"0")?this.$refs["upload"+t][0].submit():this.$refs["upload"+t].submit()}},watch:{Comments:function(t){var e=this;t.forEach(function(t){e.showComposes[t.Id]=!1})}},created:function(){this.$isMobileDevice&&(this.configEditor.heightMin=100)},mounted:function(){this.Setting=this.idSetting,this.Setting.functions?(this.Setting.functions.checkComment=this.checkComment,this.$Utils.isEmpty(this.parent,"Id")&&this.loadComments(this.parent.Id)):this.$Utils.isEmpty(this.parent,"Id")&&this.loadComments(this.parent.Id),setTimeout(function(){t("a:contains('Unlicensed copy of the Froala Editor')").remove()},900)}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"comments"},["popup"!=t.type?a("div",{staticClass:"comment-wrap"},[a("div",{staticClass:"photo"},[a("img",{staticClass:"media-object avatar",attrs:{src:t.loadAvatar(t.currentUser.Avatar),alt:""}})]),t._v(" "),a("div",{staticClass:"comment-block"},[t.isShowComentRichText?a("froala",{attrs:{tag:"textarea",config:t.configEditor},model:{value:t.Comment,callback:function(e){t.Comment=e},expression:"Comment"}}):t._e(),t._v(" "),a("el-upload",{ref:"uploadComment",staticClass:"upload-demo",attrs:{action:t.action,data:t.dataComment,"on-preview":t.handlePreviewComment,"on-remove":t.handleRemoveComment,"on-change":t.handleChangeComment,"before-upload":t.checkFileSizeComment,"on-success":t.handleSuccessComment,"auto-upload":!1,multiple:"",fileList:t.attachmentsComment}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},slot:"trigger"},[t._v("Chọn file")])],1),t._v(" "),a("ul",{staticClass:"comment-actions w-100",class:t.$isMobileDevice?"pl-0":"text-right"},[t.CommentFile.length>0?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(e){t.submitUpload("Comment")}},slot:"trigger"},[t._v("Gửi")])],1):t._e(),t._v(" "),0==t.CommentFile.length?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(e){t.postComment()}},slot:"trigger"},[t._v("Gửi")])],1):t._e()])],1)]):t._e(),t._v(" "),t._l(t.Comments,function(e){return a("div",{key:e.Id},[a("hr"),t._v(" "),a("div",{staticClass:"comment-wrap"},[a("div",{staticClass:"photo"},[a("img",{staticClass:"media-object avatar",attrs:{src:t.loadAvatar(e.Avatar),alt:""}})]),t._v(" "),a("el-card",{staticClass:"box-card comment-card"},[a("div",{staticClass:"comment-wrap"},[a("div",{staticClass:"comment-block"},[a("p",{staticClass:"comment-text",domProps:{innerHTML:t._s(t.$Utils.decodeHtmlEntities(e.Content))}}),t._v(" "),e.Attachment&&JSON.parse(e.Attachment).length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:JSON.parse(e.Attachment),stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"STT"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FileName",label:"Tên file"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$isMobileDevice?a("a",[t._v(t._s(e.row.FileName))]):a("a",{attrs:{href:t.base+"Download.ashx?Id="+e.row.AttachmentId,target:"_blank"}},[t._v(t._s(e.row.FileName))]),t._v(" "),e.row.Type&&-1!=t.imgType.indexOf(e.row.Type)?a("img",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"zoomer"+e.row.AttachmentId,expression:"'zoomer' + scope.row.AttachmentId"}],staticStyle:{"max-height":"50px","max-width":"100%"},attrs:{src:t.base+"Download.ashx?Id="+e.row.AttachmentId}}):t._e(),t._v(" "),a("b-modal",{ref:"zoomer",refInFor:!0,staticClass:"text-primary modal-fullscreen",attrs:{id:"zoomer"+e.row.AttachmentId,title:"Fullsize","header-bg-variant":"primary","hide-footer":""}},[a("div",{staticClass:"img-border text-center"},[e.row.Type&&-1!=t.imgType.indexOf(e.row.Type)?a("img",{attrs:{src:t.base+"Download.ashx?Id="+e.row.AttachmentId}}):t._e()])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(i){return[e.ParentId==t.currentUser.UserId?a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(a){t.removeFile(i.row.AttachmentId,e)}}}):t._e()]}}])})],1):t._e(),t._v(" "),a("div",{staticClass:"bottom-comment"},[a("div",{staticClass:"comment-date"},[t._v(t._s(t.$Utils.formatDateTime(e.DisplayDate,"DD/MM/YYYY HH:mm"))+",")]),t._v(" "),a("div",{staticClass:"comment-user"},[a("b",[t._v(t._s(e.Author))])]),t._v(" "),a("ul",{staticClass:"comment-actions w-100",class:t.$isMobileDevice?"pl-0":"text-right"},[e.ParentId==t.currentUser.UserId?a("li",{staticClass:"complain"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},on:{click:function(a){t.removeComments(e)}},slot:"trigger"},[t._v("Xóa")])],1):t._e(),t._v(" "),a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},on:{click:function(a){t.showCompose(e)}},slot:"trigger"},[t._v("Trả lời")])],1)])])],1)]),t._v(" "),t.showComposes[e.Id]&&"popup"!=t.type?a("div",{staticClass:"comment-wrap"},[a("div",{staticClass:"comment-block"},[t.isShowReplyRichText?a("froala",{attrs:{tag:"textarea",config:t.configEditor},model:{value:t.Reply,callback:function(e){t.Reply=e},expression:"Reply"}}):t._e(),t._v(" "),a("el-upload",{ref:"uploadReply",refInFor:!0,staticClass:"upload-demo",attrs:{action:t.action,data:t.dataReply,"on-preview":t.handlePreviewReply,"on-remove":t.handleRemoveReply,"on-change":t.handleChangeReply,"before-upload":t.checkFileSizeReply,"on-success":t.handleSuccessReply,"auto-upload":!1,multiple:"",fileList:t.attachmentsReply}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},slot:"trigger"},[t._v("Chọn file")])],1),t._v(" "),a("ul",{staticClass:"comment-actions w-100",class:t.$isMobileDevice?"pl-0":"text-right"},[t.ReplyFile.length>0?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(e){t.submitUpload("Reply")}},slot:"trigger"},[t._v("Gửi")])],1):t._e(),t._v(" "),0==t.ReplyFile.length?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(a){t.postComment(e.Id)}},slot:"trigger"},[t._v("Gửi")])],1):t._e()])],1)]):t._e(),t._v(" "),t._l(e.Replies,function(e){return a("div",{key:e.Id,staticClass:"replies",attrs:{id:e.Id}},[a("div",{staticClass:"comment-wrap"},[a("div",{staticClass:"photo"},[a("img",{staticClass:"media-object avatar",attrs:{src:t.loadAvatar(e.Avatar),alt:""}})]),t._v(" "),a("div",{staticClass:"comment-block"},[a("p",{staticClass:"comment-text",domProps:{innerHTML:t._s(t.$Utils.decodeHtmlEntities(e.Content))}}),t._v(" "),e.Attachment&&JSON.parse(e.Attachment).length>0?a("el-table",{staticStyle:{width:"100%"},attrs:{data:JSON.parse(e.Attachment),stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"STT"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FileName",label:"Tên file"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$isMobileDevice?a("a",[t._v(t._s(e.row.FileName))]):a("a",{attrs:{href:t.base+"Download.ashx?Id="+e.row.AttachmentId,target:"_blank"}},[t._v(t._s(e.row.FileName))]),t._v(" "),e.row.Type&&-1!=t.imgType.indexOf(e.row.Type)?a("img",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"zoomer"+e.row.AttachmentId,expression:"'zoomer' + scope.row.AttachmentId"}],staticStyle:{"max-height":"50px","max-width":"100%"},attrs:{src:t.base+"Download.ashx?Id="+e.row.AttachmentId}}):t._e(),t._v(" "),a("b-modal",{ref:"zoomer",refInFor:!0,staticClass:"text-primary modal-fullscreen",attrs:{id:"zoomer"+e.row.AttachmentId,title:"Fullsize","header-bg-variant":"primary","hide-footer":"","hide-header":""}},[a("div",{staticClass:"img-border text-center"},[e.row.Type&&-1!=t.imgType.indexOf(e.row.Type)?a("img",{attrs:{src:t.base+"Download.ashx?Id="+e.row.AttachmentId}}):t._e()])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(i){return[e.ParentId==t.currentUser.UserId?a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(a){t.removeFile(i.row.AttachmentId,e)}}}):t._e()]}}])})],1):t._e(),t._v(" "),a("div",{staticClass:"bottom-comment"},[a("div",{staticClass:"comment-date"},[t._v(t._s(t.$Utils.formatDateTime(e.DisplayDate,"DD/MM/YYYY HH:mm"))+",")]),t._v(" "),a("div",{staticClass:"comment-user"},[a("b",[t._v(t._s(e.Author))])]),t._v(" "),a("ul",{staticClass:"comment-actions w-100",class:t.$isMobileDevice?"pl-0":"text-right"},[e.ParentId==t.currentUser.UserId?a("li",{staticClass:"complain"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},on:{click:function(a){t.removeComments(e)}},slot:"trigger"},[t._v("Xóa\n                      ")])],1):t._e()])])],1)])])}),t._v(" "),e.Replies&&!t.showComposes[e.Id]?a("div",{staticClass:"replyButton"},[e.Replies.length>4?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showCompose(e)}}},[t._v("Trả lời")]):t._e()],1):t._e(),t._v(" "),t.showComposes[e.Id]&&"popup"==t.type?a("div",{staticClass:"comment-wrap"},[a("div",{staticClass:"comment-block",attrs:{id:"replybox"}},[t.isShowReplyRichText?a("froala",{attrs:{tag:"textarea",config:t.configEditor},model:{value:t.Reply,callback:function(e){t.Reply=e},expression:"Reply"}}):t._e(),t._v(" "),a("el-upload",{ref:"uploadReply",refInFor:!0,staticClass:"upload-demo",attrs:{action:t.action,data:t.dataReply,"on-preview":t.handlePreviewReply,"on-remove":t.handleRemoveReply,"on-change":t.handleChangeReply,"before-upload":t.checkFileSizeReply,"on-success":t.handleSuccessReply,"auto-upload":!1,multiple:"",fileList:t.attachmentsReply}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},slot:"trigger"},[t._v("Chọn file")])],1),t._v(" "),a("ul",{staticClass:"comment-actions w-100",class:t.$isMobileDevice?"pl-0":"text-right"},[t.ReplyFile.length>0?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(e){t.submitUpload("Reply")}},slot:"trigger"},[t._v("Gửi")])],1):t._e(),t._v(" "),0==t.ReplyFile.length?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(a){t.postComment(e.Id)}},slot:"trigger"},[t._v("Gửi")])],1):t._e()])],1)]):t._e()],2)],1)])}),t._v(" "),"popup"==t.type?a("div",{staticClass:"comment-wrap"},[a("div",{staticClass:"photo"},[a("img",{staticClass:"media-object avatar",attrs:{src:t.loadAvatar(t.currentUser.Avatar),alt:""}})]),t._v(" "),a("div",{staticClass:"comment-block"},[t.isShowComentRichText?a("froala",{attrs:{tag:"textarea",config:t.configEditor},model:{value:t.Comment,callback:function(e){t.Comment=e},expression:"Comment"}}):t._e(),t._v(" "),a("el-upload",{ref:"uploadComment",staticClass:"upload-demo",attrs:{action:t.action,data:t.dataComment,"on-preview":t.handlePreviewComment,"on-remove":t.handleRemoveComment,"on-change":t.handleChangeComment,"before-upload":t.checkFileSizeComment,"on-success":t.handleSuccessComment,"auto-upload":!1,multiple:"",fileList:t.attachmentsComment}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"text"},slot:"trigger"},[t._v("Chọn file")])],1),t._v(" "),a("ul",{staticClass:"comment-actions w-100",class:t.$isMobileDevice?"pl-0":"text-right"},[t.CommentFile.length>0?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(e){t.submitUpload("Comment")}},slot:"trigger"},[t._v("Gửi")])],1):t._e(),t._v(" "),0==t.CommentFile.length?a("li",{staticClass:"reply"},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:function(e){t.postComment()}},slot:"trigger"},[t._v("Gửi")])],1):t._e()])],1)]):t._e()],2)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(22),s=a.n(i),o=a(42),n=a.n(o),l=a(260),r=a(543),c=a(558),d=a(261),u=a(112);e.a={components:{DynamicCharts:l.default,DynamicList:c.a,DynamicForm:r.a,DynamicFilter:d.a,DynamicReport:u.a},props:["data","currentPage"],data:function(){return{activeName:this.$isMobileDevice?"":"true",pageModules:[],pageDescriptions:[],listReport:[],formatData:[],listVal:{},objFields:{},sortedFilter:[],DataList:{},searchIndex:0,filter:{},formPage:!1,reportPage:!1,Setting:{Module:[]},viewModel:{moduleReady:!1,ShowField:[]}}},created:function(){},computed:{pageName:function(){return this.currentPage?this.currentPage&&this.currentPage.Description?JSON.parse(this.currentPage.Description).Caption:"":void 0},icon:function(){return this.currentPage?this.currentPage&&this.currentPage.Description?JSON.parse(this.currentPage.Description).MenuIcon:"fa fa-file-text-o":void 0}},mounted:function(){this.Setting=this.data,"true"!==this.Setting.IsDashboard&&delete this.Setting.Groups,this.init()},watch:{"$route.params.url":function(t){}},methods:{callback:function(){},init:function(){var t=this;this.Setting.viewModel={filter:[],module:[]},"true"==this.Setting.IsDashboard&&(this.reportClass="dashboard-report"),t.Prefix=t.$isMobile.iOS()?"/":"",t.ListType=!0,t.$rootScope.isReport=!1,t.$rootScope.idReport=void 0,(t.$isMobile.Android()||t.$isMobile.BlackBerry()||t.$isMobile.Opera()||t.$isMobile.iOS()&&!t.$isMobile.iPad())&&(t.mobileflex=!0);var e=JSON.parse(t.$getItemLocalStorage(t.$localStorageConstant.LoggedOnUser)).CurrentList;if(t.CurrentList=t.$Utils.isEmpty(e)?e:3,t.Showa=!1,t.disPlayHeader=!0,"dynamic/knowhow-document"!=t.Setting.UrlPage||t.$isMobileDevice?"dynamic/summary-page"==t.Setting.UrlPage?t.bttR=!0:(t.bttR=!1,t.Showa=!t.$isMobileDevice):t.Showa=!0,"dynamic/knowhow-document"==t.Setting.UrlPage&&t.$isMobileDevice&&(t.disPlayHeader=!1),t.btt=!1,t.$isMobile.iPad()&&(t.Showa=!1),t.ShowList=t.$Lodash.cloneDeep(t.CurrentList),0==t.ShowList&&"dynamic/view-all-task-page"==t.Setting.UrlPage&&(t.ListPage="clList",t.btt=!0,t.disPlayHeader=!1),1==t.ShowList?t.Link="scrumboard":t.Link="timeline",window.location.href.indexOf("dynamic")>0&&(t.ShowList="0"),"true"!=t.Setting.DisplayChange||"1"!=t.ShowList&&"2"!=t.ShowList){var a=[];t.$Utils.isEmpty(t.Setting.Groups)&&(t.Setting.Groups.forEach(function(e){if(t.$Utils.isEmpty(e.listUsers,"0")&&JSON.parse(t.$getItemLocalStorage(t.$localStorageConstant.LoggedOnUser)).UserId.indexOf(e.listUsers)>=0)a.push(e);else if(t.$Utils.isEmpty(e.UserPermissions,"0")){var i=!1;e.UserPermissions.forEach(function(e){JSON.parse(t.$getItemLocalStorage(t.$localStorageConstant.LoggedOnUser)).Roles.forEach(function(t){e==t.GroupId&&(i=!0)}),JSON.parse(t.$getItemLocalStorage(t.$localStorageConstant.LoggedOnUser)).Groups.forEach(function(t){e==t.GroupId&&(i=!0)})}),!0===i&&a.push(e)}else t.$Utils.isEmpty(e.listUsers,"0")&&e.listUsers!=[]||a.push(e)}),t.Setting.Groups.length>a.length&&(t.changeGroups=!0),t.Setting.Groups=a),t.autoLoad()}else t.filter=[];t.IosClass=t.$isMobile.iOS()?"form-dynamic":""},autoLoad:function(){var e=this,a=this;a.checkSettingPage().then(function(){a.$Utils.isEmpty(a.Setting.ExtraSetting)&&""!==a.Setting.ExtraSetting&&t.each(a.$Utils.stringToObject(a.Setting.ExtraSetting),function(t,e){"AdditionConditions"!==t&&(a.Setting[t]=e)}),t.each(a.Setting.Module,function(t,e){a.$Utils.isEmpty(e,"DefaultFilter")&&(a.$Utils.isEmpty(e.Group)&&""!=e.Group||(a.Setting[e.ModuleCode+"AdditionConditions"]=e.DefaultFilter))});var i={arrFilter:[],arrModule:[]},s=[],o=[];if(a.$Utils.isEmpty(a.Setting.Groups))a.Setting.Groups.forEach(function(t){a.Setting.Module.forEach(function(e){if(a.$Utils.isEmpty(e,"DefaultFilter")&&a.$Utils.isEmpty(e.DefaultFilter,t.Caption)&&(a.Setting[e.ModuleCode+"AdditionConditions"]||(a.Setting[e.ModuleCode+"AdditionConditions"]={}),a.Setting[e.ModuleCode+"AdditionConditions"][e.Group]=e.DefaultFilter[t.Caption]),t.ListModules.indexOf(e.ModuleCode)>=0&&e.Group!==t.Name){var i=a.$Lodash.cloneDeep(e);i.Group=t.Name,o.push(i)}if(a.$Utils.isEmpty(e.listUsers,"0")&&JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.LoggedOnUser)).UserId.indexOf(e.listUsers)>=0)o.push(e);else if(a.$Utils.isEmpty(e.UserPermissions,"0")){e.UserPermissions.forEach(function(t){JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.LoggedOnUser)).Roles.forEach(function(t){t.GroupId}),JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.LoggedOnUser)).Groups.forEach(function(t){t.GroupId})})}else a.$Utils.isEmpty(e.listUsers,"0")&&e.listUsers!=[]||o.push(e)})}),a.Setting.Module=o;else{var l=[];a.Setting.Module.forEach(function(t){if(a.$Utils.isEmpty(t.listUsers,"0")&&JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.LoggedOnUser)).UserId.indexOf(t.listUsers)>=0)l.push(t);else if(a.$Utils.isEmpty(t.UserPermissions,"0")){t.UserPermissions.forEach(function(e){var i=JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.LoggedOnUser)).Roles,s=JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.LoggedOnUser)).Groups;i.forEach(function(a){e==a.GroupId&&l.push(t)}),s.forEach(function(a){e==a.GroupId&&l.push(t)})})}else a.$Utils.isEmpty(t.listUsers,"0")&&t.listUsers!=[]||l.push(t)}),a.Setting.Module=l}var r=0;if(a.Setting.Module.forEach(function(t){"Filter"==t.ModuleType?(i.arrFilter.push(t),a.Setting.Filter=!0,r++):i.arrModule.push(t),r>1&&"true"!=a.Setting.IsDashboard&&(a.Setting.ReportFilter="true")}),"string"==typeof a.Setting.ModuleOrder&&""!=a.Setting.ModuleOrder){a.Setting.ModuleOrder.split(";").forEach(function(t){for(var e=0;e<i.arrModule.length;e++)if(t==i.arrModule[e].ModuleCode){s.push(i.arrModule[e]);break}})}else s=s.concat(i.arrModule);if("string"==typeof a.Setting.FilterOrder&&""!=a.Setting.FilterOrder){a.Setting.FilterOrder.split(";").forEach(function(t){for(var e=0;e<i.arrFilter.length;e++)if(t==i.arrFilter[e].ModuleCode){s.push(i.arrFilter[e]);break}})}else s=s.concat(i.arrFilter);a.Setting.Module=s,a.loadSettingData(a.Setting.Module,function(i){if(i.forEach(function(e){switch("string"==typeof a.Setting[e.Code]&&t.each(a.$Utils.stringToObject(a.Setting[e.Code].replaceAll("+","&").replaceAll(":","=")),function(t,a){a.indexOf(".EQUALTO")>0&&(a=a.replaceAll(".AND","&").replaceAll(".EQUALTO","=")),e[t]=a}),"string"==typeof e.AdditionConditions?e.AdditionConditions=a.$Utils.stringToObject(e.AdditionConditions,"&","="):e.AdditionConditions=[],a.$Utils.isEmpty(a.Setting[e.Code+"AdditionConditions"])&&"true"!=a.Setting.IsDashboard&&(a.Setting[e.Code+"AdditionConditions"].forEach(function(t){e.AdditionConditions[t.Key]=t.Value}),e.AdditionConditions=a.replaceExpression(e.AdditionConditions,{})),a.Setting.Module.forEach(function(t){t.ModuleCode==e.Code&&a.$Utils.isEmpty(t.parentSetting)&&(e.parentSetting=t.parentSetting)}),a.Setting.directiveType&&(e.directiveType=a.Setting.directiveType,e.place=a.Setting.place),a.Setting.Module.forEach(function(t){t.ModuleCode!=e.Code||a.$Utils.isEmpty(e,"Group")||(e.Group=t.Group,t.SubElementType&&(e.ModuleType=t.SubElementType))}),e.LinkedObject={},e.ModuleType=e.ModuleType?e.ModuleType:e.Value,e.getFormData=a.getFormData,e.ModuleType){case"Report":a.ReportPage=!0,a.$rootScope.isReport=!0,a.$rootScope.idReport="idReport";break;case"Filter":e.FilterLink=[],"true"==a.Setting.Pagination&&(e.Pagination=a.Setting.Pagination,e.WeekField=a.Setting.WeekField),a.$Utils.isEmpty(a.Setting.LimitIndex)&&(e.LimitIndex=a.Setting.LimitIndex),a.Setting.Module.forEach(function(t){t.ModuleCode==e.Code&&(e.FilterLink=a.$Utils.isEmpty(t.FilterLink)?t.FilterLink.split(";"):[])});break;case"Form":a.Setting.ShowHeadCaption="false",e.LinkedObject.closeModal=function(){a.$Utils.isEmpty(a.Setting.closeModal)&&a.Setting.closeModal()};break;case"List":a.Setting.LimitIndex&&(e.LimitIndex=a.Setting.LimitIndex),e.LinkedObject.returnItemData=function(t,e){a.setModuleData(t,e)},"true"==a.Setting.ListCaption&&(e.ListCaption=!0),e.ShowSearchItem=!0,e.AutoSearch=!0}}),1==a.ReportPage)if(a.$Utils.isEmpty(a.$rootScope.modeProject)&&"MODE_PROJECT"==a.$rootScope.modeProject.mode){var s=a.$Lodash.cloneDeep(a.$singleRequest);s.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",s.R1_RequestFields="GroupId;GroupName;ProjectCode;GroupType;CreatedBy;State;Status;Type",s.R1_GroupType=4,s.R1_RequestTemplate="tblGroup.Search",a.$Utils.post(s).then(function(t){a.ListProject=a.$Utils.getDataWithRoot(t.R1,"Data.UserDS.Group"),a.ListProject.forEach(function(t){t.name=t.Name}),a.LabelProject="Dự án"})}else{var o={R1_RequestTemplate:"tblGroup.Search",R1_RequestDataGroup:"DataGroup.quan-ly-du-an.053gf",R1_RequestFields:"GroupId;GroupName;Description;GroupParent;Status;GroupPath",R1_GroupType:1,R1_OrderFields:"GroupName ASC",R1_RequestDataType:"json",R1_AssignedUser:e.$getItemLocalStorage(e.$localStorageConstant.SessionId)};a.$Utils.postCheckResult(o).then(function(t){a.ListProject=a.$Utils.getDataWithRoot(t,"UserDS.Group"),a.ListProject.forEach(function(t){t.name=t.GroupName}),a.LabelProject="Phòng ban"})}var l=[],r=[];t.each(i,function(e,s){if("Filter"==s.ModuleType){l.push(s),r.push(e);for(var o=0;o<i.length;o++){var n=a.$Lodash.cloneDeep(i[o]);if(s.FilterLink.indexOf(n.Code)>=0){if(a.$Utils.isEmpty(a.Setting[n.Code+"AdditionConditions"])&&a.$Utils.isEmpty(a.Setting[n.Code+"AdditionConditions"][s.Group])){var c=a.$Lodash.cloneDeep(n.AdditionConditions);n.AdditionConditions={},a.Setting[n.Code+"AdditionConditions"][s.Group]&&a.$Utils.isEmpty(a.Setting[n.Code+"AdditionConditions"][s.Group])&&(n.DefaultFilter=a.Setting[n.Code+"AdditionConditions"][s.Group],a.Setting[n.Code+"AdditionConditions"][s.Group].forEach(function(t){a.$Utils.isEmpty(t.Key)&&(n.AdditionConditions[t.Key]=t.Value)})),t.each(c,function(t,e){n.AdditionConditions[t]=e}),n.AdditionConditions=a.replaceExpression(n.AdditionConditions,{})}n.ShowSearchItem=!1,n.AutoSearch=!1,n.FilterRelative=s.Code,n.Group=s.Group,l.push(n),r.push(o)}}}}),t.each(i,function(t,e){r.indexOf(t)<0&&l.push(e)}),a.Setting.Module=l,l.forEach(function(t){"true"==a.Setting.IsDetail&&(t.IsDetail="true"),"Filter"==t.ModuleType?("true"==a.Setting.IsDashboard&&(t.IsDashboard="true"),a.Setting.viewModel.filter.push(t)):a.Setting.viewModel.module.push(t)}),a.loadUrlData().then(function(t){e.formatData=t.Module,a.$set(a.Setting,"Module",t.Module),a.ListDetail=[],a.Setting.Groups?a.Setting.Groups.forEach(function(t){t.Modules=[],t.Flex=void 0==t.Flex?parseInt(100/a.Setting.Groups.length):t.Flex,1==a.changeGroups&&(a.Setting.Groups.length<=4?t.Flex=parseInt(100/a.Setting.Groups.length):a.Setting.Groups.length<=6?t.Flex=33:t.Flex=25),a.Setting.Module.forEach(function(e){["Filter"].indexOf(e.ModuleType)>=0&&e.Group==t.Name&&(t.ListModules+=e.Code+";",t.Filter=e.Code)}),t.ListModules&&t.ListModules.split(";").forEach(function(e){var i=a.Setting.Module.find(function(a){return e&&e==a.Code&&t.Name==a.Group});a.$Utils.isEmpty(i)&&"true"==a.Setting.IsDashboard&&(i.ShowTable=!!i.DisplayTable&&i.DisplayTable,i.HideReport&&(i.ShowReport="false"),i.ReportProportion="100",i.ShowReportHeader="true"),a.$Utils.isEmpty(i)&&(i.Group=t.Name),a.$Utils.isEmpty(i)&&"Filter"==i.ModuleType&&(t.GroupFilter=i),i&&(i.ModuleCode=i.Code,t.Modules.push(i))})}):(a.Setting.Groups=[{ColumnFlex:100,Flex:100,Modules:a.Setting.Module,Caption:"Default"}],a.Setting.Module.forEach(function(t){"List"==t.ModuleType&&"true"==a.Setting.IsDetail&&a.ListDetail.push(t),["Report"].indexOf(t.ModuleType)>=0&&"true"==a.Setting.IsProject&&(t.ShowTable=!!t.DisplayTable&&t.DisplayTable,t.HideReport&&(t.ShowReport="false"),t.ReportProportion="100",t.ShowReportHeader="false",t.Flex="50",t.IsProject="true")}),"dynamic/knowhow-document"==a.Setting.UrlPage&&(a.isMobile.Android()||a.isMobile.BlackBerry()||a.isMobile.Opera()||a.isMobile.iOS()&&!a.isMobile.iPad()?a.Setting.Groups=[{ColumnFlex:100,Flex:100,Modules:a.Setting.Module}]:a.Setting.Groups=[{ColumnFlex:75,Flex:75,Modules:a.Setting.Module}])),a.Setting.Pagination,a.Setting=n()({},a.Setting)})})}),"dynamic/knowhow-document"==a.Setting.UrlPage&&(a.isDocumentPage=!0)},loadSettingData:function(t,e){var a=this,i=this,s=[],o=i.$Lodash.cloneDeep(i.$singleRequest);o.R1_RequestTemplate="SettingNew.SearchSetting",o.R1_Code="",t.forEach(function(t){o.R1_Code+=t.ModuleCode+";"}),""==o.R1_Code?e(s):i.$Utils.post(o).then(function(o){o=i.$Utils.getDataWithRoot(o.R1,"Data.DynamicDS.Setting"),t.forEach(function(t){"Report"==t.ModuleType&&(a.reportPage=!0);for(var e=0;e<o.length;e++)if(t.ModuleCode==o[e].Code){if(-1==["Form","Filter","List","Report"].indexOf(t.ModuleType)&&-1==["Form","Filter","List","Report"].indexOf(t.SubElementType)||"string"!=typeof o[e].Description){void 0!=o[e].DisplaySetting&&s.push(JSON.parse(o[e].DisplaySetting));break}var n=o[e];if("Filter"!=n.ModuleType&&i.listReport.push({Code:n.Code,Name:n.Name}),n.Description=n.Description?JSON.parse(n.Description):"",i.$Utils.isEmpty(n,"F1")){n.Description.Fields="";for(var e=1;e<=n.Description.FCount;e++)void 0!=n["F"+e]&&(n.Description.Fields+=n["F"+e],delete n["F"+e]);n.Description.Fields="string"==typeof n.Description.Fields?JSON.parse(n.Description.Fields):[]}n.Description.Code=n.Code,n.Description.DataGroup=n.Name,n.Description.Value=n.Value,n.Description.ModuleType=t.ModuleType,"Filter"==t.ModuleType&&(n.Description.functions||(n.Description.functions={}),n.Description.functions.onFilter=a.onFilter),t.Layout&&(n.Description.ModuleLayout=t.Layout),t.DisplayTable&&(n.Description.DisplayTable=t.DisplayTable),t.HideReport&&(n.Description.HideReport=t.HideReport),s.push(n.Description)}}),e(s)})},loadUrlData:function(){var e=this;return new s.a(function(a,i){e.$Utils.isEmpty(e.Setting.AutoLoad,"length")||""==e.Setting.AutoLoad||(e.Setting.AutoLoad=[e.Setting.AutoLoad]),e.Setting.AutoLoad.forEach(function(i){if(e.$Utils.isEmpty(i,"Enable")){var s={};switch(e.Setting.Module.forEach(function(t){e.$Utils.isEmpty(t)&&t.Code==i.Module&&(s=t)}),i.Type){case"loadDataBase":if(!e.$Utils.isEmpty(s.Code))return e.$Utils.showMessage("error",e.$toastMessage.settingTemplateError),!1;"string"==typeof i.OtherCondition&&t.each(e.$Utils.stringToObject(i.OtherCondition),function(t,e){i[t]=e});var o=e.$Lodash.cloneDeep(e.$singleRequest);if(o.R1_RequestDataGroup=i.DataGroup?i.DataGroup:s.DataGroup,o.R1_RequestTemplate=i.DataSource?i.DataSource+".Search":s.DataSource+".Search","string"==typeof i.AdditionConditions&&(i.AdditionConditions=e.$Utils.stringToObject(i.AdditionConditions)),t.each(i.AdditionConditions,function(t,e){o["R1_"+t]=e}),o.R1_RequestFields="",e.$Utils.isEmpty(i.ParentChild)&&1==i.ParentChild){var n=s.Link;if(e.$Utils.isEmpty(n)){n[i.DataGroup].forEach(function(t){o.R1_RequestFields+=t.Target+";",s.Fields.forEach(function(a){a.Name==t.Source&&e.$Utils.isEmpty(a,"DynamicText")&&(o.R1_RequestFields+=t.Target+"Name;")})})}}else s.Fields.forEach(function(t){o.R1_RequestFields+=t.Name+";"});var l;"string"==typeof i.Condition&&(l={},i.Condition.split(";").forEach(function(t){i[t]&&(l[t.trim()]=i[t])}),e.$Utils.isEmpty(s.parentSetting)||(s.parentSetting={object:{},set:{GetFullData:"false"}})),e.$Utils.isEmpty(l)&&(o=e.$Utils.updateParamsSingleRequest(o,l)),o=e.replaceExpression(o,s.parentSetting.object),1==i.AssignedUser&&(o.R1_AssignedUser=e.$getItemLocalStorage(e.$localStorageConstant.SessionId)),e.$isSystemAdmin()&&(o.R1_AssignedUser=void 0),"true"!=e.Setting.IsDetail||s.SubElements&&0==s.SubElements.length?e.$Utils.postCheckResult(o).then(function(o){if(o.success&&o.R1.success){var n="string"==typeof i.RootData?i.RootData:"Data.DynamicDS.Setting"!=s.RootData?s.RootData:"Data",l=e.$Utils.getDataWithRoot(o.R1,n)[0];if("Data.DynamicDS.Setting"==s.RootData&&e.$Utils.isEmpty(o)&&(l=e.$Utils.getDataWithRoot(o.R1,s.RootData)[0]),o=l,e.$Utils.isEmpty(i.ParentChild)&&1==i.ParentChild){var r=s.Link;if(e.$Utils.isEmpty(r)){var c=r[i.DataGroup];e.$Utils.isEmpty(c)&&c.forEach(function(t){e.$Utils.isEmpty(o[t.Target])&&(s.parentSetting.object[t.Source]=o[t.Target]),e.$Utils.isEmpty(o[t.Target+"Name"])&&(s.parentSetting.object[t.Source+"Name"]=o[t.Target+"Name"])})}}else t.each(o,function(t,e){s.parentSetting.object[t]=e});a(e.Setting)}else e.$Utils.showMessage("error",e.$toastMessage.loadingDataFailed)}):(t.map(l,function(t,e){s.parentSetting.object[e]=o["R1_"+e]}),a(e.Setting));break;case"includeUrlData":var r=window.location.href;if(r.indexOf("?")>0&&s.Code){var c=r.substring(r.indexOf("?")+1,r.length);c=e.$Utils.stringToObject(decodeURIComponent(c)),s.parentSetting=s.parentSetting?s.parentSetting:{object:{}},t.each(c,function(t,e){s.parentSetting.object[t]=e})}a(e.Setting)}}else a(e.Setting)})})},setModuleData:function(t,e){var a=this;if("string"==typeof a.Setting.SetDataSource&&a.Setting.SetDataSource.indexOf(t.ModuleCode)&&"string"==typeof a.Setting.SetDataTarget)for(var i=0;i<a.Setting.Module.length;i++)if(a.Setting.Module[i].Code==a.Setting.SetDataTarget&&a.$Utils.isEmpty(a.Setting.Module[i].functions.setData)){if("string"==typeof a.Setting.SetDataParentChild){var s=t.Link,o={};if(a.$Utils.isEmpty(s)){var n=s[a.Setting.TargetCode];if(a.$Utils.isEmpty(n)){var l="";n.forEach(function(t){l+=t.Source+";",l+=t.Source+"Name;"}),e.R1_RequestFields+=l,a.$Utils.postCheckResult(e).then(function(e){if(e.success&&e.R1.success){var s=a.$Utils.getDataWithRoot(e.R1,t.RootData)[0];a.$Utils.isEmpty(s)&&n.forEach(function(t){a.$Utils.isEmpty(s[t.Source])&&(o[t.Target]=s[t.Source]),a.$Utils.isEmpty(s[t.Source+"Name"])&&(o[t.Target+"Name"]=s[t.Source+"Name"])})}else a.$Utils.showMessage("error",a.$toastMessage.loadingDataFailed);a.Setting.Module[i].functions.setData(o)})}}else a.Setting.Module[i].functions.setData(o)}else a.$Utils.postCheckResult(e).then(function(t){if(t.success&&t.R1.success){var e=a.$Utils.getDataWithRoot(t.R1,a.Setting.RootData)[0];a.Setting.Module[i].functions.setData(e)}else a.$Utils.showMessage("error",a.$toastMessage.loadingDataFailed)});break}},checkSettingPage:function(){var e=this;return new s.a(function(a,i){if(e.Setting.Module&&e.Setting.Module[0]&&e.$Utils.isEmpty(e.Setting.Module[0],"ModuleCode")&&0==e.Setting.Module[0].ModuleCode.indexOf("Page.")){var s=!1,o=e.$Lodash.cloneDeep(e.Setting.Module[0].parentSetting);if(e.$Utils.isEmpty(dynamicMenu)){JSON.parse(dynamicMenu).urlPage.forEach(function(i){i.Code==e.Setting.Module[0].ModuleCode&&(t.each(i,function(t,a){e.Setting[t]=a}),s=!0,e.Setting.Module=i.children,e.$Utils.isEmpty(o)&&e.Setting.Module.forEach(function(t){t.parentSetting=o}),e.Setting.directiveType="inside",e.Setting.place="page",a())})}s||(e.$Utils.showMessage("error",e.$toastMessage.settingTemplateError),e.$Utils.isEmpty(e.Setting.closeModal)&&e.Setting.closeModal(),i())}else a()})},replaceExpression:function(e,a){var i=this;return t.each(e,function(t,s){if(s+="",s.indexOf("{{")>=0&&s.indexOf("}}")>s.indexOf("{{")){for(var o=s,n="";""!=o;){n+=o.substr(0,o.indexOf("{{"));var l=o.substr(o.indexOf("{{")+2,o.indexOf("}}")-o.indexOf("{{")-2);if(l.indexOf("|")>0){var r=l.substr(0,l.indexOf("|")).trim(),c=i.$Utils.getDataWithRoot(a,r)[0],d=l.substr(l.indexOf("|")+1,l.length).split(":"),u=d[0].trim(),m=d[1];switch(u){case"Date":c=i.$Utils.stringToDate(c),n+=i.$Utils.formatDateTime(c,m);break;case"RangeTime":n+=i.$Utils.getDateTimeByKey(m,void 0,void 0,r);break;case"UserInfo":n+=i.$Utils.getUserInfo(r);break;case"Url":i.$Utils.isEmpty(i.$route.params,"value")&&(n+=i.$Utils.stringToObject(i.$route.params.value)[r]);break;default:n+=c}}else i.$Utils.isEmpty(a[l])&&(n+=a[l]);o=o.substr(o.indexOf("}}")+2,o.length)}e[t]=n}}),e},onsearch:function(t,e){var a=this;a.$Utils.isEmpty(t,"functions.onPagination")&&(a.$Utils.isEmpty(a.filter,"arrTree")?e?a.getFieldsData(0,[],t,e):a.getFieldsData(0,[],t,[]):t.functions.onPagination(1,e))},onFilter:function(t,e){var a=this;e.FilterLink.forEach(function(e){for(var i=0;i<a.Setting.Module.length;i++)if(a.Setting.Module[i].Code==e){a.$Utils.isEmpty(a.Setting.Module[i],"functions.search"+a.Setting.Module[i].ModuleType)&&a.Setting.Module[i].functions["search"+a.Setting.Module[i].ModuleType](t);break}})},getFormData:function(e){for(var a=this,i=0;i<a.Setting.Module.length;i++)if("Form"==a.Setting.Module[i].ModuleType&&a.Setting.Module[i].Code!=e.Code){if(a.$Utils.isEmpty(a.Setting.Module[i],"functions.getobjSourceData")){var s=a.Setting.Module[i].functions.getobjSourceData();if(s){if(a.$Utils.isEmpty(a.Setting.Module[i].Link)){var o=a.Setting.Module[i].Link[e.DataGroup],n={};return t.each(o,function(t,e){a.$Utils.isEmpty(s[e.Source])&&(n[e.Target]=s[e.Source]),a.$Utils.isEmpty(s[e.Source+"Name"])&&(n[e.Target+"Name"]=s[e.Source+"Name"])}),n}return s}}break}},getFieldsData:function(t,e,a,i,s){var o=this;if(t<o.filter.arrTree.length)o.$Utils.isEmpty(o.filter.arrTree[t].getVal)?o.filter.arrTree[t].getVal(function(n){for(var l=!0,r=0;r<n.length;r++){if(!n[r].validate){l=!1;break}e.unshift(n[r])}l&&o.getFieldsData(t+1,e,a,i,s)}):o.getFieldsData(t+1,e,a,i,s);else{if(o.filter.data=e,!0===o.Filtersave){var n={};o.filter.data.forEach(function(t){o.$Utils.isEmpty(t,"value")&&""!==t.value&&(n[t.name]=t.value)}),o.Filtersave=!1}if(!0===o.Filterlist){var n={};o.Filterlist=!1}i&&i.length>0&&i.forEach(function(t){e.push(t)}),a.functions.onPagination(1,e),o.FilterData=e}}}}}).call(e,a(2))},function(t,e){},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(112),o=a(31),n=a(261);i.default.component("Report",s.a),e.a={components:{SelectTree:o.a,DynamicFilter:n.a},props:["mSetting","pSetting","mCaption","mIndex"],data:function(){var t=this.$getItemLocalStorage("firstDayOfWeekCfg")?parseInt(JSON.parse(this.$getItemLocalStorage("firstDayOfWeekCfg")).Value):1;return{isDashboard:this.pSetting.Description&&this.pSetting.Description.indexOf('"IsDashboard":"true"')>-1,firstDayOfWeekCfg:t,filter:{},PlanStartDate:[],arrReport:[],listWorkers:[],ListProject:[],listVersionProjects:[],searchIndex:0,objLayout:{},dateOptions:{shortcuts:[{text:"Hôm trước",onClick:function(t){var e=new Date,a=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()-1)+" 23:59:59"),i=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()-1)+" 00:00:00");t.$emit("pick",[i,a])}},{text:"Hôm nay",onClick:function(t){var e=new Date,a=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" 00:00:00"),i=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" 23:59:59");t.$emit("pick",[a,i])}},{text:"Hôm sau",onClick:function(t){var e=new Date,a=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()+1)+" 00:00:00"),i=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()+1)+" 23:59:59");t.$emit("pick",[a,i])}},{text:"Tuần trước",onClick:function(e){var a=new Date;a.setTime(a.getTime()-6048e5);var s=i.default.moment(a).isoWeekday(t).startOf("isoweek")._d,o=i.default.moment(a).isoWeekday(t).endOf("isoweek")._d,n=new Date(s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"),l=new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+" 23:59:59");e.$emit("pick",[n,l])}},{text:"Tuần này",onClick:function(e){var a=new Date,s=i.default.moment(a).isoWeekday(t).startOf("isoweek")._d,o=i.default.moment(a).isoWeekday(t).endOf("isoweek")._d,n=new Date(s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"),l=new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+" 23:59:59");e.$emit("pick",[n,l])}},{text:"Tuần sau",onClick:function(e){var a=new Date;a.setTime(a.getTime()+6048e5);var s=i.default.moment(a).isoWeekday(t).startOf("isoweek")._d,o=i.default.moment(a).isoWeekday(t).endOf("isoweek")._d,n=new Date(s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"),l=new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+" 23:59:59");e.$emit("pick",[n,l])}},{text:"Tháng trước",onClick:function(t){var e=(new Date,i.default.moment().subtract(1,"months")._d),a=i.default.moment(e).startOf("month")._d,s=i.default.moment(a).endOf("month")._d;t.$emit("pick",[a,s])}},{text:"Tháng này",onClick:function(t){var e=new Date,a=i.default.moment([e.getFullYear(),e.getMonth()])._d,s=i.default.moment(a).endOf("month")._d;t.$emit("pick",[a,s])}},{text:"Tháng sau",onClick:function(t){var e=(new Date,i.default.moment().add(1,"months")._d),a=i.default.moment(e).startOf("month")._d,s=i.default.moment(a).endOf("month")._d;t.$emit("pick",[a,s])}}]},filterSetting:[],objfilterSetting:{},moduleSetting:[],quickFilterSetting:{},quickFilterModel:{}}},methods:{onFilter:function(t,e){var a=this,i=this;this.filter={},this.filter.FilterCode=e.Code,t.forEach(function(t){t.name&&""!=t.name&&(a.filter[t.name]=t.value)}),i.objfilterSetting=e,this.searchIndex++,i.$refs.chartFilter&&i.$refs.chartFilter.length&&i.$refs.chartFilter.forEach(function(t){t.hide()})},replaceExpression:function(t,e){var a=this;if(t+="",t.indexOf("{{")>=0&&t.indexOf("}}")>t.indexOf("{{")){for(var i=t,s="";""!=i;){s+=i.substr(0,i.indexOf("{{"));var o=i.substr(i.indexOf("{{")+2,i.indexOf("}}")-i.indexOf("{{")-2);if(o.indexOf("|")>0){var n=o.substr(0,o.indexOf("|")).trim(),l=a.$Utils.getDataWithRoot(e,n)[0],r=o.substr(o.indexOf("|")+1,o.length).split(":"),c=r[0].trim(),d=r[1];switch(c){case"Date":l=a.$Utils.stringToDate(l),s+=a.$Utils.formatDateTime(l,d);break;case"RangeTime":s+=a.$Utils.getDateTimeByKey(d,void 0,void 0,n);break;case"UserInfo":s+=a.$Utils.getUserInfo(n);break;case"Url":a.$Utils.isEmpty(a.$route.params,"value")&&(s+=a.$Utils.stringToObject(a.$route.params.value)[n]);break;default:s+=l}}else a.$Utils.isEmpty(e[o])&&(s+=e[o]);i=i.substr(i.indexOf("}}")+2,i.length)}t=s}return t}},watch:{},created:function(){var e=this;e.filterSetting=e.mSetting.filter(function(t){return"Filter"==t.ModuleType});var a=0;e.filterSetting.forEach(function(t){e.quickFilterSetting[t.Code]=t.Groups[0]&&t.Groups[0].children||[],t.functions={onFilter:e.onFilter},a++});var s=new Date,o=i.default.moment(s).isoWeekday(e.firstDayOfWeekCfg).startOf("isoweek")._d,n=i.default.moment(s).isoWeekday(e.firstDayOfWeekCfg).endOf("isoweek")._d,l=new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+" 00:00:00"),r=new Date(n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" 23:59:59");e.PlanStartDate=[l,r];var c=e.$Lodash.cloneDeep(e.$singleRequest);c.R1_RequestTemplate="SettingNew.SearchSetting",c.R1_Id=e.pSetting.Id,e.$Utils.post(c).then(function(a){if(a=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting")[0]){var i=e.$Utils.jsonParse(a.Value);e.isDashboard&&(i=e.mSetting);var s=e.$Utils.jsonParse(a.Description);if(e.$Utils.isEmpty(s,"ModuleOrder"))var o=s.ModuleOrder.split(";");else if(e.$Utils.isEmpty(s.Groups)&&e.$Utils.isEmpty(s.Groups[e.mIndex])&&e.$Utils.isEmpty(s.Groups[e.mIndex],"ModuleOrder"))var o=s.Groups[e.mIndex].ModuleOrder.split(";");else if(e.$Utils.isEmpty(s.Groups)&&e.$Utils.isEmpty(s.Groups[e.mIndex]))var o=s.Groups[e.mIndex].ListModules.split(";");var n="",l="";if(i)if(t.each(i,function(t,a){"Report"==a.ModuleType?(e.objLayout[a.Code]=a.ModuleLayout,e.$Utils.isEmpty(a.listUsers,"0")&&JSON.parse(e.$getItemLocalStorage(e.$localStorageConstant.LoggedOnUser)).UserId.indexOf(a.listUsers)>=0?n+=a.ModuleCode+";":e.$Utils.isEmpty(a.UserPermissions,"0")?a.UserPermissions.forEach(function(t){JSON.parse(e.$getItemLocalStorage(e.$localStorageConstant.LoggedOnUser)).Roles.forEach(function(e){t==e.GroupId&&(n+=a.ModuleCode+";")}),JSON.parse(e.$getItemLocalStorage(e.$localStorageConstant.LoggedOnUser)).Groups.forEach(function(e){t==e.GroupId&&(n+=a.ModuleCode+";")})}):e.$Utils.isEmpty(a.listUsers,"0")&&a.listUsers!=[]||(n+=a.ModuleCode+";")):"Filter"==a.ModuleType&&(l+=a.ModuleCode+";")}),n){var r=e.$Lodash.cloneDeep(e.$singleRequest);r.R1_RequestTemplate="SettingNew.SearchSetting",r.R1_Code=n,r.R1_AssignedUser=e.$getItemLocalStorage(e.$localStorageConstant.SessionId),e.$Utils.post(r).then(function(a){a=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting");var s={};t.each(a,function(a,i){i.Value=e.$Utils.jsonParse(i.Value);var n=e.$Utils.jsonParse(i.Description);delete i.Description,t.each(n,function(t,e){i[t]=e}),o||e.arrReport.push(i),s[i.Code]=i}),o&&o.forEach(function(t){e.$Utils.isEmpty(s[t])&&""!=t&&e.arrReport.push(s[t])}),t.each(i,function(a,i){t.each(e.arrReport,function(t,a){a.IsDashBoard=e.isDashboard,a.Code==i.ModuleCode&&(e.arrReport[t].ShowTable=i.ShowTable,i.HideReport&&(e.arrReport[t].ShowReport="false"),e.$Utils.isEmpty(i,"DefaultFilter")&&(a.AdditionConditions||(e.arrReport[t].AdditionConditions=""),i.DefaultFilter.forEach(function(a){e.arrReport[t].AdditionConditions+="&"+a.Key+"="+a.Value}),e.arrReport[t].AdditionConditions=e.replaceExpression(e.arrReport[t].AdditionConditions,{})))})});var n={};e.filterSetting.forEach(function(a){n[a.Code]=[],n[a.Code].push(a),t.each(e.arrReport,function(t,e){-1!==a.FilterLink.indexOf(e.Code)&&""!=e.Code&&(e.FilterCode=a.Code,n[a.Code].push(e))}),e.moduleSetting=e.moduleSetting.concat(n[a.Code])})})}else e.$Utils.showMessage("error",e.$toastMessage.settingTemplateError)}})}}}).call(e,a(2))},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2__report_main__=__webpack_require__(492);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component("MainChart",__WEBPACK_IMPORTED_MODULE_2__report_main__.a),__webpack_exports__.a={props:["Setting","Filter","SearchIndex","FilterSetting"],data:function(){return{isHiddenCaption:!1,reports:this.$Lodash.cloneDeep(this.Setting),listSearchCondition:[],objSourceData:{},fields:{},filterReady:!1,dataBinding:"Đang tải ...",dynamicDataFilter:this.$Utils.dynamicDataFilter,rangePeriod:this.Setting.rangePeriod?this.Setting.rangePeriod:3,reportCaption:this.$Lodash.cloneDeep(this.Setting.Caption)}},methods:{formatCaption:function(t){var e=this,a=e.$Lodash.cloneDeep(e.reportCaption),i="";if(a.indexOf("{{")>=0&&a.indexOf("}}")>a.indexOf("{{")){i+=a.substr(0,a.indexOf("{{"));var s=a.substr(a.indexOf("{{")+2,a.indexOf("}}")-a.indexOf("{{")-2);if(s.indexOf("|")>0){var o=s.substring(s.indexOf("|")+1,s.length).trim();if(s=s.substring(0,s.indexOf("|")).trim(),o.indexOf(":")>0&&(o.substring(o.indexOf(":")+1,o.length).trim(),o=o.substring(0,o.indexOf(":")).trim()),t[s+"StartValue"]&&t[s+"EndValue"]){var n=new Date,l=e.$Utils.formatDateTime(t[s+"StartValue"],"YYYY/M/D"),r=e.$Utils.formatDateTime(t[s+"EndValue"],"YYYY/M/D"),c=this.$getItemLocalStorage("firstDayOfWeekCfg")?parseInt(JSON.parse(this.$getItemLocalStorage("firstDayOfWeekCfg")).Value):1,d=new Date;d.setTime(d.getTime()-6048e5);var u=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(d).isoWeekday(c).startOf("isoweek")._d,m=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(d).isoWeekday(c).endOf("isoweek")._d,p=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(n).isoWeekday(c).startOf("isoweek")._d,h=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(n).isoWeekday(c).endOf("isoweek")._d,f=new Date;f.setTime(f.getTime()+6048e5);var g=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(f).isoWeekday(c).startOf("isoweek")._d,_=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(f).isoWeekday(c).endOf("isoweek")._d;if(r==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+(n.getDate()-1)&&l==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+(n.getDate()-1))i+="ngày hôm trước";else if(r==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()&&l==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate())i+="ngày hôm nay";else if(r==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+(n.getDate()+1)&&l==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+(n.getDate()+1))i+="ngày hôm sau";else if(r==m.getFullYear()+"/"+(m.getMonth()+1)+"/"+m.getDate()&&l==u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())i+="tuần trước";else if(r==h.getFullYear()+"/"+(h.getMonth()+1)+"/"+h.getDate()&&l==p.getFullYear()+"/"+(p.getMonth()+1)+"/"+p.getDate())i+="tuần này";else if(r==_.getFullYear()+"/"+(_.getMonth()+1)+"/"+_.getDate()&&l==g.getFullYear()+"/"+(g.getMonth()+1)+"/"+g.getDate())i+="tuần sau";else if(l==n.getFullYear()+"/"+n.getMonth()+"/"+new Date(n.getFullYear(),n.getMonth()-1,1).getDate()&&r==n.getFullYear()+"/"+n.getMonth()+"/"+new Date(n.getFullYear(),n.getMonth(),0).getDate())i+="tháng trước";else if(l==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+new Date(n.getFullYear(),n.getMonth(),1).getDate()&&r==n.getFullYear()+"/"+(n.getMonth()+1)+"/"+new Date(n.getFullYear(),n.getMonth()+1,0).getDate())i+="tháng này";else if(l==n.getFullYear()+"/"+(n.getMonth()+2)+"/"+new Date(n.getFullYear(),n.getMonth()+1,1).getDate()&&r==n.getFullYear()+"/"+(n.getMonth()+2)+"/"+new Date(n.getFullYear(),n.getMonth()+2,0).getDate())i+="tháng sau";else if(r==e.$Utils.formatDateTime(new Date,"YYYY/M/D")){var v=new Date,b=new Date(t[s+"StartValue"]),C=Math.abs(v.getTime()-b.getTime());i+=Math.ceil(C/864e5)+" ngày gần nhất"}else i+="từ ngày "+e.$Utils.formatDateTime(l,"DD/MM/YYYY")+" đến ngày "+e.$Utils.formatDateTime(r,"DD/MM/YYYY")}else i+=o}i+=a.substr(a.indexOf("}}")+2,a.length),e.reports.Caption=i}},getReportSetting:function(t){var e=this,a={R1Data:e.reports.Value};if("true"==e.Setting.TimePeriod)for(var i=2;i<=e.rangePeriod;i++)a["R"+i+"Data"]=e.reports.Value;var s={};return-1!=e.reports.Value.indexOf("ProjectCategoriesLevel")&&(e.ProjectReport=!0),$.each(a,function(t,a){var i={},o={};$.each(a,function(t,a){"string"==typeof a.Description&&a.Description.indexOf("=")>0&&(a.Description=e.$Utils.stringToObject(a.Description)),i[a.Code]=e.$Lodash.cloneDeep(a),"Fields"==a.Code&&($.each(a.Description,function(t,e){o[t]={},o[t].count=parseInt(e)}),o.T={})}),$.each(o,function(t,a){for(var s=1;s<a.count+1;s++)a[t+s]={},e.$Utils.isEmpty(i[t+s],"Description")&&(a[t+s]=i[t+s].Description,a[t+s].Name=i[t+s].Name)}),s[t]=o}),s},mergeReportData:function(t){var e=this;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(a,i){var s={};$.each(t,function(a,i){var o=t[a].formatData;s[a]=e.seriesReport(e.fields[a+"Data"],o.arrData,t[a].valueReport)}),a(s)})},getDataTemplate:function(t,e){var a=this;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(e,i){a.$isSystemAdmin()||a.$isMantisAdmin()||"true"==a.reports.IsProject||!a.$Utils.isEmpty(a.$rootScope.loggedOnUser.Project,"GroupId")||a.$Utils.isEmpty(t.R1_Project)||(t.R1_Project=a.$rootScope.loggedOnUser.Project.GroupId),delete t.R1_ProjectName,t.R1_VersionProject&&(a.hasProject=!0),delete t.R1_FilterCode,a.$Utils.post(t).then(function(s){if(s.success){var o=!1,n={};if(!a.$Utils.isEmpty(s.R1,"Data.DynamicDS.Report"))return i(),!1;if("true"==a.Setting.TimePeriod)s.R1.success&&0!=a.$Utils.getDataWithRoot(s.R1,"Data.DynamicDS.Report").length||(o=!0);else for(var l=1;l<=t.TotalRequests;l++)s["R"+l].success&&0!=a.$Utils.getDataWithRoot(s["R"+l],"Data.DynamicDS.Report").length||(o=!0);if(o)return i(),!1;for(var r=1;r<=t.TotalRequests;r++){var c=a.$Lodash.cloneDeep(a.fields["R"+r+"Data"]);if(s["R"+r]=a.$Utils.getDataWithRoot(s,"R"+r+".Data.DynamicDS")[0]?a.$Utils.getDataWithRoot(s,"R"+r+".Data.DynamicDS")[0]:{Report:[]},Array.isArray(s["R"+r].Report)||(s["R"+r].Report=[s["R"+r].Report]),a.$Utils.isEmpty(a.reports.FormRequest)&&0==a.ShowTree&&s)a.$Utils.isEmpty(s,"R"+r)&&!Array.isArray(s["R"+r].X1)&&(s["R"+r].X1=[s["R"+r].X1]),c.X.X1.Format&&a.$Utils.isEmpty(s,"R"+r)&&$.each(s["R"+r].X1,function(t,e){var i={0:e.Name?e.Name:e.Value};e.Name=a.$Utils.expressionToString(i,c.X.X1.Format)});else if(c&&c.X)for(var d=1;d<=c.X.count;d++)Array.isArray(s["R"+r]["X"+d])||(s["R"+r]["X"+d]=[s["R"+r]["X"+d]]),c.X["X"+d].Format&&$.each(s["R"+r]["X"+d],function(t,e){var i={0:e.Name?e.Name:e.Value};e.Name=a.$Utils.expressionToString(i,c.X["X"+d].Format)});if(c&&c.Y)for(var u=1;u<=c.Y.count;u++)Array.isArray(s["R"+r]["Y"+u])||(s["R"+r]["Y"+u]=[s["R"+r]["Y"+u]]),c.Y["Y"+u].Format&&$.each(s["R"+r]["Y"+u],function(t,e){var i={0:e.Name?e.Name:e.Value};e.Name=a.$Utils.expressionToString(i,c.Y["Y"+u].Format)});if(a.$Utils.isEmpty(a.reports,"AdvanceSetting.ReportOrderBy")){var m="",p=1;"DESC"==a.$Utils.isEmpty(a.reports,"AdvanceSetting.ReportOrderByType",!0)&&(p=-1),a.reports.ReportOrder=a.reports.AdvanceSetting.ReportOrderBy+" "+a.reports.AdvanceSetting.ReportOrderByType,$.each(c,function(t,e){$.each(e,function(t,e){e.Name==a.reports.AdvanceSetting.ReportOrderBy&&(m=t)})}),s["R"+r][m]&&s["R"+r][m].sort(function(t,e){var a=t.Name?t.Name:t.Value,i=e.Name?e.Name:e.Value;return a>i?p:a<i?-1*p:0})}n["R"+r]={formatData:a.formatData(c,a.$Lodash.cloneDeep(s["R"+r])),valueReport:a.valueReports(c,a.$Lodash.cloneDeep(s["R"+r]))}}e(n)}else i()})})},formatData:function(t,e){var a,i=this,s=[];if(t&&t.X)for(var o=1;o<=t.X.count;o++)a=e["X"+o]?i.$Lodash.cloneDeep(e["X"+o]):{},$.each(e["X"+o],function(s,n){if(n&&(n.Value||n.Name)){switch(a[s].name=n.Name?n.Name:n.Value,t.X["X"+o].Prefix&&(a[s].name=t.X["X"+o].Prefix+" "+a[s].name),t.X["X"+o].DataType){case"DateTime":if(t.X["X"+o].FormatValue)if("Age"==t.X["X"+o].FormatValue){var l=i.$Utils.stringToDate(a[s].name,"YYYY"),r=new Date(Date.now()-l.getTime());r.getUTCFullYear()>1970?a[s].name=Math.abs(r.getUTCFullYear()-1970):a[s].name=i.$Utils.formatDateTime(i.$Utils.stringToDate(a[s].name),"DD/MM/YYYY")}else a[s].name=i.$Utils.formatDateTime(i.$Utils.stringToDate(a[s].name),t.X["X"+o].FormatValue)}e["X"+o][s].name=a[s].name}else i.$Utils.isEmpty(a[s],"name")||(a[s]={}),a[s].name=i.$defaultUndefined,a[s].Value=i.$defaultUndefined}),s.push(a);if(t&&t.Y)for(o=1;o<=t.Y.count;o++)a=e["Y"+o]?i.$Lodash.cloneDeep(e["Y"+o]):{},$.each(e["Y"+o],function(s,n){if(n&&(n.Value||n.Name)){switch(a[s].name=n.Name?n.Name:n.Value,t.Y["Y"+o].DataType){case"DateTime":if(t.Y["Y"+o].FormatValue)if("Age"==t.Y["Y"+o].FormatValue){var l=i.$Utils.stringToDate(a[s].name,"YYYY"),r=new Date(Date.now()-l.getTime());a[s].name=Math.abs(r.getUTCFullYear()-1970)}else a[s].name=i.$Utils.formatDateTime(i.$Utils.stringToDate(a[s].name),t.Y["Y"+o].FormatValue)}e["Y"+o][s].name=a[s].name}else i.$Utils.isEmpty(a[s])||(a[s]={}),a[s].name=i.$defaultUndefined,a[s].Value=i.$defaultUndefined}),s.push(a);var n=i.$Lodash.cloneDeep(s),l=[];return i.categoryReport=function(){var a=[];if(t&&t.X)for(var s=1;s<=t.X.count;s++)a.push(e["X"+s]);if(t&&t.Y)for(var s=1;s<=t.Y.count;s++)a.push(e["Y"+s]);if(a.length>0){var o=[];$.each(a,function(e,s){(a.length>1&&0!=e||1==a.length||a.length>1&&1==t.V.count)&&$.each(s,function(t,e){e&&e.name?o.push(e.name):o.push(i.$defaultUndefined)})});for(var s=a.length-1;s>=0;s--){if(s==a.length-1&&(a[s]=o),0==s){l=a;break}if(a[s-1])for(var n=0;n<a[s-1].length;n++)a[s-1][n]&&(a[s-1][n].categories=a[s])}}return l},{category:i.categoryReport(),arrData:n}},valueReports:function(t,e){var a=this,i=[],s=[];return $.each(e.Report,function(e,o){if(a.$Utils.isEmpty(o)){var n={};if(t&&t.V&&t.V.count>0)for(var l=1;l<=t.V.count;l++)n["V"+l]=o["V"+l],a.$Utils.isEmpty(o["V"+l])&&o["V"+l];var r=[];if(t&&t.X&&t.X.count>0)for(var l=1;l<=t.X.count;l++){var c=o["X"+l]?o["X"+l]:a.$defaultUndefined;n["X"+l]=c,r.push(c)}if(t&&t.Y&&t.Y.count>0)for(var l=1;l<=t.Y.count;l++){var c=o["Y"+l]?o["Y"+l]:a.$defaultUndefined;n["Y"+l]=c,s.push(c),r.push(c)}n.ids=r,i.push(n)}}),i},seriesReport:function(t,e,a){var i=this;if(i.$Utils.isEmpty(i.reports.FormRequest)){for(var s=[],o=1,n=1,l=0,r=0;r<e.length;r++)o*=e[r].length;for(var r=0;r<o;r++)s[r]=[];for(var r=0;r<e.length;r++){for(var c=0;c<n;c++){for(;l<o;)for(var d=0;d<e[r].length;d++)for(var u=d*o/e[r].length;u<(d+1)*(o/e[r].length);u++)s[u+c*o].length>0?$.each(i.object,function(t,a){a.ParentId==s[u+c*o][s[u+c*o].length-1]&&e[r][d].Value==a.Id&&s[u+c*o].push(e[r][d].Value)}):i.$Utils.isEmpty(e[r][d].Value)&&s[u+c*o].push(e[r][d].Value),l++;l=0}n*=e[r].length,o/=e[r].length}for(var m=[],p=0;p<t.V.count;p++){for(var h=[],f=t.V["V"+(p+1)],r=0;r<s.length;r++)a?h.push(i.checkExist(s[r],p+1,a)):h.push(0);f.FieldColumnType=f.DataType,f.FieldColumnType&&"String"!=f.FieldColumnType||(f.FieldColumnType="Integer"),m[p]={data:h,name:f.ReportCaption,key:f.Name,setting:f},i.reports.formatData.seriesNumber++}return i.arrayValue=s,i.valueReport=a,m}for(var s=[],o=1,n=1,l=0,r=0;r<e.length;r++)o*=e[r].length;for(var r=0;r<o;r++)s[r]=[];for(var r=0;r<e.length;r++){for(var c=0;c<n;c++){for(;l<o;)for(var d=0;d<e[r].length;d++)for(var u=d*o/e[r].length;u<(d+1)*(o/e[r].length);u++)s[u+c*o].push(e[r][d].Value),l++;l=0}n*=e[r].length,o/=e[r].length}for(var m=[],p=0;p<t.V.count;p++){for(var h=[],f=t.V["V"+(p+1)],r=0;r<s.length;r++)a?h.push(i.checkExist(s[r],p+1,a)):h.push(0);f.FieldColumnType=f.DataType,f.FieldColumnType&&"String"!=f.FieldColumnType||(f.FieldColumnType="Integer"),m[p]={data:h,name:f.ReportCaption,key:f.Name,setting:f},i.reports.formatData.seriesNumber++}return m},checkExist:function(t,e,a){for(var i=0,s=0;s<a.length;s++){var o=a[s].ids.join();if(Array.isArray(t)&&o.toLowerCase()===t.join().toLowerCase()){a[s]["V"+e]&&(i=parseFloat(a[s]["V"+e]));break}}return i},formatReportExpression:function(t){var e=this;return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function(a,i){e.$Utils.isEmpty(e.reports.Fields.Calculators)&&$.each(e.reports.Fields.Calculators,function(a,i){if(e.$Utils.isEmpty(i.Expression)){var s={data:[],code:i.Name,name:i.ReportCaption?i.ReportCaption:i.Caption,key:i.Name,setting:i};s.setting.FieldColumnType="Double";var o=e.$Lodash.cloneDeep(i.Expression);$.each(t,function(t,a){for(var i=0;i<a[0].data.length;i++){var n={};$.each(a,function(t,e){n[e.key]=e.data[i]});var l=e.$Utils.calculator(e.$Utils.expressionToString(n,o));l+""!="Infinity"&&l+""!="NaN"||(l=0),s.data.push(l)}if(a.push(s),"string"==typeof e.reports.ReportOrder){var r=e.reports.ReportOrder.split(" ")[0],c=e.reports.ReportOrder.split(" ")[1];e.sortIndex=[],c="DESC"==c.trim()?1:-1,s.key==r&&(e.sortIndex=e.$Utils.sortWithIndexes(e.$Lodash.cloneDeep(s.data),c,e.reports.RecordLimit))}})}}),a(t)})},createChartData:function(t,e){var a=this;if("true"!=a.reports.ShowReport)return!1;if(a.reports.formatData.gObject=[],a.$Utils.isEmpty(a.reports,"EnableDataSeries")&&"true"==a.reports.EnableDataSeries){var i=[];$.each(a.reports.Fields.Series,function(t,e){i.push(e)}),$.each(i,function(i,s){r={Name:s.Name,chartData:{categories:t,series:[]},Caption:s.Caption,Chart:s.ReportType?s.ReportType:"Column",ColumnFlex:s.ReportProportion?s.ReportProportion:a.reports.ReportProportion,Percentage:a.reports.Percentage,Display:s.Enabled};for(var o=0;o<e.length;o++)e[o].key==s.Name&&1==s.Enabled&&r.chartData.series.push(e[o]);a.reports.formatData.gObject.push(r)})}else{if(a.fields.R1Data.Y&&a.fields.R1Data.Y.count>0){var s=[],o=[];$.each(t,function(t,e){s.push(e.name)});for(var n=s.length;n<t[0].categories.length;n++)o.push({name:t[0].categories[n],data:[],setting:a.$Lodash.cloneDeep(e[0].setting)});var l=0;for(n=0;n<s.length;n++)$.each(o,function(t,a){a.data.push(e[0].data[l]),l++});e=o,t=s}a.reports.formatData.gObject.push({chartData:{categories:t,series:e},attr:{},Caption:a.reports.Caption,Chart:a.reports.ReportType?a.reports.ReportType:"column",ColumnFlex:a.reports.ReportProportion,Percentage:a.reports.Percentage,Display:!0})}if("General"==a.reports.ReportType){var r={chartData:[],Caption:a.reports.Caption,Chart:"General",ColumnFlex:a.reports.ReportProportion,Display:!0};$.each(a.reports.formatData.gObject,function(t,e){e.Display=!1,r.chartData.push(e)}),a.reports.formatData.gObject.push(r)}else $.each(a.reports.formatData.gObject,function(t,e){var i=a.$Lodash.cloneDeep(e),s=[];i.chartData.categories=[],$.each(i.chartData.series,function(t,e){e.data=[]}),$.each(e.chartData.categories,function(t,a){for(var i=!0,o=0;o<e.chartData.series.length;o++)if(e.chartData.series[o].data[t]&&0!=e.chartData.series[o].data[t]){i=!1;break}i||s.push(t)}),$.each(s,function(t,a){i.chartData.categories.push(e.chartData.categories[a]),$.each(i.chartData.series,function(t,i){i.data.push(e.chartData.series[t].data[a])})})});a.fields.R1Data.X.count<2&&$.each(a.reports.formatData.gObject,function(t,e){var i=a.$Lodash.cloneDeep(e),s=[];i.chartData.categories=[],$.each(i.chartData.series,function(t,e){e.data=[]}),$.each(e.chartData.categories,function(t,a){for(var i=!0,o=0;o<e.chartData.series.length;o++)if(e.chartData.series[o].data[t]&&0!=e.chartData.series[o].data[t]){i=!1;break}i||s.push(t)}),$.each(s,function(t,a){i.chartData.categories.push(e.chartData.categories[a]),$.each(i.chartData.series,function(t,i){i.data.push(e.chartData.series[t].data[a])})}),a.reports.formatData.gObject[t]=i}),0==a.reports.ShowTable&&"Đang tải ..."==a.dataBinding&&(a.dataBinding=""),a.reports.viewModel.reportReady=!0},createTableData:function createTableData(formatData,seriesReport){var _this=this,formatD=this.$Lodash.cloneDeep(formatData),extra={tableTB:{},tableTH:{}},ctrl=this,Index=0;if($.each(formatD,function(Rkey,val){Index++,formatData=val.formatData;var valueReport=val.valueReport;ctrl.reports.EnablePercentageColumn="true"==ctrl.reports.EnablePercentageColumn||1==ctrl.reports.EnablePercentageColumn,formatData.arrData[0].push({name:"Tổng"});var percentageColumn={};_this.reports.EnablePercentageColumn&&(percentageColumn={data:[],key:_this.reports.PercentageColumnName},$.each(seriesReport[Rkey],function(t,e){e.key===_this.reports.PercentageColumnName&&$.each(seriesReport[Rkey][seriesReport.length-1].data,function(t,a){percentageColumn.data.push({name:_this.reports.PercentageColumnName,value:100*a/e.data[e.data.length-1]})})}));var total=seriesReport[Rkey].length,tableValue={head:[],body:[]},arrBodyData=[];if(ctrl.fields[Rkey+"Data"].X.count<2&&0==ctrl.fields[Rkey+"Data"].Y.count)tableValue.head[0]=[{rowspan:1,level:0,value:ctrl.fields[Rkey+"Data"].X.X1.ReportCaption}],$.each(ctrl.reports.Fields.Table,function(t,e){if(1==e.Display)for(var a=0;a<seriesReport[Rkey].length;a++)e.Name==seriesReport[Rkey][a].key&&(tableValue.head[0].push({value:seriesReport[Rkey][a].name,colspan:1,level:0}),arrBodyData.push(seriesReport[Rkey][a]))}),total=arrBodyData.length;else{var arrDisplay=[];$.each(ctrl.reports.Fields.Table,function(t,e){if(1==e.Display)for(var a=0;a<seriesReport[Rkey].length;a++)e.Name==seriesReport[Rkey][a].key&&(arrBodyData.push(seriesReport[Rkey][a]),arrDisplay.push(seriesReport[Rkey][a].key))}),total=arrDisplay.length;var arr=[{value:ctrl.fields[Rkey+"Data"].X.X1.ReportCaption,level:0,rowspan:formatData.arrData.length-ctrl.fields[Rkey+"Data"].X.count>1?formatData.arrData.length-ctrl.fields[Rkey+"Data"].X.count:1==ctrl.fields[Rkey+"Data"].Y.count&&ctrl.fields[Rkey+"Data"].V.count>1?2:""}];if(ctrl.fields[Rkey+"Data"].Y&&ctrl.fields[Rkey+"Data"].Y.count>0){for(var i=ctrl.fields[Rkey+"Data"].X.count;i<formatData.arrData.length;i++)total*=formatData.arrData[i].length;var div=total;if(1==ctrl.fields[Rkey+"Data"].Y.count){var fieldTable=ctrl.fields[Rkey+"Data"].V;ctrl.Setting.Fields.Calculators.length>0&&$.each(ctrl.Setting.Fields.Calculators,function(t,e){fieldTable[e.Name]=e});for(var i=ctrl.fields[Rkey+"Data"].X.count;i<formatData.arrData.length;i++){var count=0;for(div/=formatData.arrData[i].length;count<total;)$.each(formatData.arrData[i],function(t,e){var a={value:e.name,level:0,colspan:div};if(ctrl.fields[Rkey+"Data"].V.count>1){a.child=[];var i={};$.each(fieldTable,function(t,e){if(e.ReportCaption&&""!=e.ReportCaption&&-1!==arrDisplay.indexOf(e.Name)){var a={value:e.ReportCaption,level:0,colspan:1};i[arrDisplay.indexOf(e.Name)]=a}}),a.child=ctrl.$Lodash.values(i)}arr.push(a),count+=div})}}else if(ctrl.fields[Rkey+"Data"].Y.count>1)for(var i=ctrl.fields[Rkey+"Data"].X.count;i<formatData.arrData.length;i++){var arrX=[],count=0;for(div/=formatData.arrData[i].length;count<total;)$.each(formatData.arrData[i],function(t,e){ctrl.$Utils.isEmpty(e.Name)&&arrX.push({value:e.name,level:0,colspan:div}),count+=div});arrX.length>0&&tableValue.head.push(arrX)}}else for(var i=0;i<seriesReport[Rkey].length;i++)seriesReport[Rkey][i].setting&&-1!==arrDisplay.indexOf(seriesReport[Rkey][i].setting.Name)&&arr.push({value:seriesReport[Rkey][i].name,colspan:1,level:0,setting:seriesReport[Rkey][i].setting});if(ctrl.fields[Rkey+"Data"].Y&&ctrl.fields[Rkey+"Data"].Y.count>1)$.each(arr,function(t,e){tableValue.head[0].unshift(e)});else{tableValue.head.unshift(arr);var addarr=[];arr.forEach(function(t){t.child&&t.child.length>0&&t.child.forEach(function(t){addarr.push(t)})}),addarr.length>0&&tableValue.head.push(addarr)}}var level=ctrl.fields[Rkey+"Data"].X.count-1,arrayRow=[];if(ctrl.$Utils.isEmpty(ctrl.reports.FormRequest)){var newArr={};if(1==ctrl.ShowTree)for(var i=ctrl.fields[Rkey+"Data"].X.count-1;i>=0;i--)$.each(ctrl.object,function(t,e){$.each(formatData.arrData[i],function(t,a){ctrl.$Utils.isEmpty(formatData.arrData[i-1])&&ctrl.$Utils.isEmpty(a,"Value")&&e.Id==a.Value?$.each(formatData.arrData[i-1],function(t,i){e.ParentId==i.Value&&(ctrl.$Utils.isEmpty(newArr,a.Value)||(a.level=level,newArr[a.Value]=a),ctrl.$Utils.isEmpty(newArr,i.Value)||(i.level=level-1,newArr[i.Value]=i,newArr[i.Value].children=[]),ctrl.$Utils.isEmpty(newArr[i.Value],"children")&&newArr[i.Value].children.push(newArr[a.Value]))}):ctrl.$Utils.isEmpty(newArr,a.Value)||(a.level=level,newArr[a.Value]=a)})}),level--;else for(var i=ctrl.fields[Rkey+"Data"].X.count-1;i>=0;i--)$.each(formatData.arrData[i],function(t,e){ctrl.$Utils.isEmpty(newArr,e.Value)||(e.level=level,newArr[e.Value]=e)}),level--;var sArr=ctrl.$Lodash.cloneDeep(newArr);newArr=[],$.each(sArr,function(t,e){0==e.level&&newArr.push(e)});var tArr={};ctrl.$Utils.readSettingNode(newArr,tArr);var totalArr={name:"Tổng"};tArr["Tổng"]=totalArr,$.each(tArr,function(key,value){for(var arr=[],nlevel=ctrl.$Lodash.cloneDeep(value.level);nlevel>0;)value.name=" -- "+value.name,nlevel--;var x=[{value:value.name,level:value.level,colspan:1}];if(ctrl.$Utils.isEmpty(ctrl.fields[Rkey+"Data"].Y))$.each(formatData.arrData[ctrl.fields[Rkey+"Data"].X.count],function(yKey,yValue){var totalValue=0,valueLevel=value.level+1;$.each(valueReport,function(kR,rValue){rValue.Y1==yValue.Value&&"[Không xác định]"!=rValue.X1&&rValue["X"+valueLevel]==value.Value&&(totalValue+=eval(rValue.V1))});var totalField={value:totalValue};x.push(totalField)}),arr.push(x),arr=arrayRow.concat(ctrl.$Lodash.cloneDeep(arr)),arrayRow=ctrl.$Lodash.cloneDeep(arr);else{for(var j=0;j<total;j++){var totalValue=0,valueLevel=value.level+1;$.each(valueReport,function(kR,rValue){"[Không xác định]"!=rValue.X1&&rValue["X"+valueLevel]==value.Value&&(totalValue+=eval(rValue.V1))});var totalField={value:totalValue};x.push(totalField)}arr.push(x),arr=arrayRow.concat(ctrl.$Lodash.cloneDeep(arr)),arrayRow=ctrl.$Lodash.cloneDeep(arr)}})}else for(var i=ctrl.fields[Rkey+"Data"].X.count-1;i>=0;i--){var arr=[],newArr=[];$.each(formatData.arrData[i],function(t,e){for(var a=[{value:e.name,level:level,colspan:1}],s=0;s<total;s++)i<ctrl.fields[Rkey+"Data"].X.count-1&&(0!=i||t!=formatData.arrData[0].length-1)&&a.push({});arr.push(a),0==i&&t==formatData.arrData[0].length-1||(arr=arr.concat(ctrl.$Lodash.cloneDeep(arrayRow)))}),level--,arrayRow=ctrl.$Lodash.cloneDeep(arr)}tableValue.body=arrayRow,ctrl.$Utils.isEmpty(ctrl.fields[Rkey+"Data"].Y)||(ctrl.fields[Rkey+"Data"].Y.count=0);var percentageGroupIndex=0,percentageColIndex=0,count=0;ctrl.$Utils.isEmpty(ctrl.reports.FormRequest)||$.each(tableValue.body,function(t,e){if(1==e.length||t==tableValue.body.length-1)for(var a=0;a<total/arrBodyData.length;a++)$.each(arrBodyData,function(t,i){e.push({value:i.data[count],level:0,colspan:1,setting:arrBodyData[t].setting}),ctrl.reports.EnablePercentageColumn&&i.key===ctrl.reports.PercentageColumnName&&(percentageGroupIndex=a,e.push({value:percentageColumn.data[count].value,level:0,colspan:1,setting:{DataType:"Double",FieldColumnType:"Double"}}),percentageColIndex=e.length-1)}),count++});var clearArr=[];1==ctrl.fields[Rkey+"Data"].X.count?($.each(tableValue.body,function(t,e){for(var a=!0,i=1;i<e.length;i++)if(e[i].value&&0!=e[i].value&&"0.0%"!=e[i].value){a=!1;break}a||clearArr.push(e)}),extra.tableTB[Rkey]=clearArr):extra.tableTB[Rkey]=tableValue.body,extra.tableTB.R1.length<=0&&(ctrl.reports.viewModel.reportNull=!0),extra.tableTH[Rkey]=tableValue.head;var arrSource=[];$.each(extra.tableTB[Rkey],function(t,e){var a={};$.each(e,function(t,e){if(a["value"+t]=e.value,void 0!=e.setting&&null!=e.setting){var i=e.setting,s=e.value;switch(i.FieldColumnType){case"Integer":""==s||isNaN(s)||(s=parseFloat(ctrl.$Utils.formatNumber(s)).toFixed(0));break;case"Double":if(""!=s&&!isNaN(s)){var o=!1;if(i.FormatValue){var n=0;n=i.FormatValue.substring(i.FormatValue.indexOf(".")+1,i.FormatValue.indexOf("f")),n=""==n?0:n,s=0==s?0:parseFloat(ctrl.$Utils.formatNumber(s)).toFixed(n),o=!0}if("string"==typeof i.Format){i.Format=i.Format.replaceAll("{{0","{{"+i.Name);var l={};l[i.Name]=s,s=ctrl.$Utils.expressionToString(l,i.Format),o=!0}o||(s=parseFloat(ctrl.$Utils.formatNumber(s)).toFixed(0))}break;case"DateTime":if(void 0!=s||""!=s){var r,c=ctrl.$Utils.stringToDate(s);ctrl.$Utils.isEmpty(i.Format)&&(r=i.Format),s=ctrl.$Utils.formatDateTime(c,r)}}a["value"+t]=s}}),arrSource.push(a)});var arrColumns=[];$.each(tableValue.head,function(t,e){$.each(e,function(e,a){a.mData="value"+(t+e),a.sTitle=a.value,a.defaultContent="",arrColumns.push(a)})}),ctrl.reports.EnablePercentageColumn&&tableValue.head[percentageGroupIndex].splice(percentageColIndex,0,{defaultContent:"",level:0,mData:"value"+percentageColIndex,rowspan:1,sTitle:ctrl.reports.PercentageColumnName,value:ctrl.reports.PercentageDisplayName}),ctrl.ListColumns=arrColumns}),"true"==ctrl.Setting.TimePeriod){var obj={};$.each(extra.tableTB,function(t,e){$.each(e,function(e,a){$.each(a,function(e,i){0==e?obj[i.value]||(obj[i.value]=[],obj[i.value].push(i)):(i.TrueColumn=t+(e-1),obj[a[0].value].push(i))})})}),ctrl.reports.formatData.reportDataTable.tableTB=[],ctrl.reports.formatData.reportDataTable.tableTH=[],$.each(obj,function(t,e){ctrl.$Lodash.cloneDeep(e);if("Tổng"!=t){for(var a=0,i=1;i<=ctrl.rangePeriod;i++)for(var s=ctrl.fields.R1Data.V.count+ctrl.Setting.Fields.Calculators.length,o=0;o<s;o++){if(a++,e[a]&&e[a].TrueColumn!="R"+i+o){var n=ctrl.$Lodash.cloneDeep(e[a]);n.TrueColumn="R"+i+o,n.value=0,e.splice(a,0,n)}else if(!e[a]){var n=ctrl.$Lodash.cloneDeep(e[a-1]);n.TrueColumn="R"+i+o,n.value=0,e.push(n)}e[i].setting.ReportCaption="R"+i+o}ctrl.reports.formatData.reportDataTable.tableTB.push(e)}}),ctrl.reports.formatData.reportDataTable.tableTB.push(obj["Tổng"]);var tableTH=[];extra.tableTH.R1[0][0].rowspan=2;var head=[],subhead=[];head.push(extra.tableTH.R1[0][0]);for(var i=1;i<=ctrl.rangePeriod;i++){var title="";title="days"==ctrl.Setting.TimeStart?ctrl.$Utils.formatDateTime(ctrl.reportParams["R"+i+"_"+ctrl.Setting.TimeBindingField+"StartValue"],"DD/MM"):"weeks"==ctrl.Setting.TimeStart?"Tuần "+__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(ctrl.$Utils.formatDateTime(ctrl.reportParams["R"+i+"_"+ctrl.Setting.TimeBindingField+"StartValue"],"MM-DD-YYYY")).isoWeek():"months"==ctrl.Setting.TimeStart?"Tháng "+ctrl.$Utils.formatDateTime(ctrl.reportParams["R"+i+"_"+ctrl.Setting.TimeBindingField+"StartValue"],"MM"):"Năm "+ctrl.$Utils.formatDateTime(ctrl.reportParams["R"+i+"_"+ctrl.Setting.TimeBindingField+"StartValue"],"YYYY"),ctrl.fields.R1Data.V.count>1?head.push({defaultContent:"",level:0,colspan:ctrl.fields.R1Data.V.count,sTitle:title,value:title}):ctrl.Setting.Fields.Calculators.length>0?head.push({defaultContent:"",level:0,colspan:ctrl.fields.R1Data.V.count+ctrl.Setting.Fields.Calculators.length,sTitle:title,value:title}):subhead.push({defaultContent:"",level:0,colspan:ctrl.fields.R1Data.V.count,sTitle:title,value:title})}for(var count=ctrl.fields.R1Data.V.count>1||ctrl.Setting.Fields.Calculators.length>0?ctrl.rangePeriod:1,i=1;i<=count;i++)$.each(extra.tableTH.R1[0],function(t,e){0!==t&&(1==ctrl.fields.R1Data.V.count&&0==ctrl.Setting.Fields.Calculators.length&&(e.colspan=ctrl.rangePeriod),tableTH.push(e))});ctrl.fields.R1Data.V.count>1||ctrl.Setting.Fields.Calculators.length>0?(ctrl.reports.formatData.reportDataTable.tableTH.push(head),ctrl.reports.formatData.reportDataTable.tableTH.push(tableTH)):(head=head.concat(tableTH),ctrl.reports.formatData.reportDataTable.tableTH.push(head),ctrl.reports.formatData.reportDataTable.tableTH.push(subhead))}else ctrl.reports.formatData.reportDataTable.tableTB=extra.tableTB.R1,ctrl.reports.formatData.reportDataTable.tableTH=extra.tableTH.R1;ctrl.setTableAndChartWidth()},formatClass:function(t,e,a){$.each(ctrl.ListColumns,function(e,a){e>0&&$("td",t).eq(e).addClass("text-right")})},refreshReport:function(t){var e=this;if(e.isHiddenCaption=!e.Setting.IsDashBoard,e.$Utils.isEmpty(e.reports.FormRequest)&&(e.$Utils.isEmpty(t)?(e.searchCondition=e.$Lodash.cloneDeep(t),e.ShowTree=!1):e.$Utils.isEmpty(e.searchCondition)?(e.ShowTree=!e.ShowTree,e.dataBinding="Đang tải ...",t=e.$Lodash.cloneDeep(e.searchCondition)):e.ShowTree=!e.ShowTree),!e.$Utils.isEmpty(e.fields.R1Data))return e.searchCondition=t,e.research=!0,!1;e.research&&(t=e.$Lodash.cloneDeep(e.searchCondition),e.searchCondition=null,e.research=!1);var a=e.$Lodash.cloneDeep(e.$singleRequest);if(a.TotalRequests=0,a.TotalRequests++,a["R"+a.TotalRequests+"_Template"]=e.reports.Code,a["R"+a.TotalRequests+"_RequestTemplate"]=e.reports.DataSource+".Report",a["R"+a.TotalRequests+"_RequestDataGroup"]=e.reports.Name,"true"==e.reports.AssignedUser&&(a["R"+a.TotalRequests+"_AssignedUser"]=localStorage.getItem("SessionId")),e.$Utils.isEmpty(e.reports.AdditionConditions)&&(e.reports.AdditionConditions="string"==typeof e.reports.AdditionConditions?e.$Utils.stringToObject(e.reports.AdditionConditions):e.reports.AdditionConditions,$.each(e.reports.AdditionConditions,function(t,a){if(a.indexOf("!!")>=0){var i=a.split("!!"),s=i[0],o=i[1];"RangeTime"==s&&(e.reports.AdditionConditions[t]=e.$Utils.getDateTimeByKey(o))}}),a=e.$Utils.updateParamsSingleRequest(a,e.reports.AdditionConditions,a.TotalRequests)),e.$Utils.isEmpty(e.reports,"AdvanceSetting.AdditionConditions")){var i=e.$Utils.stringToObject(e.reports.AdvanceSetting.AdditionConditions,"+",".COMPARE");a=e.$Utils.updateParamsSingleRequest(a,i,a.TotalRequests)}if(e.$Utils.isEmpty(e.reports,"AdditionConditions")&&($.each(e.reports.AdditionConditions,function(t,a){e.$Utils.isEmpty(a)&&a.indexOf("RangeTime!!")>=0&&(e.reports.AdditionConditions[t+"StartValue"]=e.$Utils.getDateTimeByKey(a.split("!!")[1]+"Start"),e.reports.AdditionConditions[t+"EndValue"]=e.$Utils.getDateTimeByKey(a.split("!!")[1]+"End"),delete e.reports.AdditionConditions[t])}),a=e.$Utils.updateParamsSingleRequest(a,e.reports.AdditionConditions,a.TotalRequests)),$.each(t,function(t,i){e.$Utils.isEmpty(i,"setting")&&"MultiTree"==i.setting.ElementType?$.each(i.value.split(";"),function(t,s){if(e.$Utils.isEmpty(s)&&""!=s){var o=t+1;a["R1_"+i.name+"Level"+o]=s,a["R2_"+i.name+"Level"+o]=s,delete a["R1_"+i.name],delete a["R2_"+i.name]}}):e.$Utils.isEmpty(i)&&""!==i&&"string"==typeof i?a["R"+a.TotalRequests+"_"+t]=i:e.$Utils.isEmpty(i)&&Array.isArray(i)&&i.length>0&&(a["R"+a.TotalRequests+"_"+t]=i.join(";"))}),$.each(a,function(t,i){if(i+="",i.indexOf("{{")>=0&&i.indexOf("}}")>i.indexOf("{{")){var s=i.substr(i.indexOf("{{")+2,i.indexOf("}}")-i.indexOf("{{")-2);if(s.indexOf("|")>0){var o=s.substring(s.indexOf("|")+1,s.length).trim(),n="";switch(s=s.substring(0,s.indexOf("|")).trim(),o.indexOf(":")>0&&(n=o.substring(o.indexOf(":")+1,o.length).trim(),o=o.substring(0,o.indexOf(":")).trim()),i="Date"==s?new Date:a[t.substring(0,3)+s],o){case"DateTime":e.$Utils.stringToDate(i);switch(n){case"StartDay":case"EndDay":break;case"StartWeek":a[t]=e.$Utils.getDateTimeByKey("WeekStart");break;case"EndWeek":a[t]=e.$Utils.getDateTimeByKey("WeekEnd");break;case"StartMonth":a[t]=e.$Utils.getDateTimeByKey("MonthStart");break;case"EndMonth":a[t]=e.$Utils.getDateTimeByKey("MonthEnd");break;case"StartYear":a[t]=e.$Utils.getDateTimeByKey("YearStart");break;case"EndYear":a[t]=e.$Utils.getDateTimeByKey("YearEnd")}}}else s==t.substring(t.indexOf("_")+1,t.length)?a[t]="":a[t]=a[t.substring(0,t.indexOf("_")+1)+s]}}),"true"==e.Setting.TimePeriod){var s=e.$Lodash.cloneDeep(a);a=e.$Lodash.cloneDeep(e.$singleRequest);var i={};if($.each(s,function(t,e){-1!==t.indexOf("R1_")&&(i[t.replaceAll("R1_","")]=e)}),a.TotalRequests=e.rangePeriod,e.$Utils.isEmpty(s["R1_"+e.Setting.TimeBindingField+"StartValue"]))var o=e.$Lodash.cloneDeep(s["R1_"+e.Setting.TimeBindingField+"StartValue"]);for(var n=1;n<=e.rangePeriod;n++){a=e.$Utils.updateParamsSingleRequest(a,i,n);var l=new Date,r=new Date;switch(e.$Utils.isEmpty(o)&&(l=new Date(o),r=new Date(o)),e.Setting.TimeStart){case"days":l.setHours(0,0,0,0),a["R"+n+"_"+e.Setting.TimeBindingField+"StartValue"]=e.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(l).subtract(n*e.Setting.TimeInterval-e.Setting.TimeInterval,e.Setting.TimeStart).toDate()),r.setHours(23,59,59,999),a["R"+n+"_"+e.Setting.TimeBindingField+"EndValue"]=e.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(r).subtract(n*e.Setting.TimeInterval-e.Setting.TimeInterval,e.Setting.TimeStart).toDate());break;case"weeks":l.setHours(0,0,0,0),a["R"+n+"_"+e.Setting.TimeBindingField+"StartValue"]=e.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(l).subtract(n*e.Setting.TimeInterval-e.Setting.TimeInterval,"weeks").startOf("isoweek").toDate()),r.setHours(23,59,59,999),a["R"+n+"_"+e.Setting.TimeBindingField+"EndValue"]=e.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(r).subtract(n*e.Setting.TimeInterval-e.Setting.TimeInterval,"weeks").endOf("isoweek").toDate());break;case"months":l.setHours(0,0,0,0),a["R"+n+"_"+e.Setting.TimeBindingField+"StartValue"]=e.$Utils.formatDateTime(new Date(l.getFullYear(),l.getMonth()-(n*e.Setting.TimeInterval-e.Setting.TimeInterval),1)),r.setHours(23,59,59,999),a["R"+n+"_"+e.Setting.TimeBindingField+"EndValue"]=e.$Utils.formatDateTime(new Date(r.getFullYear(),r.getMonth()-(n*e.Setting.TimeInterval-e.Setting.TimeInterval-1),0,23,59,59));break;case"years":l.setHours(0,0,0,0),a["R"+n+"_"+e.Setting.TimeBindingField+"StartValue"]=e.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(l).subtract(n*e.Setting.TimeInterval-e.Setting.TimeInterval,"years").startOf("year").toDate()),r.setHours(23,59,59,999),a["R"+n+"_"+e.Setting.TimeBindingField+"EndValue"]=e.$Utils.formatDateTime(__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(r).subtract(n*e.Setting.TimeInterval-e.Setting.TimeInterval,"years").endOf("year").toDate())}}}e.reportParams=a,e.getDataTemplate(a).then(function(t){e.mergeReportData(t).then(function(a){if(e.$Utils.isEmpty(e.categoriesDisplay&&e.categoriesDisplay.length>0)){var i={index:[],cate:[]};$.each(e.categoriesDisplay,function(e,a){$.each(t.R1.formatData.category[0],function(t,e){a==e.name&&(i.index.push(t),i.cate.push(e))})}),t.R1.formatData.category[0]=i.cate,$.each(t.R1.formatData.arrData[0],function(e,a){i.index.indexOf(e)<0&&(t.R1.formatData.arrData[0][e]=void 0)}),t.R1.formatData.arrData[0].clean(),$.each(a,function(t,e){$.each(e,function(t,e){$.each(e.data,function(t,a){i.index.indexOf(t)<0&&(e.data[t]=void 0)}),$.each(i.index,function(t,a){e.data[a]||(e.data[a]=0)}),e.data.clean()})})}var s=e.$Lodash.cloneDeep(a);e.formatReportExpression(s).then(function(a){if(e.$Utils.isEmpty(e.sortIndex)&&e.sortIndex.length>0){$.each(a,function(t,a){$.each(a,function(t,a){var i=[];$.each(e.sortIndex,function(t,e){i.push(a.data[e])}),a.data=i})});var i=[],s=[];$.each(e.sortIndex,function(e,a){i.push(t.R1.formatData.category[0][a]),s.push(t.R1.formatData.arrData[0][a])}),t.R1.formatData.category[0]=i,t.R1.formatData.arrData[0]=s}e.reports.viewModel.isLoading=!1,e.createChartData(e.$Lodash.cloneDeep(t.R1.formatData.category[0]),e.$Lodash.cloneDeep(a.R1)),0!=e.reports.ShowTable&&("true"!=e.reports.HideTotal&&$.each(a,function(a,i){$.each(i,function(a,i){$.each(e.fields,function(a,s){if(t.R1.formatData.arrData.length>s.X.count){for(var o=1,n=s.X.count;n<=t.R1.formatData.arrData.length-s.X.count;n++)o*=t.R1.formatData.arrData[n].length;for(var n=0;n<o;n++){for(var l=n,r=0;l<=i.data.length;)e.$Utils.isEmpty(i.data[l])&&(r+=parseInt(i.data[l])),l+=o;e.reports.Fields.V.forEach(function(t){if(t.Name==i.setting.Name)switch(t.TotalType){case"Average":i.data.length>0&&(r=r*o/i.data.length),i.data.push(r);break;case"None":break;default:i.data.push(r)}})}}else{var r=0,c=e.$Lodash.cloneDeep(i);$.each(c.data,function(t,e){r+=e}),e.reports.Fields.V.forEach(function(t){if(t.Name==c.setting.Name)switch(t.TotalType){case"Average":c.data.length>0&&(r/=c.data.length),i.data.push(r);break;case"None":break;default:i.data.push(r)}})}})})}),e.createTableData(t,a))}),e.isHiddenCaption=!1})},function(t){e.reports.viewModel.reportNull=!0,e.reports.viewModel.isLoading=!1,e.dataBinding="Không có dữ liệu!",e.isHiddenCaption=!0})},setTableAndChartWidth:function(){var t=this;t.reports.TableProportion?t.reports.viewModel.flexTable=t.reports.TableProportion:t.$Utils.isEmpty(t.reports.formatData,"reportDataTable.tableTB")&&(t.reports.formatData.reportDataTable.tableTB.length>0?t.reports.formatData.reportDataTable.tableTB[0].length>=6?(t.reports.viewModel.classTable="100",1==t.reports.formatData.gObject.length&&(t.reports.formatData.gObject[0].ColumnFlex=t.reports.ReportProportion)):t.$Utils.isEmpty(t.reports.formatData.gObject[0])&&(t.reports.formatData.gObject[0].ColumnFlex=t.reports.ReportProportion):t.reports.viewModel.reportNull=!0),t.dataBinding=""}},watch:{SearchIndex:function(t){var e=this;if(e.Setting.FilterCode&&e.Filter.FilterCode==e.Setting.FilterCode)if(e.dataBinding="Đang tải ...",e.reports.viewModel.reportNull=!1,e.FilterSetting.DataGroup!=e.Setting.Name){if(e.$Utils.isEmpty(e.FilterSetting.LinkFieldFilter)&&e.$Utils.isEmpty(e.FilterSetting.LinkFieldFilter[e.Setting.Name])||e.$Utils.isEmpty(e.FilterSetting.Link)&&e.$Utils.isEmpty(e.FilterSetting.Link[e.Setting.Name])){var a={};e.$Utils.isEmpty(e.FilterSetting.LinkFieldFilter)&&e.$Utils.isEmpty(e.FilterSetting.LinkFieldFilter[e.Setting.Name])&&e.FilterSetting.LinkFieldFilter[e.Setting.Name].forEach(function(t){$.each(e.Filter,function(e,i){e==t.Source?a[t.Target]=i:e==t.Source+"StartValue"?a[t.Target+"StartValue"]=i:e==t.Source+"EndValue"&&(a[t.Target+"EndValue"]=i)})}),e.$Utils.isEmpty(e.FilterSetting.Link)&&e.$Utils.isEmpty(e.FilterSetting.Link[e.Setting.Name])&&e.FilterSetting.Link[e.Setting.Name].forEach(function(t){$.each(e.Filter,function(e,i){e==t.Source?a[t.Target]=i:e==t.Source+"StartValue"?a[t.Target+"StartValue"]=i:e==t.Source+"EndValue"&&(a[t.Target+"EndValue"]=i)})})}e.refreshReport(a),e.formatCaption(a)}else e.refreshReport(e.Filter),e.formatCaption(e.Filter);else e.FilterSetting||(this.dataBinding="Đang tải ...",this.reports.viewModel.reportNull=!1,this.refreshReport(this.Filter))}},created:function(){var t=this;if(t.reports.viewModel={isLoading:!0,flexTable:33,flexChart:66,reportError:!1,reportNull:!1,reportName:t.$Utils.isEmpty(t.reports,"Caption")?t.reports.Caption:"",reportReady:!1},t.$set(t.reports,"formatData",{gObject:[],tableValue:{head:[],body:[]},reportDataTable:{tableTHG:[],tableTH:[],tableTB:[]},chartData:{categories:[],series:[]},seriesNumber:0}),1==t.$isMobileDevice&&(t.MobileClass="mobile"),t.$Utils.isEmpty(t.reports.AdvanceSetting)&&"string"==typeof t.reports.AdvanceSetting&&(t.reports.AdvanceSetting=t.$Utils.stringToObject(t.reports.AdvanceSetting)),t.$Utils.isEmpty(t.reports.FormRequest)){t.ShowTree=!1;var e=t.$Lodash.cloneDeep(t.$singleRequest);e.R1_RequestTemplate=t.reports.FormRequest,e=t.$Utils.updateParamsSingleRequest(e,t.$Utils.stringToObject(t.reports.FormCode)),t.$Utils.post(e).then(function(e){t.object=t.$Utils.getDataWithRoot(e,"R1."+t.reports.FormDataRoot)})}var a=t.$Lodash.cloneDeep(t.$singleRequest);a.RequestTemplate="Setting.Report.SearchList",a.TotalRequests=1,a.R1_ParentCode=t.reports.Code,t.fields=t.getReportSetting(a),t.Setting.FilterCode&&t.Filter.FilterCode==t.Setting.FilterCode?t.refreshReport(t.Filter):t.FilterSetting||t.refreshReport(t.Filter),!0===t.Setting.IsDashBoard&&(this.Setting.ReportProportion=100,this.Setting.TableProportion=100),!0!==t.Setting.IsDashBoard&&"true"!==t.Setting.RealTime||(t.setInterval=setInterval(function(){if(t.reports.viewModel.reportNull=!1,t.FilterSetting.DataGroup!=t.Setting.Name){if(t.$Utils.isEmpty(t.FilterSetting.LinkFieldFilter)&&t.$Utils.isEmpty(t.FilterSetting.LinkFieldFilter[t.Setting.Name])||t.$Utils.isEmpty(t.FilterSetting.Link)&&t.$Utils.isEmpty(t.FilterSetting.Link[t.Setting.Name])){var e={};t.$Utils.isEmpty(t.FilterSetting.LinkFieldFilter)&&t.$Utils.isEmpty(t.FilterSetting.LinkFieldFilter[t.Setting.Name])&&t.FilterSetting.LinkFieldFilter[t.Setting.Name].forEach(function(a){$.each(t.Filter,function(t,i){t==a.Source?e[a.Target]=i:t==a.Source+"StartValue"?e[a.Target+"StartValue"]=i:t==a.Source+"EndValue"&&(e[a.Target+"EndValue"]=i)})}),t.$Utils.isEmpty(t.FilterSetting.Link)&&t.$Utils.isEmpty(t.FilterSetting.Link[t.Setting.Name])&&t.FilterSetting.Link[t.Setting.Name].forEach(function(a){$.each(t.Filter,function(t,i){t==a.Source?e[a.Target]=i:t==a.Source+"StartValue"?e[a.Target+"StartValue"]=i:t==a.Source+"EndValue"&&(e[a.Target+"EndValue"]=i)})})}t.refreshReport(e),t.formatCaption(e)}else t.refreshReport(t.Filter),t.formatCaption(t.Filter)},3e4))},destroyed:function(){clearInterval(this.setInterval)}}}).call(__webpack_exports__,__webpack_require__(2))},function(t,e,a){"use strict";var i=a(493),s=a(532),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(494),o=a(498),n=a(502),l=a(506),r=a(511),c=a(515),d=a(519),u=a(523),m=a(527),p=a(19),h=(a.n(p),a(20)),f=a.n(h),g=a(531);a.n(g)()(f.a),i.default.component("areas",s.a),i.default.component("bubble",o.a),i.default.component("column",n.a),i.default.component("funnel",l.a),i.default.component("gauge",r.a),i.default.component("general",c.a),i.default.component("lines",d.a),i.default.component("pie",u.a),i.default.component("waterfall",m.a),e.a={props:["Setting"],data:function(){return{chartType:"column",Status:!0}},watch:{Setting:function(t){this.buildChart()}},methods:{buildChart:function(){var e=this;this.chartType="string"==typeof this.Setting.Chart?this.Setting.Chart.toLowerCase():"column","general"==this.chartType&&t.each(this.Setting.chartData,function(a,i){if(e.$Utils.isEmpty(e.Setting.chartData[a].chartData.categories[0],"name")){var s=e.$Lodash.cloneDeep(e.Setting.chartData[a].chartData.categories);e.Setting.chartData[a].chartData.categories=[],s&&s.length&&s.forEach(function(t){if(t.categories&&t.categories.length){var i={};i.name=t.name,i.categories=[],t.categories.forEach(function(t){i.categories.push(t)}),e.Setting.chartData[a].chartData.categories.push(i)}else e.Setting.chartData[a].chartData.categories.push(t.name)})}t.each(i.chartData.series,function(i,s){var o=0;s.setting.FormatValue&&(o=s.setting.FormatValue.substring(s.setting.FormatValue.indexOf(".")+1,s.setting.FormatValue.indexOf("f")),o=""==o?0:o,"Triệu"!=s.setting.FormatValue&&"Tỷ"!=s.setting.FormatValue||(s.name+=" ("+s.setting.FormatValue+")",t.each(s.data,function(t,e){s.data[t]="Triệu"==s.setting.FormatValue?e/1e6:e/1e9}),o=2));var n=Math.pow(10,o);t.each(s.data,function(t,e){s.data[t]=Math.round(e*n)/n}),e.Setting.chartData[a].chartData.series[i].data=s.data})})}},created:function(){this.buildChart()}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(495)}var s=a(496),o=a(497),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n),r=a(66);a.n(r)()(l.a),i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a}},methods:{buildChart:function(){this.chartName=this.chartInfo.Caption?this.chartInfo.Caption:"",1==this.labelitalic&&(this.xAx.labels={groupedOptions:[{rotation:0}],rotation:-45,align:"right"}),this.chartConfig={chart:{renderTo:"chart",type:"area",height:550},title:{text:this.chartInfo.Caption?this.chartInfo.Caption:"Báo cáo thống kê"},xAxis:{categories:this.chartInfo.chartData.categories},yAxis:{title:{text:""}},tooltip:{shared:!0},plotOptions:{area:{stacking:"normal",lineColor:"#fff",lineWidth:1,marker:{lineWidth:1,lineColor:"#fff"}},series:{cursor:"pointer",point:{}}},credits:{enabled:!1},legend:{y:-10,align:"center",verticalAlign:"bottom",borderWidth:0},series:this.chartInfo.chartData.series}}},created:function(){this.buildChart()}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(499)}var s=a(500),o=a(501),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n),r=a(66);a.n(r)()(l.a),i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a}},methods:{buildChart:function(){var e=this;this.chartName=this.chartInfo.Caption?this.chartInfo.Caption:"";var a=[];t.each(this.chartInfo.chartData.categories,function(t,i){a.push({x:e.chartInfo.chartData.series[0].data[t],y:e.chartInfo.chartData.series[1].data[t],z:e.chartInfo.chartData.series[2].data[t],name:i})}),this.chartConfig={options:{chart:{type:"bubble",plotBorderWidth:1,zoomType:"xy"},legend:{enabled:!1},title:{text:this.chartInfo.Caption?this.chartInfo.Caption:"Báo cáo thống kê"},xAxis:{gridLineWidth:1,title:{text:""},labels:{format:"{value}"}},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:""},labels:{format:"{value}"},maxPadding:.2},tooltip:{useHTML:!0,headerFormat:"<table>",pointFormat:'<tr><th colspan="2"><h3>{point.name}</h3></th></tr><tr><th>'+this.chartInfo.chartData.series[0].name+":</th><td>{point.x}</td></tr><tr><th>"+this.chartInfo.chartData.series[1].name+":</th><td>{point.y}</td></tr><tr><th>"+this.chartInfo.chartData.series[2].name+":</th><td>{point.z}</td></tr>",footerFormat:"</table>",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:"{}"}}},credits:{enabled:!1},series:[{}]},series:[{data:a,marker:{fillColor:{radialGradient:{cx:.4,cy:.3,r:.7},stops:[[0,"rgba(255,255,255,0.5)"],[1,this.Highcharts.Color(this.Highcharts.getOptions().colors[0]).setOpacity(.5).get("rgba")]]}}}]}}},created:function(){this.buildChart()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(503)}var s=a(504),o=a(505),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n);i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a,chartConfig:{},DisplaySeries:this.$Lodash.cloneDeep(this.chartInfo.chartData.series)}},watch:{chartInfo:function(t){this.buildChart()}},methods:{buildChart:function(){var e=this;this.DisplaySeries=this.$Lodash.cloneDeep(this.chartInfo.chartData.series),this.chartType=this.chartInfo.Chart?this.chartInfo.Chart:"column",this.Highcharts.setOptions({lang:{thousandsSep:".",decimalPoint:","}}),1==this.labelItalic&&(this.xAx.labels={groupedOptions:[{rotation:0}],rotation:-45,align:"right"});var a={chart:{renderTo:"chart",type:"column"},title:{text:this.chartInfo.Caption},xAxis:{categories:this.chartInfo.chartData.categories},yAxis:{title:{text:""},labels:{formatter:function(){var t,a=[" Nghìn"," Triệu"," Tỷ"],i=6;if(e.value>=1e3||e.value<=-1e3)for(;i--&&void 0===t;){var s=Math.pow(1e3,i+1);(e.value>=s||e.value<=-s)&&null!==a[i]&&(t=e.value/s+a[i])}return t||e.value}}},plotOptions:{column:{dataLabels:{enabled:!0,format:"{point.y:,.0f}",allowOverlap:!0,crop:!1,overflow:"none",style:{width:100}},pointPadding:.2,borderWidth:0,series:{cursor:"pointer"},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.0f}</b><br/>'}}},credits:{enabled:!1},legend:{y:-10,align:"center",verticalAlign:"bottom",borderWidth:0},series:this.DisplaySeries};t.each(this.DisplaySeries,function(e,i){i.setting&&i.setting.FormatValue&&("Triệu"==i.setting.FormatValue||"Tỷ"==i.setting.FormatValue)?(a.plotOptions.column.tooltip.ySuffix=i.setting.FormatValue,i.name+=" ("+i.setting.FormatValue+")",t.each(i.data,function(t,e){i.data[t]="Triệu"==i.setting.FormatValue?e/1e6:e/1e9}),a.plotOptions.column.dataLabels.format="{point.y:,.2f}"):i.setting&&i.setting.FormatValue&&(a.plotOptions.column.dataLabels.format="(x).2f"==i.setting.FormatValue?"{point.y:,.2f}":"(x).1f"==i.setting.FormatValue?"{point.y:,.1f}":"(x).0f"==i.setting.FormatValue?"{point.y:,.0f}":a.plotOptions.column.dataLabels.format,a.plotOptions.column.tooltip.pointFormat="(x).2f"==i.setting.FormatValue?'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.2f}</b><br/>':"(x).1f"==i.setting.FormatValue?'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.1f}</b><br/>':"(x).0f"==i.setting.FormatValue?'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.0f}</b><br/>':a.plotOptions.column.tooltip.pointFormat),i.setting&&!0===i.setting.Percentage&&(a.plotOptions.column.dataLabels.format+="%")}),this.chartInfo.chartData.categories.length>20&&(a.chart.type="bar",this.DisplaySeries.length>1?a.chart.height=this.DisplaySeries[0].data.length*this.DisplaySeries.length*20:a.chart.height=30*this.chartInfo.chartData.categories.length),this.chartConfig=a}},created:function(){this.buildChart()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(507)}var s=a(508),o=a(510),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n),r=a(509);a.n(r)()(l.a),i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a}},methods:{buildChart:function(){var e=this,a=[],i=this.$Lodash.cloneDeep(this.chartInfo.chartData.series);if(console.log(this.chartInfo),"true"===this.chartInfo.Percentage)for(var s=0;s<this.chartInfo.chartData.series.length;s++)this.chartInfo.chartData.series[s].data&&t.each(this.chartInfo.chartData.series[s].data,function(t,a){0==s?i[s].data[t]=100:0==e.chartInfo.chartData.series[s].data[t]||0==e.chartInfo.chartData.series[s-1].data[t]?i[s].data[t]=0:i[s].data[t]=e.chartInfo.chartData.series[s].data[t]/e.chartInfo.chartData.series[s-1].data[t]*100});t.each(this.chartInfo.chartData.categories,function(s,o){var n={data:[],y:0,name:o,center:[100/e.chartInfo.chartData.categories.length*s+50/e.chartInfo.chartData.categories.length+"%","50%"]};t.each(i,function(t,e){n.data.push({name:e.name,y:e.data[s]})}),a.push(n)}),a[0].showInLegend=!0;var o=this.chartInfo.chartData.categories.length>3?300/this.chartInfo.chartData.categories.length:100;o<50&&(o=50),this.chartConfig={chart:{type:"funnel",events:{load:this.generateSeriesNames,redraw:this.generateSeriesNames}},title:{text:this.chartInfo.Caption?this.chartInfo.Caption:""},plotOptions:{series:{dataLabels:{x:0,distance:3,padding:0,rotation:a.length>5?45:null,format:(a.length<=3?"<b>{point.name}:</b>":"")+"{point.y:,.0f}",color:this.Highcharts.theme&&this.Highcharts.theme.contrastTextColor||"black",softConnector:!0},width:(this.chartInfo.chartData.categories.length>3?90/this.chartInfo.chartData.categories.length:45)+"%",height:o-20+"%",neckWidth:"0%",neckHeight:"0%",tooltip:{pointFormat:(a.length<=3?"<b>{point.name}:</b>":"")+"{point.y:,.0f}"+("true"===this.chartInfo.Percentage?"%":"")}}},credits:{enabled:!1},legend:{enabled:!1,y:-10,align:"center",verticalAlign:"bottom",borderWidth:0},series:a}},generateSeriesNames:function(){var t=this,e=this.chartInfo.chartData.series,a=e?e.length:0;if(i&&i.length>0)i.forEach(function(t,e){t.line&&t.line.destroy(),t.text.destroy()}),i=[];else if(!i)var i=[];for(var s=0;s<a;s++){var o=e[s].name,n=e[s].points?e[s].points[0]:{},l=t.plotTop/2-10,r=0;i.push({}),s%2?t.renderer&&(i[s].line=t.renderer.path(["M",n.plotX+10,t.plotHeight-10,"L",n.plotX+10,t.plotHeight-l-5]).attr({"stroke-width":1,stroke:"black",zIndex:5}).add()):(r=t.plotTop/2,l=0),i[s]||(i[s]={}),t.renderer&&(i[s].text=t.renderer.text(o,n.plotX,t.plotHeight-r+10).css({width:"5px","word-wrap":"break-word",fontSize:"10px"}).attr({width:10,zIndex:5}).add())}}},created:function(){this.buildChart()}}}).call(e,a(2))},,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(512)}var s=a(513),o=a(514),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n),r=a(66);a.n(r)()(l.a),i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a}},methods:{buildChart:function(){var t=this.chartInfo.chartData.series[0].data,e=100*t[1]/(t[0]+t[1]);e=e+""=="NaN"?0:e,this.chartConfig={options:{chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1},title:{text:this.chartInfo.Caption?this.chartInfo.Caption:""},tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y:.0f}</b><br/>'},pane:{startAngle:-150,endAngle:150,background:[{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#333"]]},borderWidth:0,outerRadius:"109%"},{backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#333"],[1,"#FFF"]]},borderWidth:1,outerRadius:"107%"},{},{backgroundColor:"#fff",borderWidth:0,outerRadius:"105%",innerRadius:"103%"}]},yAxis:{min:0,max:100,minorTickInterval:"auto",minorTickWidth:1,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#007fff",tickPixelInterval:30,tickWidth:2,tickPosition:"inside",tickLength:10,tickColor:"#007fff",labels:{step:2,rotation:"auto"},title:{text:"Tỉ lệ"},plotBands:[{from:0,to:25,color:"#90ed7d"},{from:25,to:50,color:"#e4d354"},{from:50,to:75,color:"#f7a35c"},{from:75,to:100,color:"#ff0000"}]}},credits:{enabled:!1},series:[{name:"Chậm tiến độ",data:[Math.round(e)],tooltip:{valueSuffix:" %",pointFormat:null},dataLabels:{format:'<div style="text-align:center">{point.y:.0f}%<br/>Chậm tiến độ</div>'}}]}}},created:function(){this.buildChart()}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}}),t._v(" "),t._m(0,!1,!1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("span",{staticClass:"series safe"},[t._v("zz")]),t._v(" "),a("b",{staticClass:"series-text"},[t._v(" An toàn")]),t._v(" "),a("span",{staticClass:"series strike"},[t._v("zz")]),t._v(" "),a("b",{staticClass:"series-text"},[t._v(" Chú ý")]),a("br"),t._v(" "),a("span",{staticClass:"series warning"},[t._v("zz")]),t._v(" "),a("b",{staticClass:"series-text"},[t._v(" Cảnh báo")]),t._v(" "),a("span",{staticClass:"series scolding"},[t._v("zz")]),t._v(" "),a("b",{staticClass:"series-text"},[t._v(" Nguy hiểm")])])}],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(516)}var s=a(517),o=a(518),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n);i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a}},methods:{buildChart:function(){var e=[],a={column:0,line:1,pie:3};t.each(this.chartInfo.chartData,function(i,s){t.each(s.chartData.series,function(t,i){i.type=s.Chart.toLowerCase(),i.yAxis=a[s.Chart.toLowerCase()],"column"==i.type&&i.data.length>20&&(i.type="bar"),e.push(i)})}),this.Highcharts.setOptions({lang:{thousandsSep:".",decimalPoint:","}}),this.chartConfig={title:{text:this.chartInfo.Caption?this.chartInfo.Caption:"Báo cáo thống kê"},xAxis:[{categories:this.chartInfo.chartData[0].chartData.categories}],yAxis:[{labels:{style:{color:this.Highcharts.getOptions().colors[0]},formatter:function(){var t,e=[" Nghìn"," Triệu"," Tỷ"],a=6;if(this.value>=1e3||this.value<=-1e3)for(;a--&&void 0===t;){var i=Math.pow(1e3,a+1);(this.value>=i||this.value<=-i)&&null!==e[a]&&(t=this.value/i+e[a])}return t||this.value}},title:{text:"",style:{color:this.Highcharts.getOptions().colors[0]}}},{title:{text:"",style:{color:this.Highcharts.getOptions().colors[1]}},labels:{style:{color:this.Highcharts.getOptions().colors[1]},formatter:function(){var t,e=[" Nghìn"," Triệu"," Tỷ"],a=6;if(this.value>=1e3||this.value<=-1e3)for(;a--&&void 0===t;){var i=Math.pow(1e3,a+1);(this.value>=i||this.value<=-i)&&null!==e[a]&&(t=this.value/i+e[a])}return t||this.value}},opposite:!0}],tooltip:{shared:!0},credits:{enabled:!1},plotOptions:{column:{dataLabels:{enabled:!0,format:"{point.y:,.0f}",allowOverlap:!0,color:"#FFFFFF",inside:!0,crop:!1,overflow:"none",style:{width:100}},pointPadding:.2,borderWidth:0,series:{cursor:"pointer"},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.0f}</b><br/>'}},line:{dataLabels:{enabled:!0,format:"{point.y:,.2f}",allowOverlap:!0,crop:!1,overflow:"none"},pointPadding:.2,borderWidth:0,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:.2f}</b><br/>'},series:{cursor:"pointer"}}},legend:{layout:"vertical",align:"left",x:120,verticalAlign:"top",y:100,floating:!0,backgroundColor:this.Highcharts.theme&&this.Highcharts.theme.legendBackgroundColor||"#FFFFFF"},series:e}}},created:function(){this.buildChart()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(520)}var s=a(521),o=a(522),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=(a(3),a(19)),s=a.n(i),o=a(20),n=a.n(o);e.a={components:{VueHighcharts:s.a},props:["chartInfo"],data:function(){return{Highcharts:n.a,DisplaySeries:this.$Lodash.cloneDeep(this.chartInfo.chartData.series),chartName:this.chartInfo.Caption?this.chartInfo.Caption:this.$defaultUndefined}},methods:{buildChart:function(){var e=this;this.DisplaySeries=this.$Lodash.cloneDeep(this.chartInfo.chartData.series),this.chartName=this.chartInfo.Caption?this.chartInfo.Caption:this.$defaultUndefined,this.Highcharts.setOptions({lang:{thousandsSep:".",decimalPoint:","}}),1==this.labelitalic&&(this.xAx.labels={groupedOptions:[{rotation:0}],rotation:-45,align:"right"}),this.chartConfig={chart:{polar:1==this.chartInfo.polar,type:"line"},title:{text:this.chartInfo.Caption?this.chartInfo.Caption:"Báo cáo thống kê"},xAxis:{categories:this.chartInfo.chartData.categories,tickmarkPlacement:"on",lineWidth:0},yAxis:{title:{text:""},lineWidth:0,min:this.chartInfo.yMin,max:this.chartInfo.yMax,labels:{formatter:function(){var t,e=[" Nghìn"," Triệu"," Tỷ"],a=6;if(this.value>=1e3||this.value<=-1e3)for(;a--&&void 0===t;){var i=Math.pow(1e3,a+1);(this.value>=i||this.value<=-i)&&null!==e[a]&&(t=this.value/i+e[a])}return t||this.value}}},plotOptions:{line:{dataLabels:{enabled:!0,format:"{point.y:,.2f}"},pointPadding:.2,borderWidth:0,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:.2f}</b><br/>'}},series:{cursor:"pointer"}},credits:{enabled:!1},legend:{y:-10,align:"center",verticalAlign:"bottom",borderWidth:0},series:this.DisplaySeries},t.each(this.DisplaySeries,function(a,i){i.setting&&i.setting.FormatValue&&("Triệu"==i.setting.FormatValue||"Tỷ"==i.setting.FormatValue)?(e.chartConfig.plotOptions.line.tooltip.ySuffix=i.setting.FormatValue,i.name+=" ("+i.setting.FormatValue+")",t.each(i.data,function(t,e){i.data[t]="Triệu"==i.setting.FormatValue?e/1e6:e/1e9}),e.chartConfig.plotOptions.line.dataLabels.format="{point.y:,.2f}"):i.setting&&i.setting.FormatValue&&(e.chartConfig.plotOptions.line.dataLabels.format="(x).2f"==i.setting.FormatValue?"{point.y:,.2f}":"(x).1f"==i.setting.FormatValue?"{point.y:,.1f}":"(x).0f"==i.setting.FormatValue?"{point.y:,.0f}":e.chartConfig.plotOptions.line.dataLabels.format,e.chartConfig.plotOptions.line.tooltip.pointFormat="(x).2f"==i.setting.FormatValue?'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.2f}</b><br/>':"(x).1f"==i.setting.FormatValue?'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.1f}</b><br/>':"(x).0f"==i.setting.FormatValue?'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y:,.0f}</b><br/>':e.chartConfig.plotOptions.line.tooltip.pointFormat)})}},created:function(){this.buildChart()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(524)}var s=a(525),o=a(526),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n);i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a,chartConfig:{}}},watch:{chartInfo:function(t){this.buildChart()}},methods:{buildChart:function(){var e=this,a=[];t.each(this.chartInfo.chartData.categories,function(t,i){i={name:i},i.y=e.chartInfo.chartData.series[0].data[t],a.push(i)}),0==a.length&&t.each(this.chartInfo.chartData.series,function(t,e){a.push(e)}),a.sort(function(t,e){return t.name>e.name}),this.chartConfig={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:this.chartInfo.Caption},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:0!=this.chartInfo.showLabels,format:"{point.percentage:.1f} %",style:{color:this.Highcharts.theme&&this.Highcharts.theme.contrastTextColor||"black"}},showInLegend:!0}},credits:{enabled:!1},series:[{name:this.chartInfo.brand?this.chartInfo.brand:"Brands",colorByPoint:!0,data:a,point:{events:{click:null}}}]}}},created:function(){this.buildChart()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(528)}var s=a(529),o=a(530),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(19),o=a.n(s),n=a(20),l=a.n(n),r=a(66);a.n(r)()(l.a),i.default.use(o.a,{Highcharts:l.a}),e.a={components:{VueHighcharts:o.a},props:["chartInfo"],data:function(){return{Highcharts:l.a}},watch:{chartInfo:function(t){this.buildChart()}},methods:{buildChart:function(){for(var e=[],a=0,i=0,s=this.chartInfo.chartData.series.length-1;s>=0;s--){var o=this.chartInfo.chartData.series[s],n=0;t.each(o.data,function(t,e){n+=parseFloat(e)}),0==s?a=n:1==s?a=-n:(a=i-n,i+=n);var l={name:o.name,y:a,text:"<b>"+o.name+":</b> "+n,dataText:"<b>"+n+"</b>",color:this.Highcharts.getOptions().colors[s],calculator:n};e.unshift(l)}t.each(e,function(t,a){var i="<br/>",s="<br/>";t>0&&(i+=parseFloat(a.calculator/e[0].calculator*100).toFixed(2)+"%",s+="Tỉ lệ: "+parseFloat(a.calculator/e[0].calculator*100).toFixed(2)+"%",t>1&&(e[t-1]&&0==e[t-1].calculator?(i+="<br/> 0.00%",s+="<br/>Tỉ lệ chuyển đổi: 0.00%"):(i+="<br/>"+parseFloat(a.calculator/e[t-1].calculator*100).toFixed(2)+"%",s+="<br/>Tỉ lệ chuyển đổi: "+parseFloat(a.calculator/e[t-1].calculator*100).toFixed(2)+"%"))),a.dataText+=i,a.text+=s}),this.chartConfig={chart:{type:"waterfall"},title:{text:this.chartInfo.Caption},xAxis:{type:"category"},yAxis:{title:{text:"Số liên hệ"}},legend:{enabled:!1},tooltip:{pointFormat:"{point.text}"},credits:{enabled:!1},series:[{upColor:this.Highcharts.getOptions().colors[2],color:this.Highcharts.getOptions().colors[3],data:e,dataLabels:{enabled:!0,format:"{point.dataText}",style:{color:"#FFFFFF",fontWeight:"bold",textShadow:"0px 0px 3px black"}},pointPadding:0}]}}},created:function(){this.buildChart()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-highcharts",{ref:"lineCharts",attrs:{Highcharts:t.Highcharts,options:t.chartConfig}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["area"==t.chartType?a("areas",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"bubble"==t.chartType?a("bubble",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"funnel"==t.chartType?a("funnel",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"gauge"==t.chartType?a("gauge",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"general"==t.chartType?a("general",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"line"==t.chartType?a("lines",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"pie"==t.chartType?a("pie",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"waterfall"==t.chartType?a("waterfall",{attrs:{chartInfo:t.Setting}}):t._e(),t._v(" "),"column"==t.chartType?a("column",{attrs:{chartInfo:t.Setting}}):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dynamic-report"},[a("div",{staticClass:"row reports-header"},[t.isHiddenCaption||t.reports.FormRequest?a("h4",{staticClass:"card-title col-md reports-title"},[t._v(t._s(t.reports.Caption))]):t._e(),t._v(" "),t.reports.FormRequest&&!t.ShowTree?a("button",{staticClass:"primary",attrs:{type:"button"},on:{click:function(e){t.refreshReport()}}},[t._v("\n      Mở rộng\n    ")]):t._e(),t._v(" "),t.reports.FormRequest&&t.ShowTree?a("button",{staticClass:"md-raised md-warn md-button md-default-theme md-ink-ripple blue-500-bg",attrs:{type:"button"},on:{click:function(e){t.refreshReport()}}},[t._v("\n      Thu gọn\n    ")]):t._e()]),t._v(" "),""!=t.dataBinding?a("div",{staticClass:"text-center"},[t._v(t._s(t.dataBinding))]):t._e(),t._v(" "),""==t.dataBinding?a("div",{staticClass:"row"},[t.Setting.IsDashBoard||t.reports.FormRequest?t._e():a("h4",{staticClass:"card-title col-md-12 reports-title"},[t._v(t._s(t.reports.Caption))]),t._v(" "),!1!==t.reports.ShowTable&&"false"!=t.reports.ShowTable?a("div",{class:"table-responsive col-md-"+Math.ceil(t.Setting.TableProportion/100*12)},[t.reports.viewModel.isLoading||t.reports.viewModel.reportNull?t._e():a("table",{staticClass:"table report-table table-bordered table-hover",attrs:{width:"100%"}},[a("thead",t._l(t.reports.formatData.reportDataTable.tableTH,function(e){return a("tr",t._l(e,function(e){return a("th",{staticClass:"text-center secondary-text",attrs:{rowspan:e.rowspan,colspan:e.colspan}},[t._v("\n              "+t._s(e.value)+"\n            ")])}))})),t._v(" "),a("tbody",t._l(t.reports.formatData.reportDataTable.tableTB,function(e,i){return a("tr",{class:i==t.reports.formatData.reportDataTable.tableTB.length-1&&"true"!=t.reports.HideTotal?"TotalRow":""},t._l(e,function(e,i){return a("td",{class:i>0?"text-right":"",attrs:{colspan:e.colspan}},[t._v("\n              "+t._s(t.dynamicDataFilter(e.value,e.setting))+"\n            ")])}))}))])]):t._e(),t._v(" "),t._l(t.reports.formatData.gObject,function(e){return!t.reports.viewModel.isLoading&&!t.reports.viewModel.reportNull&&t.reports.viewModel.reportReady&&e.Display?a("div",{class:"col-md-"+Math.floor(t.Setting.ReportProportion/100*12)},[a("MainChart",{attrs:{Setting:e}})],1):t._e()})],2):t._e()])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a={props:["nameField","datasource","selectedValue","pSetting","callback","data","source","changeOnSelect","clearable"],data:function(){return{options:[],selectedOptions:[],changeSelectable:void 0!=this.changeOnSelect&&this.changeOnSelect,showAll:!0}},watch:{datasource:function(t){if(this.nameField){var e={};e[this.nameField[0]]="label",e[this.nameField[1]]="value",this.options=this.$Utils.createCustomTreeFromList(this.$Lodash.cloneDeep(t),"Id","ParentId","children",{Caption:"label",Id:"value"},{})}else this.options=this.$Utils.createCustomTreeFromList(this.$Lodash.cloneDeep(t),"Id","ParentId","children",{Name:"label",Id:"value"},{})},selectedValue:function(t){this.selectedOptions!=t&&(this.selectedOptions=t)}},methods:{handleChange:function(t){if(this.callback)if(this.source&&this.source.length>0){var e=this.source.filter(function(e){return e.Id==t[0]})[0];this.checkParent(e)}else this.callback(t)},checkParent:function checkParent(selectedItem){var _this=this;this.source.forEach(function(value){_this.$Utils.isEmpty(selectedItem,"ParentId")&&selectedItem.ParentId===value.Id?eval(selectedItem.Level)>6&&(_this.selectedOptions.unshift(value.Id),_this.checkParent(value)):_this.$Utils.isEmpty(selectedItem,"ParentId")?"6"===value.Level&&selectedItem.Id===value.Id&&_this.callback(_this.selectedOptions):_this.callback(_this.selectedOptions)})}},created:function(){if(this.pSetting&&"Form"==this.pSetting.ParentType){"xSetting.Project.Parameter.Organization.Target"==this.$Utils.stringToObject(this.$Utils.expressionToString(this.data,this.pSetting.Code)).ParentCode?(this.showAll=!1,this.changeSelectable=!0):this.changeSelectable=!1,this.$nextTick()}this.selectedValue&&this.selectedValue.length>0&&(this.selectedOptions=this.selectedValue)}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-cascader",{attrs:{"expand-trigger":t.changeSelectable?"click":"hover",options:t.options,"change-on-select":t.changeSelectable,filterable:"",placeholder:t.pSetting&&t.pSetting.PlaceHolder?t.pSetting.PlaceHolder:t.pSetting?t.pSetting.Caption:"","show-all-levels":t.showAll,clearable:t.clearable},on:{change:t.handleChange},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}})},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(22),s=a.n(i),o=a(21),n=a.n(o),l=a(262);e.a={props:["pSetting","callback","filterCode","isInModal","isQuickFilter"],components:{DynamicInput:l.a},data:function(){return{activeName:!0===this.isInModal?"advance-filter":"",formInline:{},SelectedCategory:"",sortedFilter:[],SettingFilter:[],objFields:{},setFilterSetting:!1,FilterSettings:"",dataSource:[],Setting:[],groupcategories:[],DataList:{},filterParams:[],viewModel:{},arrElements:[],objSourceData:{},arrResult:{},filter:{}}},methods:{handleChildChange:function(t){if(this.formInline[t.name]="Text"==t.model.ElementType&&"DateTime"==t.model.FieldColumnType?this.$Utils.formatDateTime(t.values):t.values,"Select"===t.model.ElementType||"Multi"===t.model.ElementType||"Radio"===t.model.ElementType||"Tree"===t.model.ElementType||"MultiTree"===t.model.ElementType){var e={};if(this.$Utils.isEmpty(t.model,"Data"))if(t.values&&""!=t.values&&"string"!=typeof t.values){t.newValues="",t.valuesName="",e=[];var a=t.model.sourceData?t.model.sourceData:t.model.Data;t.values.forEach(function(i){var s=a.filter(function(e){return e[t.model.SavedKey]==i})[0];s&&(t.newValues+=i+";",t.valuesName+=s[t.model.SavedText]+";",e.push(s))}),this.arrResult[t.name]={name:t.name,value:t.newValues,validate:!0,setting:t.model,ori:e,submit:!0}}else e=t.model.Data.filter(function(e){return e[t.model.SavedKey]==t.values})[0],e?this.arrResult[t.name]={name:t.name,value:t.values,validate:!0,setting:t.model,ori:e,submit:!0}:delete this.arrResult[t.name]}else if("Text"==t.model.ElementType&&"DateTime"==t.model.FieldColumnType)if(this.$Utils.isEmpty(t.values,"1")?this.arrResult[t.name+"StartValue"]={name:t.name+"StartValue",value:this.$Utils.formatDateTime(t.values[0]),display:this.$Lodash.cloneDeep(this.$Utils.formatDateTime(t.values[0],"DD/MM/YYYY HH:mm")),setting:t.model,submit:!0,validate:!0}:delete this.arrResult[t.name+"StartValue"],this.$Utils.isEmpty(t.values,"1")){var i=t.values[1];i.setHours(23,59,59),this.$Utils.formatDateTime(i),this.arrResult[t.name+"EndValue"]={name:t.name+"EndValue",value:this.$Utils.formatDateTime(i),display:this.$Lodash.cloneDeep(this.$Utils.formatDateTime(i,"DD/MM/YYYY HH:mm")),setting:t.model,submit:!0,validate:!0}}else delete this.arrResult[t.name+"EndValue"];else this.arrResult[t.name]={name:t.name,value:t.values,display:this.$Lodash.cloneDeep(this.objSourceData[t.name]),oldDisplay:this.objSourceData[t.name],setting:t.model,validate:!0,submit:!0};this.isQuickFilter},onSubmit:function(){var e=this,a=t.map(e.arrResult,function(t,e){return[t]});if(e.Setting.functions.onFilter)if(!1===e.Setting.AutoSearch||"false"!=e.Setting.AutoSearch)e.Setting.functions.onFilter(a,e.Setting);else if(a&&a.length>0){var i=!0;a.forEach(function(t){i=t.value&&""!=t.value.trim()}),1==i&&e.Setting.functions.onFilter(a,e.Setting)}},childTreeUpdate:function(){},onClear:function(e){0!==n()(this.$route.query).length?this.$router.replace({query:null}):(this.$Utils.isEmpty(e)?e.clearData():t.each(this.filter,function(t,e){e.forEach(function(t){t.clearData()})}),this.$forceUpdate())},autoLoad:function(){var e=this,a=e.$getItemLocalStorage(e.$localStorageConstant.FilterData);e.$Utils.isEmpty(e.Setting.viewModel,"urlObject")?(e.Setting.parentSetting||(e.Setting.parentSetting={}),e.$Utils.isEmpty(e.Setting.parentSetting.object)||(e.Setting.parentSetting.object={}),t.each(e.Setting.viewModel.urlObject,function(t,a){"Limit"!=t&&"Page"!=t&&(e.Setting.parentSetting.object[t]=a),t.indexOf("Name")>=0&&(e.Setting.parentSetting.object[t]=decodeURI(a))})):a&&"undefined"!=a&&(a=JSON.parse(a),e.$Utils.isEmpty(a[e.viewModel.filterKey])&&(e.Setting.parentSetting||(e.Setting.parentSetting={}),e.$Utils.isEmpty(e.Setting.parentSetting.object)||(e.Setting.parentSetting.object=a[e.viewModel.filterKey]))),e.objFields={},e.arrElements=[],e.Setting.Fields.forEach(function(a){var i=e.Setting.ModuleType;t.each(a,function(t,e){0==t.indexOf(i)&&t.length>i.length&&(a[t.substring(i.length,t.length)]=e)}),"DateTime"==a.FieldColumnType&&("true"==e.Setting.Pagination&&a.Name==e.Setting.WeekField&&(a.Week="true"),a.ColumnFlex=2*e.Setting.DefaultFlex,a.DateMode="range"),a.ElementType=a.ElementType?a.ElementType:a.FilterElementType?a.FilterElementType:a.FormElementType?a.FormElementType:"Text",e.objFields[a.Name]=a,t.each(a,function(t,e){0==t.indexOf(i)&&t.length>i.length&&(a[t.substring(i.length,t.length)]=e)}),"Select"!=a.ElementType&&"Multi"!=a.ElementType&&"Radio"!=a.ElementType&&"Tree"!=a.ElementType&&"MultiTree"!=a.ElementType||(a.Code=a.FilterCode?a.FilterCode:a.FormCode,a.Field=a.FilterField?a.FilterField:a.FormField,a.FieldType=a.FilterFieldType?a.FilterFieldType:a.FormFieldType,a.IncludeSubmit=a.FilterIncludeSubmit?a.FilterIncludeSubmit:a.FormIncludeSubmit,a.Request=a.FilterRequest?a.FilterRequest:a.FormRequest,a.DataRoot=a.FilterDataRoot?a.FilterDataRoot:a.FormDataRoot,a.RequireOriginal=!1,a.DisplayText=a.FilterDisplayText?a.FilterDisplayText.replace(/{{/g,"").replace(/}}/g,""):a.FormDisplayText?a.FormDisplayText.replace(/{{/g,"").replace(/}}/g,""):"Name",a.SavedKey=a.FilterSavedKey?a.FilterSavedKey.replace(/{{/g,"").replace(/}}/g,""):a.FormSavedKey?a.FormSavedKey.replace(/{{/g,"").replace(/}}/g,""):"Id",a.SavedText=a.FilterSavedText?a.FilterSavedText.replace(/{{/g,"").replace(/}}/g,""):a.FormSavedText?a.FormSavedText.replace(/{{/g,"").replace(/}}/g,""):"Name"),a.setFormObject=function(t){e.defaultData=e.$Lodash.cloneDeep(t),e.objSourceData=e.$Lodash.cloneDeep(t)},a.Dependency=[],e.Setting.Dependencies.forEach(function(t){t.Target===a.Name&&a.Dependency.push(t)}),a.onChange=function(t){e.Setting.functions.checkDependencies(t)},a.onComponentSearch=e.onComponentSearch,e.arrElements.push(a)}),e.Setting.Groups.forEach(function(t){t.ListFields&&("Lọc chính"==t.Caption?t.Name="Main":"Lọc nâng cao"==t.Caption&&(t.Name="Advanced"),e.filter[t.Name]=[],t.ListFields.split(";").forEach(function(a){a&&e.objFields[a]&&e.filter[t.Name].push(e.objFields[a])}))});var i={key:e.viewModel.filterKey,arrComponent:e.filter.Advanced,arrMain:e.filter.Main,functions:e.Setting.functions,data:e.$Utils.getDataWithRoot(e.Setting,"parentSetting.object")[0]};if("true"==e.Setting.IsDashboard&&(i.IsDashboard="true"),"true"==e.Setting.ExtraPageFilter&&i.arrMain){var s={};t.each(i,function(t,e){"arrComponent"!=t&&(s[t]=e)})}e.Setting.functions.getRequireNotNullFields().then(function(){1==e.isQuickFilter||!1!==e.Setting.AutoSearch&&"false"==e.Setting.AutoSearch||e.onSubmit()})},getRequireNotNullFields:function(){var e=this;return new s.a(function(a,i){setTimeout(function(){if("string"==typeof e.Setting.FieldNotNull&&""!=e.Setting.FieldNotNull){var i=e.Setting.FieldNotNull.split(";"),s=e.$Lodash.cloneDeep(e.$singleRequest),o=[];if(s.TotalRequests=0,i.forEach(function(t){if(e.$Utils.isEmpty(e.objFields,t+".Request")){var a=e.objFields[t];o.push(a),s.TotalRequests++,s["R"+s.TotalRequests+"_RequestTemplate"]=a.Request,s=e.$Utils.updateParamsSingleRequest(s,e.$Utils.stringToObject(a.Code),s.TotalRequests)}}),0==s.TotalRequests)return a(),!1;e.$Utils.postCheckResult(s).then(function(i){e.notNullObject={},t.each(o,function(t,a){e.notNullObject[a.Name]="";var s=a.DataRoot?a.DataRoot:"Data",o=a.SavedKey?a.SavedKey:"{{Id}}";e.$Utils.getDataWithRoot(i,"R"+(t+1)+"."+s).forEach(function(t){e.notNullObject[a.Name]+=e.$Utils.expressionToString(t,o)+";"})}),a()})}else a()})})},checkDependencies:function(t){var e=this;e.Setting.Dependencies.forEach(function(a){e.$Utils.isEmpty(t.name)&&a.Source===t.name&&(e.$Utils.isEmpty(e.objFields,a.Target+".dependencyChange")?e.objFields[a.Target].dependencyChange(a,t):e.$Utils.isEmpty(a.DependOn)&&a.DependOn.indexOf(".")>0&&e.$Utils.isEmpty(e.Setting.Fields,a.DependOn.substring(0,a.DependOn.indexOf("."))+".dependencyChange")&&e.Setting.Fields[a.Target.substring(0,a.Target.indexOf("."))].dependencyChange(t))})},onComponentSearch:function(t){this.Setting.functions.onPagination(1,t)}},mounted:function(){this.Setting=this.pSetting,this.Setting.functions||(this.Setting.functions={}),this.Setting.functions.autoLoad=this.autoLoad,this.Setting.functions.getRequireNotNullFields=this.getRequireNotNullFields,this.Setting.functions.checkDependencies=this.checkDependencies,this.Setting.functions.onComponentSearch=this.onComponentSearch,this.viewModel={filterKey:this.$route.params.url+this.Setting.Code,redirectUrl:"#"},this.filter={},this.Setting.functions.autoLoad()},computed:{DisplayType:function(){return!0===this.isInModal?"OneColumn":"MultiColumn"}}}}).call(e,a(2))},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(31),o=a(7);i.default.use(a(40)),e.a={components:{SelectTree:s.a},props:["name","item","data","callback","formData","rules"],data:function(){var t=this.$getItemLocalStorage("firstDayOfWeekCfg")?parseInt(JSON.parse(this.$getItemLocalStorage("firstDayOfWeekCfg")).Value):1;return{firstDayOfWeekCfg:t,dateTimeFormat:"dd/MM/yyyy",sourceData:[],itemSetting:this.item,setting:{},dependency:{},itemData:this.data,mName:"",configEditor:this.$froOptions,clearable:!0,eRules:{},dateOptions:{firstDayOfWeek:t,shortcuts:[{text:"Hôm trước",onClick:function(t){var e=new Date,a=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()-1)+" 23:59:59"),i=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()-1)+" 00:00:00");t.$emit("pick",[i,a])}},{text:"Hôm nay",onClick:function(t){var e=new Date,a=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" 00:00:00"),i=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" 23:59:59");t.$emit("pick",[a,i])}},{text:"Hôm sau",onClick:function(t){var e=new Date,a=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()+1)+" 00:00:00"),i=new Date(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+(e.getDate()+1)+" 23:59:59");t.$emit("pick",[a,i])}},{text:"Tuần trước",onClick:function(e){var a=new Date;a.setTime(a.getTime()-6048e5);var s=i.default.moment(a).isoWeekday(t).startOf("isoweek")._d,o=i.default.moment(a).isoWeekday(t).endOf("isoweek")._d,n=new Date(s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"),l=new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+" 23:59:59");e.$emit("pick",[n,l])}},{text:"Tuần này",onClick:function(e){var a=new Date,s=i.default.moment(a).isoWeekday(t).startOf("isoweek")._d,o=i.default.moment(a).isoWeekday(t).endOf("isoweek")._d,n=new Date(s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"),l=new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+" 23:59:59");e.$emit("pick",[n,l])}},{text:"Tuần sau",onClick:function(e){var a=new Date;a.setTime(a.getTime()+6048e5);var s=i.default.moment(a).isoWeekday(t).startOf("isoweek")._d,o=i.default.moment(a).isoWeekday(t).endOf("isoweek")._d,n=new Date(s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()+" 00:00:00"),l=new Date(o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()+" 23:59:59");e.$emit("pick",[n,l])}},{text:"Tháng trước",onClick:function(t){var e=(new Date,i.default.moment().subtract(1,"months")._d),a=i.default.moment(e).startOf("month")._d,s=i.default.moment(a).endOf("month")._d;t.$emit("pick",[a,s])}},{text:"Tháng này",onClick:function(t){var e=new Date,a=i.default.moment([e.getFullYear(),e.getMonth()])._d,s=i.default.moment(a).endOf("month")._d;t.$emit("pick",[a,s])}},{text:"Tháng sau",onClick:function(t){var e=(new Date,i.default.moment().add(1,"months")._d),a=i.default.moment(e).startOf("month")._d,s=i.default.moment(a).endOf("month")._d;t.$emit("pick",[a,s])}}]}}},created:function(){this.eRules=this.rules,this.itemSetting.FormValidate&&this.itemSetting.FormValidate.indexOf("Key=notEmpty")>0&&"Form"==this.itemSetting.ParentType&&(this.clearable=!1),setTimeout(function(){t("a:contains('Unlicensed copy of the Froala Editor')").remove()},800),"Multi"===this.itemSetting.ElementType&&(this.mName=[]),this.itemSetting.dependencyChange=this.dependencyChange,this.itemSetting.dataToDefault=this.dataToDefault,this.itemSetting.setVal=this.setVal,this.itemSetting.clearData=this.clearData,this.searchData()},watch:{mName:{handler:function(t){("Select"===this.itemSetting.ElementType||"Multi"===this.itemSetting.ElementType||"Radio"===this.itemSetting.ElementType||"Tree"===this.itemSetting.ElementType||"MultiTree"===this.itemSetting.ElementType||"Autocomplete"===this.itemSetting.ElementType||this.itemSetting.DynamicText)&&this.selectedItemChange(t),this.callback&&"Label"===this.itemSetting.ElementType&&this.itemSetting.DynamicText?(this.callback({name:this.name,values:this.itemData[this.itemSetting.Name],model:this.itemSetting}),this.callback({name:this.name,values:this.itemData[this.itemSetting.Name],model:this.itemSetting})):this.callback&&this.callback({name:this.name,values:t,model:this.itemSetting})},deep:!0}},mounted:function(){var t=this;this.$hub.$on("clear-input",function(){t.mName=[]})},methods:{customerSearchAsync:function(t,e){var a=this,i=this;if(t&&t.length>4){var s=this.itemSetting.Code.split("&").reduce(function(t,e){var a=e.split("=");return t[a[0]]=a[1],t},{}),o={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_Code:s.Code,R1_Keyword:t,R1_RequestDataGroup:s.RequestDataGroup,R1_RequestTemplate:this.itemSetting.Request,R1_RequestFields:s.RequestFields,R1_StartIndex:1,R1_EndIndex:100};if(this.itemSetting.ExtraSetting){var n=this.$Utils.stringToObject(this.itemSetting.ExtraSetting);n.limit&&isNaN(n.limit)&&(-1==n.limit?delete o.R1_EndIndex:o.R1_EndIndex=n.limit),"true"==n.keyword&&(delete o.R1_Keyword,o["R1_"+this.itemSetting.SavedKey]=t,o.R1_StartIndex=1,o.R1_EndIndex=100)}var l=void 0;i.itemSetting.Data=[],this.$Utils.post(o).then(function(t){if(t.success&&(l=a.$Utils.getDataWithRoot(t.R1,a.itemSetting.DataRoot))){i.itemSetting.Data=a.$Lodash.cloneDeep(l);var s=l.map(function(t,e){return t.ori=a.$Lodash.cloneDeep(t),t.label=a.itemSetting.SavedText.replace(/{{([^}]*)}}/g,function(e,a){return t[a]||""}),t.value=t[a.itemSetting.SavedKey],t.content=a.itemSetting.DisplayText.replace(/{{([^}]*)}}/g,function(e,a){return t[a]||""}),t});e&&e(s)}})}},autocompleteSelected:function(t){this.selectedItemChange(t),this.callback&&this.callback({name:this.name,values:t.value,model:this.itemSetting})},setUpInput:function(t){var e=this;switch(t&&(e.itemData=e.$Lodash.cloneDeep(t)),e.itemSetting.FieldColumnType){case"DateTime":var a=e.itemSetting.Format?e.itemSetting.Format:"DD/MM/YYYY"+("true"==e.itemSetting.IncludeTime?" HH:mm":"");o.a.isEmpty(e.itemData,e.itemSetting.Name)&&(this.mName=o.a.formatDateTime(o.a.stringToDate(e.itemData[e.itemSetting.Name]),a));break;case"Double":o.a.isEmpty(e.itemData,e.itemSetting.Name)&&e.itemData[e.itemSetting.Name]?this.mName=parseFloat(e.itemData[e.itemSetting.Name]).toFixed(2):o.a.isEmpty(e.itemData,e.itemSetting.Name)?this.mName=parseFloat(e.itemSetting.Default).toFixed(2):this.mName=parseFloat(0).toFixed(2);break;default:o.a.isEmpty(e.itemData,e.itemSetting.Name)?(this.mName=e.$Lodash.cloneDeep(e.itemData[e.itemSetting.Name]),o.a.isEmpty(e.itemData[e.itemSetting.Name+"Name"])&&(this.mName=e.$Lodash.cloneDeep(e.itemData[e.itemSetting.Name+"Name"]))):e.itemSetting.Default&&(this.mName=e.$Lodash.cloneDeep(e.itemSetting.Default))}},selectedItemChange:function(t){var e=this,a={};this.$Utils.isEmpty(t)?(a={name:this.itemSetting.Name,value:t},this.itemSetting.Data&&a.value&&(a.ori=this.itemSetting.Data.filter(function(a){return a[e.itemSetting.SavedKey]==t})[0]),this.$Utils.isEmpty(this.itemSetting,"onChange")&&this.itemSetting.onChange(a)):t=null},onChange:function(){this.itemSetting.onChange({name:this.itemSetting.Name,value:this.mName})},handleChange:function(t){this.mName=this.$Lodash.cloneDeep(t)},searchData:function(e){var a=this,s=this;if("Select"===s.itemSetting.ElementType||"Multi"===s.itemSetting.ElementType||"Radio"===s.itemSetting.ElementType||"Tree"===s.itemSetting.ElementType||"MultiTree"===s.itemSetting.ElementType||"Autocomplete"===s.itemSetting.ElementType){var n=s.$Lodash.cloneDeep(s.$singleRequest);if(n.R1_RequestTemplate=s.itemSetting.Request,n=s.$Utils.updateParamsSingleRequest(n,s.$Utils.stringToObject(s.itemSetting.Code)),"xSetting.Project.Parameter.Organization.Category"==n.R1_ParentCode&&o.a.isEmpty(s.itemData,"Project")&&(n.R1_Keyword=s.itemData.Project),n=s.$Utils.updateParamsSingleRequest(n,s.dependency),s.itemSetting.AssignedField&&"false"!=s.itemSetting.AssignedField&&(n.R1_AssignedUser=s.$getItemLocalStorage(s.$localStorageConstant.SessionId)),"xSetting.Project.Parameter.Organization.Target"==n.R1_ParentCode&&(n.R2_RequestTemplate=s.itemSetting.Request,n.R2_ParentCode="xSetting.Project.Parameter.Organization.Target",n.TotalRequests=2),"Autocomplete"===s.itemSetting.ElementType)if(s.$Utils.isEmpty(s.itemData,s.itemSetting.Name))if(this.itemSetting.OtherValue){var l=this.$Utils.stringToObject(this.itemSetting.OtherValue);"false"==l.keyword?n["R1_"+this.itemSetting.SavedKey]=s.itemData[s.itemSetting.Name]:(n.R1_Keyword=s.itemData[s.itemSetting.Name],n.R1_StartIndex=1,n.R1_EndIndex=100)}else n.R1_Keyword=s.itemData[s.itemSetting.Name],n.R1_StartIndex=1,n.R1_EndIndex=100;else n.R1_StartIndex=1,n.R1_EndIndex=100;s.$Utils.post(n).then(function(e){if(e.success){var i=!1;if(s.dependency&&t.each(s.dependency,function(t,e){a.$Utils.isEmpty(t)&&a.$Utils.isEmpty(e)&&(i=!0)}),s.itemSetting.Data=[],2==n.TotalRequests&&(s.itemSetting.sourceData=s.$Utils.getDataWithRoot(e.R2,s.itemSetting.DataRoot?s.itemSetting.DataRoot:"Data")),e=s.$Utils.getDataWithRoot(e.R1,s.itemSetting.DataRoot?s.itemSetting.DataRoot:"Data"),"User"==n.R1_RequestTemplate){var o=s.$Lodash.cloneDeep(e);e=[],o&&o.forEach(function(t){"superadmin"!==s.$rootScope.loggedOnUser.LoginName?-1===t.LoginName.indexOf("superadmin")&&e.push(t):e.push(t)})}if("MultiTree"===s.itemSetting.ElementType||"Multi"===s.itemSetting.ElementType){if(s.itemSetting.Data=e,"MultiTree"===s.itemSetting.ElementType&&(s.itemSetting.treeData=s.$Utils.createCustomTreeFromList(s.$Lodash.cloneDeep(e),"Id","ParentId","children",{Name:"label",Id:"value"},{})),s.$Utils.isEmpty(s.itemData,s.itemSetting.Name))s.mName=s.$Lodash.cloneDeep(s.itemData[s.itemSetting.Name].split(";").filter(function(t){return t&&""!=t}));else if(s.$Utils.isEmpty(s.itemSetting,"DefaultValue")&&""!=s.itemSetting.DefaultValue){"id={{UserId}}&text={{Username}}"==s.itemSetting.DefaultValue&&(s.itemSetting.DefaultValue="id={{UserId|UserInfo}}&text={{Username|UserInfo}}");var l=s.$Utils.stringToObject(s.$Utils.expressionToString({},s.itemSetting.DefaultValue));s.mName=s.$Lodash.cloneDeep([l.id])}else s.mName=[];if("Multi"===s.itemSetting.ElementType){var r=s.$Lodash.cloneDeep(s.mName);s.mName=[],t.each(r,function(t,a){var i=e.filter(function(t){return t&&""!=t&&t[s.itemSetting.SavedKey]==a});i&&i.length>-1&&s.mName.push(a)})}s.$forceUpdate()}else{if("true"==s.itemSetting.IsTree?s.formatDataSource(e):s.itemSetting.Data=e,!0===i&&1==e.length&&(s.mName=e[0][s.itemSetting.SavedKey]),s.$Utils.isEmpty(s.itemData,s.itemSetting.Name))s.mName=s.$Lodash.cloneDeep(s.itemData[s.itemSetting.Name]);else if(s.$Utils.isEmpty(s.itemSetting,"DefaultValue")&&""!=s.itemSetting.DefaultValue)if(-1!=s.itemSetting.DefaultValue.indexOf("id=")){var l=s.$Utils.stringToObject(s.$Utils.expressionToString({},s.itemSetting.DefaultValue));s.mName=s.$Lodash.cloneDeep(l.id)}else s.mName=s.$Lodash.cloneDeep(s.itemSetting.DefaultValue);var c=e.filter(function(t){return t&&""!=t&&t[s.itemSetting.SavedKey]==s.mName});c&&0!=c.length||(s.mName="")}s.$forceUpdate()}})}else if(s.$Utils.isEmpty(s.itemData,s.itemSetting.Name))"DateTime"===s.itemSetting.FieldColumnType?s.mName=new Date(s.$Lodash.cloneDeep(s.itemData[s.itemSetting.Name])):"Html"===s.itemSetting.ElementType?s.mName=s.$Utils.decodeHtmlEntities(s.$Lodash.cloneDeep(s.itemData[s.itemSetting.Name])):s.mName=s.$Lodash.cloneDeep(s.itemData[s.itemSetting.Name]);else if(s.$Utils.isEmpty(s.itemSetting,"DefaultValue")&&""!=s.itemSetting.DefaultValue)if("DateTime"===s.itemSetting.FieldColumnType){var r=new Date;switch(s.itemSetting.DefaultValue){case"Now":s.mName=r;break;case"Today":s.mName=[];var c=new Date,d=new Date;d.setHours(23,59,59),c.setHours(0,0,0),s.mName[0]=c,s.mName[1]=d;break;case"Week":s.mName=[];var u=new Date,c=i.default.moment(u).isoWeekday(s.firstDayOfWeekCfg).startOf("isoweek")._d,d=i.default.moment(u).isoWeekday(s.firstDayOfWeekCfg).endOf("isoweek")._d;d.setHours(23,59,59),c.setHours(0,0,0),s.mName[0]=c,s.mName[1]=d;break;case"Month":s.mName=[];var m=new Date(r.getFullYear(),r.getMonth()+1,0);m.setHours(23,59,59),s.mName[0]=new Date(r.getFullYear(),r.getMonth(),1),s.mName[1]=m;break;case"Year":s.mName=[];var m=new Date(r.getFullYear(),11,31,23,59,59);s.mName[0]=new Date(r.getFullYear(),0),s.mName[1]=m;break;case"TwoYear":s.mName=[];var m=new Date(r.getFullYear(),11,31,23,59,59);s.mName[0]=new Date(r.getFullYear()-1,0),s.mName[1]=m;break;case"LastWeek":s.mName=[];var p=(new Date).getDate()-(new Date).getDay()+(0==(new Date).getDay()?-13:1),d=new Date;d.setDate((new Date).getDate()-(new Date).getDay()+(0==(new Date).getDay()?-13:1)+6),d.setHours(23,59,59);var c=new Date;c.setTime((new Date).setDate(p)),c.setHours(0,0,0),s.mName[0]=c,s.mName[1]=d;break;case"LastMonth":s.mName=[];var m=new Date(r.getFullYear(),r.getMonth(),0);m.setHours(23,59,59),s.mName[0]=new Date(r.getFullYear(),r.getMonth()-1,1),s.mName[1]=m;break;case"Dynamic":if(s.mName=[],s.itemSetting.Expression){if(s.itemSetting.Expression.indexOf("Start")>=0){var m=new Date(r.getFullYear(),11,31,23,59,59),h=s.$Utils.stringToObject(s.itemSetting.Expression);t.each(h,function(t,e){s.model["inputData"+t]=new Date(e)})}if(s.itemSetting.Expression.indexOf("PreDays")>=0){var f=s.itemSetting.Expression.split("="),m=new Date,d=i.default.moment().subtract(f[1],"day")._d;m.setHours(23,59,59),d.setHours(0,0,0),s.mName[0]=d,s.mName[1]=m}}break;default:s.mName=s.$Utils.stringToDate(s.itemSetting.DefaultValue)}}else s.mName=s.$Lodash.cloneDeep(s.itemSetting.DefaultValue);"Label"===s.itemSetting.ElementType&&s.setUpInput()},dataToDefault:function(){if("MultiTree"===this.itemSetting.ElementType||"Multi"===this.itemSetting.ElementType){if(this.$Utils.isEmpty(this.itemSetting,"DefaultValue")&&""!=this.itemSetting.DefaultValue)if(-1!=this.itemSetting.DefaultValue.indexOf("id=")){"id={{UserId}}&text={{Username}}"==this.itemSetting.DefaultValue&&(this.itemSetting.DefaultValue="id={{UserId|UserInfo}}&text={{Username|UserInfo}}");var t=this.$Utils.stringToObject(this.$Utils.expressionToString({},this.itemSetting.DefaultValue));this.mName=ctrl.$Lodash.cloneDeep([t.id])}else this.mName=ctrl.$Lodash.cloneDeep([t.id]);else this.mName=this.$Utils.expressionToString({},this.itemSetting.DefaultValue);this.$forceUpdate()}else if(this.$Utils.isEmpty(this.itemSetting,"DefaultValue")&&""!=this.itemSetting.DefaultValue)if(-1!=this.itemSetting.DefaultValue.indexOf("id=")){var t=this.$Utils.stringToObject(this.$Utils.expressionToString({},this.itemSetting.DefaultValue));this.mName=ctrl.$Lodash.cloneDeep(t.id)}else this.mName=this.$Utils.expressionToString({},this.itemSetting.DefaultValue)},setVal:function(t){"MultiTree"===this.itemSetting.ElementType||"Multi"===this.itemSetting.ElementType?(this.mName=[],t[this.itemSetting.Name]?this.mName=ctrl.$Lodash.cloneDeep([t[this.itemSetting.Name]]):this.searchData(),this.$forceUpdate()):"Label"===this.itemSetting.ElementType?(this.mName="",t[this.itemSetting.Name]?this.setUpInput(t):this.searchData()):(this.mName="",t[this.itemSetting.Name]?this.mName=this.$Lodash.cloneDeep(t[this.itemSetting.Name]):this.searchData())},clearData:function(){"MultiTree"===this.itemSetting.ElementType||"Multi"===this.itemSetting.ElementType?(this.mName=[],this.$forceUpdate()):(this.mName="",this.$forceUpdate())},formatDataSource:function(e){var a=this;e=o.a.createdListFromDataTree(a.$Lodash.cloneDeep(e),[]);var i=1;e[0]&&(i=e[0].Level?e[0].Level:e[0].level),e.forEach(function(t){t.Level&&(t.level=t.Level),t.level<i&&(i=t.level)}),a.itemSetting.Data=e,t.each(e,function(t,e){o.a.isEmpty(a.itemSetting.Data[t],a.itemSetting.SavedText)&&(a.itemSetting.Data[t][a.itemSetting.SavedText]=a.createdLevel(e[a.itemSetting.SavedText],e.level,i))}),a.$forceUpdate()},createdLevel:function(t,e,a){var i="";a||(a=1);for(var s=a;s<e;s++)i+="|-- ";return i+t},dependencyChange:function(t,e){var a=this;if("Select"===a.itemSetting.ElementType)switch(t.DependencyType){case"DynamicValue":if(a.$Utils.isEmpty(a.itemData)&&a.itemData[e.name]===a.$Utils.getDataWithRoot(e.value,t.SourceField)[0]||a.selectedItemChange(),"getGroup"==t.TargetKey){var s={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status;LoginName",StaticFields:"UserId;Status;LoginName",Group:a.$Utils.getDataWithRoot(e.value)[0],Status:"1"};a.$Utils.postCheckResult(s).then(function(t){t=a.$Utils.getDataWithRoot(t,"Data.UserDS.User"),t.forEach(function(t){t.UserId&&""!=t.UserId&&(a.dependency.UserId+=t.UserId+";")})})}else"id"==t.SourceKey?a.dependency[t.TargetKey]=a.$Utils.getDataWithRoot(e.value)[0]:e.ori&&(a.dependency[t.TargetKey]=a.$Utils.getDataWithRoot(e.ori[t.SourceKey])[0]);a.searchData();break;case"Validate":var o=!1;t.Validations.forEach(function(t){(t.Value?t.Value.split(";"):[]).forEach(function(i){a.$Utils.getDataWithRoot(e.value)[0]==i&&(o=!0,a.itemSetting.Validation=a.$Utils.stringToObject(t.Validate))})}),o||"string"!=typeof t.ValidationDefault||""==t.ValidationDefault||(a.itemSetting.Validation=a.$Utils.stringToObject(t.ValidationDefault))}else if("Text"===a.itemSetting.ElementType||"TextArea"===a.itemSetting.ElementType||"Autocomplete"===a.itemSetting.ElementType)switch(t.DependencyType){case"DynamicValue":var n="";switch(a.itemSetting.FieldColumnType){case"DateTime":;a.$Utils.isEmpty(a.itemSetting.Format)&&a.itemSetting.Format,n=e.ori?e.ori[t.SourceKey]:e.value[t.SourceKey];break;default:n=e.ori?e.ori[t.SourceKey]:e.value[t.SourceKey]}a.mName=a.$Lodash.cloneDeep(n);break;case"Validate":var o=!1;t.Validations.forEach(function(t){(t.Value?t.Value.split(";"):[]).forEach(function(i){a.$Utils.getDataWithRoot(e.value)[0]==i&&(o=!0,a.itemSetting.FormValidate=t.Validate,a.eRules[a.itemSetting.Name]?a.eRules[a.itemSetting.Name].push([{type:"MultiTree"===a.itemSetting.ElementType||"Multi"===a.itemSetting.ElementType?"array":"string",required:!0,message:"Trường "+a.itemSetting.Caption+" bắt buộc nhập",trigger:"blur"}]):a.eRules[a.itemSetting.Name]=[{type:"MultiTree"===a.itemSetting.ElementType||"Multi"===a.itemSetting.ElementType?"array":"string",required:!0,message:"Trường "+a.itemSetting.Caption+" bắt buộc nhập",trigger:"blur"}],a.$hub.$emit("changeValidate",a.eRules))}),0==o&&a.eRules[a.itemSetting.Name]&&(delete a.eRules[a.itemSetting.Name],a.$hub.$emit("changeValidate",a.eRules))}),o||"string"!=typeof t.ValidationDefault||""==t.ValidationDefault||(a.itemSetting.FormValidate=t.ValidationDefault);break;case"TimeSync":var n="";n=a.$Lodash.cloneDeep(e.value),n=i.default.moment(n,"YYYY-MM-DD HH:mm").toDate(),a.$Utils.isEmpty(a.mName)&&""!=a.mName&&n.setHours(a.$Utils.formatDateTime(a.$Utils.stringToDate(a.mName),"HH"),a.$Utils.formatDateTime(a.$Utils.stringToDate(a.mName),"mm"),a.$Utils.formatDateTime(a.$Utils.stringToDate(a.mName),"ss")),a.mName=a.$Lodash.cloneDeep(n)}else if("Label"===a.itemSetting.ElementType)switch(a.staticData||(a.staticData=a.$Lodash.cloneDeep(a.itemData)),t.DependencyType){case"DynamicValue":if(a.$Utils.isEmpty(a.itemData)||(a.itemData={}),a.itemData[e.name]!==a.$Utils.getDataWithRoot(e.value)[0]&&(a.mName=""),a.itemData[e.name]!=e.value||!e.value||e.ori||e.value&&e.value.ori){if(a.$Utils.isEmpty(t.Expression)){for(var l=a.$Utils.isEmpty(t.Expression)?a.$Lodash.cloneDeep(t.Expression):"",r="";""!=l;)if(l.indexOf("{{")>=0&&l.indexOf("}}")>l.indexOf("{{")){r+=l.substr(0,l.indexOf("{{"));var c=l.substr(l.indexOf("{{")+2,l.indexOf("}}")-l.indexOf("{{")-2),d="";switch(c.indexOf(".")>0&&(d=c.substring(c.indexOf(".")+1,c.length).trim(),c=c.substring(0,c.indexOf(".")).trim()),e.name===c&&(""==d?a.objData[c]=e.value:a.$Utils.isEmpty(e,"ori."+d)?a.objData[c]=a.$Utils.getDataWithRoot(e,"ori."+d)[0]:a.$Utils.isEmpty(e,"value."+d)?a.objData[c]=a.$Utils.getDataWithRoot(e,"value."+d)[0]:a.$Utils.isEmpty(a.objData[c])||(a.objData[c]="")),a.itemSetting.FieldColumnType){case"String":r+=a.objData[c]?a.objData[c]:"";break;case"Integer":case"Double":r+=a.objData[c]?a.objData[c]:0}l=l.substr(l.indexOf("}}")+2,l.length)}else r+=l,l="";"Integer"==a.itemSetting.FieldColumnType||"Double"==a.itemSetting.FieldColumnType?a.itemData[a.itemSetting.Name]=a.$Utils.calculator(r):a.itemData[a.itemSetting.Name]=r}else a.$Utils.isEmpty(e,"ori."+t.SourceKey)?a.itemData[a.itemSetting.Name]=a.$Utils.getDataWithRoot(e,"ori."+t.SourceKey)[0]:a.itemData[a.itemSetting.Name]=a.$Utils.getDataWithRoot(e,"value."+t.SourceKey)[0];a.itemSetting.setVal(a.itemData)}else a.$Utils.isEmpty(a.itemData,e.name)&&a.itemData[e.name]==e.value.id&&(a.mName=a.$Lodash.cloneDeep(a.itemData[a.itemSetting.Name]))}else if("MultiTree"===a.itemSetting.ElementType)switch(a.dependency={},t.DependencyType){case"DynamicValue":"getGroup"==t.TargetKey?(a.dependency.Value=a.$Utils.isEmpty(e.value)?a.$Utils.getDataWithRoot(e.value)[0]:"",a.searchData(),a.$Utils.isEmpty(a.itemData)&&a.itemData[e.name]===a.$Utils.getDataWithRoot(e.value)[0]&&0!=a.mName.length||(a.mName=[],a.selectedItemChange())):!a.$Utils.isEmpty(e.value)&&a.$Utils.isEmpty(e.ori)?a.dependency[t.TargetKey]=a.$Utils.getDataWithRoot(e.ori)[0]:a.dependency[t.TargetKey]=a.$Utils.getDataWithRoot(e.value)[0],a.searchData(),a.$Utils.isEmpty(a.itemData)&&a.itemData[e.name]===a.$Utils.getDataWithRoot(e.value)[0]&&0!=a.mName.length||(a.mName=[],a.selectedItemChange());break;case"Validate":var o=!1;t.Validations.forEach(function(t){(t.Value?t.Value.split(";"):[]).forEach(function(i){a.$Utils.getDataWithRoot(e.value)[0]==i&&(o=!0,a.itemSetting.FormValidate=t.Validate,a.eRules[a.itemSetting.Name].push({type:"MultiTree"===a.itemSetting.ElementType||"Multi"===a.itemSetting.ElementType?"array":"string",required:!0,message:"Trường "+a.itemSetting.Caption+" bắt buộc nhập",trigger:"blur"}))})}),o||"string"!=typeof t.ValidationDefault||""==t.ValidationDefault||(a.itemSetting.FormValidate=t.ValidationDefault)}"ChangeDisplay"==t.DependencyType&&("true"!=a.itemSetting.FormIsHidden?-1!==t.CompareValue.split(";").indexOf(e.value)?(a.itemSetting.displayControl("hidden"),a.clearData()):a.itemSetting.displayControl("show"):-1===t.CompareValue.split(";").indexOf(e.value)?(a.itemSetting.displayControl("hidden"),a.clearData()):a.itemSetting.displayControl("show"))}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["Header"===t.itemSetting.ElementType?a("el-header",[t._v(t._s(t.itemSetting.Caption))]):"Label"===t.itemSetting.ElementType?a("label",{staticClass:"el-form--inline",attrs:{placeholder:t.itemSetting.Caption,size:"mini"}},[t._v(t._s(t.mName))]):"Text"===t.itemSetting.ElementType&&"DateTime"!==t.itemSetting.FieldColumnType?a("el-input",{attrs:{clearable:t.clearable,placeholder:t.itemSetting.Caption,size:"mini",type:"Integer"==t.itemSetting.FieldColumnType||"Double"==t.itemSetting.FieldColumnType?"number":"text",disabled:t.itemSetting.IsDisabled&&t.$Utils.isEmpty(t.mName)&&""!=t.mName&&t.itemData.Id&&!t.$isSystemAdmin()&&!t.$isMantisAdmin()},model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}}):"TextArea"===t.itemSetting.ElementType?a("el-input",{attrs:{clearable:t.clearable,placeholder:t.itemSetting.Caption,size:"mini",type:"textarea",disabled:t.itemSetting.IsDisabled&&t.$Utils.isEmpty(t.mName)&&""!=t.mName&&t.itemData.Id&&!t.$isSystemAdmin()&&!t.$isMantisAdmin()},model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}}):"Multi"===t.itemSetting.ElementType?a("el-select",{attrs:{clearable:t.clearable,multiple:"","collapse-tags":"",placeholder:t.itemSetting.PlaceHolder?t.itemSetting.PlaceHolder:t.itemSetting.Caption,size:"mini",filterable:!t.$isMobileDevice,disabled:t.itemSetting.IsDisabled&&t.$Utils.isEmpty(t.mName)&&""!=t.mName&&t.itemData.Id&&!t.$isSystemAdmin()&&!t.$isMantisAdmin()},model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}},t._l(t.itemSetting.Data,function(e){return a("el-option",{key:e[t.itemSetting.SavedKey],attrs:{label:e[t.itemSetting.SavedText],value:e[t.itemSetting.SavedKey]}})})):"DateTime"===t.itemSetting.FieldColumnType&&"range"===t.itemSetting.DateMode?a("el-date-picker",{attrs:{clearable:t.clearable,format:t.dateTimeFormat,type:"daterange","picker-options":t.dateOptions,"popper-class":t.$isMobileDevice?"MobileDateRange":"","start-placeholder":"Từ ngày","end-placeholder":"Đến ngày",size:"mini"},model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}}):"DateTime"===t.itemSetting.FieldColumnType&&"range"!==t.itemSetting.DateMode?a("el-date-picker",{attrs:{clearable:t.clearable,format:t.itemSetting.Format?t.itemSetting.Format:"true"==t.itemSetting.IncludeTime?t.dateTimeFormat+" HH:mm":t.dateTimeFormat,type:"true"==t.itemSetting.IncludeTime?"datetime":"date","start-placeholder":"Từ "+t.itemSetting.Caption,"end-placeholder":"Đến "+t.itemSetting.Caption,size:"mini",disabled:t.itemSetting.IsDisabled&&t.$Utils.isEmpty(t.mName)&&""!=t.mName&&t.itemData.Id&&!t.$isSystemAdmin()&&!t.$isMantisAdmin()},on:{change:function(e){t.onChange()}},model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}}):"Select"===t.itemSetting.ElementType?a("el-select",{attrs:{clearable:t.clearable,placeholder:t.itemSetting.PlaceHolder?t.itemSetting.PlaceHolder:t.itemSetting.Caption,size:"mini",disabled:t.itemSetting.IsDisabled&&""!=t.mName&&t.itemData.Id&&!t.$isSystemAdmin()&&!t.$isMantisAdmin(),filterable:!t.$isMobileDevice},model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}},t._l(t.itemSetting.Data,function(e){return a("el-option",{key:e[t.itemSetting.SavedKey],attrs:{label:e[t.itemSetting.SavedText],value:e[t.itemSetting.SavedKey]}})})):"MultiTree"===t.itemSetting.ElementType?a("SelectTree",{attrs:{clearable:t.clearable,pSetting:t.itemSetting,datasource:t.itemSetting.treeData,selectedValue:t.mName,callback:t.handleChange,data:t.itemData,source:t.itemSetting.sourceData}}):"Autocomplete"===t.itemSetting.ElementType?a("el-autocomplete",{attrs:{"auto-complete":"on","fetch-suggestions":t.customerSearchAsync,placeholder:"Nhập từ khóa tìm kiếm","trigger-on-focus":!(!t.itemSetting.ExtraSetting||!t.$Utils.stringToObject(t.itemSetting.ExtraSetting).focus)&&"true"===t.$Utils.stringToObject(t.itemSetting.ExtraSetting).focus,disabled:t.itemSetting.IsDisabled&&!t.$isSystemAdmin()&&!t.$isMantisAdmin()},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"light",placement:"left"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(e.item.content)},slot:"content"}),t._v(" "),a("span",{staticClass:"label"},[t._v(t._s(e.item.label))])])]}}]),model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}},[a("i",{staticClass:"fa fa-search",attrs:{slot:"suffix"},slot:"suffix"})]):"Html"===t.itemSetting.ElementType?a("froala",{attrs:{tag:"textarea",config:t.configEditor},model:{value:t.mName,callback:function(e){t.mName=e},expression:"mName"}}):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"list-filter"},[a("el-main",[a("el-form",{ref:"dynamicfilterform",staticClass:"demo-form-inline",attrs:{inline:!1,model:t.formInline}},[a("el-col",{attrs:{span:24}},[a("el-row",{staticClass:"align-items-center",attrs:{type:"flex",justify:"end"}},[a("div",{staticStyle:{width:"100%"}},t._l(t.filter,function(e,i){return e&&e.length>0?a("div",[a("div",{staticClass:"row w-100",class:t.isQuickFilter?"flex-end":""},t._l(e,function(e){return e&&"Main"==i?a("el-form-item",{key:e.Code,class:"OneColumn"==t.DisplayType?"col-md-12":"DateTime"==e.FieldColumnType?"col-md-4":"col-md-2",attrs:{label:e.Caption}},[a("DynamicInput",{attrs:{name:e.Name,item:e,isQuickFilter:t.isQuickFilter,callback:t.handleChildChange,formData:t.Setting}})],1):t._e()})),t._v(" "),"Main"==i||t.isQuickFilter||t.isInModal?t._e():a("el-collapse",{staticClass:"header-filter",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-collapse-item",{attrs:{title:"Lọc nâng cao",name:"advance-filter"}},[a("div",{staticClass:"row w-100"},t._l(e,function(e){return e?a("el-form-item",{key:e.Code,class:"OneColumn"==t.DisplayType?"col-md-12":"DateTime"==e.FieldColumnType?"col-md-4":"col-md-2",attrs:{label:e.Caption}},[a("DynamicInput",{attrs:{name:e.Name,item:e,callback:t.handleChildChange,formData:t.Setting}})],1):t._e()}))])],1),t._v(" "),"Main"!=i&&!t.isQuickFilter&&t.isInModal?a("div",[a("div",{staticClass:"row w-100"},t._l(e,function(e){return e?a("el-form-item",{key:e.Code,class:"OneColumn"==t.DisplayType?"col-md-12":"DateTime"==e.FieldColumnType?"col-md-4":"col-md-2",attrs:{label:e.Caption}},[a("DynamicInput",{attrs:{name:e.Name,item:e,callback:t.handleChildChange,formData:t.Setting}})],1):t._e()}))]):t._e()],1):t._e()})),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Tìm kiếm",placement:"bottom"}},[t.isQuickFilter?a("el-button",{staticClass:"fa fa-search",staticStyle:{"padding-right":"7px","padding-left":"7px","line-height":"12px"},on:{click:t.onSubmit}}):t._e()],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Xóa trắng",placement:"bottom"}},[t.isQuickFilter?a("el-button",{staticClass:"fa fa-trash",staticStyle:{"padding-right":"7px","padding-left":"7px","line-height":"12px"},on:{click:function(e){t.onClear()}}}):t._e()],1)],1)],1)],1)],1),t._v(" "),t.isQuickFilter?t._e():a("el-footer",{staticClass:"text-center"},[a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"default"},on:{click:function(e){t.onClear()}}},[t._v("Xóa trắng")]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Tìm kiếm")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dynamic-chart"},[a("div",{staticClass:"row"},t._l(t.moduleSetting,function(e){return a("div",{class:"col-md-"+(t.objLayout[e.Code]?t.objLayout[e.Code]:12)},["Filter"==e.ModuleType?a("div",{class:"page-header mb-2 "+(t.isDashboard?"dashboard":"")},[a("div",{staticClass:"title-box py-1 pl-2 pr-4"},[a("div",{staticClass:"flex",class:(t.isDashboard,""),staticStyle:{"align-items":"center"}},[a("div",{staticClass:"text-right pr-0  flex-end",staticStyle:{"align-items":"center","padding-left":"5px",flex:"10"}},[t.isDashboard?a("div",{staticClass:"text-left dashboard-caption inline-block w100p"},[a("strong",[t._v(t._s(t.mCaption))])]):t._e(),t._v(" "),t.isDashboard?t._e():a("div",{staticClass:"quick-filter__wrapper inline-block w100p"},[a("DynamicFilter",{attrs:{pSetting:e,isQuickFilter:!0}})],1),t._v(" "),t.isDashboard?a("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.mSetting[0].Caption+e.Code+".chartFilter",expression:"mSetting[0].Caption + item.Code + '.chartFilter'"}],staticClass:"btn btn-link btn-dashboard",staticStyle:{"vertical-align":"top",padding:"0",color:"#fff"},attrs:{type:"text"}},[a("i",{staticClass:"fa fa-filter fa-lg"})]):a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Lọc nâng cao",placement:"bottom"}},[a("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.mSetting[0].Caption+e.Code+".chartFilter",expression:"mSetting[0].Caption + item.Code + '.chartFilter'"}],staticClass:"fa fa-filter btn-dashboard",staticStyle:{"padding-right":"7px","padding-left":"7px","line-height":"12px","margin-top":"10px","margin-left":"10px"}})],1)],1),t._v(" "),a("b-modal",{ref:"chartFilter",refInFor:!0,staticClass:"chartFilter text-primary",attrs:{id:t.mSetting[0].Caption+e.Code+".chartFilter",title:"Bộ lọc","header-bg-variant":"primary","hide-footer":""}},[[a("div",[a("DynamicFilter",{attrs:{pSetting:e,isInModal:!0}})],1)]],2)],1),t._v(" "),a("div",{staticClass:"clearfix"})])]):a("div",[a("b-card",[a("Report",{attrs:{Setting:e,Filter:t.filter,SearchIndex:t.searchIndex,FilterSetting:t.objfilterSetting}})],1)],1)])}))])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(544)}var s=a(545),o=a(557),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__=__webpack_require__(56),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__=__webpack_require__(57),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_6__components_dynamic_DynamicInput__=__webpack_require__(262),__WEBPACK_IMPORTED_MODULE_7__components_dynamic_DynamicButton__=__webpack_require__(546),__WEBPACK_IMPORTED_MODULE_8__components_dynamic_Comment__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_9__components_static_UploadFile__=__webpack_require__(108),__WEBPACK_IMPORTED_MODULE_10__components_static_History__=__webpack_require__(550),__WEBPACK_IMPORTED_MODULE_11__components_static_PermissionSelector__=__webpack_require__(16),__WEBPACK_IMPORTED_MODULE_12__services_api__=__webpack_require__(54);__webpack_exports__.a={components:{DynamicInput:__WEBPACK_IMPORTED_MODULE_6__components_dynamic_DynamicInput__.a,DynamicButton:__WEBPACK_IMPORTED_MODULE_7__components_dynamic_DynamicButton__.a,UploadFile:__WEBPACK_IMPORTED_MODULE_9__components_static_UploadFile__.a,History:__WEBPACK_IMPORTED_MODULE_10__components_static_History__.a,Comment:__WEBPACK_IMPORTED_MODULE_8__components_dynamic_Comment__.a,PermissionSelector:__WEBPACK_IMPORTED_MODULE_11__components_static_PermissionSelector__.a},props:["pSetting","rootScopePushServer"],data:function(){var t=this;return{activeName:this.$isMobileDevice?["1","2","3"]:["1","2"],subElementObject:{},Setting:this.pSetting,ListInside:{},listElements:[],permissionFlag:!1,historyFlag:!1,Show:[],dayOWeek:[],Showa:!0,WorkTime:6,viewModel:{currentPage:1,tabActive:[]},objSourceData:{},formInline:{},arrResult:{},rules:{},listButton:[],currentButtonSetting:{},ChildFields:"",Repeat:!1,ReType:"Day",ReEndDate:void 0,reFormatEndDate:void 0,ListExcuteRequests:[],cacheValue:{},test:"",checkDuplicate:function(e,a,i){if(""!==a&&a!==t.cacheValue[e.fullField]){var s=t.$Lodash.cloneDeep(t.$singleRequest);s.R1_RequestFields="Id,"+e.fullField,s.R1_RequestTemplate=t.pSetting.DataSource+".Search",s.R1_RequestDataGroup=t.pSetting.DataGroup,s.R1_Code=t.pSetting.DataGroupCaption,s["R1_"+e.fullField]=a.toString(),s.SessionId=t.$getItemLocalStorage(t.$localStorageConstant.SessionId),t.$Utils.post(s).then(function(t){"0 record(s) found."===t.R1.msg?i():i(e.message)})}else i()},checkQuantity:function(e,a,i){var s=t;if(""!==a&&a>0)if(!s.objSourceData||s.objSourceData&&!s.objSourceData.Id){var o=s.$Lodash.cloneDeep(s.$singleRequest);o.R1_RequestFields=e.validate.checkQuantityrequestfields,o.R1_RequestTemplate=e.validate.checkQuantitytemplate,o.R1_RequestDataGroup=e.validate.checkQuantitydatagroup,o.R1_Code=e.validate.checkQuantitycode,o.SessionId=s.$getItemLocalStorage(s.$localStorageConstant.SessionId);var n=s.$Utils.stringToObject(e.validate.checkQuantitydependencies.replaceAll("+","&").replaceAll(":","="));$.each(n,function(t,e){s.$Utils.isEmpty(s.formInline[t])&&""!==s.formInline[t]?o["R1_"+e]=s.formInline[t]:s.$Utils.isEmpty(s.formInline[t])?s.$refs.formInline.validateField(t):i()}),s.$Utils.post(o).then(function(t){t=s.$Utils.getDataWithRoot(t.R1,e.validate.checkQuantityroot);var o=0;t.length>0&&t.forEach(function(t){""!==t[e.validate.checkQuantityquantityfield]&&(o+=parseInt(t[e.validate.checkQuantityquantityfield]))}),o<=0?i(new Error("Số lượng tồn kho <= 0")):a>o?i(new Error("Số lượng tồn kho không đủ")):i()})}else i();else i(new Error("Vui lòng nhập dữ liệu và lớn hơn 0"))}}},methods:{showPermission:function(t){this.$hub.$emit("set-modal-data","Phân quyền","80%",!0,"left",__WEBPACK_IMPORTED_MODULE_11__components_static_PermissionSelector__.a,!0,"",t)},handleChildChange:function(t){if(this.formInline[t.name]="Text"==t.model.ElementType&&"DateTime"==t.model.FieldColumnType?this.$Utils.formatDateTime(t.values):t.values,"Select"===t.model.ElementType||"Multi"===t.model.ElementType||"Radio"===t.model.ElementType||"Tree"===t.model.ElementType||"MultiTree"===t.model.ElementType||"Autocomplete"===t.model.ElementType){var e={};if(this.$Utils.isEmpty(t.model,"Data"))if(t.values&&""!=t.values&&"string"!=typeof t.values){t.newValues="",t.valuesName="",e=[];var a=t.model.sourceData?t.model.sourceData:t.model.Data;t.values.forEach(function(i){var s=a.filter(function(e){return e[t.model.SavedKey]==i})[0];s&&(t.newValues+=i+";",t.valuesName+=s[t.model.SavedText]+";",e.push(s))}),this.arrResult[t.name]={name:t.name,value:t.newValues,validate:!0,setting:t.model,ori:e,submit:!0},this.arrResult[t.name+"Name"]={name:t.name+"Name",value:t.valuesName,validate:!0,setting:t.model,ori:e,submit:!0}}else e=t.model.Data.filter(function(e){return e[t.model.SavedKey]==t.values})[0],e?(this.arrResult[t.name]={name:t.name,value:t.values,validate:!0,setting:t.model,ori:e,submit:!0},this.arrResult[t.name+"Name"]={name:t.name+"Name",value:e[t.model.SavedText],validate:!0,setting:t.model,ori:e,submit:!0}):delete this.arrResult[t.name]}else"Text"==t.model.ElementType&&"DateTime"==t.model.FieldColumnType?this.arrResult[t.name]={name:t.name,value:this.$Utils.formatDateTime(t.values),display:this.$Lodash.cloneDeep(this.$Utils.formatDateTime(t.values,"DD/MM/YYYY HH:mm")),oldDisplay:this.objSourceData[t.name],setting:t.model,submit:!0,validate:!0}:"Text"==t.model.ElementType&&"Double"==t.model.FieldColumnType?this.arrResult[t.name]={name:t.name,value:t.values?parseFloat((t.values+"").replace(/,/gi,".")).toFixed(2):""===t.values&&1==t.values.ItemRequired?"":0,display:t.values?parseFloat((t.values+"").replace(/,/gi,".")).toFixed(2):""===t.values&&1==t.values.ItemRequired?"":0,oldDisplay:this.objSourceData[t.name],setting:t.model,submit:!0,validate:!0}:"Html"==t.model.ElementType?this.arrResult[t.name]={name:t.name,value:this.$Utils.encodeHtmlEntities(t.values),display:this.$Lodash.cloneDeep(t.values),oldDisplay:this.objSourceData[t.name],setting:t.model,validate:!0,submit:!0}:this.arrResult[t.name]={name:t.name,value:t.values,display:this.$Lodash.cloneDeep(t.values),oldDisplay:this.objSourceData[t.name],setting:t.model,validate:!0,submit:!0}},autoLoad:function(t){var e=this;this.Setting.sendData||(this.Setting.sendData={}),this.$Utils.isEmpty(this.Setting,"parentSetting.object.ReferenceId")&&this.$Utils.isEmpty(this.Setting,"parentSetting.set.Value")&&this.Setting.parentSetting.set.Value.indexOf("ReferenceId")>=0&&(this.$Utils.deleteAutoValue(this.Setting.parentSetting.object),this.Setting.parentSetting.object.ReferenceId=this.$Utils.expressionToString(this.Setting.parentSetting.object,this.Setting.parentSetting.object.ReferenceId),$.each(this.Setting.Fields,function(t,a){e.$Utils.isEmpty(e.Setting,"parentSetting.object")&&e.$Utils.isEmpty(e.Setting.parentSetting.object,a.Name)&&"Hidden"!==a.FormFieldType&&"ReferenceId"!=a.Name&&(e.Setting.parentSetting.object[a.Name]="")})),this.$Utils.isEmpty(this.Setting,"parentSetting.object.cls")&&this.$Utils.deleteAutoValue(this.Setting.parentSetting.object),this.$Utils.isEmpty(this.Setting,"parentSetting.object")?(this.objSourceData=this.$Lodash.cloneDeep(this.Setting.parentSetting.object),this.$Utils.isEmpty(this.Setting,"SubElements")&&this.Setting.SubElements.length>0&&this.Setting.AdditionConditions.Code!==this.Setting.parentSetting.object.Code&&delete this.objSourceData.Id,"AG_Task_Task"===this.Setting.DataSource&&this.$Utils.isEmpty(this.$rootScope.loggedOnUser.Project,"GroupId")&&!this.$Utils.isEmpty(this.objSourceData.Project)&&(this.objSourceData.Project=this.$rootScope.loggedOnUser.Project.GroupId,this.objSourceData.ProjectName=this.$rootScope.loggedOnUser.Project.GroupName,this.objSourceData.ProjectCode=this.$rootScope.loggedOnUser.Project.GroupPath),this.Setting.sendData=this.$Lodash.cloneDeep(this.objSourceData)):("AG_Task_Task"==this.Setting.DataSource||this.$Utils.isEmpty(this.Setting.AdditionConditions,"Code")&&"Document"==this.Setting.AdditionConditions.Code)&&this.$Utils.isEmpty(this.$rootScope.loggedOnUser.Project,"GroupId")&&this.$Utils.isEmpty(this.$rootScope.loggedOnUser.Project,"GroupPath")&&(this.objSourceData={},this.objSourceData.Project=this.$rootScope.loggedOnUser.Project.GroupId,this.objSourceData.ProjectName=this.$rootScope.loggedOnUser.Project.GroupName,this.objSourceData.ProjectCode=this.$rootScope.loggedOnUser.Project.GroupPath,this.Setting.sendData=this.$Lodash.cloneDeep(this.objSourceData)),this.$Utils.isEmpty(this.Setting,"parentSetting.change")&&$.each(this.Setting.parentSetting.change,function(t,a){e.Setting.sendData[t]=a}),this.$Utils.isEmpty(this.Setting,"parentSetting.set.GetFullData")&&(1==this.Setting.parentSetting.set.GetFullData||"true"==this.Setting.parentSetting.set.GetFullData)&&this.$Utils.isEmpty(this.objSourceData.Id)?this.getFullData():"AG_Task_Task"==this.Setting.DataSource&&this.$Utils.isEmpty(this.Setting.sendData,"Id")?(this.saveUserList(this.Setting.sendData),t||this.setupListElement()):t||this.setupListElement(),this.cacheValue=this.$Lodash.cloneDeep(this.Setting.sendData)},getobjSourceData:function(){return this.$Lodash.cloneDeep(this.objSourceData)},setupListElement:function(){var t=this,e=this;this.fields={},this.listHidden=[],this.objCalculator=[];var a=[];$.each(this.Setting.Groups,function(t,e){a.push({fields:[{Name:"FormGroup"+t,ElementType:"Header",Caption:e.Caption?e.Caption:e.Name,ColumnFlex:"100"}],calculator:[],key:e.ListFields?e.ListFields.split(";"):[]})}),$.each(this.Setting.Fields,function(e,i){var s=t.Setting.ModuleType;switch($.each(i,function(t,e){0==t.indexOf(s)&&t.length>s.length&&(i[t.substring(s.length,t.length)]=e)}),i.FieldType){case"Hidden":break;case"Calculator":var o=!1;$.each(a,function(e,a){a.key.indexOf(i.Name)>=0&&(t.$Utils.isEmpty(i.FormIsDisplay)&&(a.fields[a.key.indexOf(i.Name)+1]=i),a.calculator[a.key.indexOf(i.Name)+1]=i,o=!0)}),o||t.objCalculator.push(i);break;case"General":i.Validate=t.$Utils.stringToObject(i.Validate),i.Validate.Key=t.$Utils.isEmpty(i.Validate.Key)?i.Validate.Key.split(";"):[],"string"==typeof i.AdvancedDisplay&&$.each(t.$Utils.stringToObject(i.AdvancedDisplay),function(t,e){i[t]=e}),i.ElementType=i.FilterElementType?i.FilterElementType:i.FormElementType;var s="Form";if(i.ParentType=s,$.each(i,function(t,e){0===t.indexOf(s)&&t.length>s.length&&(i[t.substring(s.length,t.length)]=e)}),i.Validate){var n=t.$Lodash.cloneDeep(i.Validate);n=t.$Utils.stringToObject(n),n.Key&&-1!==n.Key.indexOf("notEmpty")&&t.$set(t.rules,i.Name,[{type:"MultiTree"===i.ElementType||"Multi"===i.ElementType?"array":"string",required:!0,message:n.notEmptymessage,trigger:"blur"}]),n.Key&&-1!==n.Key.indexOf("duplicate")&&t.rules[i.Name].push({validator:t.checkDuplicate,message:n.duplicatemessage,trigger:"blur"}),n.Key&&-1!==n.Key.indexOf("checkQuantity")&&!t.$Utils.isEmpty(t.Setting.sendData,"Id")&&t.rules[i.Name].push({validator:t.checkQuantity,validate:n,trigger:"blur"})}"Select"!==i.ElementType&&"Multi"!==i.ElementType&&"Radio"!==i.ElementType&&"Tree"!==i.ElementType&&"MultiTree"!==i.ElementType&&"Autocomplete"!==i.ElementType||(i.Code=i.FilterCode?i.FilterCode:i.FormCode,i.Field=i.FilterField?i.FilterField:i.FormField,i.FieldType=i.FilterFieldType?i.FilterFieldType:i.FormFieldType,i.IncludeSubmit=i.FilterIncludeSubmit?i.FilterIncludeSubmit:i.FormIncludeSubmit,i.Request=i.FilterRequest?i.FilterRequest:i.FormRequest,i.DataRoot=i.FilterDataRoot?i.FilterDataRoot:i.FormDataRoot,i.RequireOriginal=!1,i.DisplayText=i.FormDisplayText?"Autocomplete"===i.ElementType?i.FormDisplayText:i.FormDisplayText.replace(/{{/g,"").replace(/}}/g,""):"Name",i.SavedKey=i.FormSavedKey?i.FormSavedKey.replace(/{{/g,"").replace(/}}/g,""):"Id",i.SavedText=i.FormSavedText?"Autocomplete"===i.ElementType?i.FormSavedText:i.FormSavedText.replace(/{{/g,"").replace(/}}/g,""):"Name"),t.formInline[i.Name]="",i.Dependency=[],$.each(t.Setting.Dependencies,function(t,e){e.Target===i.Name&&i.Dependency.push(e)}),i.displayControl=function(e){switch(e){case"hidden":i.hiddenInForm=!0,t.$forceUpdate();break;case"show":i.hiddenInForm=!1,t.$forceUpdate()}},"true"==i.FormIsHidden&&i.displayControl("hidden"),i.checkDataExist=function(e,a){var i=t.$Utils.updateParamsSingleRequest(t.$Lodash.cloneDeep(t.$singleRequest),t.Setting.Request.Search);$.each(e,function(t,e){i["R1_"+e.name]=e.val}),$.each(i,function(e,a){i[e]=t.$Utils.expressionToString(t.objSourceData,a+"")}),t.$Utils.postCheckResult(i).then(function(e){e.success&&e.R1.success?a(t.$Utils.getDataWithRoot(e.R1,t.Setting.Request.Search.RootData)):a()})},i.onChange=function(e,a){(t.$Utils.isEmpty(a)&&"Label"!=a||!t.$Utils.isEmpty(a))&&t.checkDependencies(e)},o=!1,$.each(a,function(t,e){e.key.indexOf(i.Name)>=0&&(e.fields[e.key.indexOf(i.Name)+1]=i,o=!0)}),o||t.listElements.push(i)}i.Dependency=[],$.each(t.Setting.Dependencies,function(t,e){e.Target==i.Name&&i.Dependency.push(e)}),t.fields[i.Name]=i});var i=[];$.each(a,function(e,a){i=i.concat(a.fields),$.each(a.calculator,function(e,a){a&&""!=a&&t.objCalculator.push(a)})}),this.listElements=i.concat(this.listElements),this.listButton=[];var s=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser));$.each(this.Setting.Buttons,function(a,i){var o=!1;if(i.ElementType="Button",t.$Utils.isEmpty(i.UserPermissions,"0")&&($.each(i.UserPermissions,function(t,e){var a=s.Roles,i=s.Groups;$.each(a,function(t,a){e===a.GroupId&&(o=!0)}),$.each(i,function(t,a){e===a.GroupId&&(o=!0)})}),!1===o&&(i.Permitted=!0)),"string"==typeof i.ExtraSetting&&$.each(t.$Utils.stringToObject(i.ExtraSetting),function(t,e){i[t]=e}),t.$Utils.isEmpty(i,"Value")){var n=t.$Utils.stringToObject(i.Value);$.each(n,function(t,e){""!=e&&(i[t]=e)})}switch(t.$Utils.isEmpty(i.FormJsonExpression)&&$.each(i.FormJsonExpression,function(t,e){i[t]=e}),i.displayControl=function(e){switch(e){case"hidden":i.hiddenInForm=!0;break;case"show":i.hiddenInForm=!1}t.$forceUpdate()},i.ButtonType){case"Popup":i.ModuleCode=i.PopupModule,i.onClick=function(){t.Setting.functions.openPopUp(t.objSourceData,t)};break;case"Click":switch(i.Action){case"Subscribe":if(i.displayControl("hidden"),t.Setting.sendData.Id){var l={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestFields:"Id;Subscribe",R1_RequestTemplate:"AG_Task_Task.Search",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_Id:t.Setting.sendData.Id};t.$Utils.post(l).then(function(e){if(e=t.$Utils.getDataWithRoot(e,"R1.Data.TasksDS.Task")){var a=e[0].Subscribe?e[0].Subscribe.split(";"):[];a=a.filter(function(t){return""!=t}),a&&-1!=a.indexOf(t.$Utils.getUserInfo("UserId"))?i.CaseHidden&&""!=i.CaseHidden?i.CaseHidden.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("hidden")})}):i.CaseDisplay&&""!=i.CaseDisplay&&i.CaseDisplay.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("show")})}):(i.displayControl("show"),i.CaseDisplay&&""!=i.CaseDisplay&&i.CaseDisplay.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("hidden")})}))}})}i.onClick=function(){t.currentButtonSetting=i;var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestFields:"Id;Subscribe",R1_RequestTemplate:"AG_Task_Task.Search",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_Id:t.Setting.sendData.Id};t.$Utils.post(e).then(function(e){if(e=t.$Utils.getDataWithRoot(e,"R1.Data.TasksDS.Task")){var a=e[0].Subscribe?e[0].Subscribe.split(";"):[];if((a=a.filter(function(t){return""!=t}))&&-1!=a.indexOf(t.$Utils.getUserInfo("UserId")))t.$Utils.showMessage("error","Bạn đang theo dõi Công việc này");else{a.push(t.$Utils.getUserInfo("UserId"));var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;Subscribe",R1_Id:t.Setting.sendData.Id,R1_Subscribe:a.join(";")};t.$Utils.post(i).then(function(e){t.$Utils.showMessage("success","Đăng ký theo dõi thành công"),t.currentButtonSetting.displayControl("hidden"),console.log("a"),t.currentButtonSetting.CaseHidden&&""!=t.currentButtonSetting.CaseHidden?t.currentButtonSetting.CaseHidden.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("hidden")})}):t.currentButtonSetting.CaseDisplay&&""!=t.currentButtonSetting.CaseDisplay&&t.currentButtonSetting.CaseDisplay.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("show")})})});var s={RequestClass:"xBase",Parent:t.Setting.sendData.Id,Child:t.$Utils.getUserInfo("UserId"),Code:"Subscribe",Name:"Subscribe",RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser",RequestTemplate:"Permission.Insert"};t.$Utils.post(s).then(function(t){});var o={RequestClass:"xBase",Parent:t.Setting.sendData.Id,Child:t.$Utils.getUserInfo("UserId"),Code:"Email",Name:"Email",RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser",RequestTemplate:"Permission.Insert"};t.$Utils.post(o).then(function(t){})}}})};break;case"Unsubscribe":i.displayControl("hidden"),i.onClick=function(){t.currentButtonSetting=i;var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestFields:"Id;Subscribe",R1_RequestTemplate:"AG_Task_Task.Search",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_Id:t.Setting.sendData.Id};t.$Utils.post(e).then(function(e){if(e=t.$Utils.getDataWithRoot(e,"R1.Data.TasksDS.Task")){var a=e[0].Subscribe?e[0].Subscribe.split(";"):[];if(a=a.filter(function(t){return""!=t})){a=a.filter(function(e){return e!==t.$Utils.getUserInfo("UserId")});var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;Subscribe",R1_Id:t.Setting.sendData.Id,R1_Subscribe:a.length>0?a.join(";"):";"};t.$Utils.post(i).then(function(e){t.$Utils.showMessage("success","Huỷ đăng ký theo dõi thành công"),t.currentButtonSetting.displayControl("hidden"),t.currentButtonSetting.CaseHidden&&""!=t.currentButtonSetting.CaseHidden?t.currentButtonSetting.CaseHidden.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("hidden")})}):t.currentButtonSetting.CaseDisplay&&""!=t.currentButtonSetting.CaseDisplay&&t.currentButtonSetting.CaseDisplay.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("show")})})});var s={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;Code;Child",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:t.Setting.sendData.Id,Child:t.$Utils.getUserInfo("UserId"),Code:"Subscribe;Email"};t.$Utils.post(s).then(function(e){var a=1==e.TotalCount?[e.Data.DataDS.Linked]:e.Data.DataDS.Linked,i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:a.length,RequestTemplate:"Permission.Remove"};$.each(a,function(t,e){i["R"+(t+1)+"_Id"]=e.Id,i["R"+(t+1)+"_Parent"]=e.Parent,i["R"+(t+1)+"_Child"]=e.Child,i["R"+(t+1)+"_Code"]=e.Code}),t.$Utils.post(i).then(function(){})})}}})};break;case"Update":i.onClick=function(){t.$Utils.isEmpty(t.Setting.functions,"checkComment")&&t.Setting.functions.checkComment(),t.currentButtonSetting=i,e.LoadStart=e.$Utils.showLoading("start"),t.getElementData(0,[])};break;case"Copy":i.onClick=function(){t.currentButtonSetting=i,t.objSourceData={},t.getElementData(0,[])};break;case"Clear":i.onClick=function(){t.onClear()};break;case"Submit":i.onClick=function(){t.currentButtonSetting=i;var e={},a=t.$Lodash.cloneDeep(t.$singleRequest);a.R1_RequestDataGroup=t.Setting.DataGroup,a.R1_RequestTemplate=t.Setting.DataSource+".Update",a.R1_RequestFields="Id;",a.R1_Id=t.objSourceData.Id,t.currentButtonSetting.Filters&&t.currentButtonSetting.Filters.forEach(function(i){if("Now"==i.Value){var s=new Date,o=t.$Utils.formatDateTime(s);e[i.Key]=o,t.objSourceData[i.Key]=o}else e[i.Key]=i.Value,t.objSourceData[i.Key]=i.Value;a.R1_RequestFields+=i.Key+";"}),a=t.$Utils.updateParamsSingleRequest(a,e),t.$Utils.post(a).then(function(e){e.success&&e.R1.success&&(t.currentButtonSetting.displayControl("hidden"),t.currentButtonSetting.CaseHidden&&""!=t.currentButtonSetting.CaseHidden?t.currentButtonSetting.CaseHidden.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("hidden")})}):t.currentButtonSetting.CaseDisplay&&""!=t.currentButtonSetting.CaseDisplay&&t.currentButtonSetting.CaseDisplay.split(";").forEach(function(e){t.listButton.forEach(function(t){t.Code==e&&t.displayControl("show")})}),t.submitDefault(t.objSourceData))})};break;case"CloseModal":i.onClick=function(){t.$hub.$emit("close-modal")};break;case"Print":console.log(i.HtmlTemplate),i.onClick=function(){var t=e.$Utils.decodeHtmlEntities(i.HtmlTemplate),a=i.FormJsonExpression,s=e.$parent.listVal;try{if(a.loops){var o=0;$.each(a.loops,function(e,i){var n=0,l="",r=t+"";r=r.split("<"+e+">"),l=r[1].split("</"+e+">")[0];var c="";$.each(s[i.listCode],function(t,s){var r=l+"";$.each(s,function(t,s){a.sums&&a.sums[e]&&t==a.sums[e].sumValue&&(n+=parseInt(s)),i.autoId&&(r=r.replaceAll("{"+i.autoId+"}",i.autoId+""+o++)),r=r.replaceAll("{{"+t+"}}",(s+"").replaceAll(".00",""))}),c+=r}),t=t.replaceAll(l,c),t=t.replaceAll("{{"+a.sums[e].sumKey+"}}",n)})}if($.each(e.arrResult,function(e,a){t=t.replaceAll("{{"+e+"}}",a.value)}),a.additions){var n=e.arrResult;$.each(a.additions,function(e,a){var i=a.split(".");$.each(i,function(t,e){n=n[e]}),t=t.replaceAll("{{"+a+"}}",n)})}$.each(a.allVariables,function(e,a){t.indexOf("{{"+a+"}}")>-1&&(t=t.replaceAll("{{"+a+"}}",""))}),t=t.replaceAll("undefined","");var l=window.open("","PRINT",a.paper);l.document.write(t),setTimeout(function(){l.document.close(),l.focus(),l.print(),l.close()},250)}catch(t){console.log(t)}}}break;case"Redirect":i.onClick=function(){i.Redirect.indexOf("=")>=0&&i.Redirect.indexOf("Default")>=0?(i.Redirect=t.$Utils.stringToObject(i.Redirect),$.each(i.Redirect,function(e,a){"Default"!=e&&(t.$Utils.isEmpty(t.Setting.parentSetting,"object")&&t.$Utils.isEmpty(t.Setting.parentSetting.object[e])?t.onRedirect(a,t.objSourceData):t.onRedirect(i.Redirect.Default,t.objSourceData))})):t.onRedirect(i.Redirect,t.objSourceData)}}(!t.$Utils.isEmpty(t.Setting,"parentSetting")||t.Setting.parentSetting.set.ButtonType!=i.PreAction&&t.Setting.parentSetting.set.ElementType!=i.PreAction)&&(t.$Utils.isEmpty(t.Setting,"parentSetting")&&(t.$Utils.isEmpty(t.Setting.parentSetting.set.ButtonType)||t.$Utils.isEmpty(t.Setting.parentSetting.set.ElementType))||"Redirect"!=i.PreAction)?t.$Utils.isEmpty(i.PreAction)&&""!=i.PreAction||t.listButton.push(i):t.listButton.push(i)}),Array.isArray(this.Setting.SubElements)&&$.each(this.Setting.SubElements,function(e,a){a.ModuleCode=a.SubElement;var i=t.$Lodash.cloneDeep(t.objSourceData),s=t.Setting.Link;if(t.$Utils.isEmpty(s)){var o=s[a.DataGroup];t.$Utils.isEmpty(o)&&(i={},$.each(o,function(e,a){t.$Utils.isEmpty(t.objSourceData[a.Source])&&(i[a.Target]=t.objSourceData[a.Source]),t.$Utils.isEmpty(t.objSourceData[a.Source+"Name"])&&(i[a.Target+"Name"]=t.objSourceData[a.Source+"Name"])}),!t.$Utils.isEmpty(i.Id)&&t.$Utils.isEmpty(t.Setting,"parentSetting")&&(i.Id=t.Setting.parentSetting.object.Id))}a.parentSetting={object:i,set:t.$Lodash.cloneDeep(a),callback:t.Setting.functions}}),this.subElementObject={Module:this.Setting.SubElements?this.Setting.SubElements:[],directiveType:"inside"}},getVal:function(){var t=this;return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(e,a){t.Setting.functions.getElementData(0,[],function(a){e(t.arrResult)})})},getElementData:function(t,e,a){var i=this;i.$refs.formInline.validate(function(s){if(!s)return i.LoadStart&&(i.$nextTick(function(){i.$Utils.showLoading("stop",i.LoadStart)}),i.LoadStart=void 0),i.$Utils.showMessage("error","Chưa nhập đủ các trường bắt buộc"),!1;t<i.subElementObject.Module.length?i.$Utils.isEmpty(i.subElementObject.Module[t],"functions.getVal")?i.subElementObject.Module[t].functions.getVal().then(function(s){var o=i.Setting.SubElements[t],n=i.Setting.Link?i.Setting.Link[i.Setting.SubElements[t].DataGroup]:[];if(o.IncludeElementData){$.each(n,function(e,a){if($.each(s,function(t,e){t==a.Target&&(i.arrResult[a.Source]=e,i.ChildFields+=a.Source+";",i.$Utils.isEmpty(e.setting,"DynamicText")&&i.$Utils.isEmpty(i.arrResult,a.Source+"Name")&&(i.arrResult[a.Source+"Name"]=s[e.setting.DynamicText],i.arrResult[a.Source+"Name"].Name=a.Source+"Name",i.ChildFields+=a.Source+"Name;"),i.arrResult[a.Source].Name=a.Source)}),i.$Utils.isEmpty(i.subElementObject.Module[t],"functions.getobjSourceData")){var o=i.subElementObject.Module[t].functions.getobjSourceData();$.each(o,function(t,e){t==a.Target&&(i.objSourceData[a.Source]||(i.objSourceData[a.Source]=e),i.$Utils.isEmpty(o,a.Target+"Name")&&(i.objSourceData[a.Source+"Name"]=o[a.Target+"Name"]))})}})}i.getElementData(t+1,e,a)}):i.getElementData(t+1,e,a):i.getFieldsData(0,e,a)})},getFieldsData:function(t,e,a){var i=[];$.each(this.arrResult,function(t,e){i.push(e)}),this.calculatorFieldsData(0,i,a)},calculatorFieldsData:function calculatorFieldsData(intCount,arrResult,callback){var ctrl=this;if(ctrl.objCalculator&&intCount<ctrl.objCalculator.length){var calculatorField=ctrl.objCalculator[intCount],object={name:calculatorField.Name,setting:calculatorField,submit:"true"==calculatorField.IncludeSubmit,validate:!0,value:""};switch(calculatorField.ElementType){case"DataInside":if(object.value=ctrl.$Lodash.cloneDeep(calculatorField.Value),calculatorField.Expression){object.value="";var source=ctrl.$Lodash.cloneDeep(ctrl.objSourceData);$.each(arrResult,function(t,e){e.submit&&(source[e.name]=e.value)}),$.each(ctrl.$Utils.stringToArray(calculatorField.Expression),function(t,e){e.condition=ctrl.$Utils.expressionToString(source,e.condition),ctrl.$Utils.compareStringExpression(e.condition)&&(object.value=e.result)});var defaultObject=ctrl.$Utils.stringToObject(calculatorField.Value);ctrl.$Utils.isEmpty(defaultObject,object.value)&&(object.value=defaultObject[object.value]),object.value=ctrl.$Utils.expressionToString(source,object.value)}break;case"DateTimeNow":var format=null;ctrl.$Utils.isEmpty(calculatorField,"Format")&&(format=calculatorField.Format),object.value=ctrl.$Utils.formatDateTime(new Date,format);break;case"CombineData":object.submit=!0;for(var exp=calculatorField.Expression?calculatorField.Expression:"",replacedExpression="";""!=exp;)if(exp.indexOf("{{")>=0&&exp.indexOf("}}")>exp.indexOf("{{")){replacedExpression+=exp.substr(0,exp.indexOf("{{"));var key=exp.substr(exp.indexOf("{{")+2,exp.indexOf("}}")-exp.indexOf("{{")-2),name=ctrl.$Lodash.cloneDeep(key),value="",childParse="";if(key.indexOf(".")>0&&(name=key.substr(0,key.indexOf(".")).trim(),value=key.substr(key.indexOf(".")+1,key.length).trim(),value.indexOf("!!")>0&&(childParse=ctrl.$Lodash.clone(value).substr(ctrl.$Lodash.cloneDeep(value).indexOf("!!")+2,ctrl.$Lodash.cloneDeep(value).length).trim(),value=value.substr(0,value.indexOf("!!")).trim())),"$Random"==name)replacedExpression+=("0000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6);else{for(var exist=!1,i=0;i<arrResult.length;i++)if(arrResult[i].name==name){if(""!=value&&""==childParse)ctrl.$Utils.isEmpty(arrResult[i],"ori."+value)?replacedExpression+=arrResult[i].ori[value]:ctrl.$Utils.isEmpty(ctrl.objSourceData,calculatorField.Name)&&(replacedExpression+=ctrl.objSourceData[calculatorField.Name]);else if(""!=value&&""!=childParse){if("string"==typeof arrResult[i].ori[value]){var objValue=JSON.parse(arrResult[i].ori[value]);ctrl.$Utils.isEmpty(objValue,childParse)&&("string"==typeof objValue[childParse]?replacedExpression+=objValue[childParse]:replacedExpression+=ctrl.$Utils.isEmpty(objValue[childParse],"0")?objValue[childParse][0][calculatorField.DynamicValue]:objValue[childParse][calculatorField.DynamicValue])}}else ctrl.$Utils.isEmpty(arrResult[i].value)&&""!=arrResult[i].value?replacedExpression+=arrResult[i].value:replacedExpression+=0;exist=!0}if(exist||ctrl.$Utils.isEmpty(ctrl.objSourceData,name)&&(replacedExpression+=ctrl.objSourceData[name],exist=!0),!exist)switch(calculatorField.FieldColumnType){case"Integer":case"Double":replacedExpression+=0}}exp=exp.substr(exp.indexOf("}}")+2,exp.length)}else replacedExpression+=exp,exp="";switch(calculatorField.FieldColumnType){case"Condition":object.value=replacedExpression,""==replacedExpression&&ctrl.$Utils.isEmpty(ctrl.Setting.parentSetting.object,object.name)&&(object.value=ctrl.Setting.parentSetting.object[object.name]);break;case"String":object.value=replacedExpression;break;case"Integer":object.value=0,""!==replacedExpression&&(object.value=parseInt(ctrl.$Utils.calculator(replacedExpression))),!isNaN(calculatorField.Min)&&object.value<calculatorField.Min&&(object.value=calculatorField.Min);break;case"Double":object.value=0,""!==replacedExpression&&(object.value=ctrl.$Utils.calculator(replacedExpression).toFixed(2),object.value+""=="NaN"&&(object.value=0)),!isNaN(calculatorField.Min)&&object.value<calculatorField.Min&&(object.value=calculatorField.Min.toFixed(2));break;case"DateTime":var str="";ctrl.$Utils.isEmpty(calculatorField,"Format")&&(str=ctrl.$Utils.formatDateTime(ctrl.$Utils.stringToDate(replacedExpression),calculatorField.Format)),object.value=str.trim()}break;case"CompareValue":var compareKey=calculatorField.Expression.split(";"),newValue;switch(calculatorField.Expression&&calculatorField.Expression.indexOf(";")&&$.each(compareKey,function(t,e){$.each(arrResult,function(t,a){a.name==e&&(ctrl.$Utils.isEmpty(newValue)?"Max"==calculatorField.FormValue&&a.value>newValue?newValue=a.value:"Min"==calculatorField.FormValue&&a.value<newValue&&(newValue=a.value):newValue=a.value)})}),calculatorField.FieldColumnType){case"Condition":object.value=newValue,""==newValue&&ctrl.$Utils.isEmpty(ctrl.Setting.parentSetting.object,object.name)&&(object.value=ctrl.Setting.parentSetting.object[object.name]);break;case"String":object.value=newValue;break;case"Integer":object.value=0,""!==newValue&&(object.value=ctrl.$Utils.calculator(newValue)),!isNaN(calculatorField.Min)&&object.value<calculatorField.Min&&(object.value=calculatorField.Min);break;case"Double":object.value=0,""!==newValue&&(object.value=ctrl.$Utils.calculator(newValue).toFixed(2),object.value+""=="NaN"&&(object.value=0)),!isNaN(calculatorField.Min)&&object.value<calculatorField.Min&&(object.value=calculatorField.Min.toFixed(2))}break;case"ConditionalStatement":object.submit=!0;for(var replacedExpression="",obj=calculatorField.FormJsonExpression?calculatorField.FormJsonExpression:"",exp=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(obj);""!=exp;)if(exp.indexOf("(!(")>=0&&exp.indexOf(")!)")>exp.indexOf("(!(")){replacedExpression+=exp.substr(0,exp.indexOf("(!("));var key=exp.substr(exp.indexOf("(!(")+3,exp.indexOf(")!)")-exp.indexOf("(!(")-3),name=ctrl.$Lodash.cloneDeep(key),value="";if("$Random"==name)replacedExpression+=("0000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6);else if(name.indexOf("Phase_")>=0)replacedExpression+="(!("+name+")!)";else{for(var exist=!1,i=0;i<arrResult.length;i++)arrResult[i].name==name&&(""!=value?ctrl.$Utils.isEmpty(arrResult[i],"ori."+value)?replacedExpression=arrResult[i].ori[value]:ctrl.$Utils.isEmpty(ctrl.objSourceData,calculatorField.Name)&&(replacedExpression+=ctrl.objSourceData[calculatorField.Name]):ctrl.$Utils.isEmpty(arrResult[i].value)?replacedExpression+=arrResult[i].value:replacedExpression+=0,exist=!0);if(exist||ctrl.$Utils.isEmpty(ctrl.objSourceData,name)&&(replacedExpression+=ctrl.objSourceData[name],exist=!0),!exist)switch(calculatorField.FieldColumnType){case"Integer":case"Double":replacedExpression+=0}}exp=exp.substr(exp.indexOf(")!)")+3,exp.length)}else replacedExpression+=exp,exp="";for(var arrExpression=[],caseExpression=ctrl.$Lodash.cloneDeep(JSON.parse(replacedExpression)),j=1;j<=caseExpression.NumberCase;j++)if(ctrl.$Utils.isEmpty(caseExpression["Case_"+j],"Option")?arrExpression["Case_"+j]=caseExpression["Case_"+j].Option.replaceAll(".SUP","'"):arrExpression["Case_"+j]=!0,(1==eval(arrExpression["Case_"+j])||!ctrl.$Utils.isEmpty(caseExpression["Case_"+j].Option))&&""==object.value)if("string"==typeof caseExpression["Case_"+j].Result)if(caseExpression["Case_"+j].Result.indexOf("||")){object.value=caseExpression["Case_"+j].Result.split("||")[0];var displayObject={name:calculatorField.DynamicText,setting:calculatorField,submit:"true"==calculatorField.IncludeSubmit,validate:!0,value:caseExpression["Case_"+j].Result.split("||")[1]};arrResult.push(displayObject)}else object.value=caseExpression["Case_"+j].Result;else{var arrsuppExpression=[],objPhase=[];$.each(caseExpression["Case_"+j].Result,function(ekey,evalue){if(objPhase[ekey]="","TotalResult"!=ekey)for(var k=1;k<=evalue.NumberCase;k++)ctrl.$Utils.isEmpty(evalue["Case_"+k],"Option")?arrsuppExpression["Case_"+k]=evalue["Case_"+k].Option.replaceAll(".SUP","'"):arrsuppExpression["Case_"+k]=!0,1!=eval(arrsuppExpression["Case_"+k])&&ctrl.$Utils.isEmpty(evalue["Case_"+k].Option)||""!=objPhase[ekey]||"string"==typeof evalue["Case_"+k].Result&&(objPhase[ekey]=evalue["Case_"+k].Result)});for(var supExp=ctrl.$Lodash.cloneDeep(caseExpression["Case_"+j].Result.TotalResult),replacedSupExpression="";""!=supExp;){if(supExp.indexOf("(!(")>=0&&supExp.indexOf(")!)")>supExp.indexOf("(!(")){replacedSupExpression+=supExp.substr(0,supExp.indexOf("(!("));var skey=supExp.substr(supExp.indexOf("(!(")+3,supExp.indexOf(")!)")-supExp.indexOf("(!(")-3),sname=ctrl.$Lodash.cloneDeep(skey),svalue="";ctrl.$Utils.isEmpty(objPhase,sname)&&(replacedSupExpression+=objPhase[sname],exist=!0),supExp=supExp.substr(supExp.indexOf(")!)")+3,supExp.length)}else replacedSupExpression+=supExp,supExp="";object.value=eval(replacedSupExpression)}}break;case"UserInfo":object.value=ctrl.$Utils.getUserInfo(calculatorField.Value)}var source={};switch($.each(arrResult,function(t,e){source[e.name]=e.value}),ctrl.$Utils.isEmpty(calculatorField.FormDependOn)&&""!=calculatorField.FormDependOn&&ctrl.$Utils.isEmpty(source,calculatorField.FormDependOn)&&(source[calculatorField.FormDependOn]==calculatorField.FormDependValue?object.value=ctrl.$Utils.expressionToString(source,calculatorField.Expression):object.value="1"),calculatorField.DataChangeType){case"DependEmpty":ctrl.$Utils.isEmpty(ctrl.objSourceData,calculatorField.DataDependOn)&&(object.value=ctrl.objSourceData[object.name]);break;case"DependExist":ctrl.$Utils.isEmpty(ctrl.objSourceData,calculatorField.DataDependOn)||(object.value=ctrl.objSourceData[object.name]);break;case"DependOnSameAsValue":!ctrl.$Utils.isEmpty(ctrl.objSourceData,calculatorField.DataDependOn,!0)==ctrl.listHidden[intCount].DependOnValue&&(object.value=ctrl.objSourceData[object.name]);break;case"DependOnDifferentThanValue":ctrl.$Utils.isEmpty(ctrl.objSourceData,calculatorField.DataDependOn,!0)==ctrl.listHidden[intCount].DependOnValue&&(object.value=ctrl.objSourceData[object.name]);break;case"UsingOldData":ctrl.$Utils.isEmpty(ctrl.objSourceData[calculatorField.Name])&&(object.value=ctrl.objSourceData[calculatorField.Name])}arrResult.push(object),ctrl.calculatorFieldsData(intCount+1,arrResult,callback)}else{if(ctrl.$Utils.isEmpty(ctrl.Setting.parentSetting,"isCall")&&ctrl.Setting.Code==ctrl.$rootScope.loggedOnUser.SupportForm){if(ctrl.$Utils.isEmpty(ctrl.Setting.parentSetting.object.CallId)){var params={RequestClass:"CallCenter",RequestAction:"GetCall",PhoneNumber:"",AgentCode:ctrl.$rootScope.loggedOnUser.LoginName,UserID:ctrl.$rootScope.loggedOnUser.UserId,CallType:"",CallService:"",ContactID:"",CallID:"",Group:"",Extension:"",CallURL:"https://api.ccall.vn/cdrs/json",api_key:ctrl.$rootScope.loggedOnUser.ApiKey,api_secret:ctrl.$rootScope.loggedOnUser.ApiSecret,source:"",call_id:ctrl.Setting.parentSetting.object.CallId,cid_name:"",date_range:"",destination:"",direction:"",hangup_cause:"",limit:"",page:""};ctrl.$Utils.post(params).then(function(t){t=ctrl.$Utils.getDataWithRoot(t,"response.0.Cdr")[0],ctrl.$Utils.isEmpty(t,"recording_file")&&(ctrl.objSourceData.RecordFile=t.recording_file),ctrl.objSourceData.TimeSupport=ctrl.$Utils.isEmpty(t,"duration")?moment.duration(t.duration,"HH:mm:ss").asSeconds():"",ctrl.objSourceData.Extension=ctrl.$rootScope.loggedOnUser.Extension,ctrl.objSourceData.TypeCall=t.direction,ctrl.objSourceData.IsType=1,"object"===(void 0===t?"undefined":__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default()(t))?ctrl.Setting.functions.saveValue(arrResult,callback):ctrl.$Utils.showMessage("error","Chưa lấy được thông tin cuộc gọi")})}}else ctrl.saveValue(arrResult,callback);ctrl.$Utils.isEmpty(ctrl.Setting.parentSetting,"listTask")&&$.each(ctrl.Setting.parentSetting.listTask,function(t,e){var a=ctrl.$Utils.isEmpty(ctrl.objSourceData)?ctrl.$Lodash.cloneDeep(ctrl.objSourceData):{},i=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);i.R1_Id=e.Id,i.R1_RequestDataGroup=ctrl.Setting.DataGroup,i.R1_RequestTemplate=ctrl.Setting.DataSource+".Update",ctrl.Setting.SubmitType="Update",i.R1_RequestFields="Id;",$.each(arrResult,function(t,e){"Id"!=e.name&&(i["R1_"+e.name]=e.value,i.R1_RequestFields+=e.name+";")}),ctrl.$Utils.post(i).then(function(t){t.success?(ctrl.$Utils.showMessage("success",ctrl.$toastMessage.updateItemPre+ctrl.$toastMessage.updateItemSuf),ctrl.objSourceData=ctrl.$Lodash.cloneDeep(a),"inside"==ctrl.Setting.directiveType&&"page"!=ctrl.Setting.place?callback(a):submitDefault(a)):ctrl.$Utils.showMessage("error",ctrl.$toastMessage.updateItemFailed)})})}},saveValue:function(t,e){var a=this,i=a.$Utils.isEmpty(a.objSourceData)?a.$Lodash.cloneDeep(a.objSourceData):{},s=a.$Lodash.cloneDeep(a.$singleRequest);s=a.$Utils.updateParamsSingleRequest(s,a.objSourceData),$.each(t,function(t,e){if(a.$Utils.isEmpty(e,"value")&&(i[e.name]=e.value,e.submit&&a.$Utils.isEmpty(e.value))){if(a.$Utils.isEmpty(e,"setting")&&"MultiTree"==e.setting.ElementType){var o=e.value.split(";").length;for($.each(e.value.split(";"),function(t,i){if(a.$Utils.isEmpty(i)&&""!=i){var o=t+1;s["R1_"+e.name+"Level"+o]=i}});a.$Utils.isEmpty(s["R1_"+e.name+"Level"+o])&&""!=s["R1_"+e.name+"Level"+o];)delete s["R1_"+e.name+"Level"+o],o++}s["R1_"+e.name]=e.value,s.R1_RequestFields&&s.R1_RequestFields.indexOf(";"+e.name+";")<0&&0!=s.R1_RequestFields.indexOf(e.name+";")&&(s.R1_RequestFields+=e.name+";")}}),a.$Utils.isEmpty(a.currentButtonSetting,"CreateNew")&&"true"==a.currentButtonSetting.CreateNew&&$.each(t,function(e,i){a.$Utils.isEmpty(i.oldDisplay)&&""!=i.oldDisplay&&(t[e].oldDisplay="")}),a.compareChange(i,t).then(function(o){if(o.length>0&&"false"!=a.Setting.SaveElementData){a.arrayChanged=o,s.R1_RequestDataGroup=a.Setting.DataGroup,a.$Utils.isEmpty(i.Id)&&(!a.$Utils.isEmpty(a.Setting,"parentSetting.object.ReferenceId")&&a.$Utils.isEmpty(a.Setting,"parentSetting.set.Value")&&a.Setting.parentSetting.set.Value.indexOf("ReferenceId")<0||!a.$Utils.isEmpty(a.Setting,"parentSetting.set.Value"))?(s.R1_RequestTemplate=a.Setting.DataSource+".Update",a.Setting.SubmitType="Update"):(s.R1_RequestTemplate=a.Setting.DataSource+".Insert",a.Setting.SubmitType="Insert",s.R1_CreatedByName=a.$Utils.getUserInfo("Username"),i.Created=a.$Utils.formatDateTime(new Date,"DD/MM/YYYY"),a.$Utils.isEmpty(a.Setting,"parentSetting.object.ReferenceId")&&a.$Utils.isEmpty(a.Setting,"parentSetting.set.Value")&&a.Setting.parentSetting.set.Value.indexOf("ReferenceId")>=0&&(s.R1_RequestTemplate=a.Setting.DataSource+".Insert",s.R1_ReferenceId=s.R1_ReferenceId&&""!=s.R1_ReferenceId?s.R1_ReferenceId:a.Setting.parentSetting.object.ReferenceId,s.R1_NestedSetType=a.Setting.parentSetting.object.NestedSetType)),s.R1_ModifiedByName=a.$Utils.getUserInfo("Username"),i.ModifiedByName=a.$Utils.getUserInfo("Username"),i.Version=isNaN(i.Version)?1:parseInt(i.Version)+1,s.R1_Version=i.Version,$.each(a.$Utils.stringToObject(a.$Utils.expressionToString(i,a.$Utils.objectToString(a.Setting.AdditionConditions))),function(t,e){s["R1_"+t]=e,i[t]=e,s.R1_RequestFields+=t+";"}),$.each(a.Setting.Fields,function(t,e){s.R1_RequestFields.indexOf(";"+e.Name+";")<0&&0!=s.R1_RequestFields.indexOf(e.Name+";")&&(s.R1_RequestFields+=e.Name+";")}),$.each(i,function(t,e){i[t]=a.$Utils.expressionToString(a,e+"")}),$.each(s,function(t,e){s[t]=a.$Utils.expressionToString(i,e+"")}),a.$Utils.isEmpty(a.Setting,"parentSetting.object.ReferenceId")&&a.$Utils.isEmpty(a.Setting,"parentSetting.set.Value")&&a.Setting.parentSetting.set.Value.indexOf("ReferenceId")>=0&&(s.R1_Id="",s.R1_ParentId="",delete s.R1_Id,delete s.R1_ParentId),"AG_Task_Task"==a.Setting.DataSource&&delete s.R1_Index,a.$Utils.isEmpty(a.currentButtonSetting,"CreateNew")&&"true"==a.currentButtonSetting.CreateNew&&(delete s.R1_Id,s.R1_RequestTemplate=a.Setting.DataSource+".Insert"),a.$Utils.isEmpty(a.Setting.parentSetting,"change")&&$.each(a.Setting.parentSetting.change,function(t,e){a.$Utils.isEmpty(s["R1_"+t])||(s["R1_"+t]=e)});var n=a.$Lodash.cloneDeep(i),l=a.$Lodash.cloneDeep(a.Setting);if("AG_Task_Task"==a.Setting.DataSource&&(a.$Utils.isEmpty(l,"parentSetting")&&delete l.parentSetting.object.Recurrence,a.$Utils.isEmpty(l,"sendData")&&delete l.sendData.Recurrence),$.each(l.Fields,function(t,e){"Select"!==e.ElementType&&"Multi"!==e.ElementType&&"Radio"!==e.ElementType&&"Tree"!==e.ElementType&&"MultiTree"!==e.ElementType&&"Autocomplete"!==e.ElementType||(delete e.Data,delete e.treeData,delete e.sourceData)}),$.each(l.Permissions,function(t,e){if(a.$Utils.isEmpty(e.Permissions))if(l.Permissions[t].Permissions=a.$Utils.stringToObject(e.Permissions),"Script"!=e.Name&&"Static"!=e.Name)for(var i=1;a.$Utils.isEmpty(e.Permissions["Value"+i]);)l.Permissions[t].Permissions["Value"+i]=n[e.Permissions["Value"+i]],i++;else"Script"==e.Name&&(l.Permissions[t].LeadershipDynamicOrganization=n[l.Permissions[t].LeadershipDynamicOrganization],l.Permissions[t].LeadershipDynamicProject&&(l.Permissions[t].LeadershipDynamicProject=n[l.Permissions[t].LeadershipDynamicProject]));else if("Replica"==e.Name){var s=a.$Lodash.cloneDeep(l.Permissions[t].DynamicPermissions.split(";"));l.Permissions[t].DynamicPermissions="",$.each(s,function(e,i){""!=i&&a.$Utils.isEmpty(n[i])&&(l.Permissions[t].DynamicPermissions+=n[i]+";")}),a.$Utils.isEmpty(l.Permissions[t].FormCode)&&a.$Utils.isEmpty(n.StatusDisplay)&&(l.Permissions[t].StatusDisplay=n.StatusDisplay)}}),s.R1_RequestTemplate==a.Setting.DataSource+".Insert"&&"AG_Task_Task"==a.Setting.DataSource){var r=[];r.push(a.$Utils.getUserInfo("UserId")),s.R1_UserList=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(r)}if(s.R1_FormSetting=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(l),s.R1_Changed=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(o),"undefined"!=i.Id&&"null"!=i.Id||delete i.Id,1==s.R1_State&&(s.R1_State=0),"AG_Task_Task"==a.Setting.DataSource&&(delete s.R1_Recurrence,delete s.R2_Recurrence),a.Setting.Attachment&&!s.R1_TotalDownload&&(s.R1_TotalDownload=0,s.R1_RequestFields+="TotalDownload;",a.Setting.Attachment=a.Setting.Attachment.split(";"),a.Setting.Attachment.forEach(function(t){t&&""!=t&&s.R1_TotalDownload++})),s.R1_RequestFields+=a.ChildFields+";",a.$Utils.isEmpty(a.currentButtonSetting,"BeforeUpdate"))switch(a.currentButtonSetting.BeforeUpdate){case"UpdateAnother":var c={};a.$Utils.isEmpty(a.currentButtonSetting.RequestBefore)&&$.each(a.currentButtonSetting.RequestBefore,function(o,n){$.each(n.RequestConditions.split(";"),function(t,e){n[e]&&(c[e.trim()]=n[e])});var l=a.$Lodash.cloneDeep(a.$singleRequest);$.each(c,function(t,e){l["R1_"+t]=e}),a.Setting.functions.replaceExpression(l,i),l.R1_RequestTemplate=n.RequestTemplate+"Search",a.$Utils.postCheckResult(l).then(function(o){if(o.success&&o.R1.success){var l=[],r=a.$Lodash.cloneDeep(a.$singleRequest),c={};delete c.TotalRequests;var d=a.$Utils.getDataWithRoot(o.R1,n.RootData),u={};$.each(d,function(t,e){if(c.RequestDataGroup=n.RequestDataGroup,c.RequestFields="Id;",a.$Utils.isEmpty(e,"Id")){c.RequestTemplate=n.RequestTemplate+"Update",c.Id=e.Id,u[e.Id]=[];var s=a.$Lodash.cloneDeep(e)}if(a.$Utils.isEmpty(n.ParentChild)&&"true"==n.ParentChild){var o=a.Setting.Link;if(a.$Utils.isEmpty(o)){var m=o[n.RequestDataGroup];a.$Utils.isEmpty(m)&&$.each(n.RequestFields.split(";"),function(t,e){$.each(m,function(t,s){"Id"!=s.Target&&a.$Utils.isEmpty(i[s.Source])&&s.Target==e&&(c[s.Target]=i[s.Source],c.RequestFields+=s.Target+";"),a.$Utils.isEmpty(i[s.Source+"Name"])&&s.Target==e&&(c[s.Target+"Name"]=i[s.Source+"Name"],c.RequestFields+=s.Target+"Name;")})})}}else $.each(i,function(t,e){c[t]=e});if(a.$Utils.isEmpty(n.Expression)){var p=n.Expression;$.each(p,function(t,s){for(var o=!1;1!=o;){if(s.indexOf("}}")>s.indexOf("{{")){var n=s.substr(s.indexOf("{{")+2,s.indexOf("}}")-s.indexOf("{{")-2),l=a.$Lodash.cloneDeep(n),r="";n.indexOf(".")>0&&(l=n.substr(0,n.indexOf(".")).trim(),r=n.substr(n.indexOf(".")+1,n.length).trim()),s="parent"==l&&a.$Utils.isEmpty(i,r)?s.replace("{{"+l+"."+r+"}}",i[r]):"child"==l&&a.$Utils.isEmpty(e,r)?s.replace("{{"+l+"."+r+"}}",e[r]):s.replace("{{"+l+"."+r+"}}",0)}s.indexOf("{{")<0&&(s=a.$Utils.calculator(s),o=!0)}a.$Utils.isEmpty(s)&&"string"!=typeof s&&(c[t]=s)})}if(a.$Utils.isEmpty(n.NewValue)){var h=n.NewValue;$.each(h,function(t,e){0==e.indexOf("{{")?c[t]=i[e.replaceAll("{{","").replaceAll("}}","")]:c[t]=e,c.RequestFields+=t+";"})}l.push(c),$.each(c,function(t,e){if(""!=t&&s[t]!=e&&-1===n.RequestConditions.split(";").indexOf(t)){var a={ColumnCaption:t,ColumnName:t,OldDisplayValue:s[t],OldValue:s[t],NewDisplayValue:e,NewValue:e,ChangeCaption:!0};u[c.Id].push(a)}}),r=a.$Utils.updateParamsSingleRequest(r,c,l.length),t==d.length-1&&(r.TotalRequests=l.length,a.$Utils.postCheckResult(r).then(function(t){if(t.success){if(1!=n.IsLogged)for(var e=0;e<r.TotalRequests;e++)a.createHistory(u[d[e].Id],d[e]);a.$Utils.showMessage("success",a.$toastMessage.updateItemPre+(r.Name?r.Name:"")+a.$toastMessage.updateItemSuf)}else a.$Utils.showMessage("error",a.$toastMessage.updateItemFailed)}))})}else a.$Utils.showMessage("error",a.$toastMessage.loadingDataFailed);a.checkSubmit(s,i,t,e)})});break;case"Calculator":a.objSetting=a.$Lodash.cloneDeep(a.currentButtonSetting.BeforeExpression);var d=a.$Lodash.cloneDeep(i);a.objSetting.Fields.split(";").forEach(function(t){d[t]=0});var u=a.$Lodash.cloneDeep(a.$singleRequest);u.TotalRequests=0;for(var m=1;m<=a.objSetting.R;m++)u["R"+m+"_RequestTemplate"]=a.objSetting["R"+m].RequestTemplate+".Search",u["R"+m+"_RequestDataGroup"]=a.objSetting["R"+m].RequestDataGroup,u["R"+m+"_RequestFields"]=a.objSetting["R"+m].RequestFields+a.objSetting["R"+m].Fields,a.objSetting["R"+m].UsedField.split(";").forEach(function(t){u["R"+m+"_"+t]=a.objSetting["R"+m][t]}),u.TotalRequests++,a.objSetting["R"+m].RequestFields.split(";").forEach(function(t){a.$Utils.isEmpty(a.objSetting["R"+m][t])&&"Code"!=t&&(t==a.objSetting["R"+m].SearchField?a.objSetting["R"+m].SearchField.split(";").forEach(function(t){""!==t&&(u["R"+m+"_"+t]=d[a.objSetting["R"+m][t]])}):u["R"+m+"_"+t]=d[a.objSetting["R"+m][t]])}),a.objSetting["R"+m].SearchField.split(";").forEach(function(t){""!==t&&(a.$Utils.isEmpty(a.objSetting["R"+m][t])&&u["R"+m+"_"+t]&&""===u["R"+m+"_"+t]||!u["R"+m+"_"+t])&&(u["R"+m+"_"+t]=NaN)});a.calculatorUProcessing(u,i,s,t,e);break;default:a.checkSubmit(s,i,t,e)}else a.checkSubmit(s,i,t,e)}else"inside"==a.Setting.directiveType&&"page"!=a.Setting.place?e(i):a.submitDefault(i)})},checkSubmit:function checkSubmit(request,returnData,arrSubmitData,callback){var _this4=this,ctrl=this;if(ctrl.$Utils.isEmpty(ctrl.currentButtonSetting,"doParallel"))switch(ctrl.currentButtonSetting.doParallel){case"UpdateAnotherFromSources":var currentButtonSetting=ctrl.$Lodash.cloneDeep(ctrl.currentButtonSetting),searchRequest=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);searchRequest.TotalRequests=currentButtonSetting.Source.Total;for(var targetSearchRequests=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest),targetUpdateRequests={},i=0;i<currentButtonSetting.Source.Total;i++)searchRequest=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()(searchRequest,currentButtonSetting.Source["R"+(i+1)].Static),$.each(currentButtonSetting.Source["R"+(i+1)].Condition,function(t,e){"RequestDataGroup"!==t&&(searchRequest["R"+(i+1)+"_"+t]=ctrl.objSourceData[e])});ctrl.$Utils.post(searchRequest).then(function(response){for(var requestIndex=0,Changed={},i=0;i<currentButtonSetting.Source.Total;i++){var dataRes=ctrl.$Utils.getDataWithRoot(response["R"+(i+1)],currentButtonSetting.Source["R"+(i+1)].StaticParam.DataSource),trueField=ctrl.$Lodash.cloneDeep(dataRes);targetSearchRequests.TotalRequests=dataRes.length,targetUpdateRequests.TotalRequests=dataRes.length,dataRes.forEach(function(item,index){Changed[index]=[],requestIndex++,$.each(currentButtonSetting.Target.Search,function(t,e){targetSearchRequests["R"+requestIndex+"_"+t]=e}),$.each(currentButtonSetting.Target.Update,function(t,e){targetUpdateRequests[requestIndex]||(targetUpdateRequests[requestIndex]={}),targetUpdateRequests[requestIndex][t]=e}),$.each(currentButtonSetting.Source["R"+(i+1)].SearchTargetMapping,function(t,e){if(targetSearchRequests["R"+(index+1)+"_"+t]=item[e],""!=e&&""!=item[e]&&trueField[item[t]]!=item[e]){var a={ColumnCaption:e,ColumnName:e,OldDisplayValue:trueField[e],OldValue:trueField[e],NewDisplayValue:item[e],NewValue:item[e],ChangeCaption:!0};Changed[index].push(a)}}),$.each(currentButtonSetting.Source["R"+(i+1)].Operations,function(k,v){if("Minus"===v.Operator?targetUpdateRequests[requestIndex][v.Target]=-parseInt(item[v.Agru2]):"Sum"===v.Operator&&(targetUpdateRequests[requestIndex][v.Target]=parseInt(item[v.Agru2])),""!=v&&""!=item[v]){var objC={ColumnCaption:v.Target,ColumnName:v.Target,OldDisplayValue:trueField[v],OldValue:trueField[v],NewDisplayValue:eval(targetUpdateRequests[requestIndex][v.Target]>0)?"+"+targetUpdateRequests[requestIndex][v.Target]:targetUpdateRequests[requestIndex][v.Target],NewValue:eval(targetUpdateRequests[requestIndex][v.Target]>0)?"+"+targetUpdateRequests[requestIndex][v.Target]:targetUpdateRequests[requestIndex][v.Target],ChangeCaption:!0};Changed[index].push(objC)}})})}ctrl.$Utils.post(targetSearchRequests).then(function(t){for(var e=0;e<targetSearchRequests.TotalRequests;e++){var a=ctrl.$Utils.getDataWithRoot(t["R"+(e+1)],currentButtonSetting.Target.StaticParam.DataSource)[0];if(targetUpdateRequests[e+1][currentButtonSetting.Target.StaticParam.Key]=a[currentButtonSetting.Target.StaticParam.Key],""!=currentButtonSetting.Target.StaticParam.Key&&""!=a[currentButtonSetting.Target.StaticParam.Key]&&trueField[currentButtonSetting.Target.StaticParam.Key]!=a[currentButtonSetting.Target.StaticParam.Key]&&"RequestTemplate"!=currentButtonSetting.Target.StaticParam.Key&&"Id"!=currentButtonSetting.Target.StaticParam.Key){var i={ColumnCaption:currentButtonSetting.Target.StaticParam.Key,ColumnName:currentButtonSetting.Target.StaticParam.Key,OldDisplayValue:trueField[currentButtonSetting.Target.StaticParam.Key],OldValue:trueField[currentButtonSetting.Target.StaticParam.Key],NewDisplayValue:a[currentButtonSetting.Target.StaticParam.Key],NewValue:a[currentButtonSetting.Target.StaticParam.Key],ChangeCaption:!0};Changed[e].push(i)}targetUpdateRequests[e+1].UpdateWarehouse=!0,targetUpdateRequests[e+1].RequestFields+=";UpdateWarehouse"}var s=!0;$.each(targetUpdateRequests,function(t,e){if(void 0==e||null==e||""===e||NaN===e)return s=!1,!1}),s?($.each(targetUpdateRequests,function(t,e){"TotalRequests"!=t&&(request=ctrl.$Utils.updateParamsSingleRequest(request,e,parseInt(t)+1),request.TotalRequests++)}),_this4.submitRequest(request,returnData,arrSubmitData,callback,Changed,t)):ctrl.$Utils.showMessage("error","Có lỗi dữ liêu, không thể tự động giữ hàng trong kho, vui lòng tự làm thủ công")})})}else this.submitRequest(request,returnData,arrSubmitData,callback)},submitRequest:function(t,e,a,i,s,o){var n=this,l=this;this.$Utils.post(t).then(function(r){if(r.success&&r.R1.success){if(l.$Utils.isEmpty(s)&&1!=l.currentButtonSetting.IsLogged)for(var c=1;c<t.TotalRequests;c++)l.createHistory(s[c-1],l.$Utils.getDataWithRoot(o["R"+c],l.currentButtonSetting.Target.StaticParam.DataSource)[0]);if(n.Setting.Attachment){var d=n.$Lodash.cloneDeep(n.Setting.Attachment);delete n.Setting.Attachment,n.Setting.clearUploaded(),d.forEach(function(t){if(t&&""!=t){var e={RequestClass:"xBase",RequestAction:"UpdateBinary",Parent:r.R1.Data,Id:t,StaticFields:"Parent;Id"};n.$Utils.post(e).then(function(t){})}})}if(!n.$Utils.isEmpty(e.Id)||n.$Utils.isEmpty(n.Setting,"parentSetting.object.ReferenceId")&&n.$Utils.isEmpty(n.Setting,"parentSetting.set.Value")&&n.Setting.parentSetting.set.Value.indexOf("ReferenceId")<0||n.$Utils.isEmpty(n.Setting,"parentSetting.set.Value")){e.Id=r.R1.Data,n.$Utils.isEmpty(r.R1.msg.Index)&&(e.Index=r.R1.msg.Index),n.$Utils.isEmpty(n.Setting,"Tabs")&&n.Setting.Tabs.indexOf("Attachment")>=0&&n.attachFunction.updateId(e.Id),e.Created=n.$Utils.formatDateTime(),e.CreatedBy=n.$Utils.getUserInfo("UserId"),Array.isArray(n.Setting.Permissions)&&n.addPermissionToObject(e,t),n.$Utils.isEmpty(n.Setting.parentSetting,"isCall")&&n.Setting.Code==n.$rootScope.loggedOnUser.CustomerForm&&(e.CallId=n.Setting.parentSetting.object.CallId);var u=n.$Lodash.cloneDeep(n.$singleRequest);u=n.$Utils.updateParamsSingleRequest(u,{RequestTemplate:"Permission.Insert",Parent:e.Id,Child:n.$Utils.getUserInfo("GroupRoot"),Code:"LinkObject",Name:e.Name+" - "+n.$Utils.getUserInfo("GroupRootName"),RequestAction:"LinkGroupToObject",ParentTable:"xObject",ChildTable:"tblGroup"})}else{var m=!1;if($.each(n.Setting.Permissions,function(t,e){e.AlwaysUpdatePermission&&(m=!0)}),m){var p={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestFields:"Id;Subscribe",R1_RequestTemplate:"AG_Task_Task.Search",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_Id:n.Setting.sendData.Id};n.$Utils.post(p).then(function(a){a=n.$Utils.getDataWithRoot(a,"R1.Data.TasksDS.Task"),e.Subscribe=n.$Utils.isEmpty(a,"0")?a[0].Subscribe:"",n.addPermissionToObject(e,t)})}else n.addPermissionToObject(e,t);e.ModifiedBy=n.$Utils.getUserInfo("UserId")}a.push({name:"Id",submit:!0,validate:!0,value:e.Id}),n.FinishLoading={},n.objSourceData=n.$Lodash.cloneDeep(e),"inside"==n.Setting.directiveType&&"page"!=n.Setting.place?i(e):n.submitDefault(e),n.$hub.$emit("close-modal")}else n.$Utils.showMessage("error",n.$toastMessage.updateItemFailed)})},submitDefault:function submitDefault(objReturn){var ctrl=this;if(ctrl.$Utils.isEmpty(ctrl.Setting.parentSetting)&&ctrl.$Utils.isEmpty(ctrl.Setting,"parentSetting.callback."+ctrl.Setting.parentSetting.set.AfterUpdate)&&("searchList"==ctrl.Setting.parentSetting.set.AfterUpdate?ctrl.Setting.parentSetting.callback[ctrl.Setting.parentSetting.set.AfterUpdate]():ctrl.Setting.parentSetting.callback[ctrl.Setting.parentSetting.set.AfterUpdate](objReturn)),ctrl.$Utils.isEmpty(ctrl.currentButtonSetting,"AfterUpdate"))switch(ctrl.currentButtonSetting.AfterUpdate){case"Redirect":ctrl.onRedirect(ctrl.currentButtonSetting.Redirect,objReturn);break;case"ClearValue":var clearArr=[];ctrl.$Utils.isEmpty(ctrl.Setting,"directiveType")&&"inside"==ctrl.Setting.directiveType||$.each(ctrl.Setting.Fields,function(t,e){ctrl.$Utils.isEmpty(e,"ClearAfter")&&"true"==e.ClearAfter&&clearArr.push(e)}),$.each(clearArr,function(t,e){ctrl.$Utils.isEmpty(e,"FormDefaultValue")?ctrl.fields[e.Name].dataToDefault():ctrl.fields[e.Name].clearData()});var clearChild=ctrl.currentButtonSetting.ClearChild?ctrl.currentButtonSetting.ClearChild.split(";"):[];$.each(clearChild,function(t,e){$.each(ctrl.$Utils.getDataWithRoot(ctrl.subElementObject,"Module"),function(t,a){e==a.Code&&(a.functions.setData({}),a.Fields(function(t){ctrl.$Utils.isEmpty(t,"clearData")&&t.clearData()}))})}),ctrl.objSourceData={},ctrl.autoLoad(!0);break;case"UpdateAnother":var conditionObject={};ctrl.$Utils.isEmpty(ctrl.currentButtonSetting.Request)&&$.each(ctrl.currentButtonSetting.Request,function(t,e){$.each(e.RequestConditions.split(";"),function(t,a){e[a]&&(conditionObject[a.trim()]=e[a])});var a=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);$.each(conditionObject,function(t,e){a["R1_"+t]=e}),ctrl.Setting.functions.replaceExpression(a,objReturn),a.R1_RequestTemplate=e.RequestTemplate+"Search",ctrl.$Utils.postCheckResult(a).then(function(t){if(t.success&&t.R1.success){var a=[],i=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest),s={};delete s.TotalRequests;var o=ctrl.$Utils.getDataWithRoot(t.R1,e.RootData),n={};$.each(o,function(t,l){if(s.RequestDataGroup=e.RequestDataGroup,s.RequestFields="Id;",ctrl.$Utils.isEmpty(l,"Id")){s.RequestTemplate=e.RequestTemplate+"Update",s.Id=l.Id,n[l.Id]=[];var r=ctrl.$Lodash.cloneDeep(l)}if(ctrl.$Utils.isEmpty(e.ParentChild)&&"true"==e.ParentChild){var c=ctrl.Setting.Link;if(ctrl.$Utils.isEmpty(c)){var d=c[e.RequestDataGroup];ctrl.$Utils.isEmpty(d)&&$.each(e.RequestFields.split(";"),function(t,e){$.each(d,function(t,a){"Id"!=a.Target&&ctrl.$Utils.isEmpty(objReturn[a.Source])&&a.Target==e&&(s[a.Target]=objReturn[a.Source],s.RequestFields+=a.Target+";"),ctrl.$Utils.isEmpty(objReturn[a.Source+"Name"])&&a.Target==e&&(s[a.Target+"Name"]=objReturn[a.Source+"Name"],s.RequestFields+=a.Target+"Name;")})})}}else $.each(objReturn,function(t,e){s[t]=e});if(ctrl.$Utils.isEmpty(e.Expression)){var u=e.Expression;$.each(u,function(t,e){for(var a=!1;1!=a;){if(e.indexOf("}}")>e.indexOf("{{")){var i=e.substr(e.indexOf("{{")+2,e.indexOf("}}")-e.indexOf("{{")-2),o=ctrl.$Lodash.cloneDeep(i),n="";i.indexOf(".")>0&&(o=i.substr(0,i.indexOf(".")).trim(),n=i.substr(i.indexOf(".")+1,i.length).trim()),e="parent"==o&&ctrl.$Utils.isEmpty(objReturn,n)?e.replace("{{"+o+"."+n+"}}",objReturn[n]):"child"==o&&ctrl.$Utils.isEmpty(l,n)?e.replace("{{"+o+"."+n+"}}",l[n]):e.replace("{{"+o+"."+n+"}}",0)}e.indexOf("{{")<0&&(e=ctrl.$Utils.calculator(e),a=!0)}ctrl.$Utils.isEmpty(e)&&"string"!=typeof e&&(s[t]=e)})}if(ctrl.$Utils.isEmpty(e.NewValue)){var m=e.NewValue;$.each(m,function(t,e){0==e.indexOf("{{")?s[t]=objReturn[e.replaceAll("{{","").replaceAll("}}","")]:s[t]=e,s.RequestFields+=t+";"})}a.push(s),$.each(s,function(t,a){if(""!=t&&r[t]!=a&&-1===e.RequestConditions.split(";").indexOf(t)){var i={ColumnCaption:t,ColumnName:t,OldDisplayValue:r[t],OldValue:r[t],NewDisplayValue:a,NewValue:a,ChangeCaption:!0};n[s.Id].push(i)}}),i=ctrl.$Utils.updateParamsSingleRequest(i,s,a.length),t==o.length-1&&(i.TotalRequests=a.length,ctrl.$Utils.postCheckResult(i).then(function(t){if(t.success){if(1!=e.IsLogged)for(var a=0;a<i.TotalRequests;a++)ctrl.createHistory(n[o[a].Id],o[a]);ctrl.$Utils.showMessage("success",ctrl.$toastMessage.updateItemPre+(i.Name?i.Name:"")+ctrl.$toastMessage.updateItemSuf)}else ctrl.$Utils.showMessage("error",ctrl.$toastMessage.updateItemFailed)}))})}else ctrl.$Utils.showMessage("error",ctrl.$toastMessage.loadingDataFailed);"Redirect"==ctrl.currentButtonSetting.AfterAction?ctrl.onRedirect(ctrl.currentButtonSetting.Redirect,objReturn):"CloseModal"==ctrl.currentButtonSetting.AfterAction&&ctrl.$hub.$emit("close-modal")})});break;case"Calculator":ctrl.objSetting=ctrl.$Lodash.cloneDeep(ctrl.currentButtonSetting.Expression);var value=ctrl.$Lodash.cloneDeep(objReturn);ctrl.objSetting.Fields.split(";").forEach(function(t){value[t]=0});var childRequest=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);childRequest.TotalRequests=0;for(var i=1;i<=ctrl.objSetting.R;i++)childRequest["R"+i+"_RequestTemplate"]=ctrl.objSetting["R"+i].RequestTemplate+".Search",childRequest["R"+i+"_RequestDataGroup"]=ctrl.objSetting["R"+i].RequestDataGroup,childRequest["R"+i+"_RequestFields"]=ctrl.objSetting["R"+i].RequestFields+ctrl.objSetting["R"+i].Fields,ctrl.objSetting["R"+i].UsedField.split(";").forEach(function(t){childRequest["R"+i+"_"+t]=ctrl.objSetting["R"+i][t]}),childRequest.TotalRequests++,ctrl.objSetting["R"+i].RequestFields.split(";").forEach(function(t){ctrl.$Utils.isEmpty(ctrl.objSetting["R"+i][t])&&"Code"!=t&&(t==ctrl.objSetting["R"+i].SearchField?ctrl.objSetting["R"+i].SearchField.split(";").forEach(function(t){""!==t&&(childRequest["R"+i+"_"+t]=value[ctrl.objSetting["R"+i][t]])}):childRequest["R"+i+"_"+t]=value[ctrl.objSetting["R"+i][t]])}),ctrl.objSetting["R"+i].SearchField.split(";").forEach(function(t){""!==t&&(ctrl.$Utils.isEmpty(ctrl.objSetting["R"+i][t])&&childRequest["R"+i+"_"+t]&&""===childRequest["R"+i+"_"+t]||!childRequest["R"+i+"_"+t])&&(childRequest["R"+i+"_"+t]=NaN)});var Excute=0;if(ctrl.calculatorProcessing(childRequest,objReturn),"Redirect"==ctrl.currentButtonSetting.AfterAction)ctrl.onRedirect(ctrl.currentButtonSetting.Redirect,objReturn);else if("CloseModal"==ctrl.currentButtonSetting.AfterAction)ctrl.$hub.$emit("close-modal");else if("ClearValue"==ctrl.currentButtonSetting.AfterAction){var clearArr=[];ctrl.$Utils.isEmpty(ctrl.Setting,"directiveType")&&"inside"==ctrl.Setting.directiveType||$.each(ctrl.Setting.Fields,function(t,e){ctrl.$Utils.isEmpty(e,"ClearAfter")&&"true"==e.ClearAfter&&clearArr.push(e)}),$.each(clearArr,function(t,e){ctrl.$Utils.isEmpty(e,"FormDefaultValue")?ctrl.fields[e.Name].dataToDefault():ctrl.fields[e.Name].clearData()});var clearChild=ctrl.currentButtonSetting.ClearChild?ctrl.currentButtonSetting.ClearChild.split(";"):[];$.each(clearChild,function(t,e){$.each(ctrl.$Utils.getDataWithRoot(ctrl.subElementObject,"Module"),function(t,a){e==a.Code&&(a.functions.setData({}),a.Fields(function(t){ctrl.$Utils.isEmpty(t,"clearData")&&t.clearData()}))})}),ctrl.objSourceData={},this.$refs.formInline.resetFields(),ctrl.autoLoad(!0)}break;default:ctrl.$hub.$emit("close-modal")}if(ctrl.$Utils.isEmpty(ctrl.currentButtonSetting,"doAfter"))switch(ctrl.currentButtonSetting.doAfter){case"UpdateAnotherFromSources":var currentButtonSetting=ctrl.$Lodash.cloneDeep(ctrl.currentButtonSetting),searchRequest=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest);searchRequest.TotalRequests=currentButtonSetting.Source.Total;for(var targetSearchRequests=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest),targetUpdateRequests=ctrl.$Lodash.cloneDeep(ctrl.$singleRequest),i=0;i<currentButtonSetting.Source.Total;i++)searchRequest=__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()(searchRequest,currentButtonSetting.Source["R"+(i+1)].Static),$.each(currentButtonSetting.Source["R"+(i+1)].Condition,function(t,e){"RequestDataGroup"!==t&&(searchRequest["R"+(i+1)+"_"+t]=ctrl.objSourceData[e])});ctrl.$Utils.post(searchRequest).then(function(response){for(var requestIndex=0,Changed={},i=0;i<currentButtonSetting.Source.Total;i++){var dataRes=ctrl.$Utils.getDataWithRoot(response["R"+(i+1)],currentButtonSetting.Source["R"+(i+1)].StaticParam.DataSource),trueField=ctrl.$Lodash.cloneDeep(dataRes);targetSearchRequests.TotalRequests=dataRes.length,targetUpdateRequests.TotalRequests=dataRes.length,dataRes.forEach(function(item,index){Changed[index]=[],requestIndex++,$.each(currentButtonSetting.Target.Search,function(t,e){targetSearchRequests["R"+requestIndex+"_"+t]=e}),$.each(currentButtonSetting.Target.Update,function(t,e){targetUpdateRequests["R"+requestIndex+"_"+t]=e}),$.each(currentButtonSetting.Source["R"+(i+1)].SearchTargetMapping,function(t,e){if(targetSearchRequests["R"+(index+1)+"_"+t]=item[e],""!=e&&""!=item[e]&&trueField[item[t]]!=item[e]){var a={ColumnCaption:e,ColumnName:e,OldDisplayValue:trueField[e],OldValue:trueField[e],NewDisplayValue:item[e],NewValue:item[e],ChangeCaption:!0};Changed[index].push(a)}}),$.each(currentButtonSetting.Source["R"+(i+1)].Operations,function(k,v){if("Minus"===v.Operator?targetUpdateRequests["R"+requestIndex+"_"+v.Target]=-parseInt(item[v.Agru2]):"Sum"===v.Operator&&(targetUpdateRequests["R"+requestIndex+"_"+v.Target]=parseInt(item[v.Agru2])),""!=v&&""!=item[v]){var objC={ColumnCaption:v.Target,ColumnName:v.Target,OldDisplayValue:trueField[v],OldValue:trueField[v],NewDisplayValue:eval(targetUpdateRequests["R"+requestIndex+"_"+v.Target]>0)?"+"+targetUpdateRequests["R"+requestIndex+"_"+v.Target]:targetUpdateRequests["R"+requestIndex+"_"+v.Target],NewValue:eval(targetUpdateRequests["R"+requestIndex+"_"+v.Target]>0)?"+"+targetUpdateRequests["R"+requestIndex+"_"+v.Target]:targetUpdateRequests["R"+requestIndex+"_"+v.Target],ChangeCaption:!0};Changed[index].push(objC)}})})}ctrl.$Utils.post(targetSearchRequests).then(function(t){for(var e=0;e<targetSearchRequests.TotalRequests;e++){var a=ctrl.$Utils.getDataWithRoot(t["R"+(e+1)],currentButtonSetting.Target.StaticParam.DataSource)[0];if(targetUpdateRequests["R"+(e+1)+"_"+currentButtonSetting.Target.StaticParam.Key]=a[currentButtonSetting.Target.StaticParam.Key],""!=currentButtonSetting.Target.StaticParam.Key&&""!=a[currentButtonSetting.Target.StaticParam.Key]&&trueField[currentButtonSetting.Target.StaticParam.Key]!=a[currentButtonSetting.Target.StaticParam.Key]&&"RequestTemplate"!=currentButtonSetting.Target.StaticParam.Key){var i={ColumnCaption:currentButtonSetting.Target.StaticParam.Key,ColumnName:currentButtonSetting.Target.StaticParam.Key,OldDisplayValue:trueField[currentButtonSetting.Target.StaticParam.Key],OldValue:trueField[currentButtonSetting.Target.StaticParam.Key],NewDisplayValue:a[currentButtonSetting.Target.StaticParam.Key],NewValue:a[currentButtonSetting.Target.StaticParam.Key],ChangeCaption:!0};Changed[e].push(i)}targetUpdateRequests["R"+(e+1)+"_UpdateWarehouse"]=!0,targetUpdateRequests["R"+(e+1)+"_RequestFields"]+=";UpdateWarehouse"}var s=!0;$.each(targetUpdateRequests,function(t,e){if(void 0==e||null==e||""===e||NaN===e)return s=!1,!1}),s?ctrl.$Utils.post(targetUpdateRequests).then(function(e){if(e.success){if(1!=currentButtonSetting.IsLogged)for(var a=0;a<targetUpdateRequests.TotalRequests;a++)ctrl.createHistory(Changed[a],ctrl.$Utils.getDataWithRoot(t["R"+(a+1)],currentButtonSetting.Target.StaticParam.DataSource)[0])}else ctrl.$Utils.showMessage("error","Có lỗi dữ liêu, không thể tự động giữ hàng trong kho, vui lòng tự làm thủ công")}):ctrl.$Utils.showMessage("error","Có lỗi dữ liêu, không thể tự động giữ hàng trong kho, vui lòng tự làm thủ công")})});break;default:ctrl.$hub.$emit("close-modal")}ctrl.$Utils.isEmpty(ctrl.currentButtonSetting,"AfterUpdate")&&ctrl.$Utils.isEmpty(ctrl.currentButtonSetting,"doAfter")||ctrl.$hub.$emit("close-modal")},calculatorProcessing:function calculatorProcessing(childRequest,value){var ctrl=this;ctrl.ListExcuteRequests=[],ctrl.$Utils.post(childRequest).then(function(childData){for(var totalRequest=1,Changed={},i=1;i<=ctrl.objSetting.R;i++)ctrl["DataR"+i]=ctrl.$Utils.getDataWithRoot(childData["R"+i],ctrl.objSetting["R"+i].DataSource),$.each(ctrl["DataR"+i],function(childKey,childField){Changed[childField.Id]=[];var trueField=ctrl.$Lodash.cloneDeep(childField);if(eval(ctrl.objSetting["R"+i].Sum&&__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(ctrl.objSetting["R"+i].Sum).length>3)||eval(ctrl.objSetting["R"+i].Minus&&__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(ctrl.objSetting["R"+i].Minus).length>3)){var requestId=childField.Id,obj={};$.each(ctrl.objSetting["R"+i].Sum,function(t,e){if(t.indexOf("||")>=0&&!ctrl.$Utils.isEmpty(a))var a="",s=ctrl.$Lodash.cloneDeep(t.split("||")[0]);else var s=ctrl.$Lodash.cloneDeep(t);ctrl.$Utils.isEmpty(value[e])&&"Warehouse"!==ctrl.objSetting["R"+i].Code?obj[s]=parseInt(childField[e])+(isNaN(parseInt(value[s]))?0:parseInt(value[s])):ctrl.$Utils.isEmpty(value[e])&&"Warehouse"==ctrl.objSetting["R"+i].Code&&(obj[s]=isNaN(parseInt(value[e]))?0:parseInt(value[e]))}),$.each(ctrl.objSetting["R"+i].Minus,function(t,e){if(t.indexOf("||")>=0&&!ctrl.$Utils.isEmpty(a))var a="",s=ctrl.$Lodash.cloneDeep(t.split("||")[0]);else var s=ctrl.$Lodash.cloneDeep(t);ctrl.$Utils.isEmpty(value[e])&&"Warehouse"!==ctrl.objSetting["R"+i].Code?obj[s]=(isNaN(parseInt(value[s]))?0:parseInt(value[s]))-parseInt(childField[e]):ctrl.$Utils.isEmpty(value[e])&&"Warehouse"==ctrl.objSetting["R"+i].Code&&(obj[s]=isNaN(parseInt(value[e]))?0:parseInt(-value[e]))}),$.each(obj,function(k,val){if(-1!==ctrl.objSetting["R"+i].Fields.split(";").indexOf(k)&&""!=k){var objC={ColumnCaption:k,ColumnName:k,OldDisplayValue:trueField[k],OldValue:trueField[k],NewDisplayValue:eval(val>0)?"+"+val:val,NewValue:eval(val>0)?"+"+val:val,ChangeCaption:!0};Changed[childField.Id].push(objC)}}),obj.RequestTemplate=ctrl.objSetting["R"+i].RequestTemplate+".Update",obj.Id=childField.Id,obj.RequestDataGroup=ctrl.objSetting["R"+i].RequestDataGroup,obj.UpdateWarehouse=!0,obj.RequestFields=ctrl.objSetting["R"+i].RequestFields+ctrl.objSetting["R"+i].Fields+";UpdateWarehouse;",ctrl.ListExcuteRequests.push(obj)}else $.each(ctrl.objSetting["R"+i].Count,function(t,e){if(t.indexOf("!!")>=0&&!ctrl.$Utils.isEmpty(a))var a="";ctrl.$Utils.isEmpty(ctrl.objSetting["R"+i].Fields)&&ctrl.objSetting["R"+i].Fields.split(";").forEach(function(i){-1==t.indexOf("!!")&&ctrl.$Utils.isEmpty(childField[t])&&i==e?childField[t]=(isNaN(parseInt(childField[t]))?0:parseInt(childField[t]))+1:ctrl.$Utils.isEmpty(a)&&ctrl.$Utils.isEmpty(childField[t.split("!!")[0]])&&i==e&&-1==a.indexOf(childField[t.split("!!")[1]])&&(childField[t]=(isNaN(parseInt(childField[t]))?0:parseInt(childField[t]))+1,a+=childField[t.split("!!")[1]]+";")})}),$.each(ctrl.objSetting["R"+i].Sync,function(t,e){ctrl.$Utils.isEmpty(value[e])&&(childField[t]=value[e])}),$.each(childField,function(t,e){if(-1!==ctrl.objSetting["R"+i].Fields.split(";").indexOf(t)&&""!=t){var a={ColumnCaption:t,ColumnName:t,OldDisplayValue:trueField[t],OldValue:trueField[t],NewDisplayValue:e,NewValue:e,ChangeCaption:!0};Changed[childField.Id].push(a)}}),childField.RequestTemplate=ctrl.objSetting["R"+i].RequestTemplate+".Update",childField.RequestDataGroup=ctrl.objSetting["R"+i].RequestDataGroup,childField.RequestFields=ctrl.objSetting["R"+i].RequestFields+ctrl.objSetting["R"+i].Fields,ctrl.ListExcuteRequests.push(childField)});var objRequest={};ctrl.createUpdateRequest(ctrl.objSetting,Changed)})},calculatorUProcessing:function calculatorUProcessing(childRequest,returnData,request,arrSubmitData,callback){var ctrl=this,value=ctrl.$Lodash.cloneDeep(returnData);ctrl.ListExcuteRequests=[],ctrl.$Utils.post(childRequest).then(function(childData){for(var totalRequest=1,Changed={},i=1;i<=ctrl.objSetting.R;i++)ctrl["DataR"+i]=ctrl.$Utils.getDataWithRoot(childData["R"+i],ctrl.objSetting["R"+i].DataSource),$.each(ctrl["DataR"+i],function(childKey,childField){Changed[childField.Id]=[];var trueField=ctrl.$Lodash.cloneDeep(childField);if(eval(ctrl.objSetting["R"+i].Sum&&__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(ctrl.objSetting["R"+i].Sum).length>3)||eval(ctrl.objSetting["R"+i].Minus&&__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(ctrl.objSetting["R"+i].Minus).length>3)){var requestId=childField.Id,obj={};$.each(ctrl.objSetting["R"+i].Sum,function(t,e){if(t.indexOf("||")>=0&&!ctrl.$Utils.isEmpty(a))var a="",i=ctrl.$Lodash.cloneDeep(t.split("||")[0]);else var i=ctrl.$Lodash.cloneDeep(t);ctrl.$Utils.isEmpty(value[e])&&(obj[i]=isNaN(parseInt(value[e]))?0:parseInt(value[e]))}),$.each(ctrl.objSetting["R"+i].Minus,function(t,e){if(t.indexOf("||")>=0&&!ctrl.$Utils.isEmpty(a))var a="",i=ctrl.$Lodash.cloneDeep(t.split("||")[0]);else var i=ctrl.$Lodash.cloneDeep(t);ctrl.$Utils.isEmpty(value[e])&&(obj[i]=isNaN(parseInt(value[e]))?0:parseInt(-value[e]))}),$.each(obj,function(k,val){if(-1!==ctrl.objSetting["R"+i].Fields.split(";").indexOf(k)&&""!=k){var objC={ColumnCaption:k,ColumnName:k,OldDisplayValue:trueField[k],OldValue:trueField[k],NewDisplayValue:eval(val>0)?"+"+val:val,NewValue:eval(val>0)?"+"+val:val,ChangeCaption:!0};Changed[childField.Id].push(objC)}}),obj.RequestTemplate=ctrl.objSetting["R"+i].RequestTemplate+".Update",obj.UpdateWarehouse=!0,obj.Id=childField.Id,obj.RequestDataGroup=ctrl.objSetting["R"+i].RequestDataGroup,obj.RequestFields=ctrl.objSetting["R"+i].RequestFields+ctrl.objSetting["R"+i].Fields+";UpdateWarehouse;",ctrl.ListExcuteRequests.push(obj)}else $.each(ctrl.objSetting["R"+i].Count,function(t,e){if(t.indexOf("!!")>=0&&!ctrl.$Utils.isEmpty(a))var a="";ctrl.$Utils.isEmpty(ctrl.objSetting["R"+i].Fields)&&ctrl.objSetting["R"+i].Fields.split(";").forEach(function(i){-1==t.indexOf("!!")&&ctrl.$Utils.isEmpty(childField[t])&&i==e?childField[t]=(isNaN(parseInt(childField[t]))?0:parseInt(childField[t]))+1:ctrl.$Utils.isEmpty(a)&&ctrl.$Utils.isEmpty(childField[t.split("!!")[0]])&&i==e&&-1==a.indexOf(childField[t.split("!!")[1]])&&(childField[t]=(isNaN(parseInt(childField[t]))?0:parseInt(childField[t]))+1,a+=childField[t.split("!!")[1]]+";")})}),$.each(ctrl.objSetting["R"+i].Sync,function(t,e){ctrl.$Utils.isEmpty(value[e])&&(childField[t]=value[e])}),$.each(ctrl.objSetting["R"+i].Sync,function(t,e){ctrl.$Utils.isEmpty(value[e])&&(childField[t]=value[e])}),$.each(childField,function(t,e){if(-1!==ctrl.objSetting["R"+i].Fields.split(";").indexOf(t)&&""!=t){var a={ColumnCaption:t,ColumnName:t,OldDisplayValue:trueField[t],OldValue:trueField[t],NewDisplayValue:e,NewValue:e,ChangeCaption:!0};Changed[childField.Id].push(a)}}),childField.RequestTemplate=ctrl.objSetting["R"+i].RequestTemplate+".Update",childField.RequestDataGroup=ctrl.objSetting["R"+i].RequestDataGroup,childField.RequestFields=ctrl.objSetting["R"+i].RequestFields+ctrl.objSetting["R"+i].Fields,ctrl.ListExcuteRequests.push(childField)});var objRequest={};ctrl.createUpdateRequest(ctrl.objSetting,Changed,request,returnData,arrSubmitData,callback)})},createHistory:function(t,e){var a=this,i=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{RequestTemplate:"ChangedLogs.Count",SourceId:e.Id,Code:"ChangedHistory"});this.$Utils.post(i).then(function(s){if(a.$Utils.isEmpty(s,"R1.Data")){var o=a.$Utils.updateParamsSingleRequest(i,{RequestTemplate:"ChangedLogs.Insert",Version:parseInt(s.R1.Data)+1,Changes:__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(t),CreatedByName:a.$Utils.getUserInfo("Username")});a.$Utils.post(o).then(function(t){t.success&&t.R1.success?a.historyFlag=!0:a.$Utils.showMessage("error",a.$toastMessage.insertHistoryFailed+(e.Name?e.Name:""))})}else a.$Utils.showMessage("error",a.$toastMessage.insertHistoryFailed+(e.Name?e.Name:""))})},createUpdateRequest:function(t,e,a,i,s,o){var n=this,l=this,r=l.$Lodash.cloneDeep(l.$singleRequest);r.TotalRequests=0;for(var c=0;c<l.ListExcuteRequests.length;c++)r.TotalRequests++,r=l.$Utils.updateParamsSingleRequest(r,l.ListExcuteRequests[c],r.TotalRequests);l.$Utils.post(r).then(function(c){if(c.success){for(var d=0;d<l.ListExcuteRequests.length;d++)t["R"+(d+1)]&&1!=t["R"+(d+1)].IsLogged&&l.createHistory(e[l.ListExcuteRequests[d].Id],l.ListExcuteRequests[d]);if(a&&a.TotalRequests>0&&i){for(var u=!0,d=1;d<=r.TotalRequests;d++)c["R"+d]&&c["R"+d].success||(u=!1);!0===u?l.submitRequest(a,i,s,o):(l.$Utils.showMessage("error",n.currentButtonSetting.BeforeMessage),l.LoadStart&&(l.$Utils.showLoading("stop",l.LoadStart),l.LoadStart=void 0),"Redirect"==l.currentButtonSetting.BeforeAction&&l.onRedirect(l.currentButtonSetting.Redirect,i))}}else l.$Utils.showMessage("error",n.currentButtonSetting.BeforeMessage),l.LoadStart&&(l.$Utils.showLoading("stop",l.LoadStart),l.LoadStart=void 0)})},replaceExpression:function(t,e){var a=this;return $.each(t,function(i,s){if(s+="",s.indexOf("{{")>=0&&s.indexOf("}}")>s.indexOf("{{")){for(var o=s,n="";""!=o;){n+=o.substr(0,o.indexOf("{{"));var l=o.substr(o.indexOf("{{")+2,o.indexOf("}}")-o.indexOf("{{")-2);if(l.indexOf("|")>0){var r=l.substr(0,l.indexOf("|")).trim(),c=a.$Utils.getDataWithRoot(e,r)[0],d=l.substr(l.indexOf("|")+1,l.length).split(":"),u=d[0].trim(),m=d[1];switch(u){case"Date":c=a.$Utils.stringToDate(c),n+=a.$Utils.formatDateTime(c,m);break;case"UserInfo":n+=a.$Utils.getUserInfo(r);break;case"Url":n+=a.Setting.UrlData[r];break;default:n+=c}}else a.$Utils.isEmpty(e[l])&&(n+=e[l]);o=o.substr(o.indexOf("}}")+2,o.length)}t[i]=n}}),t},compareChange:function(t,e){var a=this;return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function(i,s){var o=[];$.each(t,function(t,i){if(a.objSourceData[t]!==i&&(a.$Utils.isEmpty(a.objSourceData[t])||""!=i)){var s=a.$Utils.isEmpty(a.fields,t+".Caption")?a.fields[t].Caption:t;if(t.length>4&&t.indexOf("Name")>0){var n=t.substr(0,t.length-4);a.$Utils.isEmpty(a.fields,n)&&(s=a.fields[n].Caption?a.fields[n].Caption:n)}var l={};$.each(e,function(e,a){a.name==t&&(l=a)});var r={ColumnCaption:s,ColumnName:t,OldDisplayValue:l.oldDisplay?l.oldDisplay:a.objSourceData[t],OldValue:a.objSourceData[t],NewDisplayValue:a.fields[t]&&"Html"==a.fields[t].ElementType&&l.display?a.$Utils.encodeHtmlEntities(l.display):(a.fields[t]&&"Html"!==a.fields[t].ElementType||!a.fields[t])&&l.display?l.display:i,NewValue:i};if(a.$Utils.isEmpty(a.fields[t]))switch(a.fields[t].FieldColumnType){case"DateTime":a.$Utils.stringToDate(i).getTime()==a.$Utils.stringToDate(r.OldValue).getTime()&&(r=void 0);break;case"Double":case"Integer":parseFloat(i)==parseFloat(a.objSourceData[t])&&(r=void 0)}r&&o.push(r)}}),i(o)})},setDataToElement:function(t){var e=this;e.objSourceData=e.$Utils.isEmpty(e.Setting,"parentSetting.object")?e.$Lodash.cloneDeep(e.Setting.parentSetting.object):{},$.each(t,function(t,a){e.objSourceData[t]=a}),e.Setting.sendData=e.$Lodash.cloneDeep(e.objSourceData),$.each(e.Setting.Fields,function(t,a){e.$Utils.isEmpty(a.setVal)&&a.setVal(e.Setting.sendData)}),$.each(e.subElementObject.Module,function(a,i){if(e.$Utils.isEmpty(i,"functions.setData")){var s={};if($.each(e.Setting.SubElements,function(t,e){e.ModuleCode==i.Code&&(s=e)}),s.ParentChild){var o={};$.each(e.$Utils.stringToObject(s.ParentChild),function(t,a){e.$Utils.isEmpty(e.Setting.sendData[t])&&(o[a]=e.Setting.sendData[t])}),i.functions.setData(o)}else i.functions.setData(t)}})},getFullData:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="AG_Task_Target"==this.Setting.DataSource?this.Setting.DataSource+".SearchList":this.Setting.DataSource+".Search",e.R1_Id=this.objSourceData.Id,e.R1_RequestFields="",e.R1_RequestDataGroup=this.Setting.DataGroup,$.each(this.Setting.AdditionConditions,function(t,a){e["R1_"+t]=a}),$.each(this.Setting.Fields,function(t,a){e.R1_RequestFields+=a.Name+";",a.DynamicText&&(e.R1_RequestFields+=a.DynamicText+";")}),$.each(e,function(a,i){e[a]=t.$Utils.expressionToString(t.objSourceData,i+"")}),this.$Utils.postCheckResult(e).then(function(e){if(e.success&&e.R1.success){var a=t.$Utils.getDataWithRoot(e.R1,t.Setting.RootData)[0];t.$Utils.isEmpty(a)&&("AG_Task_Task"==t.Setting.DataSource&&t.$Utils.isEmpty(a,"Id")&&t.saveUserList(a),t.setupListElement(),t.setDataToElement(a),t.cacheValue=t.$Lodash.cloneDeep(t.Setting.sendData))}else t.$Utils.showMessage("error",t.$toastMessage.loadingDataFailed)})},setData:function(t){var e=this;this.objSourceData=this.$Utils.isEmpty(this.Setting,"parentSetting.object")?this.$Lodash.cloneDeep(this.Setting.parentSetting.object):{},$.each(t,function(t,a){e.objSourceData[t]=a}),this.$Utils.isEmpty(t.Id)?this.getFullData():this.setDataToElement(t)},checkDependencies:function(t){var e=this;t&&$.each(e.Setting.Dependencies,function(a,i){e.$Utils.isEmpty(t,"name")&&i.Source==t.name&&(e.$Utils.isEmpty(e.fields,i.Target+".dependencyChange")?e.fields[i.Target].dependencyChange(i,t):i.Source.indexOf(".")>0&&e.$Utils.isEmpty(e.Setting.Fields,i.Source.substring(0,i.Source.indexOf("."))+".dependencyChange")&&e.Setting.Fields[i.Target.substring(0,i.Target.indexOf("."))].dependencyChange(t))}),"inside"===e.Setting.directiveType&&e.$Utils.isEmpty(e.Setting,"passingData.callback.onDrtElementChange")&&e.Setting.passingData.callback.onDrtElementChange(t)},sendNotifi:function(t,e,a){switch(t){case"System":this.$hub.proxy.invoke("sendSystemNotification",e,a);break;case"Group":this.$hub.proxy.invoke("sendGroupNotification",e,a);break;case"Individual":this.$hub.proxy.invoke("sendIndividualNotification",e,a)}},expressToString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.replace(/{{([^}]+)}}/g,function(t,a){return e[a]||""})},buildNotificationContent:function(t){var e=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function a(){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,__WEBPACK_IMPORTED_MODULE_12__services_api__.a.request(t,"Setting.SearchBase").then(function(t){try{t=JSON.parse(t.Description)||{}}catch(t){console.log(t)}if("Notification"===t.NotificationType){var a=e.$Utils.decodeHtmlEntities(t.Content);return a=e.expressToString(a,e.Setting.sendData)}return""});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a,e)}))()},addPermissionToObject:function(t,e){var a=this;if(this.Repeat&&this.ReType&&this.ReEndDate){var i="";switch(this.ReType){case"Day":i="DAILY";break;case"Week":i="WEEKLY";break;case"Month":i="MONTHLY"}var s={RRULE:{FREQ:i,START:e.R1_PlanStartDate,UNTIL:this.$Utils.formatDateTime(this.ReEndDate)}};this.$Utils.isEmpty(e,"R1_FormSetting")&&delete e.R1_FormSetting,this.$Utils.isEmpty(e,"R1_Changed")&&delete e.R1_Changed,e.R1_Id=t.Id,e.R1_RequestTemplate="AG_Task_Task.InsertRecurrence",e.R1_Recurrence=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(s),this.$Utils.post(e)}if(this.LoadStart&&(this.$Utils.showLoading("stop",this.LoadStart),this.LoadStart=void 0),"AG_Task_Task"==this.Setting.DataSource)try{saveEventToGoogle(t,e)}catch(t){console.log(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(t))}this.$Utils.showMessage("success",this.$toastMessage.updateItemPre+(this.objSourceData.Name?this.objSourceData.Name:"")+this.$toastMessage.updateItemSuf);var o=this.$Utils.isEmpty(this.objSourceData,"Id")?"updated":"insert",n="";this.$Utils.isEmpty(t,"Code")&&(o=t.Code+this.Setting.SubmitType,n=t.Id),this.$Utils.isEmpty(this.Setting.parentSetting,"loadCalendar")&&this.$hub.$emit("loadCalendar",t),this.$Utils.isEmpty(this.Setting.parentSetting,"loadScrumboard")&&this.$hub.$emit("loadScrumboard",t);var l={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;Code",StaticFields:"Code;Child;Parent;Name;Created;Description;ChildTable",OrderFields:"Created DESC",Parent:t.Id,Code:"Notification"};this.$Utils.post(l).then(function(e){e=a.$Utils.getDataWithRoot(e,"Data.DataDS.Linked"),console.log(a.currentButtonSetting);var i=[],s=a.$Utils.uuidv4(),l=a.$Lodash.cloneDeep(e);if($.each(l,function(t,e){"Notification"==e.Code&&i.push(e)}),i.length>0){var r="/"!==a.$appUri.BaseURL?a.$appUri.BaseURL.substring(0,a.$appUri.BaseURL.length-1):window.origin;$.each(a.Setting.Notifications,function(e,l){a.buildNotificationContent(l.Template).then(function(e){$.each(i,function(i,l){a.sender=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()({i:a.$rootScope.loggedOnUser.UserId,a:a.$rootScope.loggedOnUser.LoginName,avatar:a.$rootScope.loggedOnUser.Avatar,n:a.$rootScope.loggedOnUser.Username,s:a.$getItemLocalStorage(a.$localStorageConstant.SessionId),g:"",p:JSON.parse(a.$getItemLocalStorage(a.$localStorageConstant.Notification)).Port,c:"10",e:r}),a.$Utils.isEmpty(n)&&""!=n?a.content=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()({id:s,action:o,index:t.Index,Link:(a.currentButtonSetting.NotifiLink?a.currentButtonSetting.NotifiLink:"dynamic/knowhow-update-document/Id")+"="+n,DocumentId:n,Name:t.Name,Content:e}):a.content=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()({id:s,action:o,index:t.Index,Link:(a.currentButtonSetting.NotifiLink?a.currentButtonSetting.NotifiLink:"dynamic/view/Index")+"="+t.Index,Name:t.Name,Content:e}),a.notification=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()({i:s,mt:1,st:"3",s:a.sender,c:a.content,d:__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(t)}),"tblGroup"==l.ChildTable?(a.toGroup=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()({i:l.Child,e:r}),a.sendNotifi("Group",a.toGroup,a.notification)):(a.to=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()({i:l.Child,c:"10",e:r}),a.sendNotifi("Individual",a.to,a.notification))})})})}})},sendNotification:function(t,e,a){var i=this,a=this.$Lodash.cloneDeep(this.$singleRequest),s={},o="",n=!1;a.R1_Code="",$.each(this.Setting.Notifications,function(e,i){a["R"+a.TotalRequests+"_RequestTemplate"]="SettingNew.SearchSetting",a["R"+a.TotalRequests+"_Code"]=i.Template+";",s[i.Name]={TemplateCode:i.Template,Template:"",Code:i.NotificationType,Receivers:[],Title:"",From:"",EmailAccount:"",Static:i.AdditionField?i.AdditionField:"",Dynamic:i.NotifyFields?i.NotifyFields:""};var l=i.Permissions?i.Permissions:"";$.each(l.split(";"),function(e,a){$.each(t,function(t,e){e.Code==a&&s[i.Name].Receivers.join(";").indexOf(e.Child)<0&&(s[i.Name].Receivers.push(e.Child),o.indexOf(e.Child)<0&&(o+=e.Child+";"))})}),"true"==i.RequireOriginal&&(n=!0)}),""!==o&&(a.TotalRequests++,a=this.$Utils.updateParamsSingleRequest(a,{UserId:o,RequestTemplate:"User",Status:1},a.TotalRequests)),$.each(a,function(t,s){a[t]=i.$Utils.expressionToString(e,s+"")}),this.$Utils.post(a).then(function(t){if(!t.success)return!1;$.each(i.$Utils.getDataWithRoot(t,"R1.Data.DynamicDS.Setting"),function(t,e){for(var a=JSON.parse(e.Description),o=0;o<i.Setting.Notifications.length;o++)e.Code==i.Setting.Notifications[o].Template&&(s[i.Setting.Notifications[o].Name].Template=i.$Utils.decodeHtmlEntities(a.Content),s[i.Setting.Notifications[o].Name].EmailAccount=a.EmailAccount,s[i.Setting.Notifications[o].Name].From=a.From,s[i.Setting.Notifications[o].Name].Title=a.Title,s[i.Setting.Notifications[o].Name].TitleInsert=a.TitleInsert,s[i.Setting.Notifications[o].Name].TitleUpdate=a.TitleUpdate)});var a=i.$Utils.getDataWithRoot(t,"R"+(i.Setting.Notifications.length+1)+".Data.UserDS.User");if(i.$Utils.isEmpty(t.R3)&&n){var o=i.$Utils.getDataWithRoot(t["R"+(i.Setting.Notifications.length+1)],i.Setting.RootData)[0];$.each(o,function(t,a){e[t]=a})}var l=[];$.each(s,function(t,s){if(s.Template.indexOf("{{ListChange")>0){var o=[];$.each(i.Setting.Fields,function(t,e){"true"==e.History&&o.push(e.Name)});var n=s.Template.substring(s.Template.indexOf("{{ListChange")+2,s.Template.length),r="{{"+n.substr(0,n.indexOf("}}")+2),c=n.substr(n.indexOf("|")+1,n.indexOf("}}")-n.indexOf("|")-2),d="";c=c.replaceAll("{","{{").replaceAll("}","}}"),$.each(i.arrayChanged,function(t,e){o.indexOf(e.ColumnName)>=0&&"true"==i.fields[e.ColumnName].History&&e.NewValue!=e.OldValue&&(i.$Utils.isEmpty(i.fields[e.ColumnName],"DynamicText")&&$.each(i.arrayChanged,function(a,s){s.ColumnName==i.fields[e.ColumnName].DynamicText&&(i.arrayChanged[t].NewDisplayValue=s.NewDisplayValue,i.arrayChanged[t].OldDisplayValue=s.OldDisplayValue)}),"Html"==i.$Utils.isEmpty(i.Setting.Fields,e.ColumnName+".ElementType",!0)?d+=i.$Utils.decodeHtmlEntities(i.$Utils.expressionToString(e,c)):d+=i.$Utils.expressionToString(e,c))}),s.Template=s.Template.replace(r,d)}s.Template=i.$Utils.expressionToString(e,s.Template),i.$Utils.isEmpty(s.TitleInsert)&&"Insert"==i.Setting.SubmitType?s.Title=i.$Utils.expressionToString(e,s.TitleInsert):i.$Utils.isEmpty(s.TitleUpdate)&&"Update"==i.Setting.SubmitType?s.Title=i.$Utils.expressionToString(e,s.TitleUpdate):s.Title=i.$Utils.expressionToString(e,s.Title),$.each(s.Receivers,function(t,o){for(var n,r=0;r<a.length;r++)if(o==a[r].UserId){n=a[r];break}i.$Utils.isEmpty(n)&&l.push({To:n.Email,Code:e.Id,Subject:s.Title,Body:i.$Utils.encodeHtmlEntities(s.Template),Name:"Email",From:s.From,EmailAccount:s.EmailAccount,State:2,Date:i.$Utils.formatDateTime(),Parent:i.$Utils.getUserInfo("UserId"),Sender:i.$Utils.getUserInfo("UserId"),SenderName:i.$Utils.getUserInfo("Username"),Receiver:n.UserId,ReceiverName:n.Username})});var u=[];"string"==typeof s.Static&&(u=u.concat(s.Static.split(";"))),"string"==typeof s.Dynamic&&$.each(s.Static.split(";"),function(t,a){i.$Utils.isEmpty(e[a])&&u.push(e[a])}),$.each(u,function(t,a){l.push({To:a,Code:e.Id,Subject:s.Title,Body:i.$Utils.encodeHtmlEntities(s.Template),Name:"Email",From:s.From,EmailAccount:s.EmailAccount,State:2,Date:i.$Utils.formatDateTime(),Parent:i.$Utils.getUserInfo("UserId"),Sender:i.$Utils.getUserInfo("UserId"),SenderName:i.$Utils.getUserInfo("Username"),Receiver:i.$defaultUndefined,ReceiverName:i.$defaultUndefined})})});var r=i.$Lodash.cloneDeep(i.$singleRequest);r.TotalRequests=0,r.RequestTemplate="SendMessage",$.each(l,function(t,e){e.To&&(r.TotalRequests++,$.each(e,function(t,e){r["R"+r.TotalRequests+"_"+t]=e}))}),r.TotalRequests>0&&i.$Utils.post(r)})},createHistoryLogs:function(t,e,a){var i=this,s=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{RequestTemplate:"ChangedLogs.Count",SourceId:e.Id,Code:"ChangedHistory"});this.$Utils.post(s).then(function(o){if(i.$Utils.isEmpty(o,"R1.Data")){var n=i.$Utils.updateParamsSingleRequest(s,{RequestTemplate:"ChangedLogs.Insert",Version:parseInt(o.R1.Data)+1,Changes:__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(t),CreatedByName:i.$Utils.getUserInfo("Username")});i.$Utils.post(n).then(function(t){if(t.success&&t.R1.success){if(i.historyFlag=!0,i.Repeat&&i.ReType&&i.ReEndDate){var s="";switch(i.ReType){case"Day":s="DAILY";break;case"Week":s="WEEKLY";break;case"Month":s="MONTHLY"}var o={RRULE:{FREQ:s,START:a.R1_PlanStartDate,UNTIL:i.$Utils.formatDateTime(i.ReEndDate)}};a.R1_RequestTemplate="AG_Task_Task.InsertRecurrence",a.R1_Recurrence=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(o),i.historyFlag&&i.permissionFlag&&i.$Utils.post(a),i.LoadStart&&(i.$Utils.showLoading("stop",i.LoadStart),i.LoadStart=void 0),i.$Utils.showMessage("success",i.$toastMessage.updateItemPre+(i.objSourceData.Name?i.objSourceData.Name:"")+i.$toastMessage.updateItemSuf)}}else i.$Utils.showMessage("error",i.$toastMessage.insertHistoryFailed+(e.Name?e.Name:""))})}else i.$Utils.showMessage("error",i.$toastMessage.insertHistoryFailed+(e.Name?e.Name:""))})},onRedirect:function(t,e){this.$Utils.isEmpty(t)&&""!=t?this.$router.push("/"+this.$Utils.expressionToString(e,t)):this.$Utils.showMessage("error",this.$toastMessage.emptyRedirectLink)},saveUserList:function(t){var e=this,a=!1;if("superadmin"!=this.$Utils.getUserInfo("LoginName")){if(this.$Utils.isEmpty(t,"UserList")&&""!=t.UserList){if(-1==t.UserList.indexOf(this.$Utils.getUserInfo("UserId"))){var i=JSON.parse(t.UserList);i.push(this.$Utils.getUserInfo("UserId")),a=!0}}else{var i=[];i.push(this.$Utils.getUserInfo("UserId")),a=!0}if(1==a){var s=this.$Lodash.cloneDeep(this.$singleRequest);s.R1_RequestTemplate="AG_Task_Task.Update",s.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",s.R1_Id=t.Id,s.R1_UserList=__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(i),s.R1_RequestFields="Id,UserList",this.$Utils.post(s).then(function(a){e.createLogs(t.Id),e.$Utils.isEmpty(e.Setting.parentSetting,"research")&&e.Setting.parentSetting.research.function(e.Setting.parentSetting.research.Category,e.Setting.parentSetting.research.Condition)})}}},createLogs:function(t){var e=this,a=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{RequestTemplate:"ChangedLogs.Count",SourceId:t,Code:"ChangedHistory"});this.$Utils.post(a).then(function(t){if(e.$Utils.isEmpty(t,"R1.Data")){var i=[{ColumnCaption:"Đã xem",ColumnName:"Seen",NewDisplayValue:"",NewValue:""}],s=e.$Utils.updateParamsSingleRequest(a,{RequestTemplate:"ChangedLogs.Insert",Version:parseInt(t.R1.Data)+1,Changes:__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(i),CreatedByName:e.$Utils.getUserInfo("Username")});e.$Utils.post(s).then(function(t){t.success&&t.R1.success||e.$Utils.showMessage("error",e.$toastMessage.insertHistoryFailed+(objReturn.Name?objReturn.Name:""))})}else e.$Utils.showMessage("error",e.$toastMessage.insertHistoryFailed+(objReturn.Name?objReturn.Name:""))})},permission:function(t){this.$Utils.isEmpty(this.objSourceData.Id)&&this.$Utils.showPermission(t,this.objSourceData)},onClear:function(t){this.$Utils.isEmpty(t)?t.functions.onClear():$.each(this.listElements,function(t,e){e.functions.onClear()})},checkDate:function(t){this.reFormatEndDate=this.$Utils.formatDateTime(this.ReEndDate,"DD-MM-YYYY"),this.Repeat&&("start"!=t||this.ReEndDate||this.$Utils.showMessage("error","Ngày kết thúc lặp bắt buộc nhập"))},saveEventToGoogle:function(t,e){var a=this.$rootScope.loggedOnUser.UserId;if(a&&t.Worker&&a.toLowerCase()==t.Worker.toLowerCase()){var i=this.$Utils.convertTaskToEvent(t),s={start:moment.utc(t.PlanStartDate),end:moment.utc(t.Deadline)};this.$Utils.isEmpty(e.R1_Id)?googleService.searchEventByExtraId(e.R1_Id).then(function(t){t&&t.length>0?(i.id=t[0].id,googleService.updateEvent(i).then(function(t){if("confirmed"==t.status);else;},function(t){console.log(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_json_stringify___default()(err))})):googleService.insertEvent(i,"primary").then(function(t){var e={type:"add",calendarEvent:$.extend({},i,s),success:!1};if("confirmed"==t.status)e.success=!0,e.calendarEvent.id=t.id;else var e={type:"add",calendarEvent:"",success:!1}})}):googleService.insertEvent(i,"primary").then(function(t){var e={type:"add",calendarEvent:$.extend({},i,s),success:!1};if("confirmed"==t.status)e.success=!0,e.calendarEvent.id=t.id;else var e={type:"add",calendarEvent:"",success:!1}})}else e.R1_Id&&a.toLowerCase()!=t.Worker.toLowerCase()&&googleService.searchEventByExtraId(e.R1_Id).then(function(t){if(t&&t.length>0){var e=t[0].id;e&&googleService.deleteEvent(e).then(function(t){},function(t){console.log(t)})}})}},mounted:function(){var t=this;t.autoLoad(),t.$hub.$on("changeValidate",function(e){t.rules=t.$Lodash.cloneDeep(e)})},created:function(){this.Setting.functions={autoLoad:this.autoLoad,getVal:this.getVal,getElementData:this.getElementData,getFieldsData:this.getFieldsData,setupListElement:this.setupListElement,calculatorFieldsData:this.calculatorFieldsData,saveValue:this.saveValue,replaceExpression:this.replaceExpression,submitDefault:this.submitDefault,compareChange:this.compareChange,setDataToElement:this.setDataToElement,getFullData:this.getFullData,setData:this.setData,checkDependencies:this.checkDependencies,addPermissionToObject:this.addPermissionToObject,sendNotification:this.sendNotification,createHistoryLogs:this.createHistoryLogs,permission:this.permission,sendData:{},PushServer:this.rootScopePushServer,BaseURL:this.$appUri.BaseURL,getobjSourceData:this.getobjSourceData}},beforeCreate:function(){this.$options.components.SubsDynamicPage=__webpack_require__(55).default},watch:{pSetting:function(t){this.Setting=this.pSetting,this.autoLoad()}}}}).call(__webpack_exports__,__webpack_require__(2))},function(t,e,a){"use strict";function i(t){a(547)}var s=a(548),o=a(549),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={props:["setting","data","callback"],data:function(){return{mName:"",itemSetting:this.setting,itemData:this.data}},created:function(){this.setTemplate(),this.setAttr()},watch:{},mounted:function(){},methods:{setTemplate:function(){if("LeftLabel"==this.itemSetting.DisplayType&&(this.itemSetting.DisplayType="Default"),this.itemSetting.DisplayDependOn)switch(this.itemSetting.DisplayDependType){case"DependEmpty":this.$Utils.isEmpty(this.itemData,this.itemSetting.DisplayDependOn)&&this.itemSetting.displayControl("hidden");break;case"DependExist":this.$Utils.isEmpty(this.itemData,this.itemSetting.DisplayDependOn)||this.itemSetting.displayControl("hidden");break;case"DateTimeRange":if(this.$Utils.isEmpty(this.itemData,this.itemSetting.DisplayDependOn)&&""!=this.itemData[this.itemSetting.DisplayDependOn]){var t={Second:1,Minute:60,Hour:3600,Day:86400,Week:604800,Month:2592e3,Year:31536e3,Now:(new Date).getTime()/1e3};t[this.itemSetting.DisplayDependOn]=this.$Utils.stringToDate(this.itemData[this.itemSetting.DisplayDependOn]).getTime()/1e3;var e=this.$Utils.expressionToString(t,this.itemSetting.DateTimeExpression);this.$Utils.compareStringExpression(e)||this.itemSetting.displayControl("hidden")}break;case"DependValue":this.itemData[this.itemSetting.DisplayDependOn]&&this.itemSetting.DisplayDependValue&&(""===this.itemSetting.DisplayDependValue||-1!==this.itemSetting.DisplayDependValue.split(";").indexOf(this.itemData[this.itemSetting.DisplayDependOn]))&&this.itemSetting.displayControl("hidden"),-1===this.itemSetting.DisplayDependValue.split(";").indexOf("$blank")||this.itemData[this.itemSetting.DisplayDependOn]||this.itemSetting.displayControl("hidden")}},setAttr:function(){this.$Utils.isEmpty(this.itemSetting,"Class")&&""!=this.itemSetting.Class||(this.itemSetting.Class="md-raised md-primary")},onClick:function(){this.itemSetting.onClick(this.itemSetting)}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-button",{class:t.itemSetting.Class,attrs:{type:"default"},on:{click:t.onClick}},[t._v("\n  "+t._s(t.itemSetting.Caption?t.itemSetting.Caption:t.itemSetting.Default)+"\n")])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(551)}var s=a(552),o=a(553),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={props:["parent","idSetting"],data:function(){return{Setting:this.idSetting,tableData:[]}},created:function(){var t=this,e=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{RequestTemplate:"ChangedLogs",SourceId:this.parent.Id,Code:"ChangedHistory"}),a=[];this.$Utils.getDataWithRoot(this.Setting,"Fields")&&this.Setting.Fields.forEach(function(t){"true"==t.History&&a.push(t)}),this.$Utils.isEmpty(this.parent,"Id")&&this.$Utils.post(e).then(function(e){t.tableData=t.$Utils.getDataWithRoot(e.R1,"Data.DataDS.Logs"),t.tableData.forEach(function(e){e.Changes=JSON.parse(e.Changes),e.DataSource=[],e.Changes.forEach(function(i){if(a.length>0){if("Comment"==i.ColumnName||"Reply"==i.ColumnName||"Seen"==i.ColumnName){var s=t.$Lodash.cloneDeep(i);s.OldDisplayValue=t.$Utils.decodeHtmlEntities(i.OldDisplayValue),s.NewDisplayValue=t.$Utils.decodeHtmlEntities(i.NewDisplayValue),e.DataSource.push(s)}a.forEach(function(a){var s=t.$Lodash.cloneDeep(i);(a.DynamicText?a.DynamicText:a.Name)==i.ColumnName&&("Html"==a.ElementType&&(s.OldDisplayValue=t.$Utils.decodeHtmlEntities(i.OldDisplayValue),s.NewDisplayValue=t.$Utils.decodeHtmlEntities(i.NewDisplayValue)),e.DataSource.push(s))})}else e.DataSource.push(i)}),e.Created=t.$Utils.formatDateTime(e.Created,"DD/MM/YYYY HH:mm")})})},methods:{}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"history"},t._l(t.tableData,function(e){return a("el-container",[a("el-header",[t._v("v."+t._s(e.Version)+".0 "),a("b",[t._v(t._s(e.CreatedByName))]),t._v(", "+t._s(e.Created))]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.DataSource,stripe:""}},[a("el-table-column",{attrs:{prop:"ColumnCaption",label:"Tên thuộc tính"}}),t._v(" "),a("el-table-column",{attrs:{prop:"OldDisplayValue",label:"Giá trị cũ"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{innerHTML:t._s(e.row.OldDisplayValue)}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"NewDisplayValue",label:"Giá trị mới"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{domProps:{innerHTML:t._s(e.row.NewDisplayValue)}})]}}])})],1)],1)}))},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";var i=a(30),s=a.n(i);e.a={name:"permission-selector",props:["data"],components:{ElTreeGrid:s.a,ElTableTreeColumn:s.a},data:function(){return{indexCheck:0,activeTab:"toDeparments",departmentLst:[],departmentTree:[],roleOfDeptLst:[],roleLst:[],userLst:[],permissionsLst:[],rotatedPermissionsLst:[],perCurItemLst:[],checked:{},manageAble:this.$isSystemAdmin()}},methods:{handleClick:function(t,e){},perChanged:function(t,e,a){var i=this,s={};s=a?{RequestClass:"xBase",Parent:this.data,Child:t,Code:e,RequestAction:"LinkGroupToObject",RequestTemplate:"Permission.Insert",ParentTable:"xObject",ChildTable:"tblGroup"}:{RequestClass:"xBase",Parent:this.data,Child:t,Code:e,RequestAction:"RemoveGroupFromObject",RequestTemplate:"Permission.Remove"},i.$Utils.post(s).then(function(t){t.success?i.$message.success("Thành công"):i.$message.error("Thất bại")})}},watch:{indexCheck:function(t){var e=this;t>=5&&(e.rotatedPermissionsLst=e.$Utils.rotateDementionArr(e.permissionsLst,"Code"),e.perCurItemLst&&(e.perCurItemLst.constructor===Array?e.perCurItemLst.forEach(function(t){e.checked[t.Child]?e.$set(e.checked[t.Child],t.Code,!0):e.$set(e.checked[t.Child],t.Code,!1)}):e.perCurItemLst.constructor===Object&&(e.checked[e.perCurItemLst.Child]?e.$set(e.checked[e.perCurItemLst.Child],e.perCurItemLst.Code,!0):e.$set(e.checked[e.perCurItemLst.Child],e.perCurItemLst.Code,!1))))}},created:function(){var t=this,e=this,a={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"jsontree",ConditionFields:"GroupType",GroupType:0,StaticFields:"GroupId;GroupName;Description;GroupParent"};this.$Utils.post(a).then(function(a){t.roleLst=a,a.forEach(function(t){e.$set(e.checked,t.GroupId,{})}),e.indexCheck++});var i={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"GroupType",GroupType:"1;2",StaticFields:"GroupId;GroupName;Description;GroupParent;Status",StructFields:"ParentName",orderFields:"GroupName ASC"};this.$Utils.post(i).then(function(a){t.departmentLst=a.UserDS.Group,a.UserDS.Group.forEach(function(t){e.$set(e.checked,t.GroupId,{})}),t.departmentTree=t.$Utils.treeify(a.UserDS.Group,"GroupId","GroupParent","level"),e.indexCheck++});var s={RequestAction:"SearchUserWithGroups",IncludedGroupManager:!0,RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status;LoginName",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;GroupManage",OrderFields:"LoginName ASC",GroupType:1};this.$Utils.post(s).then(function(a){t.userLst=a.Data.UserDS.User.filter(function(e){return t.manageAble||"superadmin"!=e.LoginName.toLowerCase()}),a.Data.UserDS.User.forEach(function(t){e.$set(e.checked,t.UserId,{})}),e.indexCheck++});var o={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBase",R1_ParentCode:"xSetting.Template.Permissions"};this.$Utils.post(o).then(function(a){t.permissionsLst=a.R1.Data.DynamicDS.Setting,e.indexCheck++});var n={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:this.data};this.$Utils.post(n).then(function(a){t.perCurItemLst=a.Data.DataDS.Linked,e.indexCheck++})}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"Theo tổ chức",name:"toDeparments"}},[a("div",[a("el-table",{attrs:{data:t.departmentTree,border:""}},[a("el-table-tree-column",{attrs:{prop:"GroupName",label:"Tên",levelKey:"level",treeKey:"GroupId",parentKey:"GroupParent"}}),t._v(" "),t._l(t.permissionsLst,function(e){return t.$isSystemAdmin()||t.$isMantisAdmin()&&"LinkObject"!==e.Code||!t.$isMantisAdmin()&&("Download"===e.Code||"Edit"===e.Code||"View"===e.Code)?a("el-table-column",{key:e.Id,attrs:{label:e.Name},scopedSlots:t._u([{key:"default",fn:function(i){return[a("el-checkbox",{on:{change:function(a){t.perChanged(i.row.GroupId,e.Code,a)}},model:{value:t.checked[i.row.GroupId][e.Code],callback:function(a){t.$set(t.checked[i.row.GroupId],e.Code,a)},expression:"checked[scope.row.GroupId][per.Code]"}})]}}])}):t._e()})],2)],1)]),t._v(" "),t.manageAble?a("el-tab-pane",{attrs:{label:"Theo vai trò",name:"toRoles"}},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.roleLst}},[a("el-table-column",{attrs:{prop:"GroupName",label:"Tên"}}),t._v(" "),t._l(t.permissionsLst,function(e){return a("el-table-column",{key:e.Id,attrs:{label:e.Name},scopedSlots:t._u([{key:"default",fn:function(i){return[a("el-checkbox",{on:{change:function(a){t.perChanged(i.row.GroupId,e.Code,a)}},model:{value:t.checked[i.row.GroupId][e.Code],callback:function(a){t.$set(t.checked[i.row.GroupId],e.Code,a)},expression:"checked[scope.row.GroupId][per.Code]"}})]}}])})})],2)],1)]):t._e(),t._v(" "),a("el-tab-pane",{attrs:{label:"Theo người dùng",name:"toUsers"}},[a("div",[a("el-table",{attrs:{data:t.userLst,border:""}},[a("el-table-column",{attrs:{prop:"Username",label:"Tên"}}),t._v(" "),t._l(t.permissionsLst,function(e){return t.$isSystemAdmin()||t.$isMantisAdmin()&&"LinkObject"!==e.Code||!t.$isMantisAdmin()&&("Download"===e.Code||"Edit"===e.Code||"View"===e.Code)?a("el-table-column",{key:e.Id,attrs:{label:e.Name},scopedSlots:t._u([{key:"default",fn:function(i){return[a("el-checkbox",{on:{change:function(a){t.perChanged(i.row.UserId,e.Code,a)}},model:{value:t.checked[i.row.UserId][e.Code],callback:function(a){t.$set(t.checked[i.row.UserId],e.Code,a)},expression:"checked[scope.row.UserId][per.Code]"}})]}}])}):t._e()})],2)],1)])],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"dynamic-form"},[a("el-main",[a("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline,rules:t.rules}},[a("el-col",{attrs:{span:24}},[t.subElementObject&&t.subElementObject.Module&&t.subElementObject.Module.length>0?a("SubsDynamicPage",{attrs:{data:t.subElementObject}}):t._e(),t._v(" "),t._l(t.listElements,function(e){return e?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.hiddenInForm,expression:"!item.hiddenInForm"}],key:e.Code,class:(e.ColumnFlex?"col-xs-12 col-md-"+e.ColumnFlex/100*12:"col-xs-12 col-sm-4 col-lg-4")+" "+("Header"===e.ElementType?"header-ele":""),attrs:{prop:e.Name,label:"Header"!=e.ElementType?e.Caption:void 0}},[a("DynamicInput",{attrs:{name:e.Name,item:e,data:t.Setting.sendData,callback:t.handleChildChange,formData:t.Setting,rules:t.rules}})],1):t._e()})],2)],1)],1),t._v(" "),"inside"!==t.Setting.directiveType?a("el-footer",{attrs:{height:"auto"}},[(!t.Setting.sendData||t.Setting.sendData.Id)&&t.Setting.sendData||"true"!=t.Setting.Repeat?t._e():a("b-card",[a("div",{staticClass:"md-card"},[a("div",{staticClass:"reCreate",attrs:{"flex-gt-sm":"10","flex-sm":"15","flex-xs":"30"}},[a("label",{},[t._v("Mở lặp")]),t._v(" "),a("el-switch",{model:{value:t.Repeat,callback:function(e){t.Repeat=e},expression:"Repeat"}})],1),t._v(" "),t.Repeat&&"Day"==t.ReType?a("div",{attrs:{flex:"100"}},[t._v("Tạo công việc lặp ngày. "),t.ReEndDate?a("span",[t._v(" Kết thúc lặp công việc vào ngày: "+t._s(t.reFormatEndDate))]):t._e()]):t._e(),t._v(" "),t.Repeat&&"Week"==t.ReType?a("div",{attrs:{flex:"100"}},[t._v("Tạo công việc lặp theo tuần( Ngày này hàng tuần). "),t.ReEndDate?a("span",[t._v(" Kết thúc lặp công việc vào ngày "+t._s(t.reFormatEndDate))]):t._e()]):t._e(),t._v(" "),t.Repeat&&"Month"==t.ReType?a("div",{attrs:{flex:"100"}},[t._v("Tạo công việc lặp theo tháng( Ngày này hàng tháng). "),t.ReEndDate?a("span",[t._v(" Kết thúc lặp công việc vào ngày "+t._s(t.reFormatEndDate))]):t._e()]):t._e(),t._v(" "),t.Repeat?a("el-row",[a("el-col",{attrs:{span:8}},[a("label",{},[t._v("Vòng lặp")]),t._v(" "),a("el-radio-group",{model:{value:t.ReType,callback:function(e){t.ReType=e},expression:"ReType"}},[a("el-radio-button",{attrs:{label:"Day"}}),t._v(" "),a("el-radio-button",{attrs:{label:"Week"}}),t._v(" "),a("el-radio-button",{attrs:{label:"Month"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",{},[t._v("Ngày kết thúc")]),t._v(" "),a("el-date-picker",{attrs:{clearable:!0,size:"mini",format:"dd/MM/yyyy"},on:{change:function(e){t.checkDate("end")}},model:{value:t.ReEndDate,callback:function(e){t.ReEndDate=e},expression:"ReEndDate"}})],1)],1):t._e()],1)]),t._v(" "),a("b-card",{staticClass:"text-right button-list"},t._l(t.listButton,function(e){return e?a("DynamicButton",{directives:[{name:"show",rawName:"v-show",value:!e.hiddenInForm&&!e.Permitted,expression:"!button.hiddenInForm && !button.Permitted"}],key:e.Code,attrs:{data:t.Setting.sendData,setting:e}}):t._e()})),t._v(" "),a("b-card",{class:t.$isMobileDevice?"mobileform":""},[a("el-collapse",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t.Setting.HasFileTab?a("el-collapse-item",{attrs:{title:"Tài liệu đính kèm",name:"1"}},[a("UploadFile",{attrs:{parent:t.Setting.sendData,idSetting:t.Setting}})],1):t._e(),t._v(" "),t.Setting.HasCommentTab&&t.Setting.sendData&&t.Setting.sendData.Id&&t.Setting.functions?a("el-collapse-item",{attrs:{title:"Bình luận",name:"2"}},[a("Comment",{attrs:{parent:t.Setting.sendData,idSetting:t.Setting,button:t.currentButtonSetting}})],1):t._e(),t._v(" "),t.Setting.HasHistoryTab&&t.Setting.sendData&&t.Setting.sendData.Id?a("el-collapse-item",{attrs:{title:"Lịch sử",name:"3"}},[a("History",{attrs:{parent:t.Setting.sendData,idSetting:t.Setting}})],1):t._e()],1),t._v(" "),t.$isSystemAdmin()&&t.Setting.sendData&&t.Setting.sendData.Id?a("el-button",{on:{click:function(e){t.showPermission(t.Setting.sendData.Id)}}},[t._v("Phân quyền")]):t._e()],1)],1):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(559)}var s=a(560),o=a(564),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2__components_dynamic_Pagination__=__webpack_require__(283),__WEBPACK_IMPORTED_MODULE_3__components_dynamic_DynamicPage__=__webpack_require__(55),__WEBPACK_IMPORTED_MODULE_4__components_static_ShowTaskDetail__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_5_element_tree_grid__=__webpack_require__(30),__WEBPACK_IMPORTED_MODULE_5_element_tree_grid___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_element_tree_grid__);__webpack_exports__.a={components:{Pagination:__WEBPACK_IMPORTED_MODULE_2__components_dynamic_Pagination__.a,DynamicPage:__WEBPACK_IMPORTED_MODULE_3__components_dynamic_DynamicPage__.default,ElTableTreeColumn:__WEBPACK_IMPORTED_MODULE_5_element_tree_grid___default.a,ElTreeGrid:__WEBPACK_IMPORTED_MODULE_5_element_tree_grid___default.a},props:["pSetting","urlData"],data:function(){var t={};return t.totalCountPage=this.$rootScope.totalIndexSearch,t.Setting=this.pSetting,t.isIOs=this.$isMobile.iOS(),t.objAvatar={},t.selectedGroup=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser)).Project.GroupId,t.selected=[],t.isSelected=!1,t.haveObjAvatar=!1,t.urlPageDocument=this.$rootScope.urlPageDocument,t.Setting.Flag=!1,t.objColumnp=[],t.lastFilterExecuted={},t.ListButtons=[],t.selectedValue="",t.FormatData=[],t.currentP=1,t.startIndex=1,t.endIndex=50,t.totalP=0,t.maxItem=t.Setting.LimitIndex?parseInt(t.Setting.LimitIndex):50,t.dateStart="",t.dateEnd="",t.selectedWorker=[],t.displayCaption=!1,t.Id=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser)).UserId,"dynamic/knowhow-document"===t.urlPageDocument&&(t.idDocument="idDocumentAdd"),t},methods:{getImageObj:function(t,e){var a={};return t[e.Name]&&t[e.Name].split(";").forEach(function(i,s){t[e.OldName]&&t[e.OldName].split(";")[s]?a[i]=t[e.OldName].split(";")[s]:a[i]=i}),a},CreatAvatarObj:function(){var t=this,e={RequestAction:"SearchUsers",RequestClass:"BPM",RequestDataType:"json",StaticFields:"UserId",DynamicFields:"Avatar",ConditionFields:"UserId"};this.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e,"Data.UserDS.User"),e.forEach(function(e){t.objAvatar[e.UserId]=void 0!=e.Avatar?e.Avatar.substring(1):"assets/images/avatars/profile.png",t.objAvatar[e.UserId]=t.objAvatar[e.UserId].replace("profile.jpg","profile.png"),t.objAvatar[e.UserId]="assets/images/avatars/profile.png"===t.objAvatar[e.UserId]?t.$appUri.BaseURL+t.objAvatar[e.UserId]:t.$appUri.BaseURL+t.objAvatar[e.UserId].replace("/","")+"&Height=50&Width=50"})})},handleSelectPage:function handleSelectPage(val){this.currentP=val,this.startIndex=eval(val-1)*this.maxItem,this.endIndex=this.startIndex+this.maxItem;var index=[{name:"StartIndex",submit:!0,validate:!0,value:this.startIndex},{name:"EndIndex",submit:!0,validate:!0,value:this.endIndex}];this.searchCondition=this.$Lodash.unionBy(index,this.searchCondition,"name"),this.searchList(this.searchCondition,!0)},onShowDetailDialog:function(t,e,a){var i=this,s=this;if($.each(s.Setting.Fields,function(t,e){"ListDetail"===e.Caption&&(s.displayHTMLDetail=e.AddHtml)}),s.displayHTMLDetail){t.DisplayDetail=s.expressionHtmlString(s.displayHTMLDetail,t);var o={dataToPass:t,setting:s.Setting,comment:e};s.$hub.$emit("set-modal-data","Chi tiết","50%",!0,"center",__WEBPACK_IMPORTED_MODULE_4__components_static_ShowTaskDetail__.a,!0,"",o)}else{var n=t;this.$Utils.isEmpty(n)||(n={}),$.each(this.$Lodash.cloneDeep(s.Setting.objDefault),function(t,e){n[t]=e});var l={};if(a.ParentChild&&a.ParentChild.constructor==String?$.each(this.$Utils.stringToObject(a.ParentChild),function(t,e){i.$Utils.isEmpty(n,t)&&(l[e]=n[t])}):$.each(n,function(t,e){i.$Utils.isEmpty(e)&&(l[t]=e)}),this.$Utils.isEmpty(a.Value)&&a.Value.indexOf("ReferenceId")>0){var r=this.$Utils.stringToObject(a.Value);$.each(r,function(t,e){l[t]=e})}a.parentSetting={object:this.$Lodash.cloneDeep(l),set:this.$Lodash.cloneDeep(a),callback:s.Setting.functions},a.directiveType="inside",a.ModuleType=a.PopupModuleType?a.PopupModuleType:"Form",s.$hub.$emit("set-modal-data","Chi tiết","100%",!0,"center",__WEBPACK_IMPORTED_MODULE_3__components_dynamic_DynamicPage__.default,!0,"",{Template:"Modal",Module:[a]},!1)}},excuteExcel:function(){var t=this,e=this,a="ValidatedDate;",i=[],s={Id:"Id"};e.ListColumns.forEach(function(e){if("Tool"!==e.Name&&(a+=e.Name+";",s[e.Name]=e.Caption,e.Expression)){var o=t.$Lodash.cloneDeep(e.Expression).replace("{{","").replace("}}","");i.push(e);var n=o.split("|"),l=n[1].split(":"),r=[];r.push(n[0]),l.forEach(function(t){r.push(t)}),e.DateTime&&(a+=e.DateTime,s[e.DateTime]=e.DateTime),r.forEach(function(t){-1==="DateTime;toNow;NowTo;DateTo".indexOf(t)&&(a+=t+";",s[t]=t,e.Expression.replace(t,s[t]))})}});var o=e.$Lodash.cloneDeep(e.lastFilterExecuted);o.TotalRequests=1,o.RequestClass="xBase",o.RequestAction="ExcelRequest",o.R1_RequestFields=a+"Id;",delete o.R1_StartIndex,delete o.R1_EndIndex,o.RequestHeader=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(s),o.FormatColumns=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(i),o.ExcelFormat="Xls",o.ExportType="List",e.$Utils.postGetExcel(o).then(function(t){var a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});e.saveAs(a,e.Setting.Caption+"_"+e.$Utils.formatDateTime(new Date,"DD/MM/YYYY")+".xls")})},saveAs:function(t,e){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,e);else{var a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e,a.click(),window.URL.revokeObjectURL(a.href)}},autoLoad:function(){var t=this,e=JSON.parse(t.$getItemLocalStorage(t.$localStorageConstant.LoggedOnUser));$.each(t.Setting.Buttons,function(a,i){if("string"==typeof i.ExtraSetting&&$.each(t.$Utils.stringToObject(i.ExtraSetting),function(t,e){i[t]=e}),"Insert"===i.ButtonDisplayType)i.ModuleCode=i.PopupModule,i.ElementType=i.ElementType?i.ElementType:"Popup",t.Setting.InsertButton=i,t.Setting.ShowInsertButton=!0,t.$Utils.isEmpty(t.Setting.InsertButton.UserPermissions,"0")&&(t.Setting.ShowInsertButton=!1,$.each(t.Setting.InsertButton.UserPermissions,function(a,i){var s=e.Roles,o=e.Groups;$.each(s,function(e,a){i===a.GroupId&&(t.Setting.ShowInsertButton=!0)}),$.each(o,function(e,a){i===a.GroupId&&(t.Setting.ShowInsertButton=!0)})}));else if("Export"===i.ButtonDisplayType)t.Setting.ShowExportButton=!0;else if("Call"!==i.Action||t.$Utils.isEmpty(e.Extension)&&!t.$isMobile.iOS()){var s=!1;t.$Utils.isEmpty(i.UserPermissions,"0")?$.each(i.UserPermissions,function(t,a){var i=e.Roles,o=e.Groups;$.each(i,function(t,e){a===e.GroupId&&(s=!0)}),$.each(o,function(t,e){a===e.GroupId&&(s=!0)})}):s=!0,1==s&&t.ListButtons.push(i)}else;});var a=[];$.each(t.Setting.Fields,function(e,i){i.ElementType=t.$Utils.isEmpty(i.ElementType)?i.ElementType:t.$Utils.isEmpty(i.ListElementType)?i.ListElementType:"Text","Image"!==i.ElementType||t.haveObjAvatar||(t.haveObjAvatar=!0,t.CreatAvatarObj()),"string"==typeof i.AdvancedDisplay&&$.each(t.$Utils.stringToObject(i.AdvancedDisplay),function(t,e){"AddHtml"!==t&&(i[t]=e)});var s=t.Setting.ModuleType;if($.each(i,function(t,e){0===t.indexOf(s)&&t.length>s.length&&(i[t.substring(s.length,t.length)]=e)}),"ButtonGroup"===i.ElementType&&"string"===i.Buttons){var o=i.Buttons.split(";");i.Buttons=[],$.each(o,function(e,a){$.each(t.ListButtons,function(t,e){e.Name===a&&(e.hideOnTool=!0,i.Buttons.push(e))})})}if(i.Name===t.Setting.PartitionSortBy&&"Partition"===t.Setting.DisplayType&&(t.PartitionField=i),"true"===i.ListIsMobile&&t.$isMobileDevice&&(i.ListIsHidden="true"),i.Class=i.Class?i.Class:"text-nowrap",i.Class+=-1!==["Double","Integer","DateTime"].indexOf(i.FieldColumnType)?" text-right":"","true"!==i.ListIsHidden&&void 0!==i.Caption&&(i.Expression&&(t.objCalculator[i.Name]=i),""===i.DynamicText&&delete i.DynamicText,void 0!==i.DynamicText&&null!==i.DynamicText&&(i.OldName=t.$Lodash.cloneDeep(i.Name),i.Name=i.DynamicText),t.ListColumns.push(i),a.push(t.bindColumn(i))),("true"!==i.ListIsHidden||"Id"===i.Name||t.$Utils.isEmpty(i,"AdvancedDisplay")&&i.AdvancedDisplay.indexOf("ListIsHidden=true")>=0)&&void 0!==i.Caption){if(i.Expression&&(t.objCalculator[i.Name]=i,"#Divine"===i.Expression)){var n=t.$Lodash.cloneDeep(t.$singleRequest);n.R1_RequestTemplate=i.FormRequest,n.R1_ParentCode=i.FormCode.substring(11,i.FormCode.length),t.$Utils.post(n).then(function(e){t.ListSettings=t.$Utils.getDataWithRoot(e.R1,i.FormDataRoot)})}void 0===i.DynamicText||t.$Utils.isEmpty(i.OldName)||(i.OldName=t.$Lodash.cloneDeep(i.Name),i.Name=i.DynamicText),t.FullColumns.push(i)}}),t.objColumnp={},$.each(t.FullColumns,function(e){t.$Utils.isEmpty(e.Name)&&"Tool"!==e.Name&&(t.objColumnp[e.Name]=e.Caption)}),t.columnp=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t.objColumnp),t.$Utils.isEmpty(t.Setting,"parentSetting.object")&&$.each(t.Setting.parentSetting.object,function(e,a){t.Setting.objDefault[e]=a}),t.Setting.AutoSearch&&t.searchList()},showEdit:function(t){var e=this,a={Code:"Form.cap-nhat-nhieu-cong-viec.048h8",Description:{DataSource:"AG_Task_Task",RootData:"Data.TasksDS.Task"},Name:"DataGroup.danh-sach-cong-viec.04b66"};a.Description.DataSource,e.selectedValue},searchList:function(t,e){var a=this;e||(a.currentP=1,a.searchCondition=t||a.searchCondition);var i=a.$getItemLocalStorage(a.$localStorageConstant.SessionId);a.Setting.message="";var s={RequestClass:"xBase",RequestAction:"Request",TotalRequests:2,R1_RequestTemplate:a.Setting.DataSource+".Search",R1_RequestDataGroup:a.Setting.DataGroup,R1_RequestFields:"Id;",R2_RequestTemplate:a.Setting.DataSource+".Count",R2_RequestDataGroup:a.Setting.DataGroup};if(a.selectedWorker.length>0&&(s.R1_Worker=this.selectedWorker.join(";"),s.R2_Worker=this.selectedWorker.join(";")),"AG_Task_Task"===a.Setting.DataSource&&this.selectedGroup&&(s.R1_AssignedUser=i,s.R2_AssignedUser=i,s.R1_Project=this.selectedGroup,s.R2_Project=this.selectedGroup,s.R1_RequestFields+="Project;ProjectName"),a.Setting.AssignedUser,$.each(a.Setting.AdditionConditions,function(t,e){if(a.$Utils.isEmpty(e)&&e.indexOf("|BaseData}}")>=0&&a.$Utils.isEmpty(a.BaseData)){var i=e,o=(i.substr(0,i.indexOf("{{")),i.substr(i.indexOf("{{")+2,i.indexOf("}}")-i.indexOf("{{")-2)),n=o.substr(0,o.indexOf("|")).trim();s["R1_"+t]=a.BaseData[n],s["R2_"+t]=a.BaseData[n]}else s["R1_"+t]=e,s["R2_"+t]=e}),$.each(a.Setting.Fields,function(t,e){e.Name&&(s.R1_RequestFields+=e.Name+";"),e.DynamicText&&e.OldName&&(s.R1_RequestFields+=e.OldName+";")}),"Tree"==a.Setting.DisplayType&&(a.Setting.RootData="Data"),$.each(a.ListSearchConditions,function(t,e){s["R1_"+e.name]=e.value,s["R2_"+e.name]=e.value}),""!==a.dateStart&&"AG_Task_Task"===a.Setting.DataSource&&(s.R1_PlanStartDateStartValue=this.dateStart,s.R2_PlanStartDateStartValue=this.dateStart),""!==a.dateEnd&&"AG_Task_Task"===a.Setting.DataSource&&(s.R1_PlanStartDateEndValue=this.dateEnd,s.R2_PlanStartDateEndValue=this.dateEnd),"AG_Task_Task"===a.Setting.DataSource&&this.$Utils.isEmpty(this.urlData)&&$.each(this.urlData,function(t,e){s["R1_"+t]=e,s["R2_"+t]=e}),a.searchCondition&&Array.isArray(a.searchCondition)&&$.each(a.searchCondition,function(t,e){a.$Utils.isEmpty(e,"setting")&&"#Divine"==e.setting.Expression&&$.each(e.value.split(";"),function(t,e){a.$Utils.isEmpty(e)&&""!=e&&(s["R1_"+e]=1,s["R2_"+e]=1)}),a.$Utils.isEmpty(e,"setting")&&"MultiTree"==e.setting.ElementType?$.each(e.value.split(";"),function(t,i){if(a.$Utils.isEmpty(i)&&""!=i){var o=t+1;s["R1_"+e.name+"Level"+o]=i,s["R2_"+e.name+"Level"+o]=i,delete s["R1_"+e.name],delete s["R2_"+e.name]}}):!a.$Utils.isEmpty(e,"value")||""===e.value||a.$Utils.isEmpty(e,"setting")&&"Multi"==e.setting.FormElementType?a.$Utils.isEmpty(e,"value")&&""!==e.value&&a.$Utils.isEmpty(e,"setting")&&"Multi"==e.setting.FormElementType&&e.setting.DynamicText!=e.name&&(s["R1_"+e.name]=e.value,s["R2_"+e.name]=e.value):(s["R1_"+e.name]=e.value,s["R2_"+e.name]=e.value)}),$.each(s,function(t,e){s[t]=a.$Utils.expressionToString(a.Setting.objDefault,e+"")}),delete s.R2_StartIndex,delete s.R2_EndIndex,"Partition"==a.Setting.DisplayType&&a.Setting.PartitionSortBy&&a.PartitionField.FormRequest){var o=a.$Utils.stringToObject(a.PartitionField.FormCode);o.RequestTemplate=a.PartitionField.FormRequest,s.TotalRequests++,s=a.$Utils.updateParamsSingleRequest(s,o,s.TotalRequests)}a.$Utils.isEmpty(s.R1_StartIndex)||(s.R1_StartIndex=1,s.R1_EndIndex=a.maxItem),"AG_Task_Task"==a.Setting.DataSource&&a.$Utils.isEmpty(s.R1_Categories)&&""!=s.R1_Categories&&(s.R1_RequestTemplate="AG_Task_Task.SearchTaskByCategory",s.R1_ConditionFields="Categories",delete s.R2_StartIndex,delete s.R2_EndIndex),(s.R1_Id||1==s.R1_State||"undefined"==s.R1_Project)&&(delete s.R1_Project,delete s.R2_Project),"Tree"==a.Setting.DisplayType&&(delete s.R1_StartIndex,delete s.R1_EndIndex),a.$Utils.postCheckResult(s).then(function(t){if(a.lastFilterExecuted=s,t.success){if(a.selected=[],a.isSelected=!1,a.SourceData=a.$Utils.getDataWithRoot(t.R1,a.Setting.RootData),a.totalP=isNaN(parseInt(a.$Utils.getDataWithRoot(t.R2,"Data")))?0:parseInt(a.$Utils.getDataWithRoot(t.R2,"Data")),"Tree"==a.Setting.DisplayType&&(a.totalP=1),a.FormatData=a.$Lodash.cloneDeep(a.SourceData),a.$parent.listVal[a.Setting.Code]=a.$Lodash.cloneDeep(a.SourceData),a.FormatData.length>0&&"AG_Task_Task"!=a.Setting.DataSource){var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:a.FormatData.length,RequestTemplate:"Permission"};$.each(a.FormatData,function(t,i){a.arrPermission[i.Id]={},e["R"+(t+1)+"_Parent"]=i.Id}),a.$Utils.post(e).then(function(t){$.each(t,function(t,e){e=a.$Utils.getDataWithRoot(e,"Data.DataDS.Linked"),a.$Utils.isEmpty(e)&&e.length>0&&$.each(e,function(t,i){a.$Utils.isEmpty(a.arrPermission[e[0].Parent])&&a.$Utils.isEmpty(a.arrPermission[e[0].Parent][i.Code])||(a.arrPermission[e[0].Parent][i.Code]=[]),a.arrPermission[e[0].Parent][i.Code].push(i.Child)})}),a.$Utils.isEmpty(a.SourceData)&&a.$Utils.isEmpty(a.Setting.InsideList)&&delete a.Setting.InsideList,a.bindList()})}else a.bindList();if(a.formatCalculatorColumn(),a.formatField(),"Partition"==a.Setting.DisplayType){a.Setting.ListPartitionOrders=[],t.R3&&a.$Utils.isEmpty(a.PartitionField)&&(a.Setting.ListPartitionOrders=a.$Utils.getDataWithRoot(t.R3,a.PartitionField.FormDataRoot?a.PartitionField.FormDataRoot:"Data")),a.formatPartition()}else"Tree"==a.Setting.DisplayType&&a.setTreeData()}else a.$Utils.showMessage("error","tải dữ liệu thất bại")})},bindList:function(){var t=this;"true"==t.Setting.IsDetail&&(!0,t.FormatData.length)},bindColumn:function(t){var e=this,a=t;return"ButtonGroup"==t.ElementType||("Popup"==t.ElementType?t.AddHtml&&t.AddHtml.constructor===String&&(e.Setting.LinksAddHtml=e.$Utils.decodeHtmlEntities(t.AddHtml)):"Link"==t.ElementType?t.AddHtml&&t.AddHtml.constructor===String&&(e.Setting.LinksAddHtml=e.$Utils.decodeHtmlEntities(t.AddHtml)):(t.Name,"Tool"==t.Name?t.AddHtml&&t.AddHtml.constructor===String&&(e.Setting.ButtonsAddHtml=e.$Utils.decodeHtmlEntities(t.AddHtml)):t.AddHtml?e.Setting.FieldAddHtml=e.$Utils.decodeHtmlEntities(t.AddHtml):(a.mData=t.Name,a.sTitle=t.Caption,a.defaultContent="","true"==t.ListIsHidden&&(a.bVisible=!1)))),a},formatCalculatorColumn:function(t){var e=this;$.each(e.FormatData,function(t,a){$.each(e.objCalculator,function(t,i){if("#Divine"==i.Expression)$.each(e.ListSettings,function(s,n){var l=e.$Utils.expressionToString(n,i.FormSavedKey);"1"==a[l]&&(o=e.$Utils.expressionToString(n,i.FormSavedText),a[t]=o)});else{var s=e.$Utils.expressionToString(a,i.Expression),o="";switch(i.FieldColumnType){case"Integer":o=e.$Utils.calculator(s);break;case"Double":o=e.$Utils.calculator(s),o!==Number&&(o="");break;default:o=s}e.$Utils.isEmpty(i.DependOn)?("onEmpty"==i.DepenType&&-1==i.DependValue.indexOf(a[i.DependOn])||"onExist"==i.DepenType&&i.DependValue.indexOf(a[i.DependOn])>=0)&&(a[t]=o):a[t]=o}}),$.each(e.Setting.Fields,function(t,i){if(i.ListRequest){var s=e.$Lodash.cloneDeep(e.$singleRequest);s.R1_RequestTemplate=i.ListRequest;var o=e.$Utils.stringToObject(i.ListCode);$.each(o,function(t,e){s["R1_"+t]=e}),e.$Utils.post(s).then(function(t){if(t.success&&t.R1.success){var s=e.$Utils.getDataWithRoot(t.R1,i.ListDataRoot),o=e.$Lodash.cloneDeep(a[i.Name]);$.each(s,function(t,s){var n=e.$Utils.stringToObject(s.Value);(e.$Utils.isEmpty(n.Start)&&o>=n.Start||e.$Utils.isEmpty(n.StartF)&&o>n.Start||!e.$Utils.isEmpty(n.Start)&&!e.$Utils.isEmpty(n.StartF))&&(e.$Utils.isEmpty(n.End)&&o<=n.End||e.$Utils.isEmpty(n.EndF)&&o<n.EndF||!e.$Utils.isEmpty(n.End)&&!e.$Utils.isEmpty(n.EndF))&&(a[i.Name]=s.Name)})}})}})})},formatField:function formatField(){var ctrl=this;ctrl.ExportItem={},$.each(ctrl.FormatData,function(index,source){ctrl.ExportItem[index]=ctrl.$Lodash.cloneDeep(source),$.each(ctrl.FullColumns,function(k,column){var setting=column,value="";if("IndexDefault"==column.Name)source[setting.Name]=index+1;else if("Html"==column.FormElementType)source[setting.Name]=""!=source[setting.Name]&&void 0!=source[setting.Name]?ctrl.$Utils.decodeHtmlEntities(source[setting.Name]):"";else{var value=source[column.Name];switch(setting.FieldColumnType){case"Integer":""==value||isNaN(value)||(source[setting.Name]=parseFloat(value).toFixed(2));break;case"Double":if(""!=value&&!isNaN(value)){var formated=!1;if(setting.FormatValue){var afterDecimal=0;afterDecimal=setting.FormatValue.substring(setting.FormatValue.indexOf(".")+1,setting.FormatValue.indexOf("f")),afterDecimal=""==afterDecimal?0:afterDecimal,value=0==value?0:parseFloat(value).toFixed(afterDecimal),formated=!0}if(setting.Format&&setting.Format.constructor===String){setting.Format=setting.Format.split("{{0").join("{{"+setting.Name);var object={};object[setting.Name]=value,value=ctrl.$Utils.expressionToString(object,setting.Format),formated=!0}formated||(value=parseFloat(value).toFixed(0))}break;case"DateTime":if(void 0!=value&&""!=value){var date=ctrl.$Utils.stringToDate(value),format;ctrl.$Utils.isEmpty(setting.Format)&&(format=setting.Format),value=ctrl.$Utils.formatDateTime(date,format)}}ctrl.ExportItem[index][setting.Name]=ctrl.$Lodash.cloneDeep(value),setting.MaxChar&&eval(setting.MaxChar).constructor===Number&&ctrl.$Utils.isEmpty(value)&&value.length>setting.MaxChar&&(source[setting.Name+"#Default"]=ctrl.$Lodash.cloneDeep(value),value=value.substring(0,setting.MaxChar)+"..."),source[setting.Name]=value}}),source.SourceData=ctrl.SourceData[index]})},formatPartition:function(){var t=this,e=t.PartitionField,a=t.Setting.ListPartitionOrders;t.$Utils.isEmpty(a)&&"Data"==e.FormDataRoot&&(a=t.$Utils.createdListFromDataTree(t.$Lodash.cloneDeep(a),[])),t.PartitionDataSource=[];var i={},s={head:"undefined",display:t.$defaultUndefined,data:[]};$.each(t.SourceData,function(a,o){var n=t.$defaultUndefined,l="";if(o[e.Name]){switch(e.FieldColumnType){case"String":n=e.OldName?o[e.OldName]:o[e.Name],l=o[t.Setting.PartitionDisplayName];break;case"DateTime":var r=t.$Utils.stringToDate(o[e.Name]),c=t.$Utils.dateToString(r.getDay());n=t.$Utils.formatDateTime(r,"YYYY/MM/DD"),l=c+" - "+t.$Utils.formatDateTime(r,"DD/MM")}t.$Utils.isEmpty(i[n])||(i[n]={display:l,data:[],value:n,Caption:l}),i[n].data.push(t.FormatData[a])}else s.data.push(t.FormatData[a])}),s.data.length>0&&(i.undefined=s);var o=[];a.length>0?(a.push({Id:"undefined",Caption:t.$defaultUndefined}),$.each(a,function(a,s){if("Id"!=e.FormField&&s[e.FormField]&&(s.Id=s[e.FormField]),!t.$Utils.isEmpty(s.Name)&&t.$Utils.isEmpty(e.FormSavedText)){var n=e.FormSavedText.substr(e.FormSavedText.indexOf("{{")+2,e.FormSavedText.indexOf("}}")-e.FormSavedText.indexOf("{{")-2);s.Name=s[n]}var l=t.$Utils.isEmpty(e.FormSavedKey)?s[e.FormSavedKey.substr(e.FormSavedKey.indexOf("{{")+2,e.FormSavedKey.indexOf("}}")-e.FormSavedKey.indexOf("{{")-2)]:s.Id;i[l]&&(i[l].display=s.Caption?s.Caption:s.Name,o.push(i[l]))})):($.each(i,function(t,e){o.push(e)}),o.sort(function(t,a){var i=0,s=0;switch(e.FieldColumnType){case"DateTime":i=new Date(t.value).getTime(),s=new Date(a.value).getTime();break;default:i=t.display,s=a.display}return i>s?1:i<s?-1:0}));var n={Caption:"Thống kê tổng",type:"total",rowClass:"progress"};if($.each(o,function(e,a){if(t.PartitionDataSource.push({type:"head",value:a.value,name:a.display,Caption:a.display}),t.PartitionDataSource=t.PartitionDataSource.concat(a.data),t.$Utils.isEmpty(t.Setting.PartitionCalculator)&&""!=t.Setting.PartitionCalculator){var i={Caption:"Thống kê",type:"total",rowClass:"progress"},s=t.Setting.PartitionCalculator.split(";");$.each(s,function(e){t.$Utils.isEmpty(n[e])||(n[e]=0),i[e]=0,$.each(a.data,function(t,a){var s=0;isNaN(a[e])||(s=parseFloat(a[e])),i[e]+=s,n[e]+=s}),i[e]=parseFloat(i[e]).toFixed(2)}),t.PartitionDataSource.push(i)}}),t.$Utils.isEmpty(t.Setting.PartitionCalculator)&&""!=t.Setting.PartitionCalculator&&0!=t.FormatData.length){var l=t.Setting.PartitionCalculator.split(";");$.each(l,function(t,e){""!=e&&(n[e]=0!=n[e]?parseFloat(n[e]).toFixed(2):0)}),t.PartitionDataSource.push(n)}t.FormatData=[],t.FormatData=t.PartitionDataSource,t.partionData=i},formatClass:function formatClass(column,data){var ctrl=this;if(column.Class||column.Attribute&&""!=column.Attribute){var listColor=JSON.parse(ctrl.$getItemLocalStorage(ctrl.$localStorageConstant.SettingColor)),arrClasses=column.Class.split(" "),returnClass="";if(column.Attribute&&""!=column.Attribute&&data&&$.each(listColor,function(t,e){e.Extra==data[column.Attribute]&&arrClasses.push(e.Value)}),arrClasses.forEach(function(t){if(t=t.trim(),t.indexOf("{{")>=0&&t.indexOf("}}")>0){var e=t.substr(t.indexOf("{{")+2,t.indexOf("}}")-4);data&&(ctrl.color=data[e],ctrl.$Utils.isEmpty(e)&&(returnClass+=t.replace("{{"+e+"}}",data[e]),returnClass+=" "))}else returnClass+=t+" "}),returnClass.indexOf("{{")>=0&&returnClass.indexOf("}}")>0){var key=returnClass.substr(returnClass.indexOf("{{")+2,returnClass.indexOf("}}")-4);ctrl.$Utils.isEmpty(key)&&(returnClass=eval(returnClass.replace("{{"+key+"}}",key)))}returnClass.indexOf("text-center cell100 work-status z-")}return returnClass},formatStyle:function formatStyle(column,data){var ctrl=this;if(column.Class||column.Attribute&&""!=column.Attribute){var listColor=JSON.parse(ctrl.$getItemLocalStorage(ctrl.$localStorageConstant.SettingColor)),arrClasses=column.Class.split(" "),returnClass="",returnStyle="";if(column.Attribute&&""!=column.Attribute&&data&&$.each(listColor,function(t,e){e.Extra==data[column.Attribute]&&arrClasses.push(e.Value)}),arrClasses.forEach(function(t){if(t=t.trim(),t.indexOf("{{")>=0&&t.indexOf("}}")>0){var e=t.substr(t.indexOf("{{")+2,t.indexOf("}}")-4);data&&(ctrl.color=data[e],ctrl.$Utils.isEmpty(e)&&(returnClass+=t.replace("{{"+e+"}}",data[e]),returnClass+=" "))}else returnClass+=t+" "}),column.Expression&&-1!==column.Expression.indexOf("|DateTime:toNow"))if(column.ColorCase){var ColorCase=ctrl.$Utils.stringToObject(column.ColorCase);if(console.log(column.ListDateTime),column.ListDateTime&&column.ListDateCode&&""!=column.ListDateCode&&-1!==column.ListDateCode.split(";").indexOf(data[column.ListDateTime])||eval(data[column.Name])>0){var case1=ColorCase.Case1;case1&&(returnStyle="background-color: "+case1+"; color: #fff; text-align: center;"),data[column.Name]=0}else if(0==eval(data[column.Name])){var case2=ColorCase.Case2;case2&&(returnStyle="background-color: "+case2+"; color: #fff; text-align: center;")}else{var case3=ColorCase.Case3;case3&&(returnStyle="background-color: "+case3+"; color: #fff; text-align: center;")}}else(column.ListDateTime&&column.ListDateCode&&""!=column.ListDateCode&&-1!==column.ListDateCode.split(";").indexOf(data[column.ListDateTime])||eval(data[column.Name])>0)&&(data[column.Name]=0);if(column.Expression&&-1!==column.Expression.indexOf("|DateTo:")&&column.ColorCase){var ColorCase=ctrl.$Utils.stringToObject(column.ColorCase);if(column.ListDateTime&&column.ListDateCode&&""!=column.ListDateCode&&-1!==column.ListDateCode.split(";").indexOf(data[column.ListDateTime])||eval(data[column.Name])>=0){var case1=ColorCase.Case1;case1&&(returnStyle="background-color: "+case1+"; color: #fff; text-align: center;")}else{var case2=ColorCase.Case2;case2&&(returnStyle="background-color: "+case2+"; color: #fff; text-align: center;")}}if(column.Expression&&-1!==column.Expression.indexOf("|NowTo:"))if(column.ColorCase){var ColorCase=ctrl.$Utils.stringToObject(column.ColorCase);if(column.ListDateTime&&column.ListDateCode&&""!=column.ListDateCode&&-1!==column.ListDateCode.split(";").indexOf(data[column.ListDateTime])&&eval(data[column.Name]>=column.CountDate)){var case1=ColorCase.Case1;case1&&(returnStyle="background-color: "+case1+"; color: #fff; text-align: center;")}else data[column.Name]=void 0}else column.ListDateTime&&column.ListDateCode&&""!=column.ListDateCode&&-1!==column.ListDateCode.split(";").indexOf(data[column.ListDateTime])&&eval(data[column.Name]>=column.CountDate)||(data[column.Name]=void 0);if(returnClass.indexOf("{{")>=0&&returnClass.indexOf("}}")>0){var key=returnClass.substr(returnClass.indexOf("{{")+2,returnClass.indexOf("}}")-4);ctrl.$Utils.isEmpty(key)&&(returnClass=returnClass.replace("{{"+key+"}}",key))}-1!=returnClass.indexOf("text-center cell100 work-status z-")&&(returnStyle="background-color:"+ctrl.arrStatusColor[ctrl.color])}return returnStyle},bindToolHtml:function(t,e,a){var i=this;i.listp=[];var s="";if(i.Setting.ButtonsAddHtml.constructor===String&&""!=i.Setting.ButtonsAddHtml){var o=i.expressionHtmlString(i.Setting.ButtonsAddHtml,e);s+=o}else s+='<div layout="row" class="default-tool">';return 1==i.Setting.ShowExportButton&&i.isMobile,$.each(i.ListButtons,function(o,n){var l=!0;if(i.$Utils.isEmpty(n.Filters)&&$.each(n.Filters,function(t,a){var s="";s=a.Value.indexOf("{{")>=0?i.$Utils.getUserInfo(a.split("{{").join("").split("}}").join("")):a.Value,(!i.$Utils.isEmpty(e[a.Key])||"Field"==a.Type&&i.$Utils.isEmpty(e,a.Key)&&-1==e[a.Key].indexOf(s)||"Field"!=a.Type&&-1==s.indexOf(a.Key))&&(l=!1)}),i.$Utils.isEmpty(n.UserPermissions,"0")&&(l=!1,$.each(n.UserPermissions,function(t,e){var a=JSON.parse(i.$getItemLocalStorage(i.$localStorageConstant.LoggedOnUser)).Roles;$.each(a,function(t,a){e==a.GroupId&&(l=!0)});var s=JSON.parse(getItemLocalStorage(localStorageConstant.LoggedOnUser)).Groups;$.each(s,function(t,a){e==a.GroupId&&(l=!0)})})),i.$Utils.isEmpty(n.PermitToShow)&&(l=!1,i.$Utils.isEmpty(i.arrPermission,t.Id)&&$.each(i.arrPermission[t.Id][n.PermitToShow],function(t,e){if(JSON.parse(i.$getItemLocalStorage(i.$localStorageConstant.LoggedOnUser)).UserId.indexOf(e)>=0)l=!0;else{var a=JSON.parse(i.$getItemLocalStorage(i.$localStorageConstant.LoggedOnUser)).Roles,s=JSON.parse(i.$getItemLocalStorage(i.$localStorageConstant.LoggedOnUser)).Groups;$.each(a,function(t,a){e==a.GroupId&&(l=!0)}),$.each(s,function(t,a){e==a.GroupId&&(l=!0)})}})),1==l){var r=i.displayControl(n,t);r.Show=!0,!n.hideOnTool&&r.Show&&("Redirect"==n.ButtonType?(s+=' <a href="#/'+i.$Utils.expressionToString(a.$index.SourceData,i.$Lodash.cloneDeep(n.Redirect))+'">',n.Icon,s+='<i type="primary" class="icon '+n.Icon+'">',n.ExtraTextClass&&(s+='<md-icon class="bg-danger text-white text-center">'+r.extraText+"</md-icon>"),s+="</i>",s+="</a>"):(n.Icon,s+='<el-button type="primary" class="icon '+n.Icon+'"',s+=" v-on:click=\"onButtonClick('"+o+"','"+a.$index+"')\"",n.ExtraTextClass&&(s+='<md-icon class="bg-danger text-white text-center">'+r.extraText+"</md-icon>"),s+="</el-button>"))}}),s+="</div>"},bindField:function(t,e,a,i){var s="";if(ctrl.Setting.FieldAddHtml.constructor===String&&-1==["head","total"].indexOf(a.type)){s+=this.expressionHtmlString(ctrl.Setting.FieldAddHtml,a)}return s},bindGroupHtml:function(t,e,a,i){return""},bindLinkHtml:function(t,e,a){var i=this,s="";a.column=2;var o=i.ListColumns[a.column];o.ButtonType?o.ButtonType:o.ElementType;if(!o.ButtonType&&"Link"==o.ElementType&&o.Redirect?s+='<a href="#/'+i.$Utils.expressionToString(i.FormatData[a.$index].SourceData,i.$Lodash.cloneDeep(o.Redirect))+'">':s+='<a href="javascript:void(0)" v-on:click="onFieldClick(\''+a.column+"','"+a.$index+"')\">",i.Setting.LinksAddHtml&&i.Setting.LinksAddHtml.constructor===String)var n=i.expressionHtmlString(i.Setting.LinksAddHtml,e);return s+=e[o.Name]+"</a>",i.$Utils.isEmpty(n)&&(s+=n),s},excuteUpdate:function(t,e){var a=this;if(a.$Utils.isEmpty(e.Value)&&""!=e.Value){var i=a.$Lodash.cloneDeep(t);$.each(a.$Utils.stringToObject(e.Value),function(t,e){i[t]=e});var s=a.$Utils.updateParamsSingleRequest(a.$Lodash.cloneDeep(a.$singleRequest),i);s=a.$Utils.updateParamsSingleRequest(s,{RequestTemplate:a.Setting.DataSource+".Update",RequestDataGroup:a.Setting.DataGroup,RequestFields:"Id;"}),s.R1_RequestFields+=a.Setting.Fields.map(function(t){return t.Name}).join(";"),a.$Utils.post(s).then(function(t){t.success?(a.$Utils.showMessage("success",a.$toastMessage.updateItemPre+(i.Name?i.Name:"")+a.$toastMessage.updateItemSuf),a.updateList(i)):a.$Utils.showMessage("error",a.$toastMessage.updateItemFailed)})}else a.$Utils.showMessage("error",a.$toastMessage.settingTemplateError)},excuteDelete:function(t,e){var a=this,i=this;i.$confirm("Hành động này không thể hoàn tác. Bạn thực sự muốn xóa bản ghi này?","Cảnh Báo",{confirmButtonText:"Xóa",cancelButtonText:"Bỏ  qua",type:"warning"}).then(function(){t&&t.constructor!==Array&&(t=[t]),i.$Utils.isEmpty(i.Setting.Notifications,"0")?$.each(t,function(a,s){var o={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:s.Id};i.$Utils.post(o).then(function(a){if(a.TotalCount>0){var o=1==a.TotalCount?[a.Data.DataDS.Linked]:a.Data.DataDS.Linked,n=i.$Lodash.cloneDeep(i.$singleRequest);n.R1_RequestTemplate="SettingNew.SearchSetting",n.R1_Code=i.Setting.DataGroup,i.$Utils.post(n).then(function(a){if(a.success&&a.R1.success){var n=i.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting")[0];if(n.Description=n.Description&&n.Description.constructor===String?JSON.parse(n.Description):[],i.$Utils.isEmpty(n,"F1")){n.Description.Fields="";for(var l=1;l<=n.Description.FCount;l++)void 0!=n["F"+l]&&(n.Description.Fields+=n["F"+l],delete n["F"+l]);i.Setting.FullFields=n.Description.Fields&&n.Description.Fields.constructor===String?JSON.parse(n.Description.Fields):[]}var r=i.$Lodash.cloneDeep(i.$singleRequest);r.R1_RequestTemplate=i.Setting.DataSource+".Search",r.R1_Id=s.Id,r.R1_RequestFields="",r.R1_RequestDataGroup=i.Setting.DataGroup,$.each(i.Setting.AdditionConditions,function(t,e){r["R1_"+t]=e}),$.each(i.Setting.FullFields,function(t,e){e.DynamicText?r.R1_RequestFields+=e.DynamicText+";":r.R1_RequestFields+=e.Name+";"}),$.each(r,function(t,e){r[t]=i.$Utils.expressionToString(i.objSourceData,e+"")}),i.$Utils.post(r).then(function(a){if(a.success&&a.R1.success){var s=i.$Utils.getDataWithRoot(a.R1,i.Setting.RootData)[0];i.$Utils.isEmpty(s)?(i.sendDeleteRequest(t,e),i.sendNotification(o,s)):i.sendDeleteRequest(t,e)}else i.$Utils.showMessage("error",i.$toastMessage.loadingDataFailed),i.sendDeleteRequest(t,e)})}else i.sendDeleteRequest(t,e)})}else i.sendDeleteRequest(t,e)})}):i.sendDeleteRequest(t,e)}).catch(function(){a.$Utils.showMessage("info","Bỏ qua tác vụ xoá")})},sendDeleteRequest:function(t,e){var a=this,i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:t.length,RequestTemplate:a.Setting.DataSource+".Delete"};$.each(t,function(t,e){i["R"+(t+1)+"_Id"]=e.Id}),a.$Utils.post(i).then(function(i){$.each(t,function(t,s){var o=s.Name?s.Name:s.Id;i["R"+(t+1)].success?(a.$Utils.showMessage("success",a.$toastMessage.deleteItemPre+o),e.AfterUpdate&&a.$Utils.isEmpty(a.Setting.functions,e.AfterUpdate)?a.Setting.functions[e.AfterUpdate](s):a.removeFromList(s)):a.$Utils.showMessage("error",a.$toastMessage.deleteItemFailed+" "+o)})})},excuteDownload:function(t,e){var a=this;a.binaryDatas=[],a.totalCount=0;var i={RequestClass:"xBase",RequestAction:"SearchBinary",Parent:e.Id,ConditionFields:"Parent",StaticFields:"Name;Created;Modified;FileName;FileExtension;FileSize;CreatedBy;Description;Parent;FileSize",DynamicFields:"CreatedByName;SignatureVerified"};a.$Utils.post(i).then(function(t){a.binaryDatas=a.$Utils.getDataWithRoot(t,"Data.DynamicDS.Binary"),a.totalCount=t.TotalCount})},excuteAudio:function(t,e){$mdDialog.show({controller:"audioPlayController as ctrl",templateUrl:"app/main/dynamic/list/dialogs/audioplay/audioplay.html",targetEvent:event,clickOutsideToClose:!0,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{dataToPass:e.RecordFile}})},excuteCall:function(t,e){this.$hub.$emit("showCall",e)},excutePermission:function(t,e){this.$Utils.isEmpty(e.Id)&&this.$Utils.showPermission({},e)},updateList:function(t){var e=this;if("Partition"==e.Setting.DisplayType)e.FormatData=[],e.searchList(e.searchCondition),e.formatPartition();else{var a=!1;$.each(e.FormatData,function(i,s){s.Id===t.Id&&(e.FormatData[i]=t,a=!0)}),a||e.FormatData.unshift(t),void 0!=e.Setting.dtInstance.id&&e.Setting.dtInstance.reloadData()}},removeFromList:function(t){var e=this;e.searchList(e.searchCondition)},onButtonClick:function(t,e){this.onLinkClick(this.ListButtons[t],e)},onFieldClick:function(t,e){this.onLinkClick(this.ListColumns[t],e)},onLinkClick:function(t,e){var a=this,i=t.ButtonType?t.ButtonType:t.ElementType;switch(!t.ButtonType&&"Link"==t.ElementType&&t.Redirect&&(i="Redirect"),a.currentLink="#",i){case"Click":switch(t.Action){case"Update":a.excuteUpdate(e,t);break;case"Delete":a.excuteDelete(e,t);break;case"ReturnData":var s=a.$Lodash.cloneDeep(a.$singleRequest);s.R1_RequestTemplate=a.Setting.DataSource+".Search",s.R1_Id=e.Id,s.R1_RequestFields="",s.R1_RequestDataGroup=a.Setting.DataGroup,$.each(a.Setting.AdditionConditions,function(t,e){s["R1_"+t]=e}),$.each(a.Setting.Fields,function(t,e){e&&e.Name&&(s.R1_RequestFields+=e.Name+";"),e.DynamicText&&(s.R1_RequestFields+=e.OldName+";")}),$.each(s,function(t,i){s[t]=a.$Utils.expressionToString(e,i+"")}),a.Setting.LinkedObject.returnItemData(a.Setting,s);break;case"Download":a.excuteDownload(a.Setting,e);break;case"Audio":a.excuteAudio(a.Setting,e);break;case"Call":a.excuteCall(a.Setting,e);break;case"Permission":a.excutePermission(a.Setting,e)}break;case"Popup":if(t.ModuleCode=t.PopupModule,"Insert"==t.ButtonDisplayType&&"Popup"==t.ButtonType){var o=a.$Lodash.merge(e,a.Setting.getFormData(a.Setting));a.setupTemplateButton(o,t)}else a.onShowDetailDialog(e,null,t);break;case"Redirect":a.$Utils.isEmpty(t.Redirect)&&""!=t.Redirect?a.$router.push(a.$Utils.expressionToString(e,"/"+a.$Lodash.cloneDeep(t.Redirect))):a.$Utils.showMessage("error",a.$toastMessage.emptyRedirectLink)}},setupTemplateButton:function(t,e){var a=this,i=a.Setting.getFormData(a.Setting),s=!0;if(a.Setting.InsertButton.DisplayDependOn)switch(a.Setting.InsertButton.DisplayDependType){case"DependEmpty":this.$Utils.isEmpty(i,a.Setting.InsertButton.DisplayDependOn)&&(s=!1);break;case"DependExist":this.$Utils.isEmpty(i,a.Setting.InsertButton.DisplayDependOn)||(s=!1);break;case"DateTimeRange":if(this.$Utils.isEmpty(i,a.Setting.InsertButton.DisplayDependOn)&&""!=i[a.Setting.InsertButton.DisplayDependOn]){var o={Second:1,Minute:60,Hour:3600,Day:86400,Week:604800,Month:2592e3,Year:31536e3,Now:(new Date).getTime()/1e3};o[a.Setting.InsertButton.DisplayDependOn]=this.$Utils.stringToDate(i[a.Setting.InsertButton.DisplayDependOn]).getTime()/1e3;var n=this.$Utils.expressionToString(o,a.Setting.InsertButton.DateTimeExpression),s=this.$Utils.compareStringExpression(n);s||(s=!1)}break;case"DependValue":i[a.Setting.InsertButton.DisplayDependOn]&&a.Setting.InsertButton.DisplayDependValue&&(""===a.Setting.InsertButton.DisplayDependValue||-1!==a.Setting.InsertButton.DisplayDependValue.split(";").indexOf(i[a.Setting.InsertButton.DisplayDependOn]))&&(s=!1)}1==s?a.onShowDetailDialog(t,null,e):a.$Utils.showMessage("error","Chức năng này đã bị khoá")},onUpdateClick:function(t,e){var a=this;a.$Utils.isEmpty(t)||(t={}),$.each(a.$Lodash.cloneDeep(a.Setting.objDefault),function(e,a){t[e]=a});var i={};if(e.ParentChild&&e.ParentChild.constructor===String?$.each(a.$Utils.stringToObject(e.ParentChild),function(e,s){a.$Utils.isEmpty(t,e)&&(i[s]=t[e])}):i=t,a.$Utils.isEmpty(e.Value)&&e.Value.indexOf("ReferenceId")>0){var s=a.$Utils.stringToObject(e.Value);$.each(s,function(t,e){i[t]=e})}e.parentSetting={object:a.$Lodash.cloneDeep(i),set:a.$Lodash(e),callback:a.Setting.functions},e.directiveType="inside",e.ModuleType=e.PopupModuleType?e.PopupModuleType:"Form"},displayControl:function(t,e){var a=this;t=t||{};var i={Show:!0};if(t.DisplayDependOn)switch(t.DisplayDependType){case"DependExist":a.$Utils.isEmpty(e,t.DisplayDependOn)||(i.Show=!1);break;case"DependEmpty":a.$Utils.isEmpty(e,t.DisplayDependOn)&&(i.Show=!1);break;case"DependOnSameAsValue":t.DependValue&&e[t.DisplayDependOn]!=t.DependValue&&(i.Show=!1);break;case"DependOnDifferentThanValue":t.DependValue&&e[t.DisplayDependOn]==t.DependValue&&(i.Show=!1)}return t.ExtraText&&(i.extraText=a.$Utils.expressionToString(e,t.ExtraText)),i},setTreeColumn:function(t){},expressionHtmlString:function expressionHtmlString(exp,data){for(var ctrl=this,replacedExpression="";exp&&""!==exp;)if(exp.indexOf("{{")>=0&&exp.indexOf("}}")>exp.indexOf("{{")){replacedExpression+=exp.substr(0,exp.indexOf("{{"));var key=exp.substr(exp.indexOf("{{")+2,exp.indexOf("}}")-exp.indexOf("{{")-2),exist=!1;if(key.indexOf("|")>0){var name=key.substr(0,key.indexOf("|")).trim(),value=data[name],filter=key.substr(key.indexOf("|")+1,key.length).split(":"),type=filter[0].trim(),format=filter[1],strValue;switch(type){case"Cutstring":eval(format).constructor===Number&&ctrl.$Utils.isEmpty(value,"length")&&value.length>format&&(value=format>0?value.substring(0,format)+"...":"..."+value.substring(eval(value.length+format),value.length)),strValue=value;break;case"Color":strValue="color:"+ctrl.arrStatusColor[value];break;case"DateTime":switch(value=ctrl.$Utils.stringToDate(value),format){case"Age":var ageDate=new Date(Date.now()-value.getTime());strValue=Math.abs(ageDate.getUTCFullYear()-1970);break;default:if("Now"===name){var time=new Date;strValue=ctrl.$Utils.formatDateTime(time,"DD/MM/YYYY HH:mm:ss")}else strValue=ctrl.$Utils.formatDateTime(value,format)}break;default:strValue=value}replacedExpression+=strValue}else ctrl.$Utils.isEmpty(data[key])?replacedExpression+=data[key]:replacedExpression+=0;exist=!0,exp=exp.substr(exp.indexOf("}}")+2,exp.length)}else replacedExpression+=exp,exp="";return replacedExpression},setTreeData:function(){},onActionItemClick:function(t){},sendNotification:function(t,e){var a=this,i=a.$Lodash.cloneDeep(a.$singleRequest),s={},o="",n=!1;i.R1_Code="",$.each(a.Setting.Notifications,function(e,a){i["R"+i.TotalRequests+"_RequestTemplate"]="SettingNew.SearchSetting",i["R"+i.TotalRequests+"_Code"]=a.Template+";",s[a.Name]={TemplateCode:a.Template,Template:"",Code:a.NotificationType,Receivers:[],Title:"",From:"",EmailAccount:"",Static:a.AdditionField?a.AdditionField:"",Dynamic:a.NotifyFields?a.NotifyFields:""};var l=a.Permissions?a.Permissions:"";$.each(l.split(";"),function(e,i){$.each(t,function(t,e){e.Code==i&&s[a.Name].Receivers.join(";").indexOf(e.Child)<0&&(s[a.Name].Receivers.push(e.Child),o.indexOf(e.Child)<0&&(o+=e.Child+";"))})}),"true"==a.RequireOriginal&&(n=!0)}),""!==o&&(i.TotalRequests++,i=a.$Utils.updateParamsSingleRequest(i,{UserId:o,RequestTemplate:"User",Status:1},i.TotalRequests)),$.each(i,function(t,s){i[t]=a.$Utils.expressionToString(e,s+"")}),a.$Utils.post(i).then(function(t){if(!t.success)return!1;$.each(a.$Utils.getDataWithRoot(t,"R1.Data.DynamicDS.Setting"),function(t,e){for(var i=JSON.parse(e.Description),o=0;o<a.Setting.Notifications.length;o++)e.Code==a.Setting.Notifications[o].Template&&(s[a.Setting.Notifications[o].Name].Template=a.$Utils.decodeHtmlEntities(i.Content),s[a.Setting.Notifications[o].Name].EmailAccount=i.EmailAccount,s[a.Setting.Notifications[o].Name].From=i.From,s[a.Setting.Notifications[o].Name].Title=i.Title,s[a.Setting.Notifications[o].Name].TitleInsert=i.TitleInsert,s[a.Setting.Notifications[o].Name].TitleUpdate=i.TitleUpdate)});var i=a.$Utils.getDataWithRoot(t,"R"+(a.Setting.Notifications.length+1)+".Data.UserDS.User");if(a.$Utils.isEmpty(t.R3)&&n){var o=a.$Utils.getDataWithRoot(t["R"+(a.Setting.Notifications.length+1)],a.Setting.RootData)[0];$.each(o,function(t,a){e[t]=a})}var l=[];$.each(s,function(t,s){if(s.Template.indexOf("{{ListChange")>0){var o=[];$.each(a.Setting.FullFields,function(t,e){"true"==e.History&&o.push(e.Name)});var n=s.Template.substring(s.Template.indexOf("{{ListChange")+2,s.Template.length),r="{{"+n.substr(0,n.indexOf("}}")+2),c=n.substr(n.indexOf("|")+1,n.indexOf("}}")-n.indexOf("|")-2),d="";c=c.split("{").join("{{").split("}").join("}}"),$.each(a.Setting.FullFields,function(t,i){i.Value=i.DynamicText?e[i.DynamicText]:e[i.Name],this.$Utils.isEmpty(i,"FieldColumnType")&&"DateTime"==i.FieldColumnType&&(i.Value=a.$Utils.formatDateTime(i.Value,"DD/MM/YYYY")),i.Value&&i.Caption&&"Tool"!=i.Name&&o.indexOf(i.Name)>=0&&(a.$Utils.isEmpty(i,"FormElementType")&&"Html"==i.FormElementType?d+=a.$Utils.decodeHtmlEntities(a.$Utils.expressionToString(i,c)):d+=a.$Utils.expressionToString(i,c))}),s.Template=s.Template.replace(r,d)}s.Template=a.$Utils.expressionToString(e,s.Template),s.Title=a.$Utils.expressionToString(e,s.Title),$.each(s.Receivers,function(t,o){for(var n,r=0;r<i.length;r++)if(o==i[r].UserId){n=i[r];break}a.$Utils.isEmpty(n)&&l.push({To:n.Email,Code:e.Id,Subject:s.Title,Body:a.$Utils.encodeHtmlEntities(s.Template),Name:"Email",From:s.From,EmailAccount:s.EmailAccount,State:2,Date:a.$Utils.formatDateTime(),Parent:a.$Utils.getUserInfo("UserId"),Sender:a.$Utils.getUserInfo("UserId"),SenderName:a.$Utils.getUserInfo("Username"),Receiver:n.UserId,ReceiverName:n.Username})});var u=[];s.Static&&s.Static.constructor===String&&(u=u.concat(s.Static.split(";"))),s.Dynamic&&s.Dynamic.constructor===String&&$.each(s.Static.split(";"),function(t,i){a.$Utils.isEmpty(e[i])&&u.push(e[i])}),$.each(u,function(t,i){l.push({To:i,Code:e.Id,Subject:s.Title,Body:a.$Utils.encodeHtmlEntities(s.Template),Name:"Email",From:s.From,EmailAccount:s.EmailAccount,State:2,Date:a.$Utils.formatDateTime(),Parent:a.$Utils.getUserInfo("UserId"),Sender:a.$Utils.getUserInfo("UserId"),SenderName:a.$Utils.getUserInfo("Username"),Receiver:a.$defaultUndefined,ReceiverName:a.$defaultUndefined})})});var r=a.$Lodash.cloneDeep(ctr.$singleRequest);r.TotalRequests=0,r.RequestTemplate="SendMessage",$.each(l,function(t,e){e.To&&(r.TotalRequests++,$.each(e,function(t,e){r["R"+r.TotalRequests+"_"+t]=e}))}),r.TotalRequests>0&&a.$Utils.post(r)})},toggle:function toggle(item){var ctrl=this;ctrl.selectedValue=[];var idx=ctrl.selected.indexOf(item);idx>-1?ctrl.selected.splice(idx,1):ctrl.selected.push(item),$.each(ctrl.selected,function(index,selected){ctrl.$Utils.isEmpty(ctrl.FormatData[eval(selected)])&&(ctrl.selectedValue[index]=ctrl.FormatData[eval(selected)])}),ctrl.$Utils.isEmpty(ctrl.selected,"0")?(ctrl.ExportItem=ctrl.selectedValue,ctrl.isSelected=!0):(ctrl.ExportItem=ctrl.FormatData,ctrl.isSelected=!1)},exists:function(t){return this.selected.indexOf(t)>-1},getSummaries:function(t){var e=this,a=t.columns,i=t.data,s=[];return a.forEach(function(t,a){if(0===a)return void(s[a]="Tổng");var o={};e.ListColumns.forEach(function(t){o[t.Caption]=t});var n=i.map(function(e){return Number(e[o[t.label].Name])});n.every(function(t){return isNaN(t)})||(s[a]=n.reduce(function(e,a){Number(a);if("true"==o[t.label].TotalRow)return e+a},0))}),s}},mounted:function(){var t=this;t.Setting.functions||(t.Setting.functions={}),t.Setting.functions.searchList=t.searchList;var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBase",R1_ParentCode:"xSystem.Setting.xTask.Status"};t.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");t.listStatuss=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");var i=[];$.each(a,function(t,e){i[e.Id]=e.Color}),t.arrStatusColor=i}),t.$hub.$on("reloadList",function(e,a){a||(t.searchList(),t.selected=[],t.isSelected=!1)})},watch:{},created:function(){var t=this;this.$rootScope.dateFilter&&this.$rootScope.dateFilter.length>2&&(this.dateStart=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(this.$rootScope.dateFilter[0]).format("YYYY-MM-DD")+"T00:00:00",this.dateEnd=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(this.$rootScope.dateFilter[1]).format("YYYY-MM-DD")+"T23:59:59"),this.$rootScope.selectedWorkerId&&(this.selectedWorker=this.$rootScope.selectedWorkerId),this.$rootScope.selectedGroupId&&(this.selectedGroup=this.$rootScope.selectedGroupId),this.$hub.$on("workerPicked",function(e){t.selectedWorker=e,t.searchList()}),this.$hub.$on("groupPicked",function(e){t.selectedGroup=e,t.searchList()}),this.$hub.$on("datePicked",function(e){t.dateStart=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(e[0]).format("YYYY-MM-DD")+"T00:00:00",t.dateEnd=__WEBPACK_IMPORTED_MODULE_1_vue__.default.moment(e[1]).format("YYYY-MM-DD")+"T23:59:59",t.searchList()}),this.PartitionField={},this.ListColumns=[],this.FullColumns=[],this.ListButtons=[],this.ListSearchConditions=[],this.Setting.objDefault={},this.objCalculator={},this.selected=[],this.arrPermission={},"isMobileApp"==this.$myDevice&&(this.isMobile=!0),this.isMobileDevice=this.$isMobileDevice,this.autoLoad()}}}).call(__webpack_exports__,__webpack_require__(2))},function(t,e){},function(t,e,a){"use strict";e.a={props:["totalPage","currentPage","pagesize","callback","pagesizes","sizeChanged"],methods:{handleSizeChange:function(t){this.sizeChanged&&this.sizeChanged(t)},handleCurrentChange:function(t){this.callback&&this.callback(t)}},data:function(){return{isMobile:this.$isMobileDevice,layout:this.pagesizes?"total, prev, pager, next, sizes":"total, prev, pager, next",currPage:1}},mounted:function(){this.currPage=this.currentPage},created:function(){},watch:{}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("el-pagination",{attrs:{small:t.isMobile,"current-page":t.currPage,"page-size":t.pagesize,"page-sizes":t.pagesizes,layout:t.layout,total:t.totalPage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currPage=e}}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tasklist"},[t.Setting.ListCaption?a("div",{staticClass:"title-box py-1 px-3"},[a("div",{staticClass:"row"},[a("h5",{staticClass:"col m-auto"},[a("span",[t._v(" "+t._s(t.Setting.Caption)+":")])])])]):t._e(),t._v(" "),a("el-row",[t.Setting.IsDetail?t._e():a("el-col",{attrs:{span:22}},[t.Setting.ShowInsertButton?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.Setting.InsertButton.Caption,placement:"top"}},[a("el-button",{on:{click:function(e){t.onLinkClick(t.Setting.InsertButton,{})}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})])],1):t._e(),t._v(" "),t.$isMobileDevice||!t.Setting.ShowInsertButton&&!t.Setting.ShowExportButton?a("span",[t._v(" ")]):t._e(),t._v(" "),t.Setting.ShowExportButton&&!t.$isMobileDevice?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Xuất excel",placement:"top"}},[a("el-button",{on:{click:function(e){t.excuteExcel()}}},[a("i",{staticClass:"fa fa-file-excel-o"})])],1):t._e()],1),t._v(" "),a("el-col",{attrs:{span:2,"ng-if":"!Setting.IsDetail"}},[a("Pagination",{attrs:{totalPage:t.totalP,currentPage:t.currentP,pagesize:t.maxItem,callback:t.handleSelectPage}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.FormatData,border:"","empty-text":"Không có dữ liệu","show-summary":"true"==t.Setting.TotalRow,"sum-text":"Tổng","summary-method":t.getSummaries}},["Tree"!==t.Setting.DisplayType?a("el-table-column",{attrs:{type:"index",width:"50"}}):t._e(),t._v(" "),t._l(t.ListColumns,function(e,i){return["Tree"!==t.Setting.DisplayType||"Tree"==t.Setting.DisplayType&&e.Name!==t.Setting.TreeCaptionKey&&e.Name!==t.Setting.TreeCaptionKey+"Name"?a("el-table-column",{key:i,attrs:{label:e.Caption,"class-name":t.formatClass(e),"min-width":"Công việc"===e.Caption?"300":"80"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("div",{style:t.formatStyle(e,s.row)},["Tool"===e.Name?a("div",[t.Setting.ButtonsAddHtml&&t.Setting.ButtonsAddHtml.constructor===String&&""!=t.Setting.ButtonsAddHtml?a("div",[a("span",{domProps:{innerHTML:t._s(t.expressionHtmlString(t.Setting.ButtonsAddHtml,s.row))}}),t._v(" "),t._l(t.ListButtons,function(e,i){return e.ExtraTextClass&&t.displayControl(e,s.row).extraText||!e.ExtraTextClass?a("span",{key:e.Id,staticClass:"position-relative pr-1"},["Redirect"==e.ButtonType?a("router-link",{attrs:{to:"/"+t.$Utils.expressionToString(s.row.SourceData,e.Redirect)}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e(),t._v(" "),"Redirect"!=e.ButtonType?a("a",{on:{click:function(e){t.onButtonClick(i,s.row)}}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e()],1):t._e()})],2):a("div",{staticClass:"default-tool",attrs:{layout:"row"}},t._l(t.ListButtons,function(e,i){return e.ExtraTextClass&&t.displayControl(e,s.row).extraText||!e.ExtraTextClass?a("span",{key:e.Id,staticClass:"position-relative pr-1"},["Redirect"==e.ButtonType?a("router-link",{attrs:{to:"/"+t.$Utils.expressionToString(s.row.SourceData,e.Redirect)}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e(),t._v(" "),"Redirect"!=e.ButtonType?a("a",{on:{click:function(e){t.onButtonClick(i,s.row)}}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e()],1):t._e()}))]):"Popup"==e.ElementType?a("span",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.onFieldClick(i,s.row)}}},[t._v(t._s(s.row[e.Name]))]),t._v(" "),t.Setting.LinksAddHtml?a("span",{domProps:{innerHTML:t._s(t.expressionHtmlString(t.Setting.LinksAddHtml,s.row))}}):t._e()]):"Link"==e.ElementType?a("span",[!e.ButtonType&&"Link"==e.ElementType&&e.Redirect?a("router-link",{attrs:{to:"/"+t.$Utils.expressionToString(s.row.SourceData,e.Redirect)}},[t._v("\n                    "+t._s(s.row[e.Name])+"\n            ")]):a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.onFieldClick(i,s.row)}}},[t._v(t._s(s.row[e.Name]))]),t._v(" "),t.Setting.LinksAddHtml?a("span",{domProps:{innerHTML:t._s(t.expressionHtmlString(t.Setting.LinksAddHtml,s.row))}}):t._e()],1):"Html"==e.FormElementType?a("span",{domProps:{innerHTML:t._s(s.row[e.Name])}}):"true"==e.ProgressBar?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:s.row[e.Name]?s.row[e.Name]<=100?parseInt(s.row[e.Name]):100:0}}):"Image"==e.ElementType?a("div",{attrs:{clas:"row"}},t._l(t.getImageObj(s.row,e),function(i,s){return a("span",{staticClass:"col-md-6"},[a("img",{staticClass:"avatar",staticStyle:{margin:"8px 10px 0 0","border-radius":"50em"},attrs:{height:"35",width:"35",title:s,src:"UserId"==e.FormField?t.objAvatar[i]:i}})])})):a("span",[e.ShowIcon?a("i",{staticClass:"fa",class:e.ShowIcon},[t._v(" ")]):t._e(),t._v(t._s(s.row[e.Name]))])],1)]}}])}):t._e(),t._v(" "),"Tree"==t.Setting.DisplayType&&e.Name===t.Setting.TreeCaptionKey||"Tree"==t.Setting.DisplayType&&e.OldName===t.Setting.TreeCaptionKey?a("el-table-tree-column",{key:i,attrs:{prop:e.Name,label:e.Caption,"class-name":t.formatClass(e),"min-width":300,treeKey:t.Setting.TreeKey,parentKey:t.Setting.TreeParent,childKey:t.Setting.TreeChild,expandAll:"true"!=t.Setting.TreeExpandAll,"show-overflow-tooltip":!0,levelKey:"Level"},scopedSlots:t._u([{key:"default",fn:function(s){return[["Tool"===e.Name?a("div",[t.Setting.ButtonsAddHtml&&t.Setting.ButtonsAddHtml.constructor===String&&""!=t.Setting.ButtonsAddHtml?a("div",[a("span",{domProps:{innerHTML:t._s(t.expressionHtmlString(t.Setting.ButtonsAddHtml,s.row))}}),t._v(" "),t._l(t.ListButtons,function(e,i){return e.ExtraTextClass&&t.displayControl(e,s.row).extraText||!e.ExtraTextClass?a("span",{key:e.Id,staticClass:"position-relative pr-1"},["Redirect"==e.ButtonType?a("router-link",{attrs:{to:"/"+t.$Utils.expressionToString(s.row.SourceData,e.Redirect)}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e(),t._v(" "),"Redirect"!=e.ButtonType?a("a",{on:{click:function(e){t.onButtonClick(i,s.row)}}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e()],1):t._e()})],2):a("div",{staticClass:"default-tool",attrs:{layout:"row"}},t._l(t.ListButtons,function(e,i){return e.ExtraTextClass&&t.displayControl(e,s.row).extraText||!e.ExtraTextClass?a("span",{key:e.Id,staticClass:"position-relative pr-1"},["Redirect"==e.ButtonType?a("router-link",{attrs:{to:"/"+t.$Utils.expressionToString(s.row.SourceData,e.Redirect)}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e(),t._v(" "),"Redirect"!=e.ButtonType?a("a",{on:{click:function(e){t.onButtonClick(i,s.row)}}},[a("i",{class:"icon "+e.Icon,attrs:{type:"primary","data-toggle":"tooltip","data-placement":"top",title:e.Caption}}),t._v(" "),e.ExtraTextClass?a("span",{staticClass:"bg-danger text-white text-center"},[t._v(t._s(t.displayControl(e,s.row).extraText))]):t._e()]):t._e()],1):t._e()}))]):"Popup"==e.ElementType?a("span",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.onFieldClick(i,s.row)}}},[t._v(t._s(s.row[e.Name]))]),t._v(" "),t.Setting.LinksAddHtml?a("span",{domProps:{innerHTML:t._s(t.expressionHtmlString(t.Setting.LinksAddHtml,s.row))}}):t._e()]):"Link"==e.ElementType?a("span",[!e.ButtonType&&"Link"==e.ElementType&&e.Redirect?a("router-link",{attrs:{to:"/"+t.$Utils.expressionToString(s.row.SourceData,e.Redirect)}},[t._v("\n                    "+t._s(s.row[e.Name])+"\n            ")]):a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.onFieldClick(i,s.row)}}},[t._v(t._s(s.row[e.Name]))]),t._v(" "),t.Setting.LinksAddHtml?a("span",{domProps:{innerHTML:t._s(t.expressionHtmlString(t.Setting.LinksAddHtml,s.row))}}):t._e()],1):"Html"==e.FormElementType?a("span",{domProps:{innerHTML:t._s(s.row[e.Name])}}):"true"==e.ProgressBar?a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:s.row[e.Name]?s.row[e.Name]<=100?parseInt(s.row[e.Name]):100:0}}):"Image"==e.ElementType?a("div",{attrs:{clas:"row"}},t._l(t.getImageObj(s.row,e),function(i,s){return a("span",{staticClass:"col-md-6"},[a("img",{staticClass:"avatar",staticStyle:{margin:"8px 10px 0 0","border-radius":"50em"},attrs:{height:"35",width:"35",title:s,src:"UserId"==e.FormField?t.objAvatar[i]:i}})])})):a("span",[t._v(t._s(s.row[e.Name]))])]]}}])}):t._e()]})],2),t._v(" "),a("el-row",[a("Pagination",{attrs:{totalPage:t.totalP,currentPage:t.currentP,pagesize:t.maxItem,callback:t.handleSelectPage}})],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dynamic-page"},["true"==t.Setting.IsDashboard?a("div",{staticClass:"row"},t._l(t.Setting.Groups,function(e,i){return a("div",{class:"dynamicDashboard col-lg-"+parseInt(e.Flex/100*12)+" col-md-"+parseInt(e.FlexSM/100*12)+" col-sm-"+parseInt(e.FlexXS/100*12)},[a("el-card",[t._l(e.Modules,function(e){return!t.reportPage&&"Filter"==e.ModuleType&&e.Fields&&void 0!=e?a("div",{key:e.ModuleCode,staticClass:"row"},[a("DynamicFilter",{attrs:{pSetting:e}})],1):t._e()}),t._v(" "),t._l(e.Modules,function(e){return t.reportPage?t._e():a("div",{key:e.ModuleCode},["List"==e.ModuleType?a("DynamicList",{attrs:{pSetting:e,urlData:t.data.UrlData}}):t._e(),t._v(" "),"Form"==e.ModuleType?a("DynamicForm",{attrs:{pSetting:e}}):t._e()],1)}),t._v(" "),t.reportPage?a("div",[e.Modules&&e.Modules.length>0?a("DynamicCharts",{attrs:{mSetting:e.Modules,pSetting:t.currentPage,mCaption:e.Caption,mIndex:i}}):t._e()],1):t._e()],2)],1)})):a("div",[t._l(t.formatData,function(e){return!t.reportPage&&"Filter"==e.ModuleType&&e.Fields?a("div",{key:e.ModuleCode,staticClass:"row"},[a("DynamicFilter",{attrs:{pSetting:e}})],1):t._e()}),t._v(" "),t._l(t.formatData,function(e){return t.reportPage?t._e():a("div",{key:e.ModuleCode},["List"==e.ModuleType?a("DynamicList",{attrs:{pSetting:e,urlData:t.data.UrlData}}):t._e(),t._v(" "),"Form"==e.ModuleType?a("DynamicForm",{attrs:{pSetting:e}}):t._e()],1)}),t._v(" "),t.reportPage?a("div",[t.formatData&&t.formatData.length>0?a("DynamicCharts",{attrs:{mSetting:t.formatData,pSetting:t.currentPage}}):t._e()],1):t._e()],2)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-task-detail"},[a("el-row",[a("el-col",{attrs:{span:22}},[a("strong",[t._v("Công việc: "+t._s(t.task.Name))])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{icon:"el-icon-edit"},on:{click:t.showTaskDetail}})],1)],1),t._v(" "),a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Thông tin",name:"0"}},[a("div",[a("div",[a("i",{staticClass:"mr-1 fa fa-calendar-times-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Bắt đầu:")]),t._v(" "+t._s(t.data.dataToPass?t.task.PlanStartDate:t.formatDate(t.task.PlanStartDate)))]),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-calendar-check-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Kết thúc:")]),t._v(" "+t._s(t.data.dataToPass?t.task.Deadline:t.formatDate(t.task.Deadline)))]),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-calendar-minus-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Ước tính: "+t._s(t.task.PlanManHour))])]),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-clock-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Thực tế: "+t._s(t.task.RemainingManHour))])]),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-clock-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Còn lại: "+t._s(t.task.RestTime))])]),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-window-restore",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Trạng thái: "+t._s(t.task.StatusName))])]),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-user",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Nhân viên: "+t._s(t.task.WorkerName))])]),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-user-secret",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Giám sát: "+t._s(t.task.ManagerName))])]),t._v(" "),t.task.SeenList&&t.task.SeenList.length>1?a("div",[a("i",{staticClass:"mr-1 fa fa-eye",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Đã xem bởi: "),t._l(t.task.SeenList,function(e,i){return t.task.SeenList&&0!=i&&t.getUserInfo(e,"Avatar")?a("span",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.getUserInfo(e,"Username")+"("+t.getUserInfo(e,"LoginName")+")",placement:"top-start"}},[a("img",{staticClass:"round-image",attrs:{src:t.loadAvatar(t.getUserInfo(e,"Avatar"))}})])],1):t._e()})],2)]):t._e(),t._v(" "),a("div",[a("i",{staticClass:"mr-1 fa fa-align-justify",attrs:{"aria-hidden":"true"}}),a("span",[t._v("Chi tiết:")]),t._v(" "),a("span",{domProps:{innerHTML:t._s(t.$Utils.decodeHtmlEntities(t.task.Content))}})])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"Thảo luận",name:"1"}},[a("Comment",{attrs:{parent:t.data.dataToPass?t.task:t.data,idSetting:t.SettingForm}})],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{style:t.ganttStyle,attrs:{id:"gantt-placeholder"}})},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){t.exports={data:[{id:"0TRJpUMHT0q",text:"Dự án kiểm thử timeline",progress:0,open:!0,type:"project"},{id:"0TRS93FkVo8",projectId:"0TRJpUMHT0q",text:"Công việc chuẩn 1",startDate:"2018-06-12 00:00:00",dueDate:"2018-06-15 00:00:00",start_date:"12-06-2018",duration:1,startDueStatus:"",type:"task",status:"planned",progress:0,parent:"0TRJpUMHT0q",real_start_date:"2018-01-13T16:00:00.000Z",real_due_date:"2018-01-04T16:00:00.000Z",deleted:!0},{id:"0TRS93FkVo9",projectId:"0TRJpUMHT0q",text:"Công việc chuẩn 2",startDate:"2018-06-14 00:00:00",dueDate:"2018-06-15 00:00:00",start_date:"14-06-2018",duration:1,startDueStatus:"",type:"task",status:"planned",progress:0,parent:"0TRJpUMHT0q",real_start_date:"2018-01-13T16:00:00.000Z",real_due_date:"2018-01-14T16:00:00.000Z",deleted:!1}]}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gantt-container"},[a("gantt-header",{attrs:{onPrev:t.onPrev,onNext:t.onNext,onToday:t.onToday,onView:t.onView,switchView:t.onSwitchView,onChangeProject:t.onChangeProject,onChangeWorker:t.onChangeWorker,onChangeDate:t.onChangeDate,onChangeStatus:t.onChangeStatus,onChangeActive:t.onChangeActive,onChangeDueDate:t.onChangeDueDate,onChangeOverDue:t.onChangeOverDue,onResetFilter:t.onResetFilter,baseList:t.list,workers:t.users,status:t.listStatus,isShowTask:t.isShow}}),t._v(" "),a("gantt-body",{attrs:{startDate:t.ganttStart,isShowTask:t.isShow,endDate:t.ganttEnd,showTaskId:t.showTaskId,ganttData:t.tasks}})],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(21),s=a.n(i),o=a(3),n=a(257);e.a={components:{ProjectFilter:n.a},inject:["SessionId","loadAvatar","taskDone","notDone","listStatus"],props:{projects:{type:Array,default:function(){return[]}},workers:{type:Array,default:function(){return[]}},actives:{type:Array,default:function(){return[{Id:"",Name:"Tất cả"},{Id:"1",Name:"Đang hoạt động"},{Id:"0",Name:"Không hoạt động"}]}}},data:function(){return{VersionProject:[],WorkerProject:[],StatusTask:[],DateProject:!0,DueDate:!1,OverDue:!1,UserActive:"",selectedWorkers:void 0,selectedStatus:void 0,selectedDate:!0,selectedActive:void 0,isShow:!0,list:[],users:[],active:[],deactive:[],table:{headers:[{label:"Dự án/nhân sự",count:0,key:"Name",isCount:!1},{label:"",count:0,key:"CreatedBy",isCount:!1},{label:"",count:0,key:"Worker",isCount:!1},{label:"",count:0,key:"Status",isCount:!1},{label:"Tạo ra",count:0,key:"SumCreatedBy",isCount:!0},{label:"Gán",count:0,key:"SumWorker",isCount:!0},{label:"Thực hiện",count:0,key:"SumStatus",isCount:!0},{label:"Hoàn thành(%)",count:0,key:"PercentageStatus",isCount:!0},{label:"Kế hoạch(giờ)",count:0,key:"PlanManHour",isCount:!0},{label:"Thực tế(giờ)",count:0,key:"RemainingManHour",isCount:!0},{label:"Thực tế - kế hoạch",count:0,key:"Perfomance",expression:["-","RemainingManHour","PlanManHour"],isCount:!0}],data:{tasks:[],projects:{},users:{},roles:[]}},headers:[],ProjectStartTimeStartValue:"",ProjectStartTimeEndValue:"",selectedDepts:"",selectedProjs:""}},created:function(){var t=this;this.$hub.$on("filterChanged",function(e){t.ProjectStartTimeStartValue=e.dateRangeSelected[0],t.ProjectStartTimeEndValue=e.dateRangeSelected[1],e.selectedDepts&&(t.selectedDepts=e.selectedDepts.join(";")),e.selectedProjs&&(t.selectedProjs=e.selectedProjs.join(";")),t.initTable()})},computed:{db:function(){var t=this,e=[],a=s()(this.table.data.projects),i=s()(this.table.data.users),o=this.$Lodash.filter(this.table.headers,{isCount:!0});this.headers=this.table.headers.map(function(t){return t.count=0,t}),a.map(function(a){var n=t.$Lodash.cloneDeep(t.table.data.projects[a]);if(n){n.Type="project",n.Name=n.GroupName,n.Id=n.GroupId,o.map(function(t){n[t.key]=0});var l=t.$Lodash.filter(t.table.data.tasks,{VersionProject:n.Id});e.push(n),i.map(function(i){var r=t.$Lodash.cloneDeep(t.table.data.users[i]);if(r){var c=t.$Lodash.filter(t.table.data.roles,{GroupParent:a});if(c.length>0&&t.$Lodash.intersection(s()(t.$Lodash.keyBy(c,"GroupId")),r.Groups.split(";")).length>0&&r.Groups.indexOf(a)>-1){r.ProjectId=a,o.map(function(t){r[t.key]=0}),r.Id=r.UserId,r.Type="user",r.Name=r.Username,r.Role=c;var d=t.$Lodash.filter(l,{Worker:r.Id});r.SumWorker=d.length,n.SumWorker+=r.SumWorker,r.SumCreatedBy=t.$Lodash.filter(l,{CreatedBy:r.Id}).length,n.SumCreatedBy+=r.SumCreatedBy,r.PercentageStatus=0,r.SumStatus=t.$Lodash.filter(d,function(e){return-1==t.taskDone.indexOf(e.Status)}).length,n.SumStatus+=r.SumStatus;t.$Lodash.filter(d,function(e){return t.taskDone.indexOf(e.Status)>-1}).length;n.SumWorker>0&&(n.PercentageStatus=t.parseFloatFixed(100-n.SumStatus/n.SumWorker*100)),r.SumWorker>0&&(r.PercentageStatus=t.parseFloatFixed(100-r.SumStatus/r.SumWorker*100)),d.forEach(function(e){r.Id==e.Worker&&(r.PlanManHour+=t.parseFloatFixed(e.PlanManHour),r.RemainingManHour+=t.parseFloatFixed(e.RemainingManHour),n.PlanManHour+=t.parseFloatFixed(e.PlanManHour),n.RemainingManHour+=t.parseFloatFixed(e.RemainingManHour))}),e.push(r)}}})}n.Perfomance=n.RemainingManHour-n.PlanManHour,t.headers=t.table.headers.map(function(t){return t.isCount&&n[t.key]&&!isNaN(n[t.key])&&"PercentageStatus"!==t.key&&(t.count+=n[t.key]),t})});var n=this.$Lodash.find(this.headers,{key:"PercentageStatus"}),l=this.$Lodash.find(this.headers,{key:"SumStatus"}),r=this.$Lodash.find(this.headers,{key:"SumWorker"});return n&&l&&r&&r.count>0&&(n.count=this.parseFloatFixed(100-l.count/r.count*100)),e}},watch:{projects:{handler:function(t,e){this.list=t},deep:!0},workers:{handler:function(t,e){var a=this.$Lodash.filter(t,function(t){return"superadmin"!=t.LoginName&&"admin"!=t.LoginName});this.active=this.$Lodash.filter(a,{Status:"1"}),this.deactive=this.$Lodash.filter(a,{Status:"0"}),this.users=t},deep:!0}},methods:{closeFilter:function(){this.$refs.CountFilter.hide()},resetFilter:function(){this.DateProject=!0,this.WorkerProject="",this.StatusTask="",this.DueDate=!1,this.OverDue=!1,this.UserActive="",this.initTable()},onChangeActive:function(t){t.length>0?this.selectedActive=t:this.selectedActive=void 0,this.initTable()},onChangeStatus:function(t){t.length>0?this.selectedStatus=t.join(";"):this.selectedStatus=void 0,this.initTable()},onResetFilter:function(t,e,a,i,s,o){this.selectedDate=t,this.selectedWorkers=e,this.selectedStatus=a,this.dueDate=i,this.overDue=s,this.selectedActive=o,this.initTable()},onChangeDueDate:function(t){this.dueDate=t,this.initTable()},onChangeOverDue:function(t){this.overDue=t,this.initTable()},onSwitchView:function(){this.isShow=!this.isShow},onChangeWorker:function(t){t.length>0?this.selectedWorkers=t.join(";"):this.selectedWorkers=void 0,this.initTable()},onChangeDate:function(t){this.selectedDate=t,this.initTable()},onChangeProject:function(t){t.length>0?this.selectedProjects=t.join(";"):this.selectedProjects=void 0,this.initTable()},toggle:function(e){t("."+e).toggle();var a=t("#"+e).find("i");if(a&&a[0]){var i=a[0].className;a[0].className="fa fa-chevron-circle-right"===i?"fa fa-chevron-circle-down":"fa fa-chevron-circle-right"}},parseFloatFixed:function(t,e){return parseFloat(parseFloat(t||0).toFixed(e?length:2))},initTable:function(){var t=this;this.table.data={tasks:[],projects:{},users:{},roles:[]};var e={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Username;Group;Status;LoginName;UserId;GroupId;",StaticFields:"UserId;Username;LoginName;Status;",DynamicFields:"Avatar;",OrderFields:"LoginName ASC"};this.selectedActive&&(console.log(this.selectedActive,this.active),"1"===this.selectedActive?e.UserId=s()(this.$Lodash.keyBy(this.active,"UserId")).join(";"):"0"===this.selectedActive&&(e.UserId=s()(this.$Lodash.keyBy(this.deactive,"UserId")).join(";"))),this.selectedWorkers&&(e.UserId=this.selectedWorkers),this.$Utils.post(e).then(function(e){t.table.data.users=t.$Utils.getDataWithRoot(e,"Data.UserDS.User"),t.table.data.users=t.$Lodash.filter(t.table.data.users,function(t){return"superadmin"!=t.LoginName&&"admin"!=t.LoginName}),t.table.data.users=t.$Lodash.keyBy(t.table.data.users,"UserId")});var a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_TotalRequests=1,a.R1_RequestTemplate="tblGroup.Search",a.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",a.R1_RequestFields="GroupId;GroupName;GroupType;GroupParent;ProjectCode;CreatedBy;State;Status;Type;Department;",a.R1_GroupType="4",a.R1_GroupId=this.selectedProjs,this.$isSystemAdmin()||this.$isMantisAdmin()||(a.R1_AssignedUser=this.SessionId),this.$Utils.post(a).then(function(e){if(t.table.data.projects=t.$Utils.getDataWithRoot(e.R1,"Data.UserDS.Group"),t.selectedDepts){var a=t.selectedDepts.split(";");t.table.data.projects=t.$Lodash.filter(t.table.data.projects,function(e){var i=[];return e.Department&&(i=e.Department.split(";")),t.$Lodash.intersection(a,i).length>0})}t.table.data.projects=t.$Lodash.keyBy(t.table.data.projects,"GroupId");var i=s()(t.table.data.projects).join(";"),n=t.$Lodash.cloneDeep(t.$singleRequest);n.R1_TotalRequests=1,n.R1_RequestTemplate="tblGroup.Search",n.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",n.R1_RequestFields="GroupId;GroupName;GroupType;GroupParent;ProjectCode;CreatedBy;State;Status;Type;Department;",n.R1_GroupType="5",n.R1_GroupParent=i,t.$Utils.post(n).then(function(e){t.table.data.roles=t.$Utils.getDataWithRoot(e.R1,"Data.UserDS.Group")});var l={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};l.R1_RequestTemplate="AG_Task_Task.Search",l.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",l.R1_RequestFields="Id;Name;Index;PlanStartDate;Status;Worker;PlanManHour;RemainingManHour;CreatedBy;UserList;VersionProject;Deadline",l.R1_VersionProject=i,t.selectedActive&&("1"===t.selectedActive?l.R1_Worker=s()(t.$Lodash.keyBy(t.active,"UserId")).join(";"):"0"===t.selectedActive&&(l.R1_Worker=s()(t.$Lodash.keyBy(t.deactive,"UserId")).join(";"))),t.selectedDate&&(l.R1_PlanStartDateStartValue=t.$Utils.formatDateTime(t.ProjectStartTimeStartValue),l.R1_PlanStartDateEndValue=t.$Utils.formatDateTime(t.ProjectStartTimeEndValue)),t.selectedWorkers&&(l.R1_Worker=t.selectedWorkers),t.selectedStatus&&(l.R1_Status=t.selectedStatus),(t.overDue||t.dueDate)&&(l.R1_Status=t.notDone.join(";")),t.$isSystemAdmin()||t.$isMantisAdmin()||(l.R1_AssignedUser=t.SessionId),t.$Utils.post(l).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.TasksDS.Task");t.overDue&&(a=t.$Lodash.filter(a,function(t){return o.default.moment(t.Deadline).isBefore(o.default.moment())})),t.dueDate&&(a=t.$Lodash.filter(a,function(t){return o.default.moment(t.Deadline).isAfter(o.default.moment())&&o.default.moment(t.Deadline).isBefore(o.default.moment().endOf("days"))})),t.table.data.tasks=a})})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{ref:"CountFilter",staticClass:"chartFilter text-primary",attrs:{id:"CountFilter",title:"Bộ lọc","header-bg-variant":"primary","hide-footer":""}},[[a("ProjectFilter",{attrs:{onChangeWorker:t.onChangeWorker,onChangeDate:t.onChangeDate,onChangeStatus:t.onChangeStatus,onChangeActive:t.onChangeActive,onChangeDueDate:t.onChangeDueDate,onChangeOverDue:t.onChangeOverDue,onResetFilter:t.resetFilter,onCloseFilter:t.closeFilter,workers:t.users,status:t.listStatus}})]],2),t._v(" "),a("div",{staticClass:"table-responsive project-count"},[t.$isMobileDevice?t._e():a("div",{staticClass:"ProjectCountInlineFilter mt-2 float-right"},[a("ProjectFilter",{attrs:{onChangeWorker:t.onChangeWorker,onChangeDate:t.onChangeDate,onChangeStatus:t.onChangeStatus,onChangeActive:t.onChangeActive,onChangeDueDate:t.onChangeDueDate,onChangeOverDue:t.onChangeOverDue,onResetFilter:t.resetFilter,onCloseFilter:t.closeFilter,workers:t.users,status:t.listStatus}})],1),t._v(" "),a("table",{staticClass:"table table-hover table-bordered"},[a("thead",{staticClass:"thead-light"},[a("tr",t._l(t.headers,function(e,i){return""!=e.label?a("th",{key:e.key,attrs:{scope:"col"}},[a("span",[t._v(" "+t._s(e.label)+"\n                  "),e.isCount?a("el-badge",{staticClass:"item",attrs:{value:e.count}}):t._e(),t._v(" "),0==i&&t.$isMobileDevice?a("i",{directives:[{name:"b-modal",rawName:"v-b-modal.CountFilter",modifiers:{CountFilter:!0}}],staticClass:"AdvFilter fa fa-filter fa-lg"}):t._e()],1)]):t._e()}))]),t._v(" "),a("tbody",t._l(t.db,function(e){return a("tr",{key:e.Index,class:"project"===e.Type?"table-active":e.ProjectId,attrs:{id:e.Id},on:{click:function(a){t.toggle(e.Id)}}},t._l(t.headers,function(i){return""!=i.label?a("td",{key:i.key,attrs:{scope:"col"}},["project"===e.Type&&i.isCount?a("strong",[t._v("\n                 "+t._s(e[i.key])+"\n              ")]):a("span",["user"===e.Type&&"Name"===i.key?a("span",[a("div",{staticClass:"content"},[a("img",{staticClass:"img-avatar",attrs:{src:t.loadAvatar(e.Avatar)}}),t._v("\n                                  "+t._s(e[i.key])+"\n                    ")])]):a("span",{class:e.Type},["Name"===i.key?a("i",{staticClass:"fa fa-chevron-circle-down"},[t._v(t._s(e[i.key]))]):a("span",[t._v(t._s(e[i.key]))])])])]):t._e()}))}))])])],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(575),s=a(576),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(7);e.a={data:function(){return{Calculator:void 0,IsExcute:!1,comboWarehouses:[],comboProduct:[],allWarehouse:[],DataSetting:{},objSetting:{},SumFields:[],MinFields:[],CountFields:[],AverageFields:[],ExpressionFields:[],calculatorRequest:[],rootData:[],countFinish:!0,Index:0,Increased:100,comboCalculator:[],ResultTable:[{Id:"",Date:"",Name:"",NumberProduct:"",NumberInstock:"",Number:""}],activeNames:["1"]}},mounted:function(){this.init()},methods:{handleChage:function(t){var e=this;if(t&&null!=t){e.countFinish=!1,e.ResultTable[0].Number=0,e.ResultTable[0].Id=e.Calculator.Id,e.ResultTable[0].Name=e.Calculator.Name,e.ResultTable[0].NumberProduct=e.comboProduct.length;var a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="xDocument_Document.Count",a.R1_RequestDataGroup="DataGroup.warehouse.0fd40",a.R1_RequestFields="Id;Code;Status",a.R1_Status=e.Calculator.Id,a.R1_Code="Warehouse",s.a.post(a).then(function(t){e.ResultTable[0].NumberInstock=t.R1.Data,e.countFinish=!0})}else e.ResultTable[0].Number="",e.ResultTable[0].Id="",e.ResultTable[0].Name="",e.ResultTable[0].NumberProduct="",e.ResultTable[0].NumberInstock=""},excuteUpdate:function(){ctrl.listLogs={Success:0,Failed:0,Message:"",Updated:0},createUpdateRequest()},Calculate:function(){var e=this,a=this;a.ListExcuteRequests=[],a.SumFields={},a.CountFields={},a.Index=0;var o=0;a.Increased=100;var n=(a.$Lodash.cloneDeep(a.allWarehouse),s.a.showLoading("start"));a.ResultTable[0].Date=i.default.moment().format("DD/MM/YYYY  hh:mm"),t.each(a.comboProduct,function(t,i){var l=e.$Lodash.cloneDeep(e.$singleRequest);l.R1_RequestTemplate="xDocument_Document.Search",l.R1_RequestDataGroup="DataGroup.warehouse.0fd40",l.R1_RequestFields="Id;Code;Status;MetaKeywords",l.R1_Status=a.Calculator.Id,l.R1_MetaKeywords=i.Barcode,l.R1_Code="Warehouse",s.a.post(l).then(function(l){if(l=s.a.getDataWithRoot(l.R1,"Data.DocumentDS.Document"),0==l.length){console.log(l),a.Index++,console.log(a.Index);var r=e.$Lodash.cloneDeep(e.$singleRequest);r.R1_RequestTemplate="xDocument_Document.Insert",r.R1_RequestDataGroup="DataGroup.warehouse.0fd40",r.R1_RequestFields="Id;MetaKeywords;OfficialNumber;ProductCode;CategoriesName;Categories;StatusName;Status;MetaDescriptionName;MetaDescription;Lead;ProductColorName;ProductColor;SizeName;Size;TotalPages;TotalAttachments;Priority;Id;Code;CategoriesName;ProductColorName;SizeName;StatusName;MetaDescriptionName;MetaTitle;Signer;Title;Source;",r.R1_Status=a.Calculator.Id,r.R1_StatusName=a.Calculator.Name,r.R1_Code="Warehouse",r.R1_MetaKeywords=i.Barcode,r.R1_OfficialNumber=i.OfficialNumber,r.R1_ProductCode=i.ProductCode,r.R1_CategoriesName=i.CategoryName,r.R1_Categories=i.Category,r.R1_MetaDescriptionName=i.SubCodeName,r.R1_MetaDescription=i.SubCode,r.R1_Lead=i.CodeName,r.R1_ProductColorName=i.ColorName,r.R1_ProductColor=i.Color,r.R1_SizeName=i.SizeName,r.R1_Size=i.Size,r.R1_MetaTitle=i.Metarial,r.R1_Signer=i.Style,r.R1_Title=i.ArmStyle,r.R1_Source=i.NeckStyle,r.R1_TotalPages=i.Price,r.R1_TotalAttachments=0,r.R1_Priority=0,console.log(r),s.a.postCheckResult(r).then(function(t){a.ResultTable[0].Number++,console.log(t)})}o++,t==a.comboProduct.length-1&&s.a.showLoading("stop",n)})}),console.log(a.Calculator),console.log(a.ResultTable)},init:function(){var t=this;t.ListExcuteRequests=[],t.SumFields={},t.CountFields={},t.Index=0,t.Increased=100;var e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="xDocument_Document.Search",e.R1_RequestDataGroup="DataGroup.warehouses.01dh7",e.R1_RequestFields="",e.R1_Code="Warehouses",s.a.post(e).then(function(e){t.comboWarehouses=s.a.getDataWithRoot(e.R1,"Data.DocumentDS.Document"),console.log(t.comboWarehouses)});var e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="xDocument_Document.Search",e.R1_RequestDataGroup="DataGroup.product.19jev",e.R1_Code="Product",e.R1_RequestFields="Id;Code;FullCodeName;Name;Barcode;OfficialNumber;ProductCode;CategoryName;Category;Unit;Price;SubCodeName;SubCode;Style;ArmStyle;NeckStyle;Metarial;ColorName;Color;Size;CodeName;Quater;BarcodeQuantity;DesignCode;PrintTime;Id;Code;CategoryName;SubCodeName;ColorName;SizeName;",console.log(e),s.a.postCheckResult(e).then(function(e){t.comboProduct=s.a.getDataWithRoot(e.R1,"Data.DocumentDS.Document"),console.log(t.comboProduct)})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n      Hướng dẫn sử dụng "),a("i",{staticClass:"header-icon el-icon-info"})]),t._v(" "),a("div",[t._v("Chức năng này để thực hiện việc đưa sản phẩm "),a("strong",[t._v(" mới ")]),t._v(" vào các kho "),a("strong",[t._v(" [Điểm Bán] ")]),t._v(" hoặc "),a("strong",[t._v(" [Online] ")]),t._v(" để thực hiện quy trình tra tồn và bán hàng")]),t._v(" "),a("div",[t._v("Việc chọn kho tương ứng sẽ khởi tạo thông tin sản phẩm và có số lượng "),a("strong",[t._v("[Tồn sẵn có] ")]),t._v(" và "),a("strong",[t._v(" [Tồn thực tế] ")]),t._v(" bằng "),a("strong",[t._v("0 ")]),t._v("và chạy tự động")]),t._v(" "),a("div",[t._v("Việc nhập bổ sung sản phẩm vào kho chỉ thực hiện sau khi "),a("strong",[t._v(" [Sản phẩm] ")]),t._v(" đã được thêm vào phần "),a("strong",[t._v("quản lý sản phẩm")])]),t._v(" "),a("div",[t._v("Các bước thực hiện:")]),t._v(" "),a("div",[a("strong",[t._v("Bước 1:")]),t._v(" chọn kho cần bổ sung sản phẩm")]),t._v(" "),a("div",[a("strong",[t._v("Bước 2:")]),t._v(" nhấn nút "),a("strong",[t._v("[Bổ sung vào kho] ")]),t._v("hệ thống sẽ chạy tự động và bổ sung những sản phẩm mới vào kho tương ứng")]),t._v(" "),a("div",[a("strong",[t._v("Bước 3:")]),t._v(" kiểm tra kết quả, các trường thông tin bên bảng dưới "),a("strong",[t._v(" [Số lượng sản phẩm], [Số lượng đã có trong kho],  [Số lượng bổ sung] ")])]),t._v(" "),a("div",[a("strong",[t._v("Bước 4:")]),t._v(" sau khi hoàn tất quá trình, có thể bắt đầu "),a("strong",[t._v("  nhập xuất, luân chuyển ")]),t._v("  từ kho xưởng đến các kho để tiến hành cập nhật số lượng sản phẩm trong kho")])],2),t._v(" "),a("el-form",[a("el-form-item",{attrs:{label:"Chọn kho"}},[a("el-select",{attrs:{clearable:"","value-key":"Id",placeholder:"Chọn"},on:{change:t.handleChage},model:{value:t.Calculator,callback:function(e){t.Calculator=e},expression:"Calculator"}},t._l(t.comboWarehouses,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t}})})),t._v(" "),t.comboWarehouses.length>0&&t.comboProduct.length>0&&t.Calculator?a("el-button",{on:{click:function(e){t.Calculate()}}},[t._v("Bổ sung vào kho")]):t._e()],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.ResultTable}},[a("el-table-column",{attrs:{prop:"Date",label:"Ngày",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"Tên kho",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"NumberProduct",label:"Số lượng sản phẩm"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.countFinish?a("span",[t._v(t._s(e.row.NumberProduct))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"NumberInstock",label:"Số lượng đã có trong kho"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Number",label:"Số lượng bổ sung"}})],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(578)}var s=a(579),o=a(580),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(55);e.a={components:{DynamicPage:o.default},data:function(){return{activeName:"",currentPage:{},pageModules:[],pageDescriptions:[],listReport:[],formatData:[],objFields:{},sortedFilter:[],DataList:{},searchIndex:0,filter:{},formPage:!1,reportPage:!1,Setting:{}}},created:function(){},mounted:function(){this.init(),this.currentPage&&(this.pageModules=this.$Utils.jsonParse(this.currentPage.Value)?this.$Utils.jsonParse(this.currentPage.Value):{},this.pageDescriptions=this.$Utils.jsonParse(this.currentPage.Description)?this.$Utils.jsonParse(this.currentPage.Description):{})},watch:{"$route.params.url":function(t){}},methods:{callback:function(){},createdListFromDataTree:function(t){function e(e,a){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){var a=this;return this.$.each(t,function(t,i){var s=a.$Lodash.cloneDeep(i);delete s.children,i.children&&a.$Utils.isEmpty(i.children[0],"ModuleType")&&(s.Module=a.$Lodash.cloneDeep(i.children)),e.push(s),i.children&&!a.$Utils.isEmpty(i.ModuleType)&&createdListFromDataTree(i.children,e)}),e}),bindSettingCurrentPage:function(){for(var t=this,e=(this.$route,this.$route.params),a=!1,i=[],s=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.ListPages)),o=0;o<s.length;o++){var n=JSON.parse(s[o].Description);if((n.UrlPage=="dynamic/"+e.url||-1!=n.UrlPage.indexOf("dynamic/"+e.url+"/"))&&"Empty"!=n.PageLink){this.currentPage=s[o];var l={};l.Caption=this.currentPage.Caption,l.Id=this.currentPage.Id,l.ParentId=this.currentPage.ParentId,l.Url=n.UrlPage,a=!0;break}}if(a||this.$router.push("/pages/404"),this.$Utils.isEmpty(this.currentPage,"Id")){var r=this.$Lodash.cloneDeep(this.$singleRequest);r.R1_RequestTemplate="SettingNew.SearchSetting",r.R1_Id=this.currentPage.Id,this.$Utils.post(r).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0];var a=e.Description;e.Description&&e.Description.constructor===String&&(a=JSON.parse(e.Description)),e.Value&&e.Value.constructor===String&&(a.Module=JSON.parse(e.Value)),t.$Utils.isEmpty(t.$route.query)&&("string"==typeof t.$route.query?a.UrlData=t.$Utils.stringToObject(t.$route.query):a.UrlData=t.$route.query),a.Breadcrumb=i,t.Setting=a})}},getBreadcrumb:function(t,e,a){var i=this;return this.$.each(a,function(s,o){if(t.ParentId==o.Id){var n={};n.Caption=o.Caption,n.Id=o.Id,n.ParentId=o.ParentId,i.$Utils.addLanguage(o,n),angular.isString(o.Description)&&("Empty"!=JSON.parse(o.Description).PageLink&&i.$Utils.isEmpty(JSON.parse(o.Description).PageLink)?n.Url=JSON.parse(o.Description).UrlPage:n.Url="#"),e.unshift(n),i.$Utils.isEmpty(o.ParentId)&&ctrl.getBreadcrumb(n,e,a)}}),e},init:function(){var e=this;if(null==this.$getItemLocalStorage(this.$localStorageConstant.ListPages)||""==this.$localStorageConstant.ListPages){var a=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{AssignedUser:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),RequestTemplate:"SettingNew.SearchSetting",ParentCode:"xSetting.Project.Page"});this.$Utils.post(a).then(function(t){var a=[];a=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),e.$setItemLocalStorage(e.$localStorageConstant.ListPages,s()(a)),e.data?(e.Setting=e.$Lodash.cloneDeep(e.data),e.loadSettingData([e.Setting],function(t){e.loadUrlData(t).then(function(t){e.formatData=t})})):e.bindSettingCurrentPage()})}else this.data?(this.Setting=this.$Lodash.cloneDeep(this.data),this.loadSettingData([this.Setting],function(a){e.loadUrlData(a).then(function(a){e.formatData=a,t.each(e.formatData,function(t,a){e.Setting.ModuleCode==a.Code&&(e.formatData[t].parentSetting=e.Setting.parentSetting)})})})):this.bindSettingCurrentPage()}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dynamic-main"},[t.Setting.Module?a("DynamicPage",{attrs:{data:t.Setting,currentPage:t.currentPage}}):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(582)}var s=a(583),o=a(627),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t,i){var s=a(4),o=a.n(s),n=a(584),l=a(591),r=a(594),c=a(597),d=a(602),u=a(7),m=a(606);e.a={name:"categories",components:{ElCascader:m.a,DataGroupTree:n.a},data:function(){return{Links:[],LinkFieldFilters:[],activeNames:["extenField1"],angular:this.$,treeData:{Name:"Cấu hình",children:[],level:"0"},listData:[],model:{Description:{Fields:[],Buttons:[]}},viewModel:{DataGroup:{source:[]},Data:{Default:{Prefix:"xSetting.Default.Project.DataGroup.Field.",valueMember:"Name",Conditions:{Level:7,ParentCode:"Code"}},Fields:[{Name:"FormFieldType"},{Name:"FieldColumnType"},{Name:"ListElementType"},{Name:"FilterElementType"},{Name:"FormDataChangeType"},{Name:"DataSource",Conditions:{ParentCode:"Code"},Prefix:"xSetting.Default.Project.DataGroup."},{Name:"DependencyType",Conditions:{ParentCode:"Code"},Prefix:"xSetting.Default.Project.Form."},{Name:"FieldStorageType",Model:"FieldStorageType;"},{Name:"FormValidate",Default:!1,Conditions:{Level:5,ParentCode:"xSetting.Default.Control.Validate"}},{Name:"ParentObject",Conditions:{ParentCode:"Code"},Prefix:"xSetting.Default.Project.DataGroup.Button."},{Name:"ButtonType",Conditions:{ParentCode:"Code"},Prefix:"xSetting.Default.Project.DataGroup.Button."},{Name:"AfterUpdate",Conditions:{ParentCode:"Code"},Prefix:"xSetting.Default.Project.DataGroup.Button."},{Name:"PreAction",Conditions:{ParentCode:"Code"},Prefix:"xSetting.Default.Project.DataGroup.Button."},{Name:"Action",Conditions:{ParentCode:"Code"},Prefix:"xSetting.Default.Project.DataGroup.Button."}]},contextDataGroup:{autoOpenPopup:!1,mode:"popup"},ListDataGroups:[],ListModules:[],ListDataGroupModules:[],selectedTab:"0",communication:{action:"",item:{},index:"",scope:this},Key:"",Value:""},rules:{Caption:[{required:!0,message:"Tên phải nhập",trigger:"blur"}],DataSource:[{required:!0,message:"Nguồn dữ liệu phải chọn",trigger:"change"}]},selectedItem:{},temp:[],test:[]}},methods:{isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},bindDataGroupSource:function(){var e=this,a=this;a.viewModel.DataGroup.source=[];var i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_ParentCode="xSetting.Project.DataGroup",i.R1_IncludedNestedSetParent=!0,u.a.post(i).then(function(i){a.viewModel.ListDataGroups=u.a.getDataWithRoot(i.R1,"Data.DynamicDS.Setting"),t.each(a.viewModel.ListDataGroups,function(t,e){void 0!=e.Description&&""!=e.Description&&(e.Description=u.a.jsonParse(e.Description)?u.a.jsonParse(e.Description):alert(e.Description))}),a.temp=u.a.createCustomTreeFromList(e.$Lodash.cloneDeep(a.viewModel.ListDataGroups),"Id","ParentId","children",{Caption:"label",Code:"value"},{})[0].children,e.treeData=u.a.createCustomTreeFromList(e.$Lodash.cloneDeep(a.viewModel.ListDataGroups),"Id","ParentId","children",{Caption:"Name",Id:"value"},{type:"data-group",icon:"icon-folder",unread:0,total:0})[0]})},requestByAction:function(e){var a=this,s=this,o=this.selectedItem,n=this.$Lodash.cloneDeep(this.$singleRequest);if(i.isEmptyObject(o))return void u.a.showMessage("error","Không định danh được đối tượng!");if("delete"===e)u.a.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){n.R1_RequestTemplate="SettingNew.SearchTreeList",n.R1_ParentId=o.value,n.R1_IncludedNestedSetParent=!0,u.a.post(n).then(function(e){e=u.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),n=a.$Lodash.cloneDeep(a.$singleRequest);var i="";n.TotalRequests=0,t.each(e,function(t,e){n.TotalRequests++,n["R"+n.TotalRequests+"_RequestTemplate"]="SettingNew.Delete",n["R"+n.TotalRequests+"_Id"]=e.Id,i+=e.Id+";"}),n.TotalRequests>0&&u.a.post(n).then(function(){u.a.showMessage("success",a.$toastMessage.deleteItemPre+a.$toastMessage.deleteItemSuf),u.a.removeAllLink(i),u.a.showLoading("stop")})})});else if("edit"===e){var l=["Form","List","Filter"];n.R1_RequestTemplate="SettingNew.SearchSetting",n.R1_Id=o.value,t.each(s.viewModel.ListDataGroups,function(t,e){e.Id===o.value&&(o.Code=e.Code)}),t.each(l,function(t,e){void 0!==o.Code&&(n.TotalRequests++,n["R"+n.TotalRequests+"_RequestTemplate"]="SettingNew.SearchSetting",n["R"+n.TotalRequests+"_ParentCode"]="xSetting.Project."+e,n["R"+n.TotalRequests+"_Level"]="4",n["R"+n.TotalRequests+"_Name"]=o.Code)}),u.a.postCheckResult(n).then(function(e){var i=u.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0];if(void 0!==i.Description){i.Description=u.a.jsonParse(i.Description),t.each(s.viewModel.DataSource,function(t,e){e.Name===i.Description.DataSource&&(i.Description.DataSource=e)}),i.Description.Fields="";for(var o=1;o<=i.Description.FCount;o++)void 0!==i["F"+o]&&(i.Description.Fields+=i["F"+o],delete i["F"+o]);i.Description.Fields=""!==i.Description.Fields?u.a.jsonParse(i.Description.Fields):[],i.Description.Fields.forEach(function(t){t.Permit&&("true"===t.Permit?t.Permit=!0:t.Permit=!1)}),s.model=i,a.Links=[],t.each(s.model.Description.Link,function(t,e){a.Links.push({Name:t,Value:e})}),a.LinkFieldFilters=[],s.model.Description.LinkFieldFilter||(s.model.Description.LinkFieldFilter={}),t.each(s.model.Description.LinkFieldFilter,function(t,e){s.LinkFieldFilters.push({Name:t,Value:e})}),s.viewModel.ListModules=u.a.getDataWithRoot(e.R2,"Data.DynamicDS.Setting"),s.viewModel.ListModules=s.viewModel.ListModules.concat(u.a.getDataWithRoot(e.R3,"Data.DynamicDS.Setting")),s.viewModel.ListModules=s.viewModel.ListModules.concat(u.a.getDataWithRoot(e.R4,"Data.DynamicDS.Setting")),s.viewModel.ListModules.forEach(function(t){if(void 0!==t.Description){t.Description=JSON.parse(t.Description),t.ObjectFields="";for(var e=1;e<=t.Description.OFCount;e++)void 0!==t["OF"+e]&&(t.ObjectFields+=t["OF"+e]);t.ObjectFields=u.a.jsonParse(t.ObjectFields)}})}})}else{var r=this.bindSavedData();n.R1_RequestTemplate="SettingNew.Update",n.R1_Id=r.Id,n=u.a.updateParamsSingleRequest(n,r),u.a.postCheckResult(n).then(function(t){t.success?(u.a.showMessage("success",a.$toastMessage.updateItemPre+a.$toastMessage.updateItemSuf),s.requestByAction("edit")):u.a.showMessage("error",a.$toastMessage.updateItemFailed)})}},bindSavedData:function(){var e=this,a=this.$Lodash.cloneDeep(this.model);a.Value=[],a.Caption=a.Description.Caption,a.Description.Fields.forEach(function(e){"Condition"!==e.FieldColumnType&&(a.Value.push({Name:e.Name,ColumnType:e.FieldColumnType,StorageType:e.FieldStorageType}),void 0!==e.DynamicText&&a.Value.push({Name:e.DynamicText,StorageType:"Dynamic"})),u.a.deleteAutoValue(e),t.each(e,function(t,a){!0===a&&(e[t]="true"),!1===a&&""!==a&&(e[t]="false")})}),a.Description.Buttons.forEach(function(a){t.each(a,function(t,i){!0===i&!e.isNumeric(a[t])&&(a[t]="true"),!1===i&&""!==i&&(a[t]="false")})}),u.a.isEmpty(a.Description.DataSource)&&(a.Description.DataSource=a.Description.DataSource.Name),a.Description.AdditionConditions="",a.Description.Filters.forEach(function(t){a.Description.AdditionConditions+="&"+t.Key+"="+t.Value});var i=o()(a.Description.Fields);delete a.Description.Fields;for(var s=0,n=0,l=1;l<7;l++)i.length>s&&(a["F"+l]=i.substring(s,s+9999),s=1e4*l-l,n=l);return a.Value=o()(a.Value),a.Description.FCount=n,a.Description=o()(a.Description),a},excuteSubDirective:function(t,e,a,i,s){var n=this;n.communication.action=a,"edit"===a&&(n.communication.item=i,void 0!==i.FormJsonExpression&&i.FormJsonExpression.constructor!=String&&(n.communication.item.FormJsonExpression=o()(i.FormJsonExpression)),n.communication.index=s),"link"===e?this.$hub.$emit("set-modal-data","Thông tin các trường liên kết","60%",!0,"center",r.a,!0,"",n.communication):"link-field-filter"===e?(n.communication.action="edit-filter",this.$hub.$emit("set-modal-data","Thông tin các liên kết lọc","60%",!0,"center",r.a,!0,"",n.communication)):"dependency"===e?this.$hub.$emit("set-modal-data","Thông tin các trường liên quan","60%",!0,"center",l.a,!0,"",n.communication):"field"===e?this.$hub.$emit("set-modal-data","Thông tin các trường dữ liệu","60%",!0,"center",c.a,!0,"",n.communication):"button"===e&&this.$hub.$emit("set-modal-data","Thông tin nút","60%",!0,"center",d.a,!0,"",n.communication)},excuteLink:function(t,e,a){var i=this,s=this;if("insert"===e){if(s.viewModel.LinkDataGroup&&s.viewModel.LinkDataGroup.length>0){var o=s.viewModel.LinkDataGroup[s.viewModel.LinkDataGroup.length-1];void 0===s.model.Description.Link[o]?(s.model.Description.Link[o]=[],this.Links.push({Name:o,Value:[]})):this.excuteSubDirective(t,"link","edit",o)}}else"edit"===e?this.excuteSubDirective(t,"link",e,this.Links[a].Name):"delete"===e&&u.a.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){delete s.model.Description.Link[i.Links[a].Name],i.Links.splice(a,1)})},excuteLinkFilter:function(t,e,a){var i=this,s=this;if("insert"===e){if(s.viewModel.LinkFieldFilter&&s.viewModel.LinkFieldFilter.length>0){var o=s.viewModel.LinkFieldFilter[s.viewModel.LinkFieldFilter.length-1];void 0===s.model.Description.LinkFieldFilter[o]?(s.model.Description.LinkFieldFilter[o]=[],this.LinkFieldFilters.push({Name:o,Value:[]})):this.excuteSubDirective(t,"link-field-filter","edit",o)}}else"edit"===e?this.excuteSubDirective(t,"link-field-filter",e,this.LinkFieldFilters[a].Name):"delete"===e&&u.a.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){delete s.model.Description.LinkFieldFilter[i.LinkFieldFilters[a].Name],i.Links.splice(a,1)})},bindSubDirectives:function(t){var e=this;if("edit"===t.action){void 0!==t.item.FormJsonExpression&&""!==t.item.FormJsonExpression&&t.item.FormJsonExpression.constructor===String&&(t.item.FormJsonExpression=JSON.parse(t.item.FormJsonExpression)),e.model.Description[t.Type][t.index]=t.item;var a=this.$Lodash.cloneDeep(e.model.Description[t.Type]);e.model.Description[t.Type]=a,u.a.isEmpty(e.model[t.Type])?e.model[t.Type][t.index]=t.item:e.model.Description[t.Type][t.index]=t.item}else e.model.Description[t.Type].push(t.item);"Fields"!==t.Type&&"Buttons"!==t.Type||this.requestByAction("update")},bindLink:function(t){this.model.Description.Link[t.code]=t.item,this.Links.forEach(function(e){e.Name===t.code&&(e.Value=t.item)})},bindLinkFieldFilter:function(t){this.model.Description.LinkFieldFilter[t.code]=t.item,this.LinkFieldFilters.forEach(function(e){e.Name===t.code&&(e.Value=t.item)})},confirmDelete:function(t,e,a,i){var s=this;u.a.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){var t="dependency"===e?"Dependencies":e.capitalizeFirstLetter()+"s";s.model.Description[t].splice(i,1),-1!==["field","button"].indexOf(e)&&s.requestByAction("update")})},addConditions:function(){this.model.Description.Filters.push({Key:this.viewModel.Key,Value:this.viewModel.Value}),this.viewModel.Key="",this.viewModel.Value=""},onDataSourceChange:function(){this.model.Description.RootData=this.$Lodash.cloneDeep(this.model.Description.DataSource.Value)},saveModules:function(){var e=this;if(i.isEmptyObject(this.selectedItem))return void u.a.showMessage("error","Không định danh được đối tượng!");var a=this.$Lodash.cloneDeep(this.model),s=this.$Lodash.cloneDeep(this.viewModel.ListModules);a.Caption=a.Description.Caption,u.a.isEmpty(a.Description.DataSource)&&(a.Description.DataSource=a.Description.DataSource.Name),a.Description.AdditionConditions="",a.Description.Filters.forEach(function(t){a.Description.AdditionConditions+="&"+t.Key+"="+t.Value});var n=this.$Lodash.cloneDeep(this.$singleRequest);n.TotalRequests=0,s.forEach(function(i){n.TotalRequests++,i.Description.DataGroupCaption=a.Caption,i.Description.RootData=a.Description.RootData,i.Description.DataSource=a.Description.DataSource,i.Description.AdditionConditions=a.Description.AdditionConditions,-1!==["Form","Filter","List"].indexOf(i.Description.ModuleType)&&(i.Description.Link=a.Description.Link,i.Description.LinkFieldFilter=a.Description.LinkFieldFilter),-1!==["Form","Filter"].indexOf(i.Description.ModuleType)&&(i.Description.Dependencies=a.Description.Dependencies);var s=["Multicheck","IndexDefault","Tool"];e.$Lodash.cloneDeep(i.ObjectFields).forEach(function(e){var o=!1;if(a.Description.Fields)for(var n=0;n<a.Description.Fields.length;n++){var l=a.Description.Fields[n];if(e.Name===l.Name){o=!0;break}}-1!==["List"].indexOf(i.Description.ModuleType)&&(-1!==s.indexOf(e.Name)&&(o=!0),"true"===e.ManualCalculator&&(o=!0)),o||(t.each(i.ObjectFields,function(t,a){a&&e.Name===a.Name&&i.ObjectFields.splice(t,1)}),void 0!==i.Description.Groups&&i.Description.Groups.forEach(function(t){void 0!==t.ListFields&&-1!==t.ListFields.indexOf(e.Name)&&(t.ListFields=t.ListFields.replace(e.Name+";",""))}))});var l=e.$Lodash.cloneDeep(i.Description.Buttons);if(l&&(l.forEach(function(e){for(var s=!1,o=0;o<a.Description.Buttons.length;o++){a.Description.Buttons[o].Code===e.Code&&(s=!0)}s||t.each(i.Description.Buttons,function(t,a){e.Code===a.Code&&i.Description.Buttons.splice(t,1)})}),i.Description.Buttons.forEach(function(t){i.Description.Buttons.forEach(function(e){e.Code===t.Code&&(t=e)})}),-1!==["Form","List"].indexOf(i.Description.ModuleType)))for(var r=0;r<i.Description.Buttons.length;r++)a.Description.Buttons.forEach(function(t){i.Description.Buttons[r].Code===t.Code&&(i.Description.Buttons[r]=t)});i.Fields=e.$Lodash.cloneDeep(i.ObjectFields),i.Fields.forEach(function(e){a.Description.Fields.forEach(function(a){a.Name===e.Name&&(t.each(a,function(t,a){u.a.isEmpty(e[t])&&""!=e[t]||(e[t]=a)}),u.a.deleteAutoValue(e))})}),-1!==["Form","Filter"].indexOf(i.Description.ModuleType)?a.Description.Fields.forEach(function(t){u.a.deleteAutoValue(t),"Hidden"===t.FormFieldType&&i.Fields.push(t),void 0!==t.DynamicText&&null!=t.DynamicText&&i.Fields.push({Name:t.DynamicText,FieldStorageType:"Dynamic"})}):a.Description.Fields.forEach(function(t){u.a.deleteAutoValue(t),"true"===t.ListIsHidden&&i.Fields.push(t),void 0!==t.DynamicText&&null!==t.DynamicText&&i.Fields.push({Name:t.DynamicText,FieldStorageType:"Dynamic"})}),i.ObjectFields.forEach(function(t){delete t.$parent}),i.ObjectFields=o()(i.ObjectFields);for(var c=0,d=0,r=1;r<7;r++)i.ObjectFields.length>c&&(i["OF"+r]=i.ObjectFields.substring(c,c+9999),c=1e4*r-r,d=r);i.Description.OFCount=d,delete i.ObjectFields,c=0,d=0,i.Fields=o()(i.Fields);for(var r=1;r<7;r++)i.Fields.length>c&&(i["F"+r]=i.Fields.substring(c,c+9999),c=1e4*r-r,d=r);i.Description.FCount=d,delete i.Fields,i.ModuleType=i.Value,i.Description=o()(i.Description),n=u.a.updateParamsSingleRequest(n,i,n.TotalRequests),n=u.a.updateParamsSingleRequest(n,{RequestTemplate:"SettingNew.Update"},n.TotalRequests)}),u.a.postCheckResult(n).then(function(t){t.success?u.a.showMessage("success","Lưu Module thành công!"):u.a.showMessage("error",e.$toastMessage.updateItemFailed)})},bindViewModel:function(){var e=this;u.a.postCheckResult(u.a.getViewModelRequest(e.viewModel.Data,"SettingNew.SearchSetting")).then(function(a){a.success&&t.each(e.viewModel.Data.Fields,function(t,i){var s={};if(a["R"+(t+1)].success)switch(s=u.a.getDataWithRoot(a["R"+(t+1)],null!=i.RootData?i.RootData:"Data.DynamicDS.Setting"),i.Name){default:e.viewModel[i.Name]=s;break;case"FormValidate":e.viewModel[i.Name+"Source"]=s}})})},bindListUserPermissions:function(){var e=this;e.viewModel.UserPermissions=[],e.viewModel.GroupPermissions=[],e.viewModel.RolePermissions={};var a={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"Status",Status:"1",StaticFields:"GroupId;GroupName;Description;GroupParent;GroupType"};u.a.post(a).then(function(a){a=u.a.getDataWithRoot(a,"UserDS.Group"),t.each(a,function(t,a){"0"===a.GroupType?e.viewModel.UserPermissions.push(a):"1"===a.GroupType?e.viewModel.GroupPermissions.push(a):"2"===a.GroupType&&(u.a.isEmpty(e.viewModel.RolePermissions)&&e.viewModel.RolePermissions[a.GroupParent]||(e.viewModel.RolePermissions[a.GroupParent]=[]),e.viewModel.RolePermissions[a.GroupParent].push(a))})})},init:function(){this.bindDataGroupSource(),this.bindViewModel(),this.bindListUserPermissions(),this.communication={action:"",item:{},index:"",scope:this}}},watch:{},destroyed:function(){this.$hub.$off("fill-data-to-data-group"),this.$hub.$off("update-data-group-tree")},created:function(){},mounted:function(){var t=this;this.$hub.$on("update-data-group-tree",function(e){t.bindDataGroupSource()}),this.$hub.$on("fill-data-to-data-group",function(e){t.selectedTab="0",t.bindDataGroupSource(),t.bindViewModel(),t.selectedItem=e,t.requestByAction("edit")}),this.init()}}}).call(e,a(2),a(2))},function(t,e,a){"use strict";function i(t){a(585)}var s=a(586),o=a(590),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-7f8b8e8e",null);e.a=r.exports},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__=__webpack_require__(45),__WEBPACK_IMPORTED_MODULE_3__components_static_advance_CreateDataGroupForm__=__webpack_require__(587);__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__.a.name,__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__.a),__webpack_exports__.a={props:["data"],components:{CreateDataGroupForm:__WEBPACK_IMPORTED_MODULE_3__components_static_advance_CreateDataGroupForm__.a},data:function(){return{Name:"",Parent:"",listData:this.data,treeData:{Name:"Cấu hình",children:[],level:"0"},viewModel:{}}},destroyed:function(){this.$hub.$off("update-data-group-tree")},created:function(){this.$hub.$on("update-data-group-tree",function(t){})},mounted:function(){},watch:{},methods:{init:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:"xSetting.Project.DataGroup",R1_IncludedNestedSetParent:!0};this.$Utils.postCheckResult(e).then(function(e){t.ListData=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.treeData.children=t.$Utils.createCustomTreeFromList(t.ListData,"Id","ParentId","children",{Caption:"Name",Id:"value"},{type:"data-group",icon:"icon-folder",unread:0,total:0})})},changeState:function(t){this.$set(t,"$foldClose",!t.$foldClose)},changePosition:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);if(a.R1_RequestTemplate="Setting.MoveNode",a.R1_Id=t.data.Id,t.afterParent.children&&t.afterParent.children.length>1){var i=0;$.each(t.afterParent.children,function(e,s){s.Id==t.data.Id&&e>0?(i=e-1,a.R1_ReferenceId=t.afterParent.children[i].Id,a.R1_NestedSetType="MoveToAfterAnother"):s.Id==t.data.Id&&0==e&&(i=1,a.R1_ReferenceId=t.afterParent.children[i].Id,a.R1_NestedSetType="MoveToBeforeAnother")})}else a.R1_ReferenceId=t.afterParent.Id,a.R1_NestedSetType="MoveToLastChildNode";this.$Utils.post(a).then(function(a){e.getAllLevel(t.afterParent.Level,t.data)})},editCategory:function(t){this.$hub.$emit("fill-data-to-data-group",t)},addCategory:function(t){var e={data:t};this.$hub.$emit("set-modal-data","Thêm khối dữ liệu","40%",!0,"center",__WEBPACK_IMPORTED_MODULE_3__components_static_advance_CreateDataGroupForm__.a,!1,"",e)},confirmToDelete:function(t){var e=this;this.$confirm("Bạn có chăc chắn muốn xóa nghiệp vụ {0} này?".replace("{0}",t.Name),"Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Bỏ qua",type:"warning"}).then(function(){var a=t.$parent;a.children.forEach(function(i,s){if(t.Id===i.Id)return a.children.splice(s,1),e.changeState(a),e.changeState(a),!1}),e.deleteSetting(t)})},deleteSetting:function(t){var e=this;t.$parent;if(this.$Utils.isEmpty(t)){var a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.Delete",a.R1_Id=t.Id,this.$Utils.postCheckResult(a).then(function(a){$.each(e.ListData,function(a,i){t.Id==i.ParentId&&e.deleteSetting(i)})})}},checkExits:function(){var t=this;this.Parent&&""!=this.Parent&&(this.objParent=this.ListData.filter(function(e){return e.Id==t.Parent})[0]);var e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.SearchSetting",e.R1_Value=this.data.Id,e.R1_ParentCode="xSetting.Project.Parameter.Project.Category",this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");a=a.filter(function(e){return e.Name==t.Name}),a.length>0||t.insertSetting()})},insertSetting:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.Insert",a.R1_Name=this.Name,a.R1_Value=this.data.Id,a.R1_ValueName=this.data.Name,a.R1_ReferenceId=this.$Utils.isEmpty(this.objParent)?this.objParent.Id:this.ParentId,a.R1_NestedSetType="InsertLastChildNode",this.$Utils.postCheckResult(a).then(function(t){e.$Utils.linkToRoleEveryone([{Id:t.R1.Data,Caption:e.Name}]),e.$Utils.isEmpty(e.objParent,"Level")?e.onSave(e.objParent.Level):e.onSave(5),e.Name=null,e.objParent=null,e.getSetting()})},updateDatagroup:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.TotalRequests=4,e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_Code="DataGroup.danh-sach-cong-viec.04b66",e.R2_RequestTemplate="SettingNew.SearchSetting",e.R2_ParentCode="xSetting.Project.Form",e.R2_Level="4",e.R2_Name="DataGroup.danh-sach-cong-viec.04b66",e.R3_RequestTemplate="SettingNew.SearchSetting",e.R3_ParentCode="xSetting.Project.List",e.R3_Level="4",e.R3_Name="DataGroup.danh-sach-cong-viec.04b66",e.R4_RequestTemplate="SettingNew.SearchSetting",e.R4_ParentCode="xSetting.Project.Filter",e.R4_Level="4",e.R4_Name="DataGroup.danh-sach-cong-viec.04b66",this.$Utils.post(e).then(function(e){t.SettingFilter=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0],t.$Utils.isEmpty(t.SettingFilter,"Description")&&"string"==typeof t.SettingFilter.Description&&(t.SettingFilter.Description=JSON.parse(t.SettingFilter.Description)),t.objFields={},t.sortedFilter=[];for(var a=1;a<=t.SettingFilter.Description.FCount;a++)1==a&&(t.FilterSettings=""),t.FilterSettings+=t.SettingFilter["F"+a],a==t.SettingFilter.Description.FCount&&(t.setFilterSetting=!0,t.FilterSetting=JSON.parse(t.FilterSettings),t.SettingFilter.Fields=t.FilterSetting);t.viewModel.ListModules=t.$Utils.getDataWithRoot(e.R2,"Data.DynamicDS.Setting"),t.viewModel.ListModules=t.viewModel.ListModules.concat(t.$Utils.getDataWithRoot(e.R3,"Data.DynamicDS.Setting")),t.viewModel.ListModules=t.viewModel.ListModules.concat(t.$Utils.getDataWithRoot(e.R4,"Data.DynamicDS.Setting")),t.viewModel.ListModules.forEach(function(t){if(void 0!=t.Description){t.Description=JSON.parse(t.Description),t.ObjectFields="";for(var e=1;e<=t.Description.OFCount;e++)void 0!=t["OF"+e]&&(t.ObjectFields+=t["OF"+e]);t.ObjectFields=JSON.parse(t.ObjectFields)}}),t.DatagroupSource=t.$Lodash.cloneDeep(t.viewModel.ListModules)})},onSave:function(t,e){var a=this,i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);if(t-=4,-1==i.indexOf("ProjectCategoriesLevel"+t)){var s={Caption:"Danh mục cấp "+t,DataSource:"xDynamicData_Setting",FieldColumnType:"String",FieldStorageType:"Struct",FilterIsUsed:"true",FormDisplay:"- Danh mục cấp "+t+" -",FormFieldType:"Hidden",FormIncludeSubmit:"true",FormValidate:"",ListButtonGroups:"",ListIsHidden:"true",Name:"ProjectCategoriesLevel"+t,PlaceHolder:"- Danh mục cấp "+t+" -",ReportIsUsed:"true"};this.SettingFilter.Fields.push(s),i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);var o=JSON.parse(this.SettingFilter.Value),n={Name:"CategoriesLevel"+t,ColumnType:"String",StorageType:"Struct"};o.push(n),this.SettingFilter.Value=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(o),this.sourceFields=this.$Lodash.cloneDeep(this.SettingFilter.Fields),delete this.SettingFilter.Fields;var l=0;this.SettingFilter.Description.FCount=0;for(var r=1;r<7;r++)i.length>l&&(this.SettingFilter["F"+r]=i.substring(l,l+9999),l=1e4*r-r,this.SettingFilter.Description.FCount=r);if(this.SettingFilter.Description=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Description),!this.$Utils.isEmpty(e)||0==e){var c=this.$Lodash.cloneDeep(this.$singleRequest);this.$Utils.updateParamsSingleRequest(c,this.$Lodash.cloneDeep(this.SettingFilter)),c.R1_RequestTemplate="SettingNew.Update",this.$Utils.post(c).then(function(t){a.saveModules()})}}},saveModules:function(){var t=this,e=this.$Lodash.cloneDeep(this.SettingFilter);e.Description=JSON.parse(e.Description),e.Description.Fields=this.$Lodash.cloneDeep(this.sourceFields);var a=this.$Lodash.cloneDeep(this.viewModel.ListModules),i=this.$Lodash.cloneDeep(this.$singleRequest);i.TotalRequests=0,a.forEach(function(a){i.TotalRequests++,a.ModuleType=a.Value,a.Description.DataGroupCaption=e.Caption,a.Description.RootData=e.Description.RootData,a.Description.DataSource=e.Description.DataSource,a.Description.AdditionConditions=e.Description.AdditionConditions,-1!=["Form","Filter","List"].indexOf(a.Description.ModuleType)&&(a.Description.Link=e.Description.Link),-1!=["Form","Filter","List"].indexOf(a.Description.ModuleType)&&(a.Description.LinkFieldFilter=e.Description.LinkFieldFilter),-1!=["Form","Filter"].indexOf(a.Description.ModuleType)&&(a.Description.Dependencies=e.Description.Dependencies);var s=["Multicheck","IndexDefault","Tool"];(t.$Lodash.cloneDeep(a.ObjectFields).forEach(function(t){for(var i=!1,o=0;o<e.Description.Fields.length;o++){var n=e.Description.Fields[o];if(t.Name==n.Name){i=!0;break}}-1!=["List"].indexOf(a.Description.ModuleType)&&(-1!=s.indexOf(t.Name)&&(i=!0),"true"==t.ManualCalculator&&(i=!0)),i||($.each(a.ObjectFields,function(e,i){t.Name==i.Name&&a.ObjectFields.splice(e,1)}),void 0!=a.Description.Groups&&a.Description.Groups.forEach(function(e){void 0!=e.ListFields&&-1!=e.ListFields.indexOf(t.Name)&&(e.ListFields=e.ListFields.replace(t.Name+";",""))}))}),t.$Utils.isEmpty(a.Description,"Buttons"))&&(t.$Lodash.cloneDeep(a.Description.Buttons).forEach(function(t){for(var i=!1,s=0;s<e.Description.Buttons.length;s++)e.Description.Buttons[s].Code==t.Code&&(i=!0);i||$.each(a.Description.Buttons,function(e,i){t.Code==i.Code&&a.Description.Buttons.splice(e,1)})}),a.Description.Buttons.forEach(function(t){a.Description.Buttons.forEach(function(e){e.Code==t.Code&&(t=e)})}));if(-1!=["Form","List"].indexOf(a.Description.ModuleType))for(var o=0;o<a.Description.Buttons.length;o++)e.Description.Buttons.forEach(function(t){a.Description.Buttons[o].Code==t.Code&&(a.Description.Buttons[o]=t)});a.Fields=t.$Lodash.cloneDeep(a.ObjectFields),a.Fields.forEach(function(a){e.Description.Fields.forEach(function(e){e.Name==a.Name&&($.each(e,function(e,i){t.$Utils.isEmpty(a[e])||(a[e]=i)}),t.$Utils.deleteAutoValue(a))})}),-1!=["Form","Filter"].indexOf(a.Description.ModuleType)?e.Description.Fields.forEach(function(e){t.$Utils.deleteAutoValue(e),"Hidden"==e.FormFieldType&&a.Fields.push(e),void 0!=e.DynamicText&&null!=e.DynamicText&&a.Fields.push({Name:e.DynamicText,FieldStorageType:"Dynamic"})}):e.Description.Fields.forEach(function(e){t.$Utils.deleteAutoValue(e),"true"==e.ListIsHidden&&a.Fields.push(e),void 0!=e.DynamicText&&null!=e.DynamicText&&a.Fields.push({Name:e.DynamicText,FieldStorageType:"Dynamic"})}),a.ObjectFields=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.ObjectFields);for(var n=0,l=0,o=1;o<7;o++)a.ObjectFields.length>n&&(a["OF"+o]=a.ObjectFields.substring(n,n+9999),n=1e4*o-o,l=o);a.Description.OFCount=l,delete a.ObjectFields,n=0,l=0,a.Fields=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.Fields);for(var o=1;o<7;o++)a.Fields.length>n&&(a["F"+o]=a.Fields.substring(n,n+9999),n=1e4*o-o,l=o);a.Description.FCount=l,delete a.Fields,a.Description=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.Description),i=t.$Utils.updateParamsSingleRequest(i,a,i.TotalRequests),i=t.$Utils.updateParamsSingleRequest(i,{RequestTemplate:"SettingNew.Update"},i.TotalRequests)}),this.$Utils.post(i).then(function(e){t.updateDatagroup()})},getAllLevel:function getAllLevel(parent,data){this.onSave(eval(parent)+1),this.$Utils.isEmpty(data.children)&&this.getAllLevel(eval(parent)+1,data.children)},checkParent:function(t){var e=this;if(this.$Utils.isEmpty(t,"$parent")){var a=this.$Lodash.cloneDeep(t.$parent);delete t.$parent,this.inputData.unshift(a),this.checkParent(t.$parent)}else{var i=this.$Lodash.cloneDeep(this.$singleRequest);i.TotalRequests=0,$.each(this.ListTask,function(t,a){if(e.$Utils.isEmpty(a,"ProjectCategoriesName")&&""!=a.Categories){var s=!1,o=e.$Lodash.cloneDeep(e.inputData),n=e.$Utils.isEmpty(a,"ProjectCategoriesName")?a.CategoriesName.split(";"):[];$.each(a.Categories.split(";"),function(t,a){if(""!=a){if(1==s){var i={};i.Id=a,i.Name=n[t],o.push(i)}a==e.inputData[e.inputData.length-1].Id&&(s=!0)}}),1==s&&(i["R"+[i.TotalRequests+1]+"_RequestTemplate"]="AG_Task_Task.Update",i["R"+[i.TotalRequests+1]+"_RequestDataGroup"]="DataGroup.danh-sach-cong-viec.04b66",i["R"+[i.TotalRequests+1]+"_RequestFields"]="Id;Index;ProjectCategories;Code;",i["R"+[i.TotalRequests+1]+"_ProjectCategories"]="",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesName"]="",i["R"+[i.TotalRequests+1]+"_Id"]=a.Id,$.each(o,function(t,e){i["R"+[i.TotalRequests+1]+"_ProjectCategories"]+=t.Id+";",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesName"]+=t.Name+";",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesLevel"+[e+1]]=t.Id,i["R"+[i.TotalRequests+1]+"_RequestFields"]+="ProjectCategoriesLevel"+[e+1]+";"}),i.TotalRequests++)}}),this.$Utils.post(i)}}}}}).call(__webpack_exports__,__webpack_require__(2))},function(t,e,a){"use strict";var i=a(588),s=a(589),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(7);e.a={props:["data"],data:function(){return{rules:{Caption:[{required:!0,message:"Hãy nhập tên khối dữ liệu",trigger:"blur"}]},model:{Caption:""},communication:{action:"insert",items:[]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.save()})},resetForm:function(t){this.$refs[t].resetFields()},closeForm:function(){this.$hub.$emit("close-modal")},save:function(){var e=this,a=this,i=this.data.data,n=this.$Lodash.cloneDeep(this.$singleRequest),l=a.model.Caption.split(";"),r=[];n.TotalRequests=0,t.each(l,function(t,e){if(""!=e){n.TotalRequests++;var a={Caption:e,Code:"DataGroup."+o.a.removeVNCharacters(e)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),Description:s()({Caption:e,Filters:[],Buttons:[],Dependencies:[],Permissions:[],Link:{}}),Name:o.a.removeVNCharacters(e),Value:"[]"};o.a.updateParamsSingleRequest(n,a,n.TotalRequests),o.a.updateParamsSingleRequest(n,{RequestTemplate:"SettingNew.Insert",NestedSetType:"InsertLastChildNode",ReferenceId:i.value},n.TotalRequests),r.push(a)}}),o.a.post(n).then(function(i){if(i.success){o.a.showMessage("success",e.$toastMessage.updateItemPre+e.$toastMessage.updateItemSuf),a.communication={action:"insert",items:[]};var s=[];t.each(r,function(t,e){s.push({Id:i["R"+(t+1)].Data,Caption:e.Caption,Name:"DataGroup"}),e.Id=i["R"+(t+1)].Data,e.label=e.Caption,e.value=e.Id,a.communication.items.push(e)}),o.a.linkToRoleEveryone(s),e.$hub.$emit("update-data-group-tree"),e.closeForm()}else o.a.showMessage("error",toastMessage.updateItemFailed)})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"createForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên",prop:"Caption"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("createForm")}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.closeForm()}}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-group"},[a("b-card",[a("sortable-tree",{attrs:{data:t.data,mixinParentKey:"$parent",dragEnable:!0,closeStateKey:"$foldClose"},on:{changePosition:t.changePosition},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("div",{staticClass:"custom-tree-content",class:{exitChild:i.children&&i.children.length}},[i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[t._v("▶")]):!i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[t._v("▼")]):t._e(),t._v(" "),a("span",{staticClass:"mr-3",class:"child-"+i.Level},[a("a",{directives:[{name:"show",rawName:"v-show",value:"3"!==i.Level,expression:"item.Level !== '3'"}],attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editCategory(i)}}},[t._v(t._s(i.Name))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:"3"===i.Level,expression:"item.Level === '3'"}],attrs:{href:"javascript:void(0)"}},[t._v(t._s(i.Name))])]),"0"!=i.level?a("span",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addCategory(i)}}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"3"!==i.Level,expression:"item.Level !== '3'"}]},[t._v("|")]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:"3"!==i.Level,expression:"item.Level !== '3'"}],attrs:{href:"javascript:void(0)"},on:{click:function(e){t.confirmToDelete(i)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]):t._e()])]}}])})],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(592),s=a(593),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i);e.a={props:["data"],data:function(){return{model:{},rules:{Caption:[{required:!0,message:"Hãy nhập tên khối dữ liệu",trigger:"blur"}]},viewModel:{}}},created:function(){this.model=this.data.scope.model,this.viewModel=this.data.scope.viewModel},mounted:function(){this.init()},watch:{data:function(t){this.model=t.scope.model,this.model.Validations&&"string"!=typeof this.model.Validations&&(this.model.Validations=s()(this.model.Validations)),this.viewModel=t.scope.viewModel}},methods:{handleChange:function(t){},save:function(){var t=this;t.model.Validations&&t.$Utils.jsonParse(t.model.Validations)&&(t.model.Validations=t.$Utils.jsonParse(t.model.Validations)),t.communication={action:this.data.action,item:t.model,index:this.data.index,Type:"Dependencies"},this.data.scope.bindSubDirectives(this.$Lodash.cloneDeep(t.communication)),this.cancel()},cancel:function(){this.$hub.$emit("close-modal")},init:function(){var e=this;"edit"===this.data.action?(e.model=this.$Lodash.cloneDeep(this.data.item),t.each(e.model,function(t,a){"true"==a?e.model[t]=!0:"false"==a&&(e.model[t]=!1)}),e.model.Validations&&"string"!=typeof e.model.Validations&&(e.model.Validations=s()(e.model.Validations))):e.model={DependencyType:"DynamicValue"},e.viewModel={ListDependencyTypes:this.viewModel.DependencyType,ListSourceFields:this.data.scope.model.Description.Fields}}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Nguồn",prop:"Source"}},[a("el-select",{attrs:{filterable:""},model:{value:t.model.Source,callback:function(e){t.$set(t.model,"Source",e)},expression:"model.Source"}},t._l(t.viewModel.ListSourceFields,function(t){return a("el-option",{key:t.Caption,attrs:{value:t.Name,label:t.Caption+"( "+t.Name+" )"}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Đích",prop:"Target"}},[a("el-select",{attrs:{filterable:""},model:{value:t.model.Target,callback:function(e){t.$set(t.model,"Target",e)},expression:"model.Target"}},t._l(t.viewModel.ListSourceFields,function(t){return a("el-option",{key:t.Caption,attrs:{value:t.Name,label:t.Caption+"( "+t.Name+" )"}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại",prop:"DependencyType"}},[a("el-select",{on:{change:t.handleChange},model:{value:t.model.DependencyType,callback:function(e){t.$set(t.model,"DependencyType",e)},expression:"model.DependencyType"}},t._l(t.viewModel.ListDependencyTypes,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Code,value:t.Name}})}))],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"DynamicValue"===t.model.DependencyType,expression:"model.DependencyType==='DynamicValue'"}]},[a("el-form-item",{attrs:{label:"Trường nguồn",prop:"SourceKey"}},[a("el-input",{model:{value:t.model.SourceKey,callback:function(e){t.$set(t.model,"SourceKey",e)},expression:"model.SourceKey"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường đích",prop:"TargetKey"}},[a("el-input",{model:{value:t.model.TargetKey,callback:function(e){t.$set(t.model,"TargetKey",e)},expression:"model.TargetKey"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Biểu thức",prop:"Expression"}},[a("el-input",{model:{value:t.model.Expression,callback:function(e){t.$set(t.model,"Expression",e)},expression:"model.Expression"}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Validate"===t.model.DependencyType,expression:"model.DependencyType==='Validate'"}]},[a("el-form-item",{attrs:{label:"Dùng chung Validate"}},[a("el-checkbox",{model:{value:t.model.SameValidate,callback:function(e){t.$set(t.model,"SameValidate",e)},expression:"model.SameValidate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại validate"}},[a("el-input",{model:{value:t.model.Validations,callback:function(e){t.$set(t.model,"Validations",e)},expression:"model.Validations"}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"ChangeDisplay"===t.model.DependencyType,expression:"model.DependencyType==='ChangeDisplay'"}]},[a("el-form-item",{attrs:{label:"Giá trị đổi trạng thái"}},[a("el-input",{model:{value:t.model.CompareValue,callback:function(e){t.$set(t.model,"CompareValue",e)},expression:"model.CompareValue"}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"TimeSync"===t.model.DependencyType,expression:"model.DependencyType==='TimeSync'"}]},[a("el-form-item",{attrs:{label:"Cộng giờ"}},[a("el-input",{attrs:{type:"number"},model:{value:t.model.Expression,callback:function(e){t.$set(t.model,"Expression",e)},expression:"model.Expression"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(595),s=a(596),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(7);e.a={props:["data"],data:function(){return{viewModel:{Source:"",Target:"",ListSourceFields:[],ListTargetFields:[],ListLinks:[]},model:[],rules:{Source:[{required:!0,message:"Hãy chọn trường nguồn",trigger:"blur"}],Target:[{required:!0,message:"Hãy chọn trường đích",trigger:"blur"}]}}},created:function(){},mounted:function(){this.init()},watch:{},methods:{bindTargetFields:function(){var e=this,a=this,i="",s={};if(t.each(this.data.scope.viewModel.ListDataGroups,function(t,a){a.Code===e.data.item&&(s=a)}),s.Description.FCount)for(var o=1;o<=s.Description.FCount;o++)void 0!==s["F"+o]&&(i+=s["F"+o]);a.viewModel.ListTargetFields=JSON.parse(i)},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.addLink()})},addLink:function(){var t=this;t.model.push({Source:t.viewModel.Source,Target:t.viewModel.Target}),t.viewModel.Source="",t.viewModel.Target=""},removeLink:function(t){this.model.splice(t,1)},showPermission:function(t){i.a.showPermission(t,this.model.Id)},bindEditor:function(){var t=this;"edit"===this.data.action?(t.action="edit",t.model=this.$Lodash.cloneDeep(this.data.scope.model.Description.Link[this.data.item]),this.bindTargetFields()):"edit-filter"===this.data.action?(t.action="edit",t.model=this.$Lodash.cloneDeep(this.data.scope.model.Description.LinkFieldFilter[this.data.item]),this.bindTargetFields()):t.model={}},save:function(){var e=this;t.each(e.model,function(t,e){i.a.deleteAutoValue(e)}),e.communication={action:e.action,item:e.model,code:this.data.item},"edit-filter"===this.data.action?this.data.scope.bindLinkFieldFilter(this.$Lodash.cloneDeep(e.communication)):this.data.scope.bindLink(this.$Lodash.cloneDeep(e.communication)),this.cancel()},cancel:function(){this.$hub.$emit("close-modal")},init:function(){this.viewModel={ListSourceFields:this.data.scope.model.Description.Fields,ListTargetFields:[],ListLinks:[]},this.bindEditor()}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.viewModel,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Trường nguồn",prop:"Source"}},[a("el-select",{attrs:{filterable:""},model:{value:t.viewModel.Source,callback:function(e){t.$set(t.viewModel,"Source",e)},expression:"viewModel.Source"}},t._l(t.viewModel.ListSourceFields,function(t){return a("el-option",{key:t.Caption,attrs:{value:t.Name,label:t.Caption+"( "+t.Name+" )"}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường đích",prop:"Target"}},[a("el-select",{attrs:{filterable:""},model:{value:t.viewModel.Target,callback:function(e){t.$set(t.viewModel,"Target",e)},expression:"viewModel.Target"}},t._l(t.viewModel.ListTargetFields,function(t){return a("el-option",{key:t.Caption,attrs:{value:t.Name,label:t.Caption+"( "+t.Name+" )"}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("Thêm")])],1),t._v(" "),a("el-table",{attrs:{data:t.model}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"Nguồn",prop:"Source"}}),t._v(" "),a("el-table-column",{attrs:{label:"Đích",prop:"Target"}}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){t.removeLink(e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(598),s=a(601),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(7),s=a(106);e.a={components:{SelectCheck:s.a},props:["data"],data:function(){return{type:"",activeName:"0",viewModel:{Source:"",Target:"",ListSourceFields:[],ListTargetFields:[],ListLinks:[],FormElementType:[],checked:[]},model:{},action:"",rules:{Caption:[{required:!0,message:"Tên hiển thị bắt buộc phải nhập",trigger:"blur"}],Name:[{required:!0,message:"Tên trường phải nhập",trigger:"blur"}],FieldStorageType:[{required:!0,message:"Loại trường bắt buộc phải nhập",trigger:"change"}],FieldColumnType:[{required:!0,message:"Loại dữ liệu bắt buộc phải nhập",trigger:"change"}]}}},created:function(){this.init()},mounted:function(){},watch:{},methods:{onChangeElementType:function(t){},childUpdate:function(){},handleClick:function(t,e){},bindEditor:function(){var e=this,a=this.data;if("edit"===a.action){i.a.bindScopeModel(e,a),e.onFormFieldTypeChange(),e.onFilterFieldTypeChange(),e.onChangePopupModule(),e.validateModel.Validate={};var s=i.a.stringToObject(e.model.FormValidate);if(void 0!==s.Key){var o=s.Key.split(";");o.splice(-1,1),o.forEach(function(t){e.viewModel.FormValidate.source.forEach(function(a){t===a.Name&&e.viewModel.checkedItems.push(a)})}),this.viewModel.checkedItems.forEach(function(t){"string"==typeof t.Description&&(t.Description=t.Description.split(";"))}),t.each(s,function(t,a){e.validateModel.Validate[t]=a})}void 0==e.model.History&&e.$set(e.model,"History",!0),void 0==e.model.FormIncludeSubmit&&e.$set(e.model,"FormIncludeSubmit",!0),void 0==e.model.FormElementType&&e.$set(e.model,"FormElementType",""),void 0==e.model.FilterElementType&&e.$set(e.model,"FilterElementType","")}else e.model={History:!0,FormIncludeSubmit:!0,FormElementType:"",FilterElementType:""},t.each(e.viewModel.ListElementType,function(t,a){"Text"===a.Name&&e.$set(e.model,"ListElementType",a)})},save:function(){var e=this,a=this.data;e.model.FormValidate="";var s=e.viewModel.checkedItems.length>0?"&Key=":"";e.viewModel.checkedItems.forEach(function(t){s+=t.Name+";"}),e.model.FormValidate=s,t.each(e.validateModel.Validate,function(t,a){"Key"!==t&&"Index"!==t&&(e.model.FormValidate+="&"+t+"="+a)}),e.model.ListButtonGroups="",i.a.saveSelectModel(e),i.a.isEmpty(e.model.PopupModule)&&(e.model.DataGroup=e.model.PopupModule.DataGroup,e.model.DataGroupCaption=e.model.PopupModule.DataGroupCaption,e.model.PopupModule=e.model.PopupModule.Code),i.a.isEmpty(e.model.FormElementType)&&(e.model.FormElementType=e.model.FormElementType.Name),i.a.isEmpty(e.model.FilterElementType)&&(e.model.FilterElementType=e.model.FilterElementType.Name),void 0===e.action&&(e.model.Code="DataGroup.Fields."+e.model.Name+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5)),t.each(e.model,function(t,a){!0===a&&(e.model[t]="true"),!1===a&&""!==a&&(e.model[t]="false")}),e.model.FormJsonExpression&&(e.model.FormJsonExpression=JSON.parse(e.model.FormJsonExpression)),e.communication={action:e.action,item:e.model,index:a.index,Type:"Fields"},a.scope.bindSubDirectives(this.$Lodash.cloneDeep(e.communication)),this.cancel()},cancel:function(){this.$hub.$emit("close-modal")},onCheckChangeValidate:function(){this.viewModel.checkedItems.forEach(function(t){"string"==typeof t.Description&&(t.Description=t.Description.split(";"))}),this.$forceUpdate()},onFormFieldTypeChange:function(e){var a=this,s=this;if(void 0!==s.model.FormFieldType&&""!==s.model.FormFieldType){void 0!==e&&(s.model.FormElementType="");var o=this.$Lodash.cloneDeep(this.$singleRequest);o.R1_RequestTemplate="SettingNew.SearchSetting",o.R1_ParentCode="xSetting.Default.Project.DataGroup.Field.FormElementType."+s.model.FormFieldType.Name,o.R1_Level="8",i.a.post(o).then(function(e){s.viewModel.FormElementType=i.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.each(s.viewModel.FormElementType,function(t,e){s.model.FormElementType===e.Name&&(s.model.FormElementType=e)}),a.$forceUpdate()})}},onFilterFieldTypeChange:function(e){var a=this,s=this;if(void 0!==s.model.FilterFieldType&&""!==s.model.FilterFieldType){void 0!==e&&(s.model.FilterElementType="");var o=this.$Lodash.cloneDeep(this.$singleRequest);o.R1_RequestTemplate="SettingNew.SearchSetting",o.R1_ParentCode="xSetting.Default.Project.DataGroup.Field.FilterElementType",i.a.post(o).then(function(e){s.viewModel.FilterElementType=i.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.each(s.viewModel.FilterElementType,function(t,e){s.model.FilterElementType===e.Name&&(s.model.FilterElementType=e)}),a.$forceUpdate()})}},onChangePopupModule:function(e){var a=this;if(void 0!==a.model.PopupModuleType&&""!==a.model.PopupModuleType){void 0!==e&&(a.model.PopupModule="");var s=this.$Lodash.cloneDeep(this.$singleRequest);s.R1_RequestTemplate="Setting.Datagroup.PopupSearch",s.R1_ParentCode="xSetting.Project."+a.model.PopupModuleType,s.R1_Level="4;",i.a.post(s).then(function(e){a.viewModel.PopupModule=i.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.each(a.viewModel.PopupModule,function(t,e){a.model.PopupModule===e.Code&&(a.model.PopupModule=e)})})}},init:function(){var e=this,a=this.data,i=[];t.each(a.scope.viewModel.listButtons,function(t,e){"List"===e.ParentObject&&i.push(e)}),e.viewModel={FormValidate:{source:[]}},e.viewModel={Data:{Default:{valueMember:"Name"},Fields:[{Name:"FormFieldType"},{Name:"FilterFieldType"},{Name:"FieldColumnType"},{Name:"ListElementType"},{Name:"FormDataChangeType"},{Name:"DataSource"},{Name:"FieldStorageType",Model:"FieldStorageType;FormSubFieldType"},{Name:"FormValidate",IsJqueryWidgets:!0}]},FormValidate:{source:a.scope.viewModel.FormValidateSource,checkboxes:!0,displayMember:"Name",valueMember:"Description",checkChange:function(t){e.onCheckChangeValidate(t)}},DataSource:a.scope.viewModel.DataSource,FormFieldType:a.scope.viewModel.FormFieldType,FilterFieldType:a.scope.viewModel.FormFieldType,FieldColumnType:a.scope.viewModel.FieldColumnType,ListElementType:a.scope.viewModel.ListElementType,FormDataChangeType:a.scope.viewModel.FormDataChangeType,AfterUpdate:a.scope.viewModel.AfterUpdate,FieldStorageType:a.scope.viewModel.FieldStorageType,Buttons:{source:i,checkboxes:!0,displayMember:"Caption",valueMember:"Code"},checkedItems:[]},e.validateModel={Validate:{},checkedItems:[]},e.communication={action:"",item:{},index:"",scope:e},this.bindEditor()}}}}).call(e,a(2))},function(t,e,a){"use strict";e.a={props:["datasource","placeholder","callback"],data:function(){return{source:this.datasource,values:[]}},methods:{handleChange:function(t){this.callback&&this.callback(t)}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","collapse-tags":"","value-key":"GroupId",placeholder:t.placeholder},on:{change:t.handleChange},model:{value:t.values,callback:function(e){t.values=e},expression:"values"}},t._l(t.datasource,function(t){return a("el-option",{key:t.GroupId,attrs:{label:t.GroupName,value:t}})}))},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Phổ biến",name:"0"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên hiển thị",prop:"Caption"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên trường",prop:"Name"}},[a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Gợi ý",prop:"PlaceHolder"}},[a("el-input",{model:{value:t.model.PlaceHolder,callback:function(e){t.$set(t.model,"PlaceHolder",e)},expression:"model.PlaceHolder"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại trường",prop:"FieldStorageType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.FieldStorageType,callback:function(e){t.$set(t.model,"FieldStorageType",e)},expression:"model.FieldStorageType"}},t._l(t.viewModel.FieldStorageType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại dữ liệu",prop:"FieldColumnType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.FieldColumnType,callback:function(e){t.$set(t.model,"FieldColumnType",e)},expression:"model.FieldColumnType"}},t._l(t.viewModel.FieldColumnType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Biểu mẫu",name:"1"}},[a("el-form",{ref:"formForm",staticClass:"demo-ruleForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Lưu dữ liệu"}},[a("el-checkbox",{model:{value:t.model.FormIncludeSubmit,callback:function(e){t.$set(t.model,"FormIncludeSubmit",e)},expression:"model.FormIncludeSubmit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường lịch sử"}},[a("el-checkbox",{model:{value:t.model.History,callback:function(e){t.$set(t.model,"History",e)},expression:"model.History"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Lấy theo quyền",prop:"PlaceHolder"}},[a("el-checkbox",{model:{value:t.model.AssignedField,callback:function(e){t.$set(t.model,"AssignedField",e)},expression:"model.AssignedField"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Xóa cập nhật",prop:"PlaceHolder"}},[a("el-checkbox",{model:{value:t.model.ClearAfter,callback:function(e){t.$set(t.model,"ClearAfter",e)},expression:"model.ClearAfter"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường lưu tên",prop:"PlaceHolder"}},[a("el-input",{model:{value:t.model.DynamicText,callback:function(e){t.$set(t.model,"DynamicText",e)},expression:"model.DynamicText"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị mặc định",prop:"PlaceHolder"}},[a("el-input",{model:{value:t.model.FormDefaultValue,callback:function(e){t.$set(t.model,"FormDefaultValue",e)},expression:"model.FormDefaultValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Gọi hàm bên ngoài",prop:"PlaceHolder"}},[a("el-input",{model:{value:t.model.FormCallExtraService,callback:function(e){t.$set(t.model,"FormCallExtraService",e)},expression:"model.FormCallExtraService"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại trường",prop:"FormFieldType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},on:{change:function(e){t.onFormFieldTypeChange("ev")}},model:{value:t.model.FormFieldType,callback:function(e){t.$set(t.model,"FormFieldType",e)},expression:"model.FormFieldType"}},t._l(t.viewModel.FormFieldType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Description,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Kiểu phần tử",prop:"FormElementType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},on:{change:t.onChangeElementType},model:{value:t.model.FormElementType,callback:function(e){t.$set(t.model,"FormElementType",e)},expression:"model.FormElementType"}},t._l(t.viewModel.FormElementType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("div",[t.model.FormFieldType&&"Calculator"===t.model.FormFieldType.Name?a("div",[a("el-form-item",{attrs:{label:"Phụ thuộc vào",prop:"FormDependOn"}},[a("el-input",{model:{value:t.model.FormDependOn,callback:function(e){t.$set(t.model,"FormDependOn",e)},expression:"model.FormDependOn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị phụ thuộc",prop:"FormDependValue"}},[a("el-input",{model:{value:t.model.FormDependValue,callback:function(e){t.$set(t.model,"FormDependValue",e)},expression:"model.FormDependValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Biểu thức",prop:"FormExpression"}},[a("el-input",{model:{value:t.model.FormExpression,callback:function(e){t.$set(t.model,"FormExpression",e)},expression:"model.FormExpression"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Biểu thức JSON",prop:"FormJsonExpression"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.model.FormJsonExpression,callback:function(e){t.$set(t.model,"FormJsonExpression",e)},expression:"model.FormJsonExpression"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Định dạng",prop:"FormFormat"}},[a("el-input",{model:{value:t.model.FormFormat,callback:function(e){t.$set(t.model,"FormFormat",e)},expression:"model.FormFormat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Index",prop:"FormIndex"}},[a("el-input",{model:{value:t.model.FormIndex,callback:function(e){t.$set(t.model,"FormIndex",e)},expression:"model.FormIndex"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Value",prop:"FormValue"}},[a("el-input",{model:{value:t.model.FormValue,callback:function(e){t.$set(t.model,"FormValue",e)},expression:"model.FormValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Dynamic Value",prop:"FormDynamicValue"}},[a("el-input",{model:{value:t.model.FormDynamicValue,callback:function(e){t.$set(t.model,"FormDynamicValue",e)},expression:"model.FormDynamicValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Data Change Type",prop:"FormDataChangeType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.FormDataChangeType,callback:function(e){t.$set(t.model,"FormDataChangeType",e)},expression:"model.FormDataChangeType"}},t._l(t.viewModel.FormDataChangeType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Data depend on",prop:"FormDataDependOn"}},[a("el-input",{model:{value:t.model.FormDataDependOn,callback:function(e){t.$set(t.model,"FormDataDependOn",e)},expression:"model.FormDataDependOn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Data depend on value",prop:"FormDependOnValue"}},[a("el-input",{model:{value:t.model.FormDependOnValue,callback:function(e){t.$set(t.model,"FormDependOnValue",e)},expression:"model.FormDependOnValue"}})],1)],1):t._e()]),t._v(" "),t.model.FormElementType?a("div",[["Select","Multi","Radio","MultiTree","Autocomplete"].indexOf(t.model.FormElementType.Name)>=0?a("div",[a("el-form-item",{attrs:{label:"Mã Template lấy dữ liệu"}},[a("el-input",{model:{value:t.model.FormRequest,callback:function(e){t.$set(t.model,"FormRequest",e)},expression:"model.FormRequest"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Đường dẫn gốc"}},[a("el-input",{model:{value:t.model.FormDataRoot,callback:function(e){t.$set(t.model,"FormDataRoot",e)},expression:"model.FormDataRoot"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.FormCode,callback:function(e){t.$set(t.model,"FormCode",e)},expression:"model.FormCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường theo dữ liệu gốc"}},[a("el-input",{model:{value:t.model.FormSearchField,callback:function(e){t.$set(t.model,"FormSearchField",e)},expression:"model.FormSearchField"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Lấy dữ liệu gốc"}},[a("el-checkbox",{model:{value:t.model.RequireOriginal,callback:function(e){t.$set(t.model,"RequireOriginal",e)},expression:"model.RequireOriginal"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Dạng cây"}},[a("el-checkbox",{model:{value:t.model.FormIsTree,callback:function(e){t.$set(t.model,"FormIsTree",e)},expression:"model.FormIsTree"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị hiển thị"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.FormDisplayText,callback:function(e){t.$set(t.model,"FormDisplayText",e)},expression:"model.FormDisplayText"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị lưu lại"}},[a("el-input",{model:{value:t.model.FormSavedKey,callback:function(e){t.$set(t.model,"FormSavedKey",e)},expression:"model.FormSavedKey"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Chuỗi lưu lại"}},[a("el-input",{model:{value:t.model.FormSavedText,callback:function(e){t.$set(t.model,"FormSavedText",e)},expression:"model.FormSavedText"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"FormField"}},[a("el-input",{model:{value:t.model.FormField,callback:function(e){t.$set(t.model,"FormField",e)},expression:"model.FormField"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tùy chọn khác"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.FormOther,callback:function(e){t.$set(t.model,"FormOther",e)},expression:"model.FormOther"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị tùy chọn khác"}},[a("el-input",{model:{value:t.model.FormOtherValue,callback:function(e){t.$set(t.model,"FormOtherValue",e)},expression:"model.FormOtherValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị chọn"}},[a("el-input",{model:{value:t.model.FormSourceData,callback:function(e){t.$set(t.model,"FormSourceData",e)},expression:"model.FormSourceData"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị Import"}},[a("el-input",{model:{value:t.model.FormImport,callback:function(e){t.$set(t.model,"FormImport",e)},expression:"model.FormImport"}})],1)],1):t._e(),t._v(" "),"Html"===t.model.FormElementType.Name?a("el-form-item",{attrs:{label:"Mã hóa"}},[a("el-checkbox",{model:{value:t.model.FormEncrypt,callback:function(e){t.$set(t.model,"FormEncrypt",e)},expression:"model.FormEncrypt"}})],1):t._e(),t._v(" "),"View"===t.model.FormElementType.Name?a("el-form-item",{attrs:{label:"Nội dung Html"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.FormHtml,callback:function(e){t.$set(t.model,"FormHtml",e)},expression:"model.FormHtml"}})],1):t._e()],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Cấu hình thêm"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.ExtraSetting,callback:function(e){t.$set(t.model,"ExtraSetting",e)},expression:"model.ExtraSetting"}})],1),t._v(" "),t.model.FormFieldType&&"General"===t.model.FormFieldType.Name?a("el-form-item",{attrs:{label:"Loại Validate"}},[a("el-select",{attrs:{multiple:"","value-key":"Id"},on:{change:function(e){t.onCheckChangeValidate()}},model:{value:t.viewModel.checkedItems,callback:function(e){t.$set(t.viewModel,"checkedItems",e)},expression:"viewModel.checkedItems"}},t._l(t.viewModel.FormValidate.source,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t}})}))],1):t._e(),t._v(" "),t._l(t.viewModel.checkedItems,function(e){return t.model.FormFieldType&&"General"===t.model.FormFieldType.Name?a("el-card",{key:e.Id},[a("el-row",[t._v(t._s(e.Name))]),t._v(" "),a("el-row",t._l(e.Description,function(i){return a("el-form-item",{attrs:{label:i,"label-width":"120px"}},[a("el-input",{model:{value:t.validateModel.Validate[e.Name+i],callback:function(a){t.$set(t.validateModel.Validate,e.Name+i,a)},expression:"validateModel.Validate[item.Name+validateElement]"}})],1)}))],1):t._e()})],2)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Bộ lọc",name:"2"}},[a("el-form",{ref:"filterForm",staticClass:"demo-ruleForm",attrs:{model:t.viewModel,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Giá trị mặc định",prop:"FilterDefaultValue"}},[a("el-input",{model:{value:t.model.FilterDefaultValue,callback:function(e){t.$set(t.model,"FilterDefaultValue",e)},expression:"model.FilterDefaultValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Định dạng",prop:"FilterFormat"}},[a("el-input",{model:{value:t.model.FilterFormat,callback:function(e){t.$set(t.model,"FilterFormat",e)},expression:"model.FilterFormat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Bao gồm giờ",prop:"FilterIncludeTime"}},[a("el-checkbox",{model:{value:t.model.FilterIncludeTime,callback:function(e){t.$set(t.model,"FilterIncludeTime",e)},expression:"model.FilterIncludeTime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Được sử dụng",prop:"FilterIsUsed"}},[a("el-checkbox",{model:{value:t.model.FilterIsUsed,callback:function(e){t.$set(t.model,"FilterIsUsed",e)},expression:"model.FilterIsUsed"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại trường",prop:"FilterFieldType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},on:{change:function(e){t.onFilterFieldTypeChange("ev")}},model:{value:t.model.FilterFieldType,callback:function(e){t.$set(t.model,"FilterFieldType",e)},expression:"model.FilterFieldType"}},t._l(t.viewModel.FilterFieldType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Description,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Kiểu phần tử",prop:"FilterElementType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.FilterElementType,callback:function(e){t.$set(t.model,"FilterElementType",e)},expression:"model.FilterElementType"}},t._l(t.viewModel.FilterElementType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),t.model.FilterElementType?a("div",[["Select","Multi","Radio","MultiTree","Autocomplete"].indexOf(t.model.FilterElementType.Name)>=0?a("div",[a("el-form-item",{attrs:{label:"Mã Template lấy dữ liệu"}},[a("el-input",{model:{value:t.model.FilterRequest,callback:function(e){t.$set(t.model,"FilterRequest",e)},expression:"model.FilterRequest"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Đường dẫn gốc"}},[a("el-input",{model:{value:t.model.FilterDataRoot,callback:function(e){t.$set(t.model,"FilterDataRoot",e)},expression:"model.FilterDataRoot"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{model:{value:t.model.FilterCode,callback:function(e){t.$set(t.model,"FilterCode",e)},expression:"model.FilterCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường theo dữ liệu gốc"}},[a("el-input",{model:{value:t.model.FilterSearchField,callback:function(e){t.$set(t.model,"FilterSearchField",e)},expression:"model.FilterSearchField"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Dạng cây"}},[a("el-checkbox",{model:{value:t.model.FilterIsTree,callback:function(e){t.$set(t.model,"FilterIsTree",e)},expression:"model.FilterIsTree"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị hiển thị"}},[a("el-input",{model:{value:t.model.FilterDisplayText,callback:function(e){t.$set(t.model,"FilterDisplayText",e)},expression:"model.FilterDisplayText"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị lưu lại"}},[a("el-input",{model:{value:t.model.FilterSavedKey,callback:function(e){t.$set(t.model,"FilterSavedKey",e)},expression:"model.FilterSavedKey"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Chuỗi lưu lại"}},[a("el-input",{model:{value:t.model.FilterSavedText,callback:function(e){t.$set(t.model,"FilterSavedText",e)},expression:"model.FilterSavedText"}})],1)],1):t._e()]):t._e()],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Danh sách",name:"3"}},[a("el-form",{ref:"filterForm",staticClass:"demo-ruleForm",attrs:{model:t.viewModel,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Kiểu hiển thị",prop:"ListElementType"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.ListElementType,callback:function(e){t.$set(t.model,"ListElementType",e)},expression:"model.ListElementType"}},t._l(t.viewModel.ListElementType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường ẩn",prop:"ListIsHidden"}},[a("el-checkbox",{model:{value:t.model.ListIsHidden,callback:function(e){t.$set(t.model,"ListIsHidden",e)},expression:"model.ListIsHidden"}})],1),t._v(" "),t.model.ListElementType?a("div",[["Popup","Link"].indexOf(t.model.ListElementType.Name)>=0?a("div",[a("el-form-item",{attrs:{label:"Loại phần tử"}},[a("el-select",{attrs:{clearable:"","value-key":"Id"},model:{value:t.model.PopupModuleType,callback:function(e){t.$set(t.model,"PopupModuleType",e)},expression:"model.PopupModuleType"}},[a("el-option",{attrs:{label:"Form",value:"Form"}}),t._v(" "),a("el-option",{attrs:{label:"Filter",value:"Filter"}}),t._v(" "),a("el-option",{attrs:{label:"List",value:"List"}}),t._v(" "),a("el-option",{attrs:{label:"Report",value:"Report"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Phần tử chi tiết"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.PopupModule,callback:function(e){t.$set(t.model,"PopupModule",e)},expression:"model.PopupModule"}},t._l(t.viewModel.PopupModule,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{model:{value:t.model.Value,callback:function(e){t.$set(t.model,"Value",e)},expression:"model.Value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Lấy đủ dữ liệu"}},[a("el-checkbox",{model:{value:t.model.GetFullData,callback:function(e){t.$set(t.model,"GetFullData",e)},expression:"model.GetFullData"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Sau cập nhật"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.AfterUpdate,callback:function(e){t.$set(t.model,"AfterUpdate",e)},expression:"model.AfterUpdate"}},t._l(t.viewModel.AfterUpdate,function(t){return a("el-option",{key:t.Name,attrs:{value:t.Name,label:t.Caption}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường ghép đôi"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.ParentChild,callback:function(e){t.$set(t.model,"ParentChild",e)},expression:"model.ParentChild"}})],1)],1):t._e(),t._v(" "),"Redirect"===t.model.ListElementType.Name?a("div",[a("el-form-item",{attrs:{label:"Trang liên kết",prop:"Caption"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1)],1):t._e(),t._v(" "),"ButtonGroup"===t.model.ListElementType.Name?a("div",[a("el-form-item",{attrs:{label:"Nút trực thuộc",prop:"Buttons"}})],1):t._e()]):t._e()],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Báo cáo",name:"4"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.viewModel,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên sử dụng",prop:"ReportCaption"}},[a("el-input",{model:{value:t.model.ReportCaption,callback:function(e){t.$set(t.model,"ReportCaption",e)},expression:"model.ReportCaption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Khối dữ liệu",prop:"DataSource"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.DataSource,callback:function(e){t.$set(t.model,"DataSource",e)},expression:"model.DataSource"}},t._l(t.viewModel.DataSource,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Được sử dụng",prop:"ReportIsUsed"}},[a("el-checkbox",{model:{value:t.model.ReportIsUsed,callback:function(e){t.$set(t.model,"ReportIsUsed",e)},expression:"model.ReportIsUsed"}})],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Cấp phép",name:"5"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(603)}var s=a(604),o=a(605),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-197319d8",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(25),s=a.n(i),o=a(7);e.a={props:["data"],data:function(){return{type:"",activeName:"0",viewModel:{DisplayDataGroups:!0,HtmlTemplate:"",PopupModule:[],PopupModuleType:"",listFields:[],ParentObject:this.data.scope.viewModel.ParentObject,ButtonType:this.data.scope.viewModel.ButtonType,AfterUpdate:this.data.scope.viewModel.AfterUpdate,PreAction:this.data.scope.viewModel.PreAction,Action:this.data.scope.viewModel.Action,Roles:this.data.scope.viewModel.Roles,UserPermissions:this.data.scope.viewModel.UserPermissions,GroupPermissions:this.data.scope.viewModel.GroupPermissions,RolePermissions:this.data.scope.viewModel.RolePermissions,ListDataGroups:this.data.scope.viewModel.ListDataGroups,Fields:[]},model:{UserPermissions:[]},rules:{Caption:[{required:!0,message:"Tên hiển thị bắt buộc phải nhập",trigger:"blur"}],ParentObject:[{required:!0,message:"Tên hiển thị bắt buộc phải nhập",trigger:"change"}],ButtonDisplayType:[{required:!0,message:"Tên hiển thị bắt buộc phải nhập",trigger:"change"}],ButtonType:[{required:!0,message:"Tên hiển thị bắt buộc phải nhập",trigger:"change"}]}}},created:function(){this.bindEditor()},mounted:function(){},watch:{},methods:{bindEditor:function(){var e=this.data,a=this;"edit"===e.action&&(a.action="edit",a.model=this.$Lodash.cloneDeep(e.item),a.model.HtmlTemplate=a.$Utils.decodeHtmlEntities(a.model.HtmlTemplate),t.each(a.model,function(t,e){"true"===e?a.$set(a.model,t,!0):"false"===e&&a.$set(a.model,t,!1)}),a.onChangePopupModule())},save:function(){var e=this,a=this.data;o.a.isEmpty(e.model.PopupModule)&&"object"===s()(e.model.PopupModule)&&(e.model.DataGroup=e.model.PopupModule.Name,e.model.DataGroupCaption=e.model.PopupModule.Description.DataGroupCaption,e.model.PopupModule=e.model.PopupModule.Code),e.model.FormJsonExpression&&(e.model.FormJsonExpression=JSON.parse(e.model.FormJsonExpression)),e.model.HtmlTemplate&&(e.model.HtmlTemplate=e.$Utils.encodeHtmlEntities(e.model.HtmlTemplate)),void 0===e.action&&(e.model.Code="DataGroup.Buttons."+o.a.removeVNCharacters(e.model.Caption)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5)),t.each(e.model,function(t,a){!0===a&&(e.model[t]="true"),!1===a&&""!==a&&(e.model[t]="false")}),e.communication={action:e.action,item:e.model,index:a.index,Type:"Buttons"},a.scope.bindSubDirectives(this.$Lodash.cloneDeep(e.communication)),this.cancel()},cancel:function(){this.$hub.$emit("close-modal")},onChangePopupModule:function(e){var a=this,i=this;if(""!==i.model.PopupModuleType){var s=this.$Lodash.cloneDeep(this.$singleRequest);s.R1_RequestTemplate="SettingNew.SearchSetting",s.R1_ParentCode="xSetting.Project."+i.model.PopupModuleType,o.a.post(s).then(function(e){e=o.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),i.viewModel.PopupModule=e,t.each(e,function(t,e){void 0!==e.Description&&(e.Description=JSON.parse(e.Description),e.Caption=e.Description.Caption)}),t.each(e,function(t,e){i.model.PopupModule===e.Code&&(i.model.PopupModule=e,a.bindDataGroupFields())})})}},onChangeModule:function(t){var e=this;void 0!=e.model.PopupModule&&""!=e.model.PopupModule&&(e.viewModel.DisplayDataGroups=!1,this.bindDataGroupFields(e.model.PopupModule.Name))},onChangeDataGroup:function(t){var e=this;""!==e.viewModel.DataGroup&&this.bindDataGroupFields(e.viewModel.DataGroup)},bindDataGroupFields:function(t){var e=this,a=this,i=a.$Lodash.cloneDeep(a.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_Code=t,o.a.post(i).then(function(t){if(t=o.a.getDataWithRoot(t.R1,"Data.DynamicDS.Setting")[0],t.Description){try{t.Description=JSON.parse(t.Description),t.Fields="";for(var i=1;i<=t.Description.FCount;i++)void 0!==t["F"+i]&&(t.Fields+=t["F"+i]);a.viewModel.Fields=JSON.parse(t.Fields)}catch(t){console.log("error",t)}e.$forceUpdate()}})},addFilter:function(){var t=this;void 0==t.model.Filters&&(t.model.Filters=[]),t.model.Filters.push({Key:t.viewModel.Key,Value:t.viewModel.Value,Type:t.viewModel.Type}),t.viewModel.Key="",t.viewModel.Value=""},removeFilter:function(t){this.model.Filters.splice(t,1)}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên hiển thị",prop:"Caption"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Đối tượng chứa",prop:"ParentObject"}},[a("el-select",{attrs:{clearable:""},model:{value:t.model.ParentObject,callback:function(e){t.$set(t.model,"ParentObject",e)},expression:"model.ParentObject"}},t._l(t.viewModel.ParentObject,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Form"===t.model.ParentObject,expression:"model.ParentObject==='Form'"}],attrs:{label:"Hành động trước đó",prop:"PreAction"}},[a("el-select",{attrs:{clearable:""},model:{value:t.model.PreAction,callback:function(e){t.$set(t.model,"PreAction",e)},expression:"model.PreAction"}},t._l(t.viewModel.PreAction,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Quyền hiển thị",prop:"UserPermissions"}},[a("el-select",{attrs:{multiple:"","value-key":""},model:{value:t.model.UserPermissions,callback:function(e){t.$set(t.model,"UserPermissions",e)},expression:"model.UserPermissions"}},[t._l(t.viewModel.UserPermissions,function(t){return a("el-option",{key:t.GroupId,attrs:{label:t.GroupName,value:t.GroupId}})}),t._v(" "),a("hr"),t._v(" "),t._l(t.viewModel.GroupPermissions,function(e){return a("div",{key:e.GroupId},[a("el-option",{attrs:{value:e.GroupId,label:e.GroupName}}),t._v(" "),t._l(t.viewModel.RolePermissions[e.GroupId],function(t){return a("el-option",{key:t.GroupId,attrs:{value:t.GroupId,label:"--"+t.GroupName}})})],2)})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"Icon",prop:"Icon"}},[a("el-input",{model:{value:t.model.Icon,callback:function(e){t.$set(t.model,"Icon",e)},expression:"model.Icon"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Class",prop:"Class"}},[a("el-input",{model:{value:t.model.Class,callback:function(e){t.$set(t.model,"Class",e)},expression:"model.Class"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại nút",prop:"ButtonDisplayType"}},[a("el-select",{attrs:{clearable:""},model:{value:t.model.ButtonDisplayType,callback:function(e){t.$set(t.model,"ButtonDisplayType",e)},expression:"model.ButtonDisplayType"}},[a("el-option",{attrs:{label:"Thêm mới",value:"Insert"}}),t._v(" "),a("el-option",{attrs:{label:"Xuất bản",value:"Export"}}),t._v(" "),a("el-option",{attrs:{label:"Công cụ",value:"Tool"}}),t._v(" "),a("el-option",{attrs:{label:"Thông tin",value:"Info"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại hành động",prop:"ButtonType"}},[a("el-select",{attrs:{clearable:""},model:{value:t.model.ButtonType,callback:function(e){t.$set(t.model,"ButtonType",e)},expression:"model.ButtonType"}},t._l(t.viewModel.ButtonType,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Redirect"===t.model.ButtonType,expression:"model.ButtonType === 'Redirect'"}],attrs:{label:"Trang liên kết"}},[a("el-input",{attrs:{type:"text"},model:{value:t.model.Redirect,callback:function(e){t.$set(t.model,"Redirect",e)},expression:"model.Redirect"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.viewModel.DisplayDataGroups,expression:"viewModel.DisplayDataGroups"}],attrs:{label:"Khối dữ liệu",prop:"DataGroup"}},[a("el-select",{attrs:{clearable:""},on:{change:function(e){t.onChangeDataGroup(e)}},model:{value:t.viewModel.DataGroup,callback:function(e){t.$set(t.viewModel,"DataGroup",e)},expression:"viewModel.DataGroup"}},t._l(t.viewModel.ListDataGroups,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Caption,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Loại",prop:"Type"}},[a("el-select",{attrs:{clearable:""},model:{value:t.viewModel.Type,callback:function(e){t.$set(t.viewModel,"Type",e)},expression:"viewModel.Type"}},[a("el-option",{attrs:{label:"Trường dữ liệu",value:"Field"}}),t._v(" "),a("el-option",{attrs:{label:"Khác",value:"Other"}})],1)],1),t._v(" "),"Field"===t.viewModel.Type?a("el-form-item",{attrs:{label:"Trường",prop:"FieldColumnType"}},[a("el-select",{attrs:{clearable:""},model:{value:t.viewModel.Key,callback:function(e){t.$set(t.viewModel,"Key",e)},expression:"viewModel.Key"}},t._l(t.viewModel.Fields,function(e){return a("el-option",{key:e.Name,attrs:{value:e.Name}},[t._v("\n          "+t._s(e.Caption)+" ("+t._s(e.Name)+")\n        ")])}))],1):t._e(),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Other"===t.viewModel.Type,expression:"viewModel.Type === 'Other'"}],attrs:{label:"Trường"}},[a("el-input",{attrs:{type:"text"},model:{value:t.viewModel.Key,callback:function(e){t.$set(t.viewModel,"Key",e)},expression:"viewModel.Key"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị",prop:"Value"}},[a("el-input",{model:{value:t.viewModel.Value,callback:function(e){t.$set(t.viewModel,"Value",e)},expression:"viewModel.Value"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:void 0==t.viewModel.Key||""==t.viewModel.Key||void 0==t.viewModel.Value||""==t.viewModel.Value},on:{click:t.addFilter}},[t._v("Thêm")])],1),t._v(" "),a("el-table",{attrs:{data:t.model.Filters}},[a("el-table-column",{attrs:{type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"Loại",prop:"Type"}}),t._v(" "),a("el-table-column",{attrs:{label:"Trường",prop:"Key"}}),t._v(" "),a("el-table-column",{attrs:{label:"Giá trị",prop:"Value"}}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){t.removeFilter(e.$index)}}})]}}])})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Popup"===t.model.ButtonType,expression:"model.ButtonType === 'Popup'"}]},[a("el-form-item",{attrs:{label:"Loại phần tử"}},[a("el-select",{attrs:{clearable:""},on:{change:t.onChangePopupModule},model:{value:t.model.PopupModuleType,callback:function(e){t.$set(t.model,"PopupModuleType",e)},expression:"model.PopupModuleType"}},[a("el-option",{attrs:{value:"Form",label:"Biểu mẫu"}}),t._v(" "),a("el-option",{attrs:{value:"List",label:"Danh sách"}}),t._v(" "),a("el-option",{attrs:{value:"Filter",label:"Lọc"}}),t._v(" "),a("el-option",{attrs:{value:"Report",label:"Báo cáo"}}),t._v(" "),a("el-option",{attrs:{value:"Page",label:"Trang"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Phần tử chi tiết"}},[a("el-select",{attrs:{"value-key":"Caption",clearable:""},on:{change:t.onChangeModule},model:{value:t.model.PopupModule,callback:function(e){t.$set(t.model,"PopupModule",e)},expression:"model.PopupModule"}},t._l(t.viewModel.PopupModule,function(t){return a("el-option",{key:t.Caption,attrs:{value:t,label:t.Caption}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Sau cập nhật"}},[a("el-select",{attrs:{clearable:""},model:{value:t.model.AfterUpdate,callback:function(e){t.$set(t.model,"AfterUpdate",e)},expression:"model.AfterUpdate"}},t._l(t.viewModel.AfterUpdate,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{attrs:{type:"text"},model:{value:t.model.Value,callback:function(e){t.$set(t.model,"Value",e)},expression:"model.Value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Lấy đủ dữ liệu"}},[a("el-checkbox",{model:{value:t.model.GetFullData,callback:function(e){t.$set(t.model,"GetFullData",e)},expression:"model.GetFullData"}})],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Click"===t.model.ButtonType,expression:"model.ButtonType === 'Click'"}]},[a("el-form-item",{attrs:{label:"Hành động Click"}},[a("el-select",{attrs:{clearable:""},model:{value:t.model.Action,callback:function(e){t.$set(t.model,"Action",e)},expression:"model.Action"}},t._l(t.viewModel.Action,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),"Print"==t.model.Action?a("el-form-item",{attrs:{label:"Mẫu in"}},[a("el-input",{attrs:{type:"textarea",rows:20},model:{value:t.model.HtmlTemplate,callback:function(e){t.$set(t.model,"HtmlTemplate",e)},expression:"model.HtmlTemplate"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Sau cập nhật"}},[a("el-select",{attrs:{clearable:""},model:{value:t.model.AfterUpdate,callback:function(e){t.$set(t.model,"AfterUpdate",e)},expression:"model.AfterUpdate"}},t._l(t.viewModel.AfterUpdate,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị"}},[a("el-input",{model:{value:t.model.Value,callback:function(e){t.$set(t.model,"Value",e)},expression:"model.Value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Thuộc Cột"}},[a("el-input",{model:{value:t.model.ColumnName,callback:function(e){t.$set(t.model,"ColumnName",e)},expression:"model.ColumnName"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Cấu hình thêm",prop:"FieldColumnType"}},[a("el-input",{model:{value:t.model.ExtraSetting,callback:function(e){t.$set(t.model,"ExtraSetting",e)},expression:"model.ExtraSetting"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Biểu thức JSON",prop:"FieldColumnType"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.model.FormJsonExpression,callback:function(e){t.$set(t.model,"FormJsonExpression",e)},expression:"model.FormJsonExpression"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(607),s=a(626),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(3),s=a(608),o=a(612),n=a(617),l=a(622),r=a(263),c=a(623),d=a(266),u=a(46),m=a.n(u),p=a(99),h={props:{placement:{type:String,default:"bottom-start"},appendToBody:n.a.props.appendToBody,offset:n.a.props.offset,boundariesPadding:n.a.props.boundariesPadding,popperOptions:n.a.props.popperOptions},methods:n.a.methods,data:n.a.data,beforeDestroy:n.a.beforeDestroy};e.a={name:"ElCascader",directives:{Clickoutside:l.a},mixins:[h,r.a,c.a],inject:{elFormItem:{default:""}},components:{ElInput:o.a},props:{options:{type:Array,required:!0},props:{type:Object,default:function(){return{children:"children",label:"label",value:"value",disabled:"disabled"}}},value:{type:Array,default:function(){return[]}},placeholder:{type:String,default:function(){return Object(d.a)("el.cascader.placeholder")}},disabled:Boolean,clearable:{type:Boolean,default:!1},changeOnSelect:Boolean,popperClass:String,expandTrigger:{type:String,default:"click"},filterable:Boolean,size:String,showAllLevels:{type:Boolean,default:!0},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},hoverThreshold:{type:Number,default:500}},data:function(){return{currentValue:this.value||[],menu:null,debouncedInputChange:function(){},menuVisible:!1,inputHover:!1,inputValue:"",flatOptions:null}},computed:{labelKey:function(){return this.props.label||"label"},valueKey:function(){return this.props.value||"value"},childrenKey:function(){return this.props.children||"children"},currentLabels:function(){var t=this,e=this.options,a=[];return this.currentValue.forEach(function(i){var s=e&&e.filter(function(e){return e[t.valueKey]===i})[0];s&&(a.push(s[t.labelKey]),e=s[t.childrenKey])}),a},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},cascaderSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},id:function(){return Object(p.a)()}},watch:{menuVisible:function(t){this.$refs.input.$refs.input.setAttribute("aria-expanded",t),t?this.showMenu():this.hideMenu()},value:function(t){this.currentValue=t},currentValue:function(t){this.dispatch("ElFormItem","el.form.change",[t])},currentLabels:function(t){var e=this.showAllLevels?t.join("/"):t[t.length-1];this.$refs.input.$refs.input.setAttribute("value",e)},options:{deep:!0,handler:function(t){this.menu||this.initMenu(),this.flatOptions=this.flattenOptions(this.options),this.menu.options=t}}},methods:{initMenu:function(){this.menu=new i.default(s.a).$mount(),this.menu.options=this.options,this.menu.props=this.props,this.menu.expandTrigger=this.expandTrigger,this.menu.changeOnSelect=this.changeOnSelect,this.menu.popperClass=this.popperClass,this.menu.hoverThreshold=this.hoverThreshold,this.popperElm=this.menu.$el,this.menu.$refs.menus[0].setAttribute("id","cascader-menu-"+this.id),this.menu.$on("pick",this.handlePick),this.menu.$on("activeItemChange",this.handleActiveItemChange),this.menu.$on("menuLeave",this.doDestroy),this.menu.$on("closeInside",this.handleClickoutside)},showMenu:function(){var t=this;this.menu||this.initMenu(),this.menu.value=this.currentValue.slice(0),this.menu.visible=!0,this.menu.options=this.options,this.$nextTick(function(e){t.updatePopper(),t.menu.inputWidth=t.$refs.input.$el.offsetWidth-2})},hideMenu:function(){this.inputValue="",this.menu.visible=!1,this.$refs.input.focus()},handleActiveItemChange:function(t){var e=this;this.$nextTick(function(t){e.updatePopper()}),this.$emit("active-item-change",t)},handleKeydown:function(t){var e=this,a=t.keyCode;13===a?this.handleClick():40===a?(this.menuVisible=!0,setTimeout(function(){e.popperElm.querySelectorAll(".el-cascader-menu")[0].querySelectorAll("[tabindex='-1']")[0].focus()}),t.stopPropagation(),t.preventDefault()):27!==a&&9!==a||(this.inputValue="",this.menu&&(this.menu.visible=!1))},handlePick:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.currentValue=t,this.$emit("input",t),this.$emit("change",t),e?this.menuVisible=!1:this.$nextTick(this.updatePopper)},handleInputChange:function(t){var e=this;if(this.menuVisible){var a=this.flatOptions;if(!t)return this.menu.options=this.options,void this.$nextTick(this.updatePopper);var i=a.filter(function(a){return a.some(function(a){return new RegExp(t,"i").test(a[e.labelKey])})});i=i.length>0?i.map(function(a){return{__IS__FLAT__OPTIONS:!0,value:a.map(function(t){return t[e.valueKey]}),label:e.renderFilteredOptionLabel(t,a)}}):[{__IS__FLAT__OPTIONS:!0,label:this.t("el.cascader.noMatch"),value:"",disabled:!0}],this.menu.options=i,this.$nextTick(this.updatePopper)}},renderFilteredOptionLabel:function(t,e){var a=this;return e.map(function(e,i){var s=e[a.labelKey],o=s.toLowerCase().indexOf(t.toLowerCase()),n=s.slice(o,t.length+o),l=o>-1?a.highlightKeyword(s,n):s;return 0===i?l:[" / ",l]})},highlightKeyword:function(t,e){var a=this,i=this._c;return t.split(e).map(function(t,s){return 0===s?t:[i("span",{class:{"el-cascader-menu__item__keyword":!0}},[a._v(e)]),t]})},flattenOptions:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];return t.forEach(function(t){var s=a.concat(t);t[e.childrenKey]?(e.changeOnSelect&&i.push(s),i=i.concat(e.flattenOptions(t[e.childrenKey],s))):i.push(s)}),i},clearValue:function(t){t.stopPropagation(),this.handlePick([],!0)},handleClickoutside:function(){this.menuVisible=!1},handleClick:function(){if(!this.disabled){if(this.$refs.input.focus(),this.filterable)return void(this.menuVisible=!0);this.menuVisible=!this.menuVisible}}},created:function(){var t=this;this.debouncedInputChange=m()(this.debounce,function(e){var a=t.beforeFilter(e);a&&a.then?(t.menu.options=[{__IS__FLAT__OPTIONS:!0,label:t.t("el.cascader.loading"),value:"",disabled:!0}],a.then(function(){t.$nextTick(function(){t.handleInputChange(e)})})):!1!==a&&t.$nextTick(function(){t.handleInputChange(e)})})},mounted:function(){this.flatOptions=this.flattenOptions(this.options)}}},function(t,e,a){"use strict";var i=a(609),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";var i=a(123),s=a.n(i),o=a(610),n=a(611),l=a(99),r=function t(e,a){if(!e||!Array.isArray(e)||!a)return e;var i=[],s=["__IS__FLAT__OPTIONS","label","value","disabled"],o=a.children||"children";return e.forEach(function(e){var n={};s.forEach(function(t){var i=a[t],s=e[i];void 0===s&&(i=t,s=e[i]),void 0!==s&&(n[i]=s)}),Array.isArray(e[o])&&(n[o]=t(e[o],a)),i.push(n)}),i};e.a={name:"ElCascaderMenu",data:function(){return{inputWidth:0,options:[],props:{},visible:!1,activeValue:[],value:[],expandTrigger:"click",changeOnSelect:!1,popperClass:"",hoverTimer:0,clicking:!1}},watch:{visible:function(t){t&&(this.activeValue=this.value)},value:{immediate:!0,handler:function(t){this.activeValue=t}}},computed:{activeOptions:{cache:!1,get:function(){var t=this,e=this.activeValue,a=["label","value","children","disabled"],i=r(this.options,this.props);return function e(i){i.forEach(function(i){i.__IS__FLAT__OPTIONS||(a.forEach(function(e){var a=i[t.props[e]||e];void 0!==a&&(i[e]=a)}),Array.isArray(i.children)&&e(i.children))})}(i),function t(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=i.length;i[s]=a;var n=e[s];return Object(o.a)(n)&&(a=a.filter(function(t){return t.value===n})[0])&&a.children&&t(a.children,i),i}(i)}},id:function(){return Object(l.a)()}},methods:{select:function(t,e){t.__IS__FLAT__OPTIONS?this.activeValue=t.value:e?this.activeValue.splice(e,this.activeValue.length-1,t.value):this.activeValue=[t.value],this.$emit("pick",this.activeValue.slice())},handleMenuLeave:function(){this.$emit("menuLeave")},activeItem:function(t,e){var a=this.activeOptions.length;this.activeValue.splice(e,a,t.value),this.activeOptions.splice(e+1,a,t.children),this.changeOnSelect?this.$emit("pick",this.activeValue.slice(),!1):this.$emit("activeItemChange",this.activeValue)},scrollMenu:function(t){Object(n.a)(t,t.getElementsByClassName("is-active")[0])},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.$refs.menus.forEach(function(e){return t.scrollMenu(e)})})}},render:function(t){var e=this,a=this.activeValue,i=this.activeOptions,o=this.visible,n=this.expandTrigger,l=this.popperClass,r=this.hoverThreshold,c=null,d=0,u={},m=function(t){var a=u.activeMenu;if(a){var i=t.offsetX,s=a.offsetWidth,o=a.offsetHeight;if(t.target===u.activeItem){clearTimeout(e.hoverTimer);var n=u,l=n.activeItem,c=l.offsetTop,d=c+l.offsetHeight;u.hoverZone.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+i+" "+c+" L"+s+" 0 V"+c+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+i+" "+d+" L"+s+" "+o+" V"+d+' Z" />\n        '}else e.hoverTimer||(e.hoverTimer=setTimeout(function(){u.hoverZone.innerHTML=""},r))}},p=this._l(i,function(i,o){var l=!1,r="menu-"+e.id+"-"+o,u="menu-"+e.id+"-"+(o+1),p=e._l(i,function(i){var m={on:{}};if(i.__IS__FLAT__OPTIONS&&(l=!0),!i.disabled)if(m.on.keydown=function(t){var a=t.keyCode;if(!([37,38,39,40,13,9,27].indexOf(a)<0)){var s=t.target,n=e.$refs.menus[o],l=n.querySelectorAll("[tabindex='-1']"),r=Array.prototype.indexOf.call(l,s),c=void 0,d=void 0;if([38,40].indexOf(a)>-1)38===a?c=0!==r?r-1:r:40===a&&(c=r!==l.length-1?r+1:r),l[c].focus();else if(37===a){if(0!==o){var u=e.$refs.menus[o-1];u.querySelector("[aria-expanded=true]").focus()}}else if(39===a)i.children&&(d=e.$refs.menus[o+1],d.querySelectorAll("[tabindex='-1']")[0].focus());else if(13===a){if(!i.children){var m=s.getAttribute("id");n.setAttribute("aria-activedescendant",m),e.select(i,o),e.$nextTick(function(){return e.scrollMenu(e.$refs.menus[o])})}}else 9!==a&&27!==a||e.$emit("closeInside")}},i.children){var p={click:"click",hover:"mouseenter"}[n],h=function(){e.activeItem(i,o),e.$nextTick(function(){e.scrollMenu(e.$refs.menus[o]),e.scrollMenu(e.$refs.menus[o+1])})};m.on[p]=h,m.on.mousedown=function(){e.clicking=!0},m.on.focus=function(){if(e.clicking)return void(e.clicking=!1);h()}}else m.on.click=function(){e.select(i,o),e.$nextTick(function(){return e.scrollMenu(e.$refs.menus[o])})};return i.disabled||i.children||(c=r+"-"+d,d++),t("li",s()([{class:{"el-cascader-menu__item":!0,"el-cascader-menu__item--extensible":i.children,"is-active":i.value===a[o],"is-disabled":i.disabled},ref:i.value===a[o]?"activeItem":null},m,{attrs:{tabindex:i.disabled?null:-1,role:"menuitem","aria-haspopup":!!i.children,"aria-expanded":i.value===a[o],id:c,"aria-owns":i.children?u:null}}]),[i.label])}),h={};l&&(h.minWidth=e.inputWidth+"px");var f="hover"===n&&a.length-1===o,g={on:{}};return f&&(g.on.mousemove=m,h.position="relative"),t("ul",s()([{class:{"el-cascader-menu":!0,"el-cascader-menu--flexible":l}},g,{style:h,refInFor:!0,ref:"menus",attrs:{role:"menu",id:r}}]),[p,f?t("svg",{ref:"hoverZone",style:{position:"absolute",top:0,height:"100%",width:"100%",left:0,pointerEvents:"none"}},[]):null])});return"hover"===n&&this.$nextTick(function(){var t=e.$refs.activeItem;if(t){var a=t.parentElement,i=e.$refs.hoverZone;u={activeMenu:a,activeItem:t,hoverZone:i}}else u={}}),t("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":this.handleMenuEnter,"after-leave":this.handleMenuLeave}},[t("div",{directives:[{name:"show",value:o}],class:["el-cascader-menus el-popper",l],ref:"wrapper"},[t("div",{attrs:{"x-arrow":!0},class:"popper__arrow"},[]),p])])}}},,,,function(t,e,a){"use strict";var i=a(614),s=a(616),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(263),s=a(264),o=a(615),n=a(265);e.a={name:"ElInput",componentName:"ElInput",mixins:[i.a,s.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{currentValue:this.value,textareaCalcStyle:{},prefixOffset:null,suffixOffset:null}},props:{value:[String,Number],placeholder:String,size:String,resize:String,name:String,form:String,id:String,maxlength:Number,minlength:Number,readonly:Boolean,autofocus:Boolean,disabled:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},autoComplete:{type:String,default:"off"},max:{},min:{},step:{},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return Object(n.a)({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},isGroup:function(){return this.$slots.prepend||this.$slots.append}},watch:{value:function(t,e){this.setCurrentValue(t)}},methods:{focus:function(){(this.$refs.input||this.$refs.textarea).focus()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.currentValue])},inputSelect:function(){(this.$refs.input||this.$refs.textarea).select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type){if(!t)return void(this.textareaCalcStyle={minHeight:Object(o.a)(this.$refs.textarea).minHeight});var e=t.minRows,a=t.maxRows;this.textareaCalcStyle=Object(o.a)(this.$refs.textarea,e,a)}}},handleFocus:function(t){this.$emit("focus",t)},handleInput:function(t){var e=t.target.value;this.$emit("input",e),this.setCurrentValue(e)},handleChange:function(t){this.$emit("change",t.target.value)},setCurrentValue:function(t){var e=this;t!==this.currentValue&&(this.$nextTick(function(t){e.resizeTextarea()}),this.currentValue=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t]))},calcIconOffset:function(t){var e={suf:"append",pre:"prepend"},a=e[t];if(this.$slots[a])return{transform:"translateX("+("suf"===t?"-":"")+this.$el.querySelector(".el-input-group__"+a).offsetWidth+"px)"}}},created:function(){this.$on("inputSelect",this.inputSelect)},mounted:function(){this.resizeTextarea(),this.isGroup&&(this.prefixOffset=this.calcIconOffset("pre"),this.suffixOffset=this.calcIconOffset("suf"))}}},,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.disabled,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon}]},["textarea"!==t.type?[t.$slots.prepend?a("div",{staticClass:"el-input-group__prepend",attrs:{tabindex:"0"}},[t._t("prepend")],2):t._e(),t._v(" "),"textarea"!==t.type?a("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{autocomplete:t.autoComplete,"aria-label":t.label},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$props,!1)):t._e(),t._v(" "),t.$slots.prefix||t.prefixIcon?a("span",{staticClass:"el-input__prefix",style:t.prefixOffset},[t._t("prefix"),t._v(" "),t.prefixIcon?a("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t._v(" "),t.$slots.suffix||t.suffixIcon||t.validateState&&t.needStatusIcon?a("span",{staticClass:"el-input__suffix",style:t.suffixOffset},[a("span",{staticClass:"el-input__suffix-inner"},[t._t("suffix"),t._v(" "),t.suffixIcon?a("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],2),t._v(" "),t.validateState?a("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t._v(" "),t.$slots.append?a("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:a("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{"aria-label":t.label},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$props,!1))],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},,,,,,,,,,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClickoutside,expression:"handleClickoutside"}],ref:"reference",staticClass:"el-cascader",class:[{"is-opened":t.menuVisible,"is-disabled":t.disabled},t.cascaderSize?"el-cascader--"+t.cascaderSize:""],on:{click:t.handleClick,mouseenter:function(e){t.inputHover=!0},focus:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1},blur:function(e){t.inputHover=!1},keydown:t.handleKeydown}},[a("el-input",{ref:"input",attrs:{readonly:!t.filterable,placeholder:t.currentLabels.length?void 0:t.placeholder,"validate-event":!1,size:t.size,disabled:t.disabled},on:{input:t.debouncedInputChange},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("template",{slot:"suffix"},[t.clearable&&t.inputHover&&t.currentLabels.length?a("i",{key:"1",staticClass:"el-input__icon el-icon-circle-close el-cascader__clearIcon",on:{click:t.clearValue}}):a("i",{key:"2",staticClass:"el-input__icon el-icon-arrow-down",class:{"is-reverse":t.menuVisible}})])],2),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:""===t.inputValue,expression:"inputValue === ''"}],staticClass:"el-cascader__label"},[t.showAllLevels?[t._l(t.currentLabels,function(e,i){return[t._v("\n        "+t._s(e)+"\n        "),i<t.currentLabels.length-1?a("span",[t._v(" / ")]):t._e()]})]:[t._v("\n      "+t._s(t.currentLabels[t.currentLabels.length-1])+"\n    ")]],2)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn dataGroupAdv"},[a("div",{staticClass:"page-header mb-1"},[a("div",{staticClass:"title-box py-1 px-3"},[a("div",{staticClass:"row"},[a("h5",{staticClass:"col m-auto"},[a("i",{staticClass:"fa fa-sitemap"}),t._v(" "),a("span",[t._v("Khối dữ liệu: "+t._s(t.selectedItem.Name))])]),t._v(" "),a("div",{staticClass:"col text-right pr-0"},[a("el-button",{on:{click:function(e){t.requestByAction("save")}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.saveModules}},[t._v("Lưu module")])],1)])])]),t._v(" "),a("el-container",[a("el-aside",{staticClass:"col-3 p-0 mr-1"},[a("DataGroupTree",{attrs:{data:t.treeData}})],1),t._v(" "),t.$Utils.equals(t.selectedItem,{})?t._e():a("el-container",{staticClass:"title-box bg-white"},[a("el-main",{staticClass:"tabsfullcontent"},[a("el-tabs",{model:{value:t.viewModel.selectedTab,callback:function(e){t.$set(t.viewModel,"selectedTab",e)},expression:"viewModel.selectedTab"}},[a("el-tab-pane",{attrs:{label:"Phổ biến",name:"0"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.model.Description,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên",prop:"Caption"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.model.Description.Caption,callback:function(e){t.$set(t.model.Description,"Caption",e)},expression:"model.Description.Caption"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Code",prop:"Code"}},[a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{readonly:""},model:{value:t.model.Code||t.model.Description.Code,callback:function(e){t.$set(t.model.Code||t.model.Description,"Code",e)},expression:"model.Code || model.Description.Code"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả",prop:"More"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.model.Description.More,callback:function(e){t.$set(t.model.Description,"More",e)},expression:"model.Description.More"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Nguồn dữ liệu",prop:"DataSource"}},[a("el-select",{attrs:{clearable:"",filterable:"","value-key":"Id",clearable:""},on:{change:t.onDataSourceChange},model:{value:t.model.Description.DataSource,callback:function(e){t.$set(t.model.Description,"DataSource",e)},expression:"model.Description.DataSource"}},t._l(t.viewModel.DataSource,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Dữ liệu gốc"}},[a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{disabled:""},model:{value:t.model.Description.RootData,callback:function(e){t.$set(t.model.Description,"RootData",e)},expression:"model.Description.RootData"}})],1)],1),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Mở rộng điều kiện truyền thêm",name:"extenField1"}},[a("el-form-item",{attrs:{label:"Khóa"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.viewModel.Key,callback:function(e){t.$set(t.viewModel,"Key",e)},expression:"viewModel.Key"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.viewModel.Value,callback:function(e){t.$set(t.viewModel,"Value",e)},expression:"viewModel.Value"}})],1)],1),t._v(" "),a("el-button",{attrs:{disabled:""===t.viewModel.Key||""===t.viewModel.Value,type:"primary"},on:{click:t.addConditions}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Filters}},[a("el-table-column",{attrs:{prop:"Key",label:"Khóa",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Value",label:"Giá trị"}}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.confirmDelete(a,"filter",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("el-collapse-item",{attrs:{title:"Mở rộng các trường phụ thuộc",name:"extenField2"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.excuteSubDirective(e,"dependency","insert")}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Dependencies}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Source",label:"Nguồn"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Target",label:"Đích"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SourceKey",label:"Trường nguồn"}}),t._v(" "),a("el-table-column",{attrs:{prop:"TargetKey",label:"Trường đích"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DependencyType",label:"Loại"}}),t._v(" "),a("el-table-column",{attrs:{label:"Loại xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.excuteSubDirective(a,"dependency","edit",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.confirmDelete(a,"dependency",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("el-collapse-item",{attrs:{title:"Mở rộng các khối liên kết",name:"extenField3"}},[a("el-form-item",{attrs:{label:"Khối dữ liệu liên kết",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-cascader",{attrs:{clearable:"",filterable:"",options:t.temp,"expand-trigger":"hover",placeholder:"Chọn","change-on-select":""},model:{value:t.viewModel.LinkDataGroup,callback:function(e){t.$set(t.viewModel,"LinkDataGroup",e)},expression:"viewModel.LinkDataGroup"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.excuteLink(e,"insert",0)}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Links}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"Khối liên kết"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.excuteLink(a,"edit",e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.excuteLink(a,"delete",e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("el-collapse-item",{attrs:{title:"Mở rộng các liên kết lọc",name:"extenField4"}},[a("el-form-item",{attrs:{label:"Liên kết lọc",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-cascader",{attrs:{clearable:"",filterable:"",options:t.temp,"expand-trigger":"hover",placeholder:"Chọn","change-on-select":""},model:{value:t.viewModel.LinkFieldFilter,callback:function(e){t.$set(t.viewModel,"LinkFieldFilter",e)},expression:"viewModel.LinkFieldFilter"}})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.excuteLinkFilter(e,"insert",0)}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.LinkFieldFilters}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"Khối liên kết"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.excuteLinkFilter(a,"edit",e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.excuteLinkFilter(a,"delete",e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Trường dữ liệu",name:"1"}},[t._v("\n              "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.excuteSubDirective(e,"field","insert")}}},[t._v("Thêm\n          ")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Fields,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Stt",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"Quản trị"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{model:{value:e.row.Permit,callback:function(a){t.$set(e.row,"Permit",a)},expression:"scope.row.Permit"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Caption",label:"Tên"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"Mã"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FieldStorageType",label:"Loại trường"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FieldColumnType",label:"Loại dữ liệu"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FormElementType",label:"Kiểu phần tử"}}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.excuteSubDirective(a,"field","edit",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.confirmDelete(a,"field",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Nút",name:"2"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.excuteSubDirective(e,"button","insert")}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Buttons,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:"Stt",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"Mã"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Caption",label:"Nút"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ParentObject",label:"Đối tượng chứa"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ButtonType",label:"Loại hành động"}}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.excuteSubDirective(a,"button","edit",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.confirmDelete(a,"button",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)],1)],1)],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(629)}var s=a(630),o=a(631),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(256);e.a={components:{EditProject:i.a},data:function(){return{ListProject:[],searchText:"",dialogFormVisible:!1,model:{},formLabelWidth:"100%",PopupModules:[],ListSelect:[],ListPage:[],ListFilter:[],ListView:[{key:"agendaWeek",value:"Xem theo tuần"},{key:"agendaDay",value:"Xem theo ngày"},{key:"month",value:"Xem theo tháng"}]}},created:function(){this.getSetting()},methods:{getSetting:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.SearchBase",a.R1_ParentCode="xSetting.Project.Tools.Calendar",a.R1_IncludedNestedSetParent=!0,this.$Utils.postCheckResult(a).then(function(a){e.ListProject=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),e.ParentId=e.$Lodash.cloneDeep(e.ListProject[0].Id),e.ListProject.shift(),t&&(e.ListProject=e.ListProject.filter(function(e){return e.Name.toLocaleLowerCase().indexOf(t.toLowerCase())>-1}))})},save:function(){var t=this,e=this;e.$refs.model.validate(function(a){if(!a)return console.log("error submit!!"),!1;if(e.$Utils.isEmpty(e.model.DynamicText,"Code")){e.model.DynamicText=e.$Lodash.cloneDeep(e.model.DynamicText.Code),e.$Utils.saveSelectModel(e);var i=e.$Lodash.cloneDeep(e.$singleRequest);i.R1_RequestTemplate="Setting.Update",void 0!=e.model.Id&&""!=e.model.Id||(i.R1_ReferenceId=t.ParentId,i.R1_RequestTemplate="Setting.Insert",i.R1_NestedSetType="InsertLastChildNode"),i=e.$Utils.updateParamsSingleRequest(i,e.model),e.$Utils.postCheckResult(i).then(function(t){t.success?(e.$Utils.showMessage("success",e.$toastMessage.updateItemPre+e.$toastMessage.updateItemSuf),"Setting.Insert"==i.R1_RequestTemplate&&e.$Utils.linkToRoleEveryone([{Id:t.R1.Data,Caption:e.model.Name}]),e.getSetting(),e.dialogFormVisible=!1):e.$Utils.showMessage("error",e.$toastMessage.updateItemFailed)})}})},editProject:function(t){var e=this;e.dialogFormVisible=!0,e.model={},e.viewModel={Data:{Fields:[]}},e.$Utils.isEmpty(t)&&(e.model=e.$Lodash.cloneDeep(t));var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="Setting.SearchBase",a.R1_ParentCode="xSetting.Project.List",e.$Utils.post(a).then(function(t){t=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),e.ListPage=t,e.baseList=e.$Lodash.cloneDeep(t),t.forEach(function(t){void 0!=t.Description&&(t.Description=JSON.parse(t.Description),t.Caption=t.Description.Caption)});var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="Setting.SearchBase",a.R1_ParentCode="xSetting.Project.Filter",e.$Utils.post(a).then(function(t){t=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),e.ListFilter=t,e.baseFilter=e.$Lodash.cloneDeep(t),t.forEach(function(t){void 0!=t.Description&&(t.Description=JSON.parse(t.Description),t.Caption=t.Description.Caption)});var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="Setting.SearchBase",a.R1_ParentCode="xSetting.Project.Form",e.$Utils.postCheckResult(a).then(function(t){t=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),e.PopupModules=t,t.forEach(function(t){void 0!=t.Description&&(t.Description=JSON.parse(t.Description),t.Caption=t.Description.Caption)}),t.forEach(function(t){e.model.DynamicText==t.Code&&(e.model.DynamicText=t,e.selectedItemChange(!0))})})})})},selectedItemChange:function(e){for(var a=this,i=1;i<=a.model.DynamicText.Description.FCount;i++)1==i&&(a.ListField=""),a.ListField+=a.model.DynamicText["F"+i];a.ListField=JSON.parse(a.ListField),a.ListSelect=[],t.each(a.ListField,function(t,e){"DateTime"==e.FieldColumnType&&a.ListSelect.push(e)}),a.ListFilter=[],a.baseFilter.forEach(function(t){t.Name==a.model.DynamicText.Name&&a.ListFilter.push(t)}),a.ListPage=[],a.baseList.forEach(function(t){t.Name==a.model.DynamicText.Name&&a.ListPage.push(t)})},removeSetting:function(t){var e=this;this.$Utils.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){if(e.$Utils.isEmpty(t)){var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="Setting.Delete",a.R1_Id=t.Id,e.$Utils.postCheckResult(a).then(function(t){e.getSetting()})}})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar-setting"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"Nhập từ khóa tìm kiếm"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){t.getSetting(t.searchText)}},slot:"append"})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"mini",icon:"fa fa-plus"},on:{click:function(e){t.editProject()}}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.ListProject,border:""}},[a("el-table-column",{attrs:{label:"STT",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"TÊN TRANG",prop:"Name"}}),t._v(" "),a("el-table-column",{attrs:{label:"CÔNG CỤ"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-edit"},on:{click:function(a){t.editProject(e.row)}}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(a){t.removeSetting(e.row)}}})]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"Thông tin thiết lập",visible:t.dialogFormVisible,"close-on-click-modal":!1,"show-close":""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"model",attrs:{model:t.model}},[a("el-form-item",{attrs:{prop:"Name","label-width":"180px",size:"mini",label:"Tên",rules:{required:!0,message:"Tên bắt buộc nhập",trigger:"blur"}}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"DynamicText","label-width":"180px",size:"mini",label:"Form",rules:{required:!0,message:"Form bắt buộc chọn",trigger:"blur",type:"object"}}},[a("el-select",{attrs:{placeholder:"Chọn cấu hình form","value-key":"Code"},on:{change:t.selectedItemChange},model:{value:t.model.DynamicText,callback:function(e){t.$set(t.model,"DynamicText",e)},expression:"model.DynamicText"}},t._l(t.PopupModules,function(t){return a("el-option",{attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{prop:"Value","label-width":"180px",size:"mini",label:"Trường phân loại",rules:{required:!0,message:"Trường bắt buộc chọn",trigger:"blur"}}},[t.ListSelect?a("el-select",{attrs:{placeholder:"Chọn trường phân loại"},model:{value:t.model.Value,callback:function(e){t.$set(t.model,"Value",e)},expression:"model.Value"}},t._l(t.ListSelect,function(t){return a("el-option",{attrs:{label:t.Caption,value:t.Name}})})):t._e()],1),t._v(" "),a("el-form-item",{attrs:{prop:"NodeType","label-width":"180px",size:"mini",label:"List",rules:{required:!0,message:"List bắt buộc chọn",trigger:"blur"}}},[a("el-select",{attrs:{placeholder:"Chọn cấu hình list"},model:{value:t.model.NodeType,callback:function(e){t.$set(t.model,"NodeType",e)},expression:"model.NodeType"}},t._l(t.ListPage,function(t){return a("el-option",{attrs:{label:t.Caption,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{prop:"Attribute","label-width":"180px",size:"mini",label:"Filter",rules:{required:!0,message:"Filter bắt buộc chọn",trigger:"blur"}}},[a("el-select",{attrs:{placeholder:"Chọn cấu hình Filter"},model:{value:t.model.Attribute,callback:function(e){t.$set(t.model,"Attribute",e)},expression:"model.Attribute"}},t._l(t.ListFilter,function(t){return a("el-option",{attrs:{label:t.Caption,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{prop:"Extra","label-width":"180px",size:"mini",label:"Xem mặc định",rules:{required:!0,message:"Xem mặc định bắt buộc chọn",trigger:"blur"}}},[a("el-select",{attrs:{placeholder:"Chọn cấu hình Xem mặc định"},model:{value:t.model.Extra,callback:function(e){t.$set(t.model,"Extra",e)},expression:"model.Extra"}},t._l(t.ListView,function(t){return a("el-option",{attrs:{label:t.value,value:t.key}})}))],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(633),n=a(645);e.a={components:{ReportForm:o.a,AddReportForm:n.a},data:function(){return{rulesForm:{},dialogFormVisible:!1,newReport:"",inputProps:"",showEditForm:!1,ParentSetting:"",formInline:{user:"",region:"",searchText:""},tableData:[],temp:[]}},watch:{inputProps:function(t){(""!==t.trim()||this.$Utils.isEmpty(t))&&(this.tableData=this.temp.filter(function(e){return JSON.parse(e.Description).DataGroupCaption.toLowerCase().indexOf(t.toLowerCase())>-1||e.Caption.toLowerCase().indexOf(t.toLowerCase())>-1||e.Code.toLowerCase().indexOf(t.toLowerCase())>-1}))}},methods:{handleAddNew:function(){this.isAddNew=!0,this.rowItem={}},save:function(){var e=this;this.$refs.newReport.validate(function(a){if(!a)return console.log("error submit!!"),!1;var i=e.$Lodash.cloneDeep(e.$singleRequest),o=e.rulesForm.Name.split(";"),n=[];i.TotalRequests=0,t.each(o,function(t,a){if(""!=a){i.TotalRequests++;var o={Code:"Report."+e.$Utils.removeVNCharacters(a)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),Description:s()({Caption:a,ModuleType:"Report",ReportProportion:"65",ReportType:"Column",TableProportion:"35",EnableDataSeries:"false",ShowReport:"true",ShowReportHeader:"true",ShowTable:"true",AssignedUser:"false",Fields:{X:[],Y:[],V:[],T:[],Table:[],Series:[],Calculators:[]}}),Caption:a,Value:"[]"};e.$Utils.updateParamsSingleRequest(i,o,i.TotalRequests),e.$Utils.updateParamsSingleRequest(i,{RequestTemplate:"SettingNew.Insert",NestedSetType:"InsertLastChildNode",ReferenceId:e.ParentSetting},i.TotalRequests),n.push(o)}}),e.$Utils.post(i).then(function(a){if(a.success){e.$Utils.showMessage("success",e.$toastMessage.updateItemPre+e.$toastMessage.updateItemSuf);var i=[];t.each(n,function(t,e){i.push({Id:a["R"+(t+1)].Data,Caption:e.Caption,Name:"Report"})}),e.$Utils.linkToRoleEveryone(i),e.bindLists()}else e.$Utils.showMessage("error",e.$toastMessage.updateItemFailed);e.rulesForm={},e.dialogFormVisible=!1})})},reload:function(){this.bindLists()},hiddenForm:function(t){t&&this.searchData(),this.bindLists(),this.showEditForm=!1},showAddReport:function(){var t={data:this.ParentSetting};this.$hub.$emit("open-modal"),this.$hub.$emit("set-modal-data","Thêm mới báo cáo","60%",!0,"center",n.a,!0,"AddReportForm",t)},bindLists:function(){var t=this,e=(JSON.parse(localStorage.getItem("LoggedOnUser")),this.$getItemLocalStorage(this.$localStorageConstant.SessionId)),a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:"xSetting.Project.Report",R1_RequestOrderField:"Created ASC",R1_Level:4,SessionId:e};this.$Utils.postCheckResult(a).then(function(e){t.tableData=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.temp=t.$Lodash.cloneDeep(t.tableData)})},bindParentSetting:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.SearchBase",e.R1_Code="xSetting.Project.Report",this.$Utils.post(e).then(function(e){var a=e.R1.Data.DynamicDS.Setting;t.ParentSetting=a.Id})},handleEdit:function(t,e){this.isAddNew=!1,this.rowItem=e,this.showEditForm=!0},handleDelete:function(t,e){var a=this,i=this;this.$confirm("Hành động này không thể hoàn tác. Bạn thực sự muốn xóa bản ghi này?","Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Đóng",type:"warning"}).then(function(){var t=a.$Lodash.cloneDeep(a.$singleRequest);t.R1_RequestTemplate="SettingNew.Delete",t.R1_Id=e.Id,void 0==e.Id||""==e.Id?i.$Utils.showMessage("error","Không định danh được đối tượng!"):i.$Utils.postCheckResult(t).then(function(t){i.$message({type:"success",message:"Xóa thành công"}),i.bindLists(),i.$Utils.removeAllLink(e.Id)})}).catch(function(){})}},mounted:function(){this.bindLists(),this.bindParentSetting()},created:function(){var t=this;this.$hub.$on("reload",function(e){t.bindLists()})}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(634)}var s=a(635),o=a(644),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_vue_dragula__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_2_vue_dragula___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue_dragula__),__WEBPACK_IMPORTED_MODULE_3__components_static_PermissionSelector__=__webpack_require__(16),__WEBPACK_IMPORTED_MODULE_4__components_static_advance_ReportElement__=__webpack_require__(636),__WEBPACK_IMPORTED_MODULE_5_element_ui_packages_switch_src_component__=__webpack_require__(640);__WEBPACK_IMPORTED_MODULE_1_vue__.default.use(__WEBPACK_IMPORTED_MODULE_2_vue_dragula___default.a),__webpack_exports__.a={props:["selectedItem","isShow","isNew","closeCallback"],components:{ElSwitch:__WEBPACK_IMPORTED_MODULE_5_element_ui_packages_switch_src_component__.a,VueDragula:__WEBPACK_IMPORTED_MODULE_2_vue_dragula___default.a,PermissionSelector:__WEBPACK_IMPORTED_MODULE_3__components_static_PermissionSelector__.a,ReportElement:__WEBPACK_IMPORTED_MODULE_4__components_static_advance_ReportElement__.a},data:function(){return{ListTableFields:[],listDisplay:[],DataGroupTree:[],selectedDataGroups:[],model:{Description:{Fields:{X:[],Y:[],V:[],T:[],Table:[],Series:[],Calculators:[]},EnablePercentageColumn:!1,PercentageColumnName:"",PercentageDisplayName:""},PathById:""},viewModel:{Group:"X",ListDataGroups:[],ListOrderFields:[]},tableTField:{Code:"",Name:"",Description:""},listSelectedButtons:[],CurrentDataGroup:{},options:[],ruleForm:{name:""},rules:{name:[{required:!0,message:"Please input Activity name",trigger:"blur"}]}}},created:function(){__WEBPACK_IMPORTED_MODULE_1_vue__.default.vueDragula.options("fieldsBag",{direction:"vertical"})},mounted:function mounted(){var ctrl=this;ctrl.bindEditor(),__WEBPACK_IMPORTED_MODULE_1_vue__.default.vueDragula.eventBus.$on("drop",function(args){if("row_V"==args[2].id){var selectedField={};"row_X"==args[3].id?(selectedField=ctrl.model.Description.Fields.X[eval(args[1].attributes.value.value)],ctrl.insertValueField(selectedField),ctrl.insertOrderField(selectedField)):"row_Y"==args[3].id&&(selectedField=ctrl.model.Description.Fields.Y[eval(args[1].attributes.value.value)],ctrl.insertValueField(selectedField),ctrl.insertOrderField(selectedField))}else if("row_V"==args[3].id){var selectedField=ctrl.model.Description.Fields.V[eval(args[1].attributes.value.value)];ctrl.ListTableFields=ctrl.ListTableFields.filter(function(t){return t.value!=selectedField.Name}),ctrl.listSelectedButtons=ctrl.listSelectedButtons.filter(function(t){return t!=selectedField.Name}),ctrl.model.Description.Fields.Table=ctrl.model.Description.Fields.Table.filter(function(t){return t.Name!=selectedField.Name}),ctrl.model.Description.Fields.Series=ctrl.model.Description.Fields.Series.filter(function(t){return t.Name!=selectedField.Name})}})},methods:{addTField:function(){var t=this;t.model.Description.Fields.T.push(t.tableTField),t.tableTField={Code:"",Name:"",Description:""}},confirmDelete:function(t,e,a){var i=this;this.$Utils.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){i.requestByAction(a)})},requestByAction:function(t){this.model.Description.Fields.T.splice(t,1)},editDetail:function(){var t=this.$router.resolve("/settings/"+this.selectedItem.Code);window.open(t.href,"_blank")},openPermissionSelector:function(){this.$hub.$emit("set-modal-data","Cấp quyền","60%",!0,"center",__WEBPACK_IMPORTED_MODULE_3__components_static_PermissionSelector__.a,!1,"",this.selectedItem.Id)},checkedField:function(t){var e=this;$.each(e.ListTableFields,function(t,a){-1!=e.listSelectedButtons.indexOf(a.value)?e.ListTableFields[t].checked=!0:e.ListTableFields[t].checked=!1})},bindEditor:function(){var t=this,e=[{ParentCode:"xSetting.Default.Project.Report.ReportType"},{ParentCode:"xSetting.Default.Project.Report.DisplayType"},{ParentCode:"xSetting.Project.DataGroup"}],a=t.$Lodash.cloneDeep(t.$singleRequest);a.TotalRequests=0,e.forEach(function(e){a.TotalRequests++,e.RequestTemplate="SettingNew.SearchSetting",a=t.$Utils.updateParamsSingleRequest(a,e,a.TotalRequests)}),t.$Utils.postCheckResult(a).then(function(e){t.viewModel.ListReportTypes=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.viewModel.ListDisplayProportions=t.$Utils.getDataWithRoot(e.R2,"Data.DynamicDS.Setting"),t.viewModel.ListDataGroups=t.$Utils.getDataWithRoot(e.R3,"Data.DynamicDS.Setting"),t.DataGroupTree=t.$Utils.createCustomTreeFromList(t.$Lodash.cloneDeep(t.viewModel.ListDataGroups),"Id","ParentId","children",{Caption:"label",Id:"value"},{});var a=t.$Lodash.cloneDeep(t.selectedItem);if(!t.$Utils.isEmpty(a))return void t.$Utils.showMessage("error","Không có cấu hình báo cáo!");a.Description=JSON.parse(a.Description),$.each(a.Description,function(t,e){"true"==e?a.Description[t]=!0:"false"==e&&(a.Description[t]=!1)}),["X","Y","V","T","Table"].forEach(function(e){a.Description.Fields[e].forEach(function(a){var i={label:a.Caption,value:a.Name};"Table"==e&&a.Display&&(i.checked=!0),t.$Utils.isEmpty(t["List"+e+"Fields"])&&(t["List"+e+"Fields"].push(i),i.checked&&t.listSelectedButtons.push(i.value)),t.insertOrderField(a)})}),t.model=a,t.model.Name&&t.viewModel.ListDataGroups.forEach(function(e){var a=!0;return e.Code===t.model.Name&&(t.selectedDataGroups=[e.ParentId,e.Id],t.handleChange(t.selectedDataGroups),a=!1),a})})},insertOrderField:function(t){var e=this,a=!1;e.viewModel.ListOrderFields.forEach(function(e){e.Name==t.Name&&(a=!0)}),a||e.viewModel.ListOrderFields.push(t)},back:function(){this.resetForm("ruleForm"),this.closeCallback&&this.closeCallback()},handleChange:function(t){var e=this.viewModel.ListDataGroups.filter(function(e){return e.Id==t[t.length-1]})[0];this.model.Name=e.Code,"string"==typeof e.Description&&(e.Description=JSON.parse(e.Description)),e.Fields="";for(var a=1;a<=e.Description.FCount;a++)void 0!=e["F"+a]&&(e.Fields+=e["F"+a]);e.Fields=JSON.parse(e.Fields),this.viewModel.ListReportFields=e.Fields.filter(function(t){return"true"==t.ReportIsUsed})},showFieldDetail:function(t,e,a,i){var s={value:e,model:this.model,bindField:this.bindField,CurrentGroup:this.$Utils.isEmpty(a)?a:"V",index:this.$Utils.isEmpty(i)?i:this.model.Description.Fields.V.length-1};this.$hub.$emit("set-modal-data","Thông tin","60%",!0,"center",__WEBPACK_IMPORTED_MODULE_4__components_static_advance_ReportElement__.a,!1,"",s)},addGroupFields:function(){this.data.push({key:this.data.length,label:"grouped-fields",type:"GROUPFIELD",disabled:!0}),this.value3.push(this.data.length)},submitForm:function(t){this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(t){this.$refs[t].resetFields()},addField:function(){var t=this;if(""!=t.viewModel.Field&&null!=t.viewModel.Field){var e="";t.viewModel.ListReportFields.forEach(function(a){a.Name==t.viewModel.Field&&(e={Caption:a.Caption,Name:a.Name,DataType:a.FieldColumnType,StorageType:a.FieldStorageType},"V"==t.viewModel.Group&&(e.SummaryType="Count"),void 0!=a.DataSource&&(e.DataSource=a.DataSource))});var a=!1;t.model.Description.Fields[t.viewModel.Group].forEach(function(t){t.Name==e.Name&&(a=!0)}),a?t.$Utils.showMessage("error","Trường dữ liệu đã được thêm vào"):(t["List"+t.viewModel.Group+"Fields"]||(t["List"+t.viewModel.Group+"Fields"]=[]),t["List"+t.viewModel.Group+"Fields"].push({label:e.Caption,value:e.Name}),t.model.Description.Fields[t.viewModel.Group].push(e),"V"==t.viewModel.Group&&t.insertValueField(e),t.insertOrderField(e))}else t.$Utils.showMessage("error","Hãy chọn 1 trường dữ liệu");t.viewModel.Field=""},insertValueField:function(t){var e=this;e.ListTableFields.push({label:t.Caption,value:t.Name,checked:!0}),e.listSelectedButtons.push(t.Name),e.model.Description.Fields.Table.push({Caption:t.Caption,Name:t.Name,Type:"Field"}),e.model.Description.Fields.Series.push({Caption:t.Caption,Name:t.Name,ReportType:"Column",Enabled:!1})},bindField:function(t,e){var a=this;"Calculator"==t.item.Type?"edit"==t.action?(a.model.Description.Fields.V[t.index]=t.item,a.$set(a.model.Description.Fields.V,t.index,t.item)):(a.model.Description.Fields.V.push(t.item),a.insertValueField(t.item)):(a.model.Description.Fields[e][t.index]=t.item,a.$set(a.model.Description.Fields[e],t.index,t.item))},removeField:function(t,e){var a=this,i=a.$Lodash.cloneDeep(a.model.Description.Fields[e][t]);a.model.Description.Fields[e].splice(t,1),"V"==e&&(a.model.Description.Fields.Table.splice(t,1),a.model.Description.Fields.Series.splice(t,1),$.each(a.viewModel.ListOrderFields,function(t,e){e.Name==i.Name&&a.viewModel.ListOrderFields.splice(t,1)}),$.each(a.ListTableFields,function(t,e){e.value==i.Name&&a.ListTableFields.splice(t,1)}))},bindSavedData:function(){var t=this,e=t.$Lodash.cloneDeep(t.model);e.Caption=e.Description.Caption,t.viewModel.ListDataGroups.forEach(function(a){if(a.Code==t.model.Name){var i=t.$Lodash.cloneDeep(a);i.Description=i.Description,e.Name=i.Code,e.Description.DataGroupCaption=i.Caption,e.Description.DataSource=i.Description.DataSource,e.Description.AdditionConditions=i.Description.AdditionConditions}});var a=["X","Y","V","T","Table"];e.Description.Fields.Calculators=[],$.each(e.Description.Fields.V,function(t,a){"Calculator"==a.Type&&e.Description.Fields.Calculators.push(a)});var i=t.$Lodash.cloneDeep(e.Description.Fields.V);e.Description.Fields.Calculators.forEach(function(t){$.each(e.Description.Fields.V,function(a,i){i&&t.Name==i.Name&&e.Description.Fields.V.splice(a,1)})});JSON.parse(t.model.Value);e.Value=[{Name:"Fields",Code:"Fields",Description:""},{Name:"Table",Code:"Table",Description:"AG_Task_Target"==e.Description.DataSource?"AG_Task_Task":e.Description.DataSource}],a=["X","Y","V","T"],a.forEach(function(a){e.Value[0].Description+=a+"="+e.Description.Fields[a].length+"&",$.each(e.Description.Fields[a],function(i,s){var o={Name:s.Name,Code:a+(i+1)};if("T"==a)o.Description=s.Description;else{var n={DataType:s.DataType,StorageType:s.StorageType,DatePart:s.DatePart,FormatValue:s.FormatValue,DataSource:s.DataSource,SummaryType:s.SummaryType?s.SummaryType:"Count",ReportCaption:s.ReportCaption?s.ReportCaption:s.Caption};s.ParentColumn&&""!=s.ParentColumn&&(n.ParentColumn=s.ParentColumn),t.$Utils.isEmpty(e.Description.OrderBy)&&s.Name==e.Description.OrderBy&&(n.OrderDirection=e.Description.OrderDirection,t.$Utils.isEmpty(e.Description.Top)&&(n.Top=e.Description.Top)),o.Description=t.$Utils.objectToString(n)}e.Value.push(o)})}),e.PathById=this.model.PathById,this.model.Description.EnableRawSQL?e.PathByName="true":e.PathByName="false",e.Description.Fields.V=i;var s=t.ListTableFields;return e.Description.Fields.Table.forEach(function(t){t.Display=!1,s.forEach(function(e){e.value==t.Name&&!0===e.checked?t.Display=!0:e.value==t.Name&&!1===e.checked&&(t.Display=!1)})}),$.each(e.Description,function(a,i){1==i&!t.$isNumeric(e.Description[a])&&(e.Description[a]="true"),0==i&&""!=i&&(e.Description[a]="false")}),e.Description.ModuleType="Report",e.RequestTemplate="SettingNew.Update",e.Description=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e.Description),e.Value=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e.Value),e},save:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;if(t.model.Description.IsT)return t.$Utils.showConfirm("Thông báo","Biểu đồ bạn đang chỉnh sửa có cấu hình nâng cao, xin vui lòng liên hệ với quản trị viên để sửa trực tiếp trong cấu hình."),!1;var a=t.bindSavedData(),i=t.$Lodash.cloneDeep(t.$singleRequest);i=t.$Utils.updateParamsSingleRequest(i,a),t.$Utils.postCheckResult(i).then(function(e){e.success?t.$Utils.showMessage("success",t.$toastMessage.updateItemPre+t.$toastMessage.updateItemSuf):t.$Utils.showMessage("error",t.$toastMessage.updateItemFailed)})})},onClick:function(){}}}}).call(__webpack_exports__,__webpack_require__(2))},function(t,e,a){"use strict";function i(t){a(637)}var s=a(638),o=a(639),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-b8b395fa",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i,s=a(44),o=a.n(s),n=a(3),l=a(43),r=a.n(l),c=a(16);n.default.use(r.a),e.a={props:["data"],components:{VueDragula:r.a,PermissionSelector:c.a},data:function(){return{model:{SummaryType:"Count",Expression:""},options:[],viewModel:{},CurrentDataGroup:{},ruleForm:{name:""},rules:{ReportCaption:[{required:!0,message:"Tên bắt bược nhập",trigger:"blur"}]}}},created:function(){this.data.value?this.action="edit":(this.viewModel.Type="Calculator",this.action="add"),this.bindComboModel()},mounted:function(){},ready:function(){},watch:{},methods:(i={close:function(){this.$hub.$emit("close-modal")},bindComboModel:function(){var e=this,a=["SummaryType","FormatValue","DatePart"],i=e.$Lodash.cloneDeep(e.$singleRequest);i.TotalRequests=0,t.each(a,function(t,e){i.TotalRequests++,i["R"+i.TotalRequests+"_RequestTemplate"]="SettingNew.SearchSetting",i["R"+i.TotalRequests+"_ParentCode"]="xSetting.Default.Project.Report."+e}),e.$Utils.postCheckResult(i).then(function(t){e.viewModel.ListSummaryTypes=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),e.viewModel.ListFormatValues=e.$Utils.getDataWithRoot(t.R2,"Data.DynamicDS.Setting"),e.viewModel.ListDateParts=e.$Utils.getDataWithRoot(t.R3,"Data.DynamicDS.Setting"),e.data.value&&(e.model=e.$Lodash.cloneDeep(e.data.value),e.model.ReportCaption=void 0==e.model.ReportCaption?e.model.Caption:e.model.ReportCaption)})},onExpression:function(t){this.model.Expression+=" {{"+t.Name+"}} "},back:function(){this.resetForm("ruleForm"),this.closeCallback&&this.closeCallback()},handleChange:function(t,e,a){},addGroupFields:function(){this.data.push({key:this.data.length,label:"grouped-fields",type:"GROUPFIELD",disabled:!0}),this.value3.push(this.data.length)},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.save()})},save:function(){var t=this,e=this;this.$refs.ruleForm.validate(function(a){if(!a)return console.log("error submit!!"),!1;"Calculator"==e.viewModel.Type&&(e.model.Caption=e.model.ReportCaption,e.model.Name=e.model.Name?e.model.Name:"Calculator."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),e.model.Type="Calculator"),e.communication={action:e.action,item:e.model,index:e.data.index},t.data.bindField(e.communication,t.data.CurrentGroup),t.close()})},resetForm:function(t){this.$refs[t].resetFields()}},o()(i,"handleChange",function(){}),o()(i,"onClick",function(){}),i)}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-element"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item"),t._v(" "),a("el-form-item",{attrs:{label:"Tên",prop:"ReportCaption"}},[a("el-input",{model:{value:t.model.ReportCaption,callback:function(e){t.$set(t.model,"ReportCaption",e)},expression:"model.ReportCaption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Khóa",prop:"Name"}},[a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),"Struct"===t.model.StorageType?a("el-form-item",{attrs:{label:"Khóa cha",prop:"ParentColumn"}},[a("el-input",{attrs:{clearable:""},model:{value:t.model.ParentColumn,callback:function(e){t.$set(t.model,"ParentColumn",e)},expression:"model.ParentColumn"}})],1):t._e(),t._v(" "),t.data.value&&"Calculator"!=t.data.value.Type?a("div",[a("el-form-item",{attrs:{label:"Phương thức tính"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.SummaryType,callback:function(e){t.$set(t.model,"SummaryType",e)},expression:"model.SummaryType"}},t._l(t.viewModel.ListSummaryTypes,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Description,value:t.Name}})}))],1),t._v(" "),"DatePart"==t.model.SummaryType?a("el-form-item",{attrs:{label:"Phần giá trị ngày tháng"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.DatePart,callback:function(e){t.$set(t.model,"DatePart",e)},expression:"model.DatePart"}},t._l(t.viewModel.ListDateParts,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Description,value:t.Name}})}))],1):t._e()],1):a("div",[a("div",{staticClass:"row"},t._l(t.data.model.Description.Fields.V,function(e){return a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.onExpression(e)}}},[t._v(t._s(e.Caption))])})),t._v(" "),a("el-form-item",{attrs:{label:"Biểu thức"}},[a("el-input",{model:{value:t.model.Expression,callback:function(e){t.$set(t.model,"Expression",e)},expression:"model.Expression"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Định dạng giá trị"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.FormatValue,callback:function(e){t.$set(t.model,"FormatValue",e)},expression:"model.FormatValue"}},t._l(t.viewModel.ListFormatValues,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Name,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Khoảng giá trị")]),t._v(" "),a("el-switch",{model:{value:t.model.RangeValue,callback:function(e){t.$set(t.model,"RangeValue",e)},expression:"model.RangeValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Hiển thị %")]),t._v(" "),a("el-switch",{model:{value:t.model.Percentage,callback:function(e){t.$set(t.model,"Percentage",e)},expression:"model.Percentage"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Định dạng giá trị"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.TotalType,callback:function(e){t.$set(t.model,"TotalType",e)},expression:"model.TotalType"}},[a("el-option",{key:"Total",attrs:{label:"Tổng",value:"Total"}}),t._v(" "),a("el-option",{key:"Average",attrs:{label:"Trung bình",value:"Average"}}),t._v(" "),a("el-option",{key:"None",attrs:{label:"Không tính",value:"None"}})],1)],1),t._v(" "),t.model.RangeValue?a("el-form-item",{attrs:{label:"Mã Template lấy dữ liệu"}},[a("el-input",{model:{value:t.model.ReportRequest,callback:function(e){t.$set(t.model,"ReportRequest",e)},expression:"model.ReportRequest"}})],1):t._e(),t._v(" "),t.model.RangeValue?a("el-form-item",{attrs:{label:"Đường dẫn gốc"}},[a("el-input",{model:{value:t.model.ReportDataRoot,callback:function(e){t.$set(t.model,"ReportDataRoot",e)},expression:"model.ReportDataRoot"}})],1):t._e(),t._v(" "),t.model.RangeValue?a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{model:{value:t.model.ReportCode,callback:function(e){t.$set(t.model,"ReportCode",e)},expression:"model.ReportCode"}})],1):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("Lưu")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.close()}}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(641),s=a(643),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(642),s=a(264);e.a={name:"ElSwitch",mixins:[Object(i.a)("input"),s.a],props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:0},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""}},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},transform:function(){return this.checked?"translate3d("+(this.coreWidth-20)+"px, 0, 0)":""}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor()}},methods:{handleChange:function(t){var e=this;this.$emit("input",this.checked?this.inactiveValue:this.activeValue),this.$emit("change",this.checked?this.inactiveValue:this.activeValue),this.$nextTick(function(){e.$refs.input.checked=e.checked})},setBackgroundColor:function(){var t=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=t,this.$refs.core.style.backgroundColor=t},switchValue:function(){this.$refs.input.click()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}}},,function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-switch",class:{"is-disabled":t.disabled,"is-checked":t.checked},attrs:{role:"switch","aria-checked":t.checked,"aria-disabled":t.disabled},on:{click:t.switchValue}},[a("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.disabled},on:{change:t.handleChange,keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.switchValue(e)}}}),t._v(" "),t.inactiveIconClass||t.inactiveText?a("span",{class:["el-switch__label","el-switch__label--left",t.checked?"":"is-active"]},[t.inactiveIconClass?a("i",{class:[t.inactiveIconClass]}):t._e(),t._v(" "),!t.inactiveIconClass&&t.inactiveText?a("span",{attrs:{"aria-hidden":t.checked}},[t._v(t._s(t.inactiveText))]):t._e()]):t._e(),t._v(" "),a("span",{ref:"core",staticClass:"el-switch__core",style:{width:t.coreWidth+"px"}},[a("span",{staticClass:"el-switch__button",style:{transform:t.transform}})]),t._v(" "),t.activeIconClass||t.activeText?a("span",{class:["el-switch__label","el-switch__label--right",t.checked?"is-active":""]},[t.activeIconClass?a("i",{class:[t.activeIconClass]}):t._e(),t._v(" "),!t.activeIconClass&&t.activeText?a("span",{attrs:{"aria-hidden":!t.checked}},[t._v(t._s(t.activeText))]):t._e()]):t._e()])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-form"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[a("el-form-item",[a("el-button",{on:{click:t.back}},[t._v("Quay lại")]),t._v(" "),t.isNew?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.openPermissionSelector()}}},[t._v("Cấp phép")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save("ruleForm")}}},[t._v("Lưu")]),t._v(" "),t.$isSystemAdmin()?a("el-button",{on:{click:t.editDetail}},[t._v("Nâng cao")]):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên"}},[a("el-input",{model:{value:t.model.Description.Caption,callback:function(e){t.$set(t.model.Description,"Caption",e)},expression:"model.Description.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.Description.More,callback:function(e){t.$set(t.model.Description,"More",e)},expression:"model.Description.More"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Hiển thị biểu đồ")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.ShowReport,callback:function(e){t.$set(t.model.Description,"ShowReport",e)},expression:"model.Description.ShowReport"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Hiển thị tiêu đề")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.ShowReportHeader,callback:function(e){t.$set(t.model.Description,"ShowReportHeader",e)},expression:"model.Description.ShowReportHeader"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Hiển thị bảng thống kê")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.ShowTable,callback:function(e){t.$set(t.model.Description,"ShowTable",e)},expression:"model.Description.ShowTable"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Ẩn tính tổng")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.HideTotal,callback:function(e){t.$set(t.model.Description,"HideTotal",e)},expression:"model.Description.HideTotal"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Lấy theo quyền")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.AssignedUser,callback:function(e){t.$set(t.model.Description,"AssignedUser",e)},expression:"model.Description.AssignedUser"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:"Funnel"==t.model.Description.ReportType?6:18}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Báo cáo realtime")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.RealTime,callback:function(e){t.$set(t.model.Description,"RealTime",e)},expression:"model.Description.RealTime"}})],1)],1),t._v(" "),"Funnel"==t.model.Description.ReportType?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Phễu %")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.Percentage,callback:function(e){t.$set(t.model.Description,"Percentage",e)},expression:"model.Description.Percentage"}})],1)],1):t._e(),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Loại báo cáo chu kỳ")]),t._v(" "),a("el-switch",{attrs:{"active-value":!0},model:{value:t.model.Description.TimePeriod,callback:function(e){t.$set(t.model.Description,"TimePeriod",e)},expression:"model.Description.TimePeriod"}})],1)],1),t._v(" "),t.model.Description.TimePeriod?a("el-col",{attrs:{span:18}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Số bước lặp")]),t._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"3"},model:{value:t.model.Description.rangePeriod,callback:function(e){t.$set(t.model.Description,"rangePeriod",e)},expression:"model.Description.rangePeriod"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Tần suất")]),t._v(" "),a("el-input",{attrs:{clearable:""},model:{value:t.model.Description.TimeInterval,callback:function(e){t.$set(t.model.Description,"TimeInterval",e)},expression:"model.Description.TimeInterval"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Giá trị bắt đầu")]),t._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"days/weeks/months/years"},model:{value:t.model.Description.TimeStart,callback:function(e){t.$set(t.model.Description,"TimeStart",e)},expression:"model.Description.TimeStart"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Trường kết nối")]),t._v(" "),a("el-input",{attrs:{clearable:""},model:{value:t.model.Description.TimeBindingField,callback:function(e){t.$set(t.model.Description,"TimeBindingField",e)},expression:"model.Description.TimeBindingField"}})],1)],1)],1):t._e()],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Mã template lấy dữ liệu"}},[a("el-input",{attrs:{clearable:""},model:{value:t.model.Description.FormRequest,callback:function(e){t.$set(t.model.Description,"FormRequest",e)},expression:"model.Description.FormRequest"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Đường dẫn gốc"}},[a("el-input",{attrs:{clearable:""},model:{value:t.model.Description.FormDataRoot,callback:function(e){t.$set(t.model.Description,"FormDataRoot",e)},expression:"model.Description.FormDataRoot"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{attrs:{clearable:""},model:{value:t.model.Description.FormCode,callback:function(e){t.$set(t.model.Description,"FormCode",e)},expression:"model.Description.FormCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Tỉ lệ biểu đồ"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.Description.ReportProportion,callback:function(e){t.$set(t.model.Description,"ReportProportion",e)},expression:"model.Description.ReportProportion"}},t._l(t.viewModel.ListDisplayProportions,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Name,value:t.Name}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Tỉ lệ bảng"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.Description.TableProportion,callback:function(e){t.$set(t.model.Description,"TableProportion",e)},expression:"model.Description.TableProportion"}},t._l(t.viewModel.ListDisplayProportions,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Name,value:t.Name}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Kiểu biểu đồ"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.Description.ReportType,callback:function(e){t.$set(t.model.Description,"ReportType",e)},expression:"model.Description.ReportType"}},t._l(t.viewModel.ListReportTypes,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Description,value:t.Name}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-collapse",[a("el-collapse-item",{attrs:{title:"Bổ sung T (join bảng)",name:"extenField1"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Khóa"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:t.tableTField.Code,callback:function(e){t.$set(t.tableTField,"Code",e)},expression:"tableTField.Code"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Tên"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:t.tableTField.Name,callback:function(e){t.$set(t.tableTField,"Name",e)},expression:"tableTField.Name"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị"}},[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:t.tableTField.Description,callback:function(e){t.$set(t.tableTField,"Description",e)},expression:"tableTField.Description"}})],1)],1),t._v(" "),a("el-button",{attrs:{disabled:""===t.tableTField.Code||""===t.tableTField.Name,type:"primary"},on:{click:function(e){t.addTField()}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Fields.T}},[a("el-table-column",{attrs:{prop:"Code",label:"Khóa",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.Code,callback:function(a){t.$set(e.row,"Code",a)},expression:"scope.row.Code"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"Tên"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.Name,callback:function(a){t.$set(e.row,"Name",a)},expression:"scope.row.Name"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Description",label:"Giá trị"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.Description,callback:function(a){t.$set(e.row,"Description",a)},expression:"scope.row.Description"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){t.confirmDelete(a,e.row,e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Khối dữ liệu",prop:"region"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",options:t.DataGroupTree,placeholder:""},on:{change:function(e){t.handleChange(t.selectedDataGroups)}},model:{value:t.selectedDataGroups,callback:function(e){t.selectedDataGroups=e},expression:"selectedDataGroups"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Trường dữ liệu đưa vào"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"Chọn"},model:{value:t.viewModel.Field,callback:function(e){t.$set(t.viewModel,"Field",e)},expression:"viewModel.Field"}},t._l(t.viewModel.ListReportFields,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption+" ("+t.Name+")",value:t.Name}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Nhóm",prop:"type"}},[a("el-radio-group",{model:{value:t.viewModel.Group,callback:function(e){t.$set(t.viewModel,"Group",e)},expression:"viewModel.Group"}},[a("el-radio",{attrs:{label:"X"}},[t._v("Chính")]),t._v(" "),a("el-radio",{attrs:{label:"Y"}},[t._v("Phụ")]),t._v(" "),a("el-radio",{attrs:{label:"V"}},[t._v("Đơn vị")])],1)],1),t._v(" "),a("el-button",{attrs:{disabled:!t.viewModel.Field},on:{click:t.addField}},[t._v("Thêm ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showFieldDetail("add")}}},[t._v("Thêm tính toán")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Góc nhìn chính "}},[a("div",{directives:[{name:"dragula",rawName:"v-dragula",value:t.model.Description.Fields.X,expression:"model.Description.Fields.X"}],staticClass:"container",attrs:{id:"row_X",bag:"fieldsBag"}},t._l(t.model.Description.Fields.X,function(e,i){return a("div",{key:e.Name,staticClass:"dragable row",attrs:{value:i}},[a("span",{on:{dblclick:function(a){t.showFieldDetail("edit",e,"X",i)}}},[t._v(t._s(e.Caption))]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-delete",on:{click:function(e){t.removeField(i,"X")}}})])])}))])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Góc nhìn phụ"}},[a("div",{directives:[{name:"dragula",rawName:"v-dragula",value:t.model.Description.Fields.Y,expression:"model.Description.Fields.Y"}],staticClass:"container",attrs:{id:"row_Y",bag:"fieldsBag"}},t._l(t.model.Description.Fields.Y,function(e,i){return a("div",{key:e.Name,staticClass:"dragable row",attrs:{value:i}},[a("span",{on:{dblclick:function(a){t.showFieldDetail("edit",e,"Y",i)}}},[t._v(t._s(e.Caption))]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-delete",on:{click:function(e){t.removeField(i,"Y")}}})])])}))])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Đơn vị"}},[a("div",{directives:[{name:"dragula",rawName:"v-dragula",value:t.model.Description.Fields.V,expression:"model.Description.Fields.V"}],staticClass:"container",attrs:{id:"row_V",bag:"fieldsBag"}},t._l(t.model.Description.Fields.V,function(e,i){return a("div",{key:e.Name,staticClass:"dragable row",attrs:{value:i}},[a("span",{on:{dblclick:function(a){t.showFieldDetail("edit",e,"V",i)}}},[t._v(t._s(e.Caption))]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-delete",on:{click:function(e){t.removeField(i,"V")}}})])])}))])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Sắp xếp"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.Description.OrderBy,callback:function(e){t.$set(t.model.Description,"OrderBy",e)},expression:"model.Description.OrderBy"}},t._l(t.viewModel.ListOrderFields,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Hướng sắp xếp"}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.model.Description.OrderDirection,callback:function(e){t.$set(t.model.Description,"OrderDirection",e)},expression:"model.Description.OrderDirection"}},[a("el-option",{attrs:{value:"ASC"}},[t._v("Tăng dần")]),t._v(" "),a("el-option",{attrs:{value:"DESC"}},[t._v("Giảm dần")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Số phần tử"}},[a("el-input",{model:{value:t.model.Description.Top,callback:function(e){t.$set(t.model.Description,"Top",e)},expression:"model.Description.Top"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Sử dụng SQL trực tiếp"}},[a("el-switch",{model:{value:t.model.Description.EnableRawSQL,callback:function(e){t.$set(t.model.Description,"EnableRawSQL",e)},expression:"model.Description.EnableRawSQL"}})],1),t._v(" "),a("el-col",{attrs:{span:24}},[t.model.Description.EnableRawSQL?a("el-form-item",{attrs:{label:"Cấu hình Template"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3}},model:{value:t.model.PathById,callback:function(e){t.$set(t.model,"PathById",e)},expression:"model.PathById"}})],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Hiển thị cột phần trăm"}},[a("el-switch",{model:{value:t.model.Description.EnablePercentageColumn,callback:function(e){t.$set(t.model.Description,"EnablePercentageColumn",e)},expression:"model.Description.EnablePercentageColumn"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[t.model.Description.EnablePercentageColumn?a("el-form-item",{attrs:{label:"Tên trường tính %"}},[a("el-input",{model:{value:t.model.Description.PercentageColumnName,callback:function(e){t.$set(t.model.Description,"PercentageColumnName",e)},expression:"model.Description.PercentageColumnName"}})],1):t._e()],1),t._v(" "),a("el-col",{attrs:{span:12}},[t.model.Description.EnablePercentageColumn?a("el-form-item",{attrs:{label:"Tên hiển thị trên bảng trường tính %"}},[a("el-input",{model:{value:t.model.Description.PercentageDisplayName,callback:function(e){t.$set(t.model.Description,"PercentageDisplayName",e)},expression:"model.Description.PercentageDisplayName"}})],1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"Cấu hình thêm"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.Description.AdvanceSetting,callback:function(e){t.$set(t.model.Description,"AdvanceSetting",e)},expression:"model.Description.AdvanceSetting"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:""}},[a("h3",[t._v("Bảng thống kê")]),t._v(" "),a("b-card",[a("el-checkbox-group",{on:{change:t.checkedField},model:{value:t.listSelectedButtons,callback:function(e){t.listSelectedButtons=e},expression:"listSelectedButtons"}},[a("div",{directives:[{name:"dragula",rawName:"v-dragula",value:t.ListTableFields,expression:"ListTableFields"}],attrs:{bag:"btnFieldsBag"}},t._l(t.ListTableFields,function(e){return a("el-checkbox",{staticClass:"col-md-12 dragable",staticStyle:{"margin-left":"0px"},attrs:{label:e.value}},[t._v(t._s(e.label))])}))])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("h3",[t._v("Biểu đồ kết hợp")]),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Sử dụng")]),t._v(" "),a("el-switch",{model:{value:t.model.Description.EnableDataSeries,callback:function(e){t.$set(t.model.Description,"EnableDataSeries",e)},expression:"model.Description.EnableDataSeries"}})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Fields.Series}},[a("el-table-column",{attrs:{prop:"Caption",label:"Tên"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Enabled",label:"Sử dụng"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{model:{value:e.row.Enabled,callback:function(a){t.$set(e.row,"Enabled",a)},expression:"scope.row.Enabled"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ReportType",label:"Loại"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"Chọn"},model:{value:e.row.ReportType,callback:function(a){t.$set(e.row,"ReportType",a)},expression:"scope.row.ReportType"}},t._l(t.viewModel.ListReportTypes,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Description,value:t.Name}})}))]}}])})],1)],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(646),s=a(647),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i);e.a={props:["data"],data:function(){return{communication:{},form:{name:""},rules:{name:[{required:!0,message:"Tên báo cáo không được để trống",trigger:"blur"}]}}},methods:{reload:function(){this.$hub.$emit("reload")},close:function(){this.$hub.$emit("close-modal")},save:function(){var e=this,a=e.$Lodash.cloneDeep(e.$singleRequest),i=e.form.name.split(";"),o=[];a.TotalRequests=0,t.each(i,function(t,i){if(""!=i){a.TotalRequests++;var n={Code:"Report."+e.$Utils.removeVNCharacters(i)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),Description:s()({Caption:i,ModuleType:"Report",ReportProportion:"65",ReportType:"Column",TableProportion:"30",EnableDataSeries:"false",ShowReport:"true",ShowReportHeader:"true",ShowTable:"true",AssignedUser:"false",Fields:{X:[],Y:[],V:[],T:[],Table:[],Series:[],Calculators:[]}}),Caption:i,Value:"[]"};e.$Utils.updateParamsSingleRequest(a,n,a.TotalRequests),e.$Utils.updateParamsSingleRequest(a,{RequestTemplate:"SettingNew.Insert",NestedSetType:"InsertLastChildNode",ReferenceId:e.data.data},a.TotalRequests),o.push(n)}}),e.$Utils.post(a).then(function(a){if(a.success){e.$Utils.showMessage("success","Thêm mới thành công."),e.communication={action:"insert",items:[]};var i=[];t.each(o,function(t,s){i.push({Id:a["R"+(t+1)].Data,Caption:s.Caption,Name:"Report"}),s.Id=a["R"+(t+1)].Data,e.communication.items.push(s)}),e.$Utils.linkToRoleEveryone(i),e.reload(),e.close()}else e.$Utils.showMessage("error","Đã xảy ra lỗi."),e.reload(),e.close()})}},created:function(){}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form}},[a("el-form-item",{attrs:{label:"Tên báo cáo",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showEditForm?a("div",[a("ReportForm",{attrs:{selectedItem:t.rowItem,isShow:t.showEditForm,closeCallback:t.hiddenForm}})],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"Thông tin chi tiết Báo cáo",visible:t.dialogFormVisible,"close-on-click-modal":!1,"show-close":""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"newReport",attrs:{model:t.rulesForm}},[a("el-form-item",{attrs:{prop:"Name","label-width":"180px",size:"mini",label:"Tên",rules:{required:!0,message:"Tên bắt buộc nhập",trigger:"blur"}}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.rulesForm.Name,callback:function(e){t.$set(t.rulesForm,"Name",e)},expression:"rulesForm.Name"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Đóng")])],1)],1),t._v(" "),t.showEditForm?t._e():a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"fa fa-plus",on:{click:function(e){t.dialogFormVisible=!0}}}),t._v(" "),a("el-button",{staticClass:"fa fa-refresh",on:{click:t.reload}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Tìm kiếm","prefix-icon":"el-icon-search",clearable:""},model:{value:t.inputProps,callback:function(e){t.inputProps=e},expression:"inputProps"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"Mã"}}),t._v(" "),a("el-table-column",{attrs:{label:"Tên"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(JSON.parse(e.row.Description).Caption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Khối dữ liệu"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(JSON.parse(e.row.Description).DataGroupCaption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(650);e.a={components:{FilterForm:i.a},data:function(){return{showEditForm:!1,isAddNew:!0,searchInput:"",keyword:"",arr:[],temp:[],rowItem:{}}},methods:{handleAddNew:function(){this.isAddNew=!0,this.rowItem={},this.showEditForm=!0},onReload:function(){this.loadData()},hiddenForm:function(){this.isAddNew=!0,this.rowItem={},this.showEditForm=!1,this.onReload()},editItem:function(t){},handleEdit:function(t,e){this.isAddNew=!1,this.rowItem=e,this.showEditForm=!0},handleDelete:function(t,e){var a=this;this.$Utils.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};i.R1_RequestTemplate="Setting.SearchBase",i.R1_ParentId=e.Id,i.R1_IncludedNestedSetParent=!0,void 0===e.Id||""===e.Id?a.$Utils.showMessage("error","Không định danh được đối tượng!"):(a.$Utils.showLoading("start"),a.$Utils.post(i).then(function(e){e=a.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1};var s="";i.TotalRequests=0,e.forEach(function(t){i.TotalRequests++,i["R"+i.TotalRequests+"_RequestTemplate"]="SettingNew.Delete",i["R"+i.TotalRequests+"_Id"]=t.Id,s+=t.Id+";"}),i.TotalRequests>0&&a.$Utils.post(i).then(function(){a.$Utils.showMessage("success",a.$toastMessage.deleteItemPre+a.$toastMessage.deleteItemSuf),a.$Utils.removeAllLink(s),a.arr.splice(t,1),a.$Utils.showLoading("stop")})}))})},loadData:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:"xSetting.Project.Filter",R1_Level:4};this.$Utils.postCheckResult(e).then(function(e){e.success&&(t.arr=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.temp=t.$Lodash.cloneDeep(t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")))})},reload:function(){this.loadData(),this.$router.push("/filters")}},mounted:function(){},created:function(){this.loadData()},watch:{searchInput:function(t){(""!==t.trim()||this.$Utils.isEmpty(t))&&(this.arr=this.temp.filter(function(e){return JSON.parse(e.Description).DataGroupCaption.toLowerCase().indexOf(t.toLowerCase())>-1||JSON.parse(e.Description).Caption.toLowerCase().indexOf(t.toLowerCase())>-1||e.Code.toLowerCase().indexOf(t.toLowerCase())>-1}))}}}},function(t,e,a){"use strict";function i(t){a(651)}var s=a(652),o=a(656),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-a48706de",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(31),n=a(267);e.a={components:{SelectTree:o.a,FieldInfoDialog:n.a},props:["selectedItem","isShow","isNew","closeCallback"],data:function(){return{checked:!1,dataBlock:[],dataField:"",dataFields:[],options:[],value4:"",value:"",inputName:"",inputDescription:"",action:"",model:{},parentSetting:{},loadField:"",viewModel:{SelectedDataGroup:"",Field:"",Group:"",Groups:[],DataGroup:{source:[]},OrderFields:{source:[]},CurrentDataGroup:{Fields:[]}},rules:{Caption:[{required:!0,message:"Trường bắt buộc",trigger:"blur"}]}}},methods:{editField:function(t){var e=this,e=this,a={item:t,action:"edit",type:"Filter"};e.$hub.$emit("set-modal-data","Thông tin trường dữ liệu","50%",!0,"center",n.a,!1,"",a)},removeField:function(e,a){var i=this,s=[];t.each(i.viewModel.Groups[a].children,function(o,n){if(e.Name===n.Name)return i.viewModel.Groups[a].children.splice(o,1),s=i.$Lodash.cloneDeep(i.viewModel.Groups),i.model.Description.Groups=i.$Lodash.cloneDeep(s),t.each(i.model.ObjectFields,function(t,a){if(e.Name===a.Name)return i.model.ObjectFields.splice(t,1),!1}),!1})},handleChange:function(t){},onSelectDataGroup:function(t){var e=this;e.viewModel.SelectedDataGroup=t,e.viewModel.OrderFields.source=[],e.viewModel.ListDataGroups.forEach(function(t){if(t.Id===e.viewModel.SelectedDataGroup[e.viewModel.SelectedDataGroup.length-1]){var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="SettingNew.SearchSetting",a.R1_Code=t.Code,e.$Utils.postCheckResult(a).then(function(t){t=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),t=t[0],t.Description=JSON.parse(t.Description),t.Fields="";for(var a=1;a<=t.Description.FCount;a++)void 0!=t["F"+a]&&(t.Fields+=t["F"+a],delete t["F"+a]);t.Fields=JSON.parse(t.Fields),e.viewModel.CurrentDataGroup={Fields:t.Fields}})}})},changeState:function(t){this.$set(t,"$foldClose",!t.$foldClose)},editTreeNode:function(t){},back:function(){this.closeCallback&&this.closeCallback()},save:function(){var t=this;t.$refs.form.validate(function(e){if(!e)return!1;var a=t.bindSavedData(),i="edit",s=t.$Lodash.cloneDeep(t.$singleRequest);s=t.$Utils.updateParamsSingleRequest(s,a),t.model.Id?s=t.$Utils.updateParamsSingleRequest(s,{RequestTemplate:"SettingNew.Update"}):(i="insert",s=t.$Utils.updateParamsSingleRequest(s,{Code:"Filter."+t.$Utils.removeVNCharacters(a.Caption)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),RequestTemplate:"SettingNew.Insert",ReferenceId:t.parentSetting.Id,NestedSetType:"InsertLastChildNode"})),t.$Utils.postCheckResult(s).then(function(e){e.success&&(t.model.Id=e.R1.Data,"insert"===i&&t.$Utils.linkToRoleEveryone([{Id:t.model.Id,Caption:t.model.Caption,Name:t.model.Name}]),t.$Utils.showMessage("success",t.$toastMessage.updateItemPre+t.$toastMessage.updateItemSuf))})})},bindEditor:function(){var e=this;if(e.isNew)e.action="";else{e.action="edit";var a=e.$Lodash.cloneDeep(e.selectedItem);a.Description=JSON.parse(a.Description),a.ObjectFields="";for(var i=1;i<=a.Description.OFCount;i++)void 0!==a["OF"+i]&&(a.ObjectFields+=a["OF"+i],delete a["OF"+i]);a.ObjectFields=JSON.parse(a.ObjectFields),t.each(a.Description,function(t,e){"true"===t?a.Description[e]=!0:"false"===t&&(a.Description[e]=!1)}),e.model=a,e.viewModel.CurrentDataGroup.Fields=e.$Lodash.cloneDeep(e.model.ObjectFields),t.each(e.model.Description.Groups,function(a,i){if(i.ListFields){var s=i.ListFields,o=s.split(";");i.children=[],t.each(o,function(a,s){t.each(e.model.ObjectFields,function(t,a){a.Name===s&&(i.children.push(a),e.viewModel.OrderFields.source.push(a))})}),i.collapseIcon="fa fa-plus-square",i.expandIcon="fa fa-minus-square",i.level="0",i.Level="5",i.Name=i.Caption}}),e.viewModel.Groups=e.$Lodash.cloneDeep(e.model.Description.Groups)}e.bindDataGroupSource(),""===e.action&&(e.model={Description:{Groups:[{Caption:"Lọc chính"},{Caption:"Lọc nâng cao"}],Dependencies:[],Link:{}},ObjectFields:[]},e.viewModel.Groups=e.$Lodash.cloneDeep(e.model.Description.Groups),e.viewModel.Groups.forEach(function(t){t.ListFields="",t.children=[],t.collapseIcon="fa fa-plus-square",t.expandIcon="fa fa-minus-square",t.level="0",t.Level="5",t.Name=t.Caption}),e.bindParentSetting())},bindParentSetting:function(){var t=this,e=t.$Lodash.cloneDeep(t.$singleRequest);e.R1_RequestTemplate="Setting.SearchBase",e.R1_Code="xSetting.Project.Filter",t.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.parentSetting=e[0]})},bindDataGroupSource:function(){var t=this,e=t.$Lodash.cloneDeep(t.$singleRequest);e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_ParentCode="xSetting.Project.DataGroup",e.R1_Level="4;5",t.$Utils.post(e).then(function(e){t.viewModel.ListDataGroups=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.viewModel.DataGroup.source=t.$Lodash.cloneDeep(t.viewModel.ListDataGroups),t.viewModel.DataGroup.source.forEach(function(e){var a=!0;if(e.Code===t.selectedItem.Name){var i=[e.ParentId,e.Id];t.$set(t.viewModel,"selectedDataGroup",i),t.onSelectDataGroup(t.viewModel.selectedDataGroup),a=!1}return a})})},bindSavedData:function(){var e=this,a=e.$Lodash.cloneDeep(e.model);e.$Utils.deleteAutoValue(a),e.viewModel.ListDataGroups.forEach(function(t){if(t.Id===e.viewModel.SelectedDataGroup[e.viewModel.SelectedDataGroup.length-1]){var i=e.$Lodash.cloneDeep(t);i.Description=JSON.parse(i.Description),a.Name=i.Code,a.Caption=a.Description.Caption,a.Description.DataGroupCaption=i.Caption,a.Description.Link=i.Description.Link,a.Description.RootData=i.Description.RootData,a.Description.DataSource=i.Description.DataSource,a.Description.AdditionConditions=i.Description.AdditionConditions,a.Description.Dependencies=i.Description.Dependencies}}),a.ObjectFields=[],t.each(a.Description.Groups,function(t,i){i.ListFields="",e.viewModel.Groups[t].children&&e.viewModel.Groups[t].children.length>0&&e.viewModel.Groups[t].children.forEach(function(t){i.ListFields+=t.Name+";",a.ObjectFields.push(t)})}),a.Fields=e.$Lodash.cloneDeep(a.ObjectFields);var i=e.$Lodash.cloneDeep(e.viewModel.CurrentDataGroup.Fields);a.Fields.forEach(function(a){i.forEach(function(i){i.Name===a.Name&&(t.each(i,function(t,i){e.$Utils.isEmpty(a[t])||(a[t]=i)}),e.$Utils.deleteAutoValue(a))})}),i.forEach(function(t){e.$Utils.deleteAutoValue(t),"Hidden"===t.FormFieldType&&a.Fields.push(t),void 0!==t.DynamicText&&null!=t.DynamicText&&a.Fields.push({Name:t.DynamicText,FieldStorageType:"Dynamic"})}),a.ObjectFields.forEach(function(t){delete t.$parent}),a.ObjectFields=s()(a.ObjectFields);for(var o=0,n=0,l=1;l<7;l++)a.ObjectFields.length>o&&(a["OF"+l]=a.ObjectFields.substring(o,o+9999),o=1e4*l-l,n=l);a.Description.OFCount=n,delete a.ObjectFields,o=0,n=0,a.Fields.forEach(function(t){delete t.$parent}),a.Fields=s()(a.Fields);for(var l=1;l<7;l++)a.Fields.length>o&&(a["F"+l]=a.Fields.substring(o,o+9999),o=1e4*l-l,n=l);return a.Description.FCount=n,delete a.Fields,t.each(a.Description,function(t,i){!0===i&!e.isNumeric(a.Description[t])&&(a.Description[t]="true"),!1===i&&""!==i&&(a.Description[t]="false")}),a.Description.ModuleType="Filter",a.Description=s()(a.Description),a},insertField:function(){var t=this;t.loadField="Đang thêm ...";var e=!1,a=[];""!==t.viewModel.Field?(t.model.ObjectFields.forEach(function(a){a.Name===t.viewModel.Field&&(e=!0)}),!1===e?(t.viewModel.Groups.forEach(function(e){e.Caption===t.viewModel.Group&&(e.ListFields+=t.viewModel.Field+";",t.viewModel.CurrentDataGroup.Fields.forEach(function(a){a.Name===t.viewModel.Field&&(e.children.push(a),t.model.ObjectFields.push(a))}))}),a=t.$Lodash.cloneDeep(t.viewModel.Groups),t.model.Description.Groups=t.$Lodash.cloneDeep(a),a=s()(t.model.Description.Groups),t.model.Description.Groups=JSON.parse(a),t.$forceUpdate(),t.$nextTick()):t.$Utils.showMessage("error","Trường dữ liệu đã được thêm vào")):t.$Utils.showMessage("error","Hãy chọn 1 trường dữ liệu"),t.viewModel.Field=""},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},created:function(){this.bindEditor()},mounted:function(){}}}).call(e,a(2))},function(t,e){},function(t,e,a){"use strict";(function(t){e.a={components:{},name:"field-info-dialog",props:["data"],data:function(){var e={};return e.model={},e.viewModel={FieldDisplayType:[],FormElementType:[]},e.dataToPass=this.data.item,"edit"==this.data.action?(e.model=this.$Lodash.cloneDeep(this.data.item),t.each(e.model,function(t,a){e.model[t]="true"===a||"false"!==a&&a})):e.model={Caption:"",Expression:"",AdvancedDisplay:"",DisplayType:{},PlaceHolder:"",FormElementType:{},DateTimeType:"",FormIsDisplay:!1,FormIsDisabled:!1,IncludeTime:!1,ClearAfter:!1,Format:!1},e},methods:{bindComboModel:function(){var e=this,a=e.$Utils.updateParamsSingleRequest(e.$Lodash.cloneDeep(e.$singleRequest),{RequestTemplate:"Setting.SearchBase",ParentCode:"xSetting.Default.Project.DataGroup.Field.FormElementType.General"});a.TotalRequests++,a=e.$Utils.updateParamsSingleRequest(a,{RequestTemplate:"Setting.SearchBase",ParentCode:"xSetting.Default.Project.Form.FieldDisplayType"},a.TotalRequests),e.$Utils.post(a).then(function(a){e.viewModel.FormElementType=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),e.viewModel.FormElementType=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),e.viewModel.FieldDisplayType=e.$Utils.getDataWithRoot(a.R2,"Data.DynamicDS.Setting"),t.each(e.viewModel.FieldDisplayType,function(t,a){a.Code==e.model.DisplayType&&e.$set(e.model,"DisplayType",a)}),t.each(e.viewModel.FormElementType,function(t,a){a.Name==e.model.FormElementType&&e.$set(e.model,"FormElementType",a)})})},close:function(){this.$hub.$emit("close-modal")},save:function(){var e=this,a=e.$Lodash.cloneDeep(e.model);e.$Utils.isEmpty(a.DisplayType)&&(a.DisplayType=a.DisplayType.Code),e.$Utils.isEmpty(a.FormElementType)&&(a.FormElementType=a.FormElementType.Name),t.each(a,function(i,s){1!=s||t.isNumeric(i)||(a[i]="true"),0!=s||t.isNumeric(s)||(a[i]="false"),e.dataToPass[i]=s}),e.close(),e.close()}},created:function(){var t=this;t.isSystemAdmin=t.$isSystemAdmin(),t.Showa=!0,t.bindComboModel()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Gợi ý"}},[a("el-input",{model:{value:t.model.PlaceHolder,callback:function(e){t.$set(t.model,"PlaceHolder",e)},expression:"model.PlaceHolder"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giao diện"}},[a("el-select",{attrs:{"value-key":"Code",clearable:""},model:{value:t.model.DisplayType,callback:function(e){t.$set(t.model,"DisplayType",e)},expression:"model.DisplayType"}},t._l(t.viewModel.FieldDisplayType,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Kiểu phần tử"}},[a("el-select",{attrs:{"value-key":"Id",clearable:""},model:{value:t.model.FormElementType,callback:function(e){t.$set(t.model,"FormElementType",e)},expression:"model.FormElementType"}},t._l(t.viewModel.FormElementType,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Name,value:t}})}))],1),t._v(" "),a("el-form-item",[a("el-checkbox",{attrs:{label:"Theo phân quyền"},model:{value:t.model.AssignedField,callback:function(e){t.$set(t.model,"AssignedField",e)},expression:"model.AssignedField"}}),t._v(" "),a("el-checkbox",{attrs:{label:"Hiển thị (trường tính toán)"},model:{value:t.model.FormIsDisplay,callback:function(e){t.$set(t.model,"FormIsDisplay",e)},expression:"model.FormIsDisplay"}}),t._v(" "),a("el-checkbox",{attrs:{label:"Chặn sửa"},model:{value:t.model.FormIsDisabled,callback:function(e){t.$set(t.model,"FormIsDisabled",e)},expression:"model.FormIsDisabled"}}),t._v(" "),a("el-checkbox",{attrs:{label:"Bao gồm giờ"},on:{click:function(e){t.show(t.Showa)}},model:{value:t.model.IncludeTime,callback:function(e){t.$set(t.model,"IncludeTime",e)},expression:"model.IncludeTime"}}),t._v(" "),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.$isSystemAdmin(),expression:"$isSystemAdmin()"}],attrs:{label:"Xóa sau cập nhật"},model:{value:t.model.ClearAfter,callback:function(e){t.$set(t.model,"ClearAfter",e)},expression:"model.ClearAfter"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Định dạng"}},[a("el-input",{model:{value:t.model.Format,callback:function(e){t.$set(t.model,"Format",e)},expression:"model.Format"}})],1),t._v(" "),t.data.type?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.$isSystemAdmin(),expression:"$isSystemAdmin()"}],attrs:{label:"Mặc định"}},[a("el-input",{model:{value:t.model[t.data.type+"DefaultValue"],callback:function(e){t.$set(t.model,t.data.type+"DefaultValue",e)},expression:"model[data.type + 'DefaultValue']"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Kiểu nhập giờ"}},[a("el-select",{model:{value:t.model.DateTimeType,callback:function(e){t.$set(t.model,"DateTimeType",e)},expression:"model.DateTimeType"}},[a("el-option",{attrs:{value:"clockinput",label:"Đồng hồ"}}),t._v(" "),a("el-option",{attrs:{value:"handsinput",label:"Nhập tay"}})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.$isSystemAdmin(),expression:"$isSystemAdmin()"}],attrs:{label:"Công thức"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.Expression,callback:function(e){t.$set(t.model,"Expression",e)},expression:"model.Expression"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.$isSystemAdmin(),expression:"$isSystemAdmin()"}],attrs:{label:"Giao diện nâng cao"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.AdvancedDisplay,callback:function(e){t.$set(t.model,"AdvancedDisplay",e)},expression:"model.AdvancedDisplay"}})],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){t.save()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.close()}}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",attrs:{model:t.model.Description,"label-width":"120px",rules:t.rules}},[a("el-form-item",[a("el-button",{on:{click:t.back}},[t._v("Quay lại")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã",prop:"Code"}},[a("el-input",{attrs:{disabled:""},model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên",prop:"Caption"}},[a("el-input",{attrs:{placeholder:"Nhập tên..."},model:{value:t.model.Description.Caption,callback:function(e){t.$set(t.model.Description,"Caption",e)},expression:"model.Description.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả"}},[a("el-input",{attrs:{placeholder:"Nhập mô tả ..."},model:{value:t.model.Description.More,callback:function(e){t.$set(t.model.Description,"More",e)},expression:"model.Description.More"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Khối dữ liệu"}},[a("SelectTree",{attrs:{datasource:t.viewModel.DataGroup.source,nameField:["Caption","Code"],value:t.value,selectedValue:t.viewModel.selectedDataGroup,callback:t.onSelectDataGroup}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Cho phép quản trị"}},[a("el-checkbox",{model:{value:t.model.Description.isAdminSeen,callback:function(e){t.$set(t.model.Description,"isAdminSeen",e)},expression:"model.Description.isAdminSeen"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường dữ liệu"}},[a("el-col",{attrs:{span:12}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Chọn trường dữ liệu thêm vào bộ lọc",filterable:""},model:{value:t.viewModel.Field,callback:function(e){t.$set(t.viewModel,"Field",e)},expression:"viewModel.Field"}},t._l(t.viewModel.CurrentDataGroup.Fields,function(e){return"true"==e.FilterIsUsed?a("el-option",{key:e.Name,attrs:{label:e.Caption+" ("+e.Name+")",value:e.Name}}):t._e()}))],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"90%"},attrs:{clearable:"",placeholder:"Nhóm bộ lọc"},model:{value:t.viewModel.Group,callback:function(e){t.$set(t.viewModel,"Group",e)},expression:"viewModel.Group"}},t._l(t.model.Description.Groups,function(t){return a("el-option",{key:t.Caption,attrs:{label:t.Caption,value:t.Caption}})}))],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",disabled:""===t.viewModel.Group},on:{click:function(e){t.insertField()}}},[t._v("Thêm")])],1)],1),t._v(" "),a("el-form-item",[a("el-card",t._l(t.viewModel.Groups,function(e,i){return a("sortable-tree",{attrs:{data:e,dragEnable:!0,closeStateKey:"$foldClose"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item;return[a("div",{staticClass:"custom-tree-content",class:{exitChild:s.children&&s.children.length}},[s.$foldClose&&s.children&&s.children.length?a("span",{on:{click:function(e){t.changeState(s)}}},[a("i",{class:s.collapseIcon})]):!s.$foldClose&&s.children&&s.children.length?a("span",{on:{click:function(e){t.changeState(s)}}},[a("i",{class:s.expandIcon})]):t._e(),t._v(" "),a("span",{staticClass:"mr-3"},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(s.Caption))])]),t._v(" "),a("span",[s.children?t._e():a("i",{staticClass:"el-icon-edit",on:{click:function(e){t.editField(s)}}})]),t._v(" "),a("span",[s.children?t._e():a("i",{staticClass:"el-icon-delete",on:{click:function(e){t.removeField(s,i)}}})])])]}}])})}))],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showEditForm?a("div",[a("FilterForm",{attrs:{selectedItem:t.rowItem,isShow:t.showEditForm,isNew:t.isAddNew,closeCallback:t.hiddenForm}})],1):t._e(),t._v(" "),t.showEditForm?t._e():a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"fa fa-plus",on:{click:t.handleAddNew}}),t._v(" "),a("el-button",{staticClass:"fa fa-refresh",on:{click:t.onReload}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Tìm kiếm","prefix-icon":"el-icon-search",clearable:""},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.arr}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DataGroup",label:"Khối"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"Mã hệ thống"}}),t._v(" "),a("el-table-column",{attrs:{label:"Tên"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(JSON.parse(e.row.Description).Caption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Khối dữ liệu"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(JSON.parse(e.row.Description).DataGroupCaption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(659);e.a={components:{ListForm:i.a},data:function(){return{deleteDialogVisible:!1,showEditForm:!1,isAddNew:!1,rowItem:{},tableData:[],keyword:"",temp:[],selectedItem:{}}},watch:{keyword:function(t){(""!==t.trim()||this.$Utils.isEmpty(t))&&(this.tableData=this.temp.filter(function(e){return JSON.parse(e.Description).DataGroupCaption.toLowerCase().indexOf(t.toLowerCase())>-1||e.Caption.toLowerCase().indexOf(t.toLowerCase())>-1||e.Code.toLowerCase().indexOf(t.toLowerCase())>-1}))}},methods:{showDeleteDialog:function(t){this.deleteDialogVisible=!0,this.selectedItem=t},onReload:function(){this.loadData()},handleDelete:function(t,e){var a=this,i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="Setting.SearchBase",i.R1_ParentId=e.Id,i.R1_IncludedNestedSetParent=!0,void 0!=e.Id&&""!=e.Id.trim()&&this.$Utils.post(i).then(function(e){e=a.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),i=a.$Lodash.cloneDeep(a.$singleRequest);var s="";i.TotalRequests=0,e.forEach(function(t){i.TotalRequests++,i["R"+i.TotalRequests+"_RequestTemplate"]="SettingNew.Delete",i["R"+i.TotalRequests+"_Id"]=t.Id,s+=t.Id+";"}),i.TotalRequests>0&&a.$Utils.post(i).then(function(e){a.$Utils.removeAllLink(s),a.tableData.splice(t,1)})}),this.deleteDialogVisible=!1},editItem:function(t){},hiddenForm:function(){this.showEditForm=!1,this.loadData()},onSubmit:function(){},handleAddNew:function(){this.isAddNew=!0,this.rowItem={},this.showEditForm=!0},handleEdit:function(t,e){this.isAddNew=!1,this.rowItem=e,this.showEditForm=!0},loadData:function(){var t=this;if(!this.showEditForm){this.$getItemLocalStorage(this.$localStorageConstant.SessionId)}var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:"xSetting.Project.List",R1_Level:4};this.$Utils.postCheckResult(e).then(function(e){t.tableData=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.temp=t.$Lodash.cloneDeep(t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"))})}},mounted:function(){this.showEditForm=void 0!==this.$route.query&&null!=this.$route.query.id&&""!==this.$route.query.id,this.isAddNew="new"===this.$route.query.id,this.loadData()}}},function(t,e,a){"use strict";function i(t){a(660)}var s=a(661),o=a(669),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-233dc212",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(3),n=a(43),l=a.n(n),r=a(16),c=a(31),d=a(662),u=a(666);o.default.use(l.a),e.a={props:["selectedItem","isShow","isNew","closeCallback"],components:{VueDragula:l.a,PermissionSelector:r.a,SelectTree:c.a,ListFieldInfoDialog:d.a,ExtendListNotify:u.a},data:function(){return{selectedField:"",isSystemAdmin:this.$isSystemAdmin(),activeNames:["1"],model:{},ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rules:{Caption:{required:!0,message:"Trường bắt buộc",trigger:"blur"}},viewModel:{Field:"",PartitionCalculator:{source:[],checkboxes:!0,displayMember:"Caption",valueMember:"Name"},DataGroup:{source:[]},Fields:{source:[]},Buttons:{source:[]},DisplayType:"",ListDataGroups:[],CurrentDataGroup:{Fields:[],Buttons:[]}},parentSetting:{},listSelectedButtons:[],selectedDataGroup:[],action:"",CurrentDataGroup:{},communication:{action:"",item:{},index:"",scope:this}}},created:function(){this.bindEditor(),o.default.vueDragula.options("fieldsbag",{direction:"vertical"}),o.default.vueDragula.options("btnFieldsbag",{direction:"vertical"})},mounted:function(){},ready:function(){o.default.vueDragula.eventBus.$on("drop",function(t){})},watch:{selectedItem:{handler:function(t,e){},deep:!0}},methods:{editRow:function(t,e,a){this.communication.action=t,"edit"===t&&(this.communication.item=e,this.communication.index=e.$index),this.communication.type="List",this.$hub.$emit("set-modal-data","Thông tin chi tiết thông báo","40%",!0,"center",u.a,!1,"",this.communication)},bindSubElement:function(t,e){"edit"==e.action?this.model.Description.Notifications[e.index]=e.item:this.model.Description.Notifications.push(e.item)},deleteRow:function(t){this.model.Description.Notifications.splice(t,1)},bindField:function(e){var a=this;"edit"==e.action?this.model.ObjectFields.forEach(function(i){i.Name===e.item.Name&&t.each(e.item,function(t,e){a.$set(i,t,e)})}):(e.item.Name=this.$Utils.removeVNCharacters(e.item.Caption),this.model.ObjectFields.push(e.item))},showFieldDetail:function(t,e){this.communication={item:this.$Lodash.cloneDeep(e),action:t,index:"",type:"List",scope:this},this.$hub.$emit("set-modal-data","Thông tin trường dữ liệu","50%",!0,"center",d.a,!1,"",this.communication)},save:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return!1;var a=t.bindSavedData(),i="edit",s=t.$Lodash.cloneDeep(t.$singleRequest);s=t.$Utils.updateParamsSingleRequest(s,a),t.model.Id?s=t.$Utils.updateParamsSingleRequest(s,{RequestTemplate:"SettingNew.Update"}):(i="insert",s=t.$Utils.updateParamsSingleRequest(s,{Code:"List."+t.$Utils.removeVNCharacters(a.Caption)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),RequestTemplate:"SettingNew.Insert",ReferenceId:t.parentSetting.Id,NestedSetType:"InsertLastChildNode"})),t.$Utils.postCheckResult(s).then(function(e){e.success&&(t.model.Id=e.R1.Data,"insert"==i&&(t.$Utils.linkToRoleEveryone([{Id:t.model.Id,Caption:t.model.Caption,Name:t.model.Name}]),t.$Utils.showMessage("success",t.$toastMessage.updateItemPre+t.$toastMessage.updateItemSuf)))})})},bindSavedData:function(){var e=this,a=this.$Lodash.cloneDeep(this.model);if(this.$Utils.deleteAutoValue(a),this.viewModel.ListDataGroups.forEach(function(t){if(t.Id===e.selectedDataGroup[e.selectedDataGroup.length-1]){var i=e.$Lodash.cloneDeep(t);i.Description=JSON.parse(i.Description),a.Name=i.Code,a.Description.Caption=a.Caption,a.Description.DataGroupCaption=i.Caption,a.Description.RootData=i.Description.RootData,a.Description.DataSource=i.Description.DataSource,a.Description.AdditionConditions=i.Description.AdditionConditions,a.DataGroup=i.Code}}),a.Fields=this.$Lodash.cloneDeep(a.ObjectFields),this.CurrentDataGroup.Fields){var i=this.$Lodash.cloneDeep(this.CurrentDataGroup.Fields);a.Fields.forEach(function(a){i.forEach(function(i){i.Name==a.Name&&(t.each(i,function(t,i){e.$Utils.isEmpty(a[t])||(a[t]=i)}),e.$Utils.deleteAutoValue(a))})}),i.forEach(function(t){e.$Utils.deleteAutoValue(t),"true"==t.ListIsHidden&&a.Fields.push(t),void 0!=t.DynamicText&&null!=t.DynamicText&&a.Fields.push({Name:t.DynamicText,FieldStorageType:"Dynamic"})})}a.ObjectFields=s()(a.ObjectFields);for(var o=0,n=0,l=1;l<7;l++)a.ObjectFields.length>o&&(a["OF"+l]=a.ObjectFields.substring(o,o+9999),o=1e4*l-l,n=l);a.Description.OFCount=n,delete a.ObjectFields,o=0,n=0,a.Fields=s()(a.Fields);for(var l=1;l<7;l++)a.Fields.length>o&&(a["F"+l]=a.Fields.substring(o,o+9999),o=1e4*l-l,n=l);if(a.Description.FCount=n,delete a.Fields,a.Description.Buttons=[],this.CurrentDataGroup.Buttons){this.$Lodash.cloneDeep(this.CurrentDataGroup.Buttons).forEach(function(t){e.listSelectedButtons.forEach(function(e){t.Code==e&&a.Description.Buttons.push(t)})})}return t.each(a.Description,function(t,i){1==i&!e.isNumeric(a.Description[t])&&(a.Description[t]="true"),0==i&&""!=i&&(a.Description[t]="false")}),a.Description.ModuleType="List",a.Description=s()(a.Description),a},insertField:function(){var t=this;if(""!=this.viewModel.Field&&null!=this.viewModel.Field){var e="";this.CurrentDataGroup.Fields.forEach(function(a){a.Name===t.viewModel.Field&&(e={Caption:a.Caption,Name:a.Name,ColumnType:"Text",TextAlign:"Left"},"DateTime"==a.FieldColumnType&&(e.Format="DD/MM/YYYY"))});var a=!1;this.model.ObjectFields.forEach(function(t){t.Name==e.Name&&(a=!0)}),a?this.$Utils.showMessage("error","Trường dữ liệu đã được thêm vào"):this.model.ObjectFields.push(e),this.viewModel.Field=""}else this.$Utils.showMessage("error","Hãy chọn 1 trường dữ liệu")},deleteField:function(){var e=this;this.viewModel.Field?t.each(this.model.ObjectFields,function(t,a){void 0!==a&&a.Name===e.viewModel.Field&&(e.model.ObjectFields.splice(t,1),e.viewModel.Field="")}):this.$Utils.showMessage("error","Chọn trường trước khi xóa!")},removeField:function(t){this.model.ObjectFields.splice(t,1)},selectField:function(t){this.viewModel.Field=t},openPermissionSelector:function(){this.$hub.$emit("set-modal-data","Cấp quyền","60%",!0,"center",r.a,!1,"",this.selectedItem.Id)},back:function(){this.closeCallback&&this.closeCallback()},addGroupFields:function(){this.data.push({key:this.data.length,label:"grouped-fields",type:"GROUPFIELD",disabled:!0}),this.value3.push(this.data.length)},submitForm:function(t){this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(t){this.$refs[t].resetFields()},onClick:function(){},bindEditor:function(){var e=this;if(this.isNew)this.action="";else{this.action="edit";var a=this.$Lodash.cloneDeep(this.selectedItem);a.Description=JSON.parse(a.Description),a.ObjectFields="";for(var i=1;a.Description.OFCount&&i<=a.Description.OFCount;i++)void 0!=a["OF"+i]&&(a.ObjectFields+=a["OF"+i],delete a["OF"+i]);a.ObjectFields=JSON.parse(a.ObjectFields),t.each(a.Description,function(t,e){"true"==e?a.Description[t]=!0:"false"==e&&(a.Description[t]=!1)}),this.model=this.$Lodash.cloneDeep(a),this.viewModel.CurrentDataGroup={Fields:this.$Lodash.cloneDeep(this.model.ObjectFields),Buttons:[]},this.model.Description.Buttons.forEach(function(t){e.listSelectedButtons.push(t.Code)}),this.bindComboModel("DisplayType"),this.bindDataGroupSource()}""===this.action&&(this.model={Description:{Buttons:[],DisplayType:"Popular",Notifications:[],TreeKey:"Id",TreeParent:"ParentId",TreeChild:"children",TreeExpandAll:!1},ObjectFields:[]},this.bindComboModel("DisplayType"),this.bindDataGroupSource(),this.bindParentSetting())},bindComboModel:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="SettingNew.SearchSetting",a.R1_ParentCode="xSetting.Default.Project.List."+t,this.$Utils.post(a).then(function(a){a=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),e.viewModel[t]=a})},handleChange:function(t){var e=this;this.selectedDataGroup=t;var a=t[t.length-1];this.viewModel.ListDataGroups.forEach(function(t){var i=!0;if(t.Id===a){var s=e.$Lodash.cloneDeep(e.$singleRequest);s.R1_RequestTemplate="SettingNew.SearchSetting",s.R1_Code=t.Code,e.$Utils.post(s).then(function(t){t=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),t=t[0],t.Description=JSON.parse(t.Description),t.Fields="";for(var a=1;a<=t.Description.FCount;a++)void 0!=t["F"+a]&&(t.Fields+=t["F"+a],delete t["F"+a]);t.Fields=[{Caption:"Chọn",Name:"Multicheck",ColumnType:"Text",TextAlign:"Center"},{Caption:"Số thứ tự",Name:"IndexDefault",ColumnType:"Text",TextAlign:"Center"},{Caption:"Công cụ",Name:"Tool",ColumnType:"Text",TextAlign:"Center"}].concat(JSON.parse(t.Fields)),e.CurrentDataGroup={Fields:t.Fields,Buttons:[]},e.selectedItem.CurrentDataGroup=e.CurrentDataGroup,t.Description.Buttons.forEach(function(t){"List"==t.ParentObject&&e.CurrentDataGroup.Buttons.push(t)});var i=[];e.listSelectedButtons.forEach(function(t){e.CurrentDataGroup.Buttons.forEach(function(e){if(e.Code===t){i.push(e)}})}),e.CurrentDataGroup.Buttons.forEach(function(t){var a=!1;e.listSelectedButtons.forEach(function(e){t.Code===e&&(a=!0)}),a||i.push(t)}),e.CurrentDataGroup.Buttons=e.$Lodash.cloneDeep(i)}),i=!1}return i})},bindDataGroupSource:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_ParentCode="xSetting.Project.DataGroup",e.R1_Level="4;5",this.$Utils.post(e).then(function(e){t.viewModel.ListDataGroups=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.viewModel.DataGroup.source=t.viewModel.ListDataGroups,t.viewModel.DataGroup.source.forEach(function(e){var a=!0;if(e.Code===t.selectedItem.DataGroup){var i=[e.ParentId,e.Id];t.$set(t,"selectedDataGroup",i),t.handleChange(t.selectedDataGroup),a=!1}return a})})},bindParentSetting:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.SearchBase",e.R1_Code="xSetting.Project.List",this.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.parentSetting=e[0]})},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},renderFunc:function(t,e){return t("span",null,[" ",e.type,"-",e.key,"-",e.label])}}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(663)}var s=a(664),o=a(665),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-18edda4d",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){e.a={components:{},name:"list-field-info-dialog",props:["data"],data:function(){return{isSystemAdmin:this.$isSystemAdmin(),viewModel:{ColumnType:{},FieldColumnType:{}},communication:{action:"",item:{},index:"",scope:this},model:{},action:"",formRule:{Caption:{required:!0,message:"Tên bắt buộc phải nhập",trigger:"blur"},ListElementType:{required:!0,message:"Loại hiển thị bắt buộc phải chọn",trigger:"change"}}}},methods:{handleChange:function(){},bindComboModel:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="SettingNew.SearchSetting",a.R1_ParentCode="xSetting.Default.Project.List."+t,this.$Utils.post(a).then(function(a){a=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),e.viewModel[t]=a})},bindFieldColumnType:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_ParentCode="xSetting.Default.Project.DataGroup.Field.FieldColumnType",this.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.viewModel.FieldColumnType=e})},close:function(){this.$hub.$emit("close-modal")},save:function(){var e=this;this.$refs.FieldInfoDialog.validate(function(a){a&&(t.each(e.model,function(t,a){!0===a&&(e.model[t]="true"),!1===a&&""!==a&&(e.model[t]="false"),"String"==typeof a&&"AddHtml"===t&&(e.model[t]=a.replace(/"/g,"'"))}),e.communication={action:e.action,item:e.model,index:e.data.index},e.data.scope.bindField(e.$Lodash.cloneDeep(e.communication)),e.close())})}},created:function(){var e=this;"edit"===this.data.action?(this.action="edit",this.model=this.$Lodash.cloneDeep(this.data.item),t.each(this.model,function(t,a){a="true"===a||"false"!==a&&a,e.$set(e.model,t,a)})):(this.model=this.$Lodash.cloneDeep(this.data.item),this.action=this.data.action),this.bindComboModel("ColumnType"),this.bindFieldColumnType()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"FieldInfoDialog",attrs:{model:t.model,rules:t.formRule,"label-width":"180px","label-position":"left"}},[a("el-row",[a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Tên:",prop:"Caption"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1)],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Thuộc tính màu:"}},[a("el-input",{model:{value:t.model.Attribute,callback:function(e){t.$set(t.model,"Attribute",e)},expression:"model.Attribute"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Loại hiển thị:"}},[a("el-select",{attrs:{placeholder:"Chọn",clearable:""},model:{value:t.model.ListElementType,callback:function(e){t.$set(t.model,"ListElementType",e)},expression:"model.ListElementType"}},t._l(t.viewModel.ColumnType,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Name}})}))],1)],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Loại dữ liệu:"}},[a("el-select",{attrs:{placeholder:"Chọn",clearable:""},model:{value:t.model.FieldColumnType,callback:function(e){t.$set(t.model,"FieldColumnType",e)},expression:"model.FieldColumnType"}},t._l(t.viewModel.FieldColumnType,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Name}})}))],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Các nút:"}},[a("el-input",{model:{value:t.model.Buttons,callback:function(e){t.$set(t.model,"Buttons",e)},expression:"model.Buttons"}})],1)],1),t._v(" "),a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Định dạng:"}},[a("el-input",{model:{value:t.model.Format,callback:function(e){t.$set(t.model,"Format",e)},expression:"model.Format"}})],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Class:"}},[a("el-input",{model:{value:t.model.Class,callback:function(e){t.$set(t.model,"Class",e)},expression:"model.Class"}})],1)],1),t._v(" "),a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Chiều rộng:"}},[a("el-input",{model:{value:t.model.Width,callback:function(e){t.$set(t.model,"Width",e)},expression:"model.Width"}})],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Các thuộc tính:"}},[a("el-checkbox",{model:{value:t.model.IsBold,callback:function(e){t.$set(t.model,"IsBold",e)},expression:"model.IsBold"}},[t._v("Đậm")]),t._v(" "),a("el-checkbox",{model:{value:t.model.IsItalic,callback:function(e){t.$set(t.model,"IsItalic",e)},expression:"model.IsItalic"}},[t._v("Nghiêng")]),t._v(" "),a("el-checkbox",{model:{value:t.model.TotalRow,callback:function(e){t.$set(t.model,"TotalRow",e)},expression:"model.TotalRow"}},[t._v("Tính tổng")]),t._v(" "),a("el-checkbox",{model:{value:t.model.ProgressBar,callback:function(e){t.$set(t.model,"ProgressBar",e)},expression:"model.ProgressBar"}},[t._v("Thanh %")])],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Căn lề"}},[a("el-radio-group",{model:{value:t.model.TextAlign,callback:function(e){t.$set(t.model,"TextAlign",e)},expression:"model.TextAlign"}},[a("el-radio",{attrs:{label:"Left"}},[t._v("Trái")]),t._v(" "),a("el-radio",{attrs:{label:"Center"}},[t._v("Giữa")]),t._v(" "),a("el-radio",{attrs:{label:"Right"}},[t._v("Phải")]),t._v(" "),a("el-radio",{attrs:{label:"Justify"}},[t._v("Đều")])],1)],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Biểu thức:"}},[a("el-input",{model:{value:t.model.Expression,callback:function(e){t.$set(t.model,"Expression",e)},expression:"model.Expression"}})],1)],1),t._v(" "),a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Mã Template lấy dữ liệu:"}},[a("el-input",{model:{value:t.model.ListRequest,callback:function(e){t.$set(t.model,"ListRequest",e)},expression:"model.ListRequest"}})],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Đường dẫn gốc:"}},[a("el-input",{model:{value:t.model.ListDataRoot,callback:function(e){t.$set(t.model,"ListDataRoot",e)},expression:"model.ListDataRoot"}})],1)],1),t._v(" "),a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Mã:"}},[a("el-input",{model:{value:t.model.ListCode,callback:function(e){t.$set(t.model,"ListCode",e)},expression:"model.ListCode"}})],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Trường điều kiện ngày"}},[a("el-input",{model:{value:t.model.ListDateTime,callback:function(e){t.$set(t.model,"ListDateTime",e)},expression:"model.ListDateTime"}})],1)],1),t._v(" "),a("el-col",{staticClass:"p-2",attrs:{span:12}},[a("el-form-item",{attrs:{label:"Trường lấy ngày"}},[a("el-input",{model:{value:t.model.ListGetDate,callback:function(e){t.$set(t.model,"ListGetDate",e)},expression:"model.ListGetDate"}})],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:24}},[a("el-form-item",{attrs:{label:"Mã điều kiện"}},[a("el-input",{model:{value:t.model.ListDateCode,callback:function(e){t.$set(t.model,"ListDateCode",e)},expression:"model.ListDateCode"}})],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:24}},[a("el-form-item",{attrs:{label:"Màu theo điều kiện:"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.model.ColorCase,callback:function(e){t.$set(t.model,"ColorCase",e)},expression:"model.ColorCase"}})],1)],1)],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}]},[a("el-col",{staticClass:"p-2",attrs:{span:24}},[a("el-form-item",{attrs:{label:"Giao diện nâng cao:"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.model.AdvancedDisplay,callback:function(e){t.$set(t.model,"AdvancedDisplay",e)},expression:"model.AdvancedDisplay"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"p-2",attrs:{span:24}},[a("el-form-item",{attrs:{label:"HTML bổ sung:"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.model.AddHtml,callback:function(e){t.$set(t.model,"AddHtml",e)},expression:"model.AddHtml"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.close()}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(667),s=a(668),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i,s=a(44),o=a.n(s);e.a=(i={components:{},name:"list-notification-info-dialog",props:["data"]},o()(i,"components",{}),o()(i,"data",function(){var t;return t={action:"",communication:{},model:{},viewModel:{NotificationType:{},Permissions:{},Template:{}}},o()(t,"communication",{action:"",item:{},index:"",scope:this}),o()(t,"arrCombo",[{Code:"xSetting.Default.Project.Form.NotificationType",Field:"NotificationType"},{Code:"xSetting.Template.Permissions",Field:"Permissions"},{Code:"xSetting.Project.Notification",Field:"Template"}]),t}),o()(i,"methods",{save:function(){this.communication={action:this.action,item:this.model,index:this.data.index},this.data.scope.bindSubElement(this.data.scope.model.Description.Notifications,this.$Lodash.cloneDeep(this.communication)),this.$hub.$emit("close-modal")},closeForm:function(){this.$hub.$emit("close-modal")},bindComboModel:function(t,e){var a=this,i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_ParentCode=t,this.$Utils.post(i).then(function(t){t=a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),a.viewModel[e]=t})}}),o()(i,"destroyed",function(){}),o()(i,"mounted",function(){}),o()(i,"created",function(){var e=this;"edit"===this.data.action?(this.action="edit",this.model=this.$Lodash.cloneDeep(this.data.item.row),t.each(this.model,function(t,a){"true"===a?e.model[t]=!0:"false"===a&&(e.model[t]=!1)})):this.model={NodeType:"Notifications",Status:!0};for(var a=0;a<this.arrCombo.length;a++)this.bindComboModel(this.arrCombo[a].Code,this.arrCombo[a].Field)}),o()(i,"watch",{}),i)}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{attrs:{placeholder:"Chọn",clearable:""},model:{value:t.model.NotificationType,callback:function(e){t.$set(t.model,"NotificationType",e)},expression:"model.NotificationType"}},t._l(t.viewModel.NotificationType,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Quyền"}},[a("el-select",{attrs:{placeholder:"Chọn",clearable:""},model:{value:t.model.Permissions,callback:function(e){t.$set(t.model,"Permissions",e)},expression:"model.Permissions"}},t._l(t.viewModel.Permissions,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Mẫu gửi"}},[a("el-select",{attrs:{placeholder:"Chọn",clearable:""},model:{value:t.model.Template,callback:function(e){t.$set(t.model,"Template",e)},expression:"model.Template"}},t._l(t.viewModel.Template,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Caption,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường bổ sung"}},[a("el-input",{attrs:{clearable:""},model:{value:t.model.NotifyFields,callback:function(e){t.$set(t.model,"NotifyFields",e)},expression:"model.NotifyFields"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Thêm"}},[a("el-input",{attrs:{clearable:""},model:{value:t.model.AdditionField,callback:function(e){t.$set(t.model,"AdditionField",e)},expression:"model.AdditionField"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.closeForm}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-list"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.model,rules:t.rules,"label-width":"120px"}},[a("el-form-item",[a("el-button",{on:{click:t.back}},[t._v("Quay lại")]),t._v(" "),t.isNew?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.openPermissionSelector()}}},[t._v("Cấp phép")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save()}}},[t._v("Lưu")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã",prop:"Code"}},[a("el-input",{attrs:{disabled:""},model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên",prop:"Caption"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả",prop:"name"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.More,callback:function(e){t.$set(t.model,"More",e)},expression:"model.More"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"Partition"==t.model.Description.DisplayType,expression:"model.Description.DisplayType == 'Partition'"}],attrs:{label:"Xuất bản"}},[a("el-switch",{model:{value:t.model.Description.Export,callback:function(e){t.$set(t.model.Description,"Export",e)},expression:"model.Description.Export"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],attrs:{label:"Áp dụng quyền"}},[a("el-switch",{model:{value:t.model.Description.AssignedUser,callback:function(e){t.$set(t.model.Description,"AssignedUser",e)},expression:"model.Description.AssignedUser"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],attrs:{label:"Cho phép quản trị"}},[a("el-switch",{model:{value:t.model.Description.isAdminSeen,callback:function(e){t.$set(t.model.Description,"isAdminSeen",e)},expression:"model.Description.isAdminSeen"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],attrs:{label:"Hiện tổng"}},[a("el-switch",{model:{value:t.model.Description.TotalRow,callback:function(e){t.$set(t.model.Description,"TotalRow",e)},expression:"model.Description.TotalRow"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Kiểu hiển thị",prop:"type"}},[a("el-radio-group",{model:{value:t.model.Description.DisplayType,callback:function(e){t.$set(t.model.Description,"DisplayType",e)},expression:"model.Description.DisplayType"}},t._l(t.viewModel.DisplayType,function(e){return a("el-radio",{key:e.Code,attrs:{label:e.Code}},[t._v(t._s(e.Name))])}))],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"Tree"==t.model.Description.DisplayType,expression:"model.Description.DisplayType == 'Tree'"}]},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Mã khoá cây",prop:"TreeKey"}},[a("el-input",{model:{value:t.model.Description.TreeKey,callback:function(e){t.$set(t.model.Description,"TreeKey",e)},expression:"model.Description.TreeKey"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Mã khoá cha",prop:"TreeParent"}},[a("el-input",{model:{value:t.model.Description.TreeParent,callback:function(e){t.$set(t.model.Description,"TreeParent",e)},expression:"model.Description.TreeParent"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Mã khoá con",prop:"TreeChild"}},[a("el-input",{model:{value:t.model.Description.TreeChild,callback:function(e){t.$set(t.model.Description,"TreeChild",e)},expression:"model.Description.TreeChild"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Đóng cây tree"}},[a("el-switch",{model:{value:t.model.Description.TreeExpandAll,callback:function(e){t.$set(t.model.Description,"TreeExpandAll",e)},expression:"model.Description.TreeExpandAll"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Mã khoá hiển thị",prop:"TreeCaptionKey"}},[a("el-input",{model:{value:t.model.Description.TreeCaptionKey,callback:function(e){t.$set(t.model.Description,"TreeCaptionKey",e)},expression:"model.Description.TreeCaptionKey"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Khối dữ liệu",prop:"region"}},[a("SelectTree",{attrs:{datasource:t.viewModel.ListDataGroups,nameField:["Caption","Code"],selectedValue:t.selectedDataGroup,changeOnSelect:!1,callback:t.handleChange}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường dữ liệu đưa vào"}},[a("el-select",{attrs:{placeholder:"Chọn",clearable:"",filterable:""},model:{value:t.viewModel.Field,callback:function(e){t.$set(t.viewModel,"Field",e)},expression:"viewModel.Field"}},t._l(t.CurrentDataGroup.Fields,function(e){return"true"!=e.ListIsHidden?a("el-option",{key:e.Name,attrs:{label:e.Caption+" ("+e.Name+")",value:e.Name}}):t._e()})),t._v(" "),a("el-button",{attrs:{disabled:""===t.viewModel.Field},on:{click:function(e){t.insertField()}}},[t._v("Thêm")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showFieldDetail("insert",{ColumnType:"Text",TextAlign:"Left",ManualCalculator:"true"})}}},[t._v("\n        Thêm trường mới\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.deleteField()}}},[t._v("Xóa")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường dữ liệu "}},[a("el-card",{staticClass:"box-card"},[a("div",{directives:[{name:"dragula",rawName:"v-dragula",value:t.model.ObjectFields,expression:"model.ObjectFields"}],attrs:{bag:"fieldsBag"}},t._l(t.model.ObjectFields,function(e,i){return a("div",{key:e.Name,staticClass:"dragable row"},[a("span",{on:{click:function(a){t.selectField(e.Name)}}},[t._v(t._s(e.Caption)+" ("+t._s(e.Name)+")")]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-edit",on:{click:function(a){t.showFieldDetail("edit",e)}}})]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-delete",on:{click:function(e){t.removeField(i)}}})])])}))])],1),t._v(" "),a("el-form-item",{attrs:{label:"Hiển thị nút"}},[a("el-card",{staticClass:"box-card"},[a("el-checkbox-group",{model:{value:t.listSelectedButtons,callback:function(e){t.listSelectedButtons=e},expression:"listSelectedButtons"}},[a("div",{directives:[{name:"dragula",rawName:"v-dragula",value:t.CurrentDataGroup.Buttons,expression:"CurrentDataGroup.Buttons"}],attrs:{bag:"btnFieldsBag"}},t._l(t.CurrentDataGroup.Buttons,function(t){return a("el-checkbox",{key:t.Code,staticClass:"row dragable",staticStyle:{"margin-left":"0px"},attrs:{label:t.Code}})}))])],1)],1),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Thông báo",name:"1"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editRow("insert")}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Notifications}},[a("el-table-column",{attrs:{type:"index",label:"STT",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"NotificationType",label:"Loại",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Permissions",label:"Quản trị",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Template",label:"Template"}}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.editRow("edit",e,e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.deleteRow(e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showEditForm?a("div",[a("ListForm",{attrs:{selectedItem:t.rowItem,isShow:t.showEditForm,isNew:t.isAddNew,closeCallback:t.hiddenForm}})],1):t._e(),t._v(" "),t.showEditForm?t._e():a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"fa fa-plus",on:{click:t.handleAddNew}}),t._v(" "),a("el-button",{staticClass:"fa fa-refresh",on:{click:t.onReload}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Tìm kiếm","prefix-icon":"el-icon-search",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DataGroup",label:"Khối"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"Mã hệ thống"}}),t._v(" "),a("el-table-column",{attrs:{label:"Tên"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(JSON.parse(e.row.Description).Caption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Khối dữ liệu"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(JSON.parse(e.row.Description).DataGroupCaption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.showDeleteDialog(e)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"Cảnh báo",visible:t.deleteDialogVisible,width:"30%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[a("span",[t._v("Hành động này không thể hoàn tác. Bạn thực sự muốn xóa bản ghi này?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("Hủy")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleDelete(t.selectedItem.$index,t.selectedItem.row)}}},[t._v("Xác nhận")])],1)])],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(672),s=a(710),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(287);e.a={components:{FormCfg:i.a},data:function(){return{deleteDialogVisible:!1,showEditForm:!1,isAddNew:!1,keyword:"",rowItem:{},tableData:[],fullListForm:[],selectedRow:{},currentUser:JSON.parse(localStorage.getItem("LoggedOnUser"))}},methods:{handleAddNew:function(){this.isAddNew=!0,this.rowItem={},this.showEditForm=!0},editItem:function(t){},onReload:function(){this.loadData()},hiddenForm:function(){this.showEditForm=!1,this.loadData()},handleEdit:function(t,e){this.isAddNew=!1,this.rowItem=e,this.showEditForm=!0},openDeleteDialog:function(t,e){this.deleteDialogVisible=!0,this.selectedRow=e},handleDelete:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentId:this.selectedRow.Id,R1_IncludedNestedSetParent:"true"};this.$Utils.post(e).then(function(a){a=t.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),e=t.$Lodash.cloneDeep(t.$singleRequest);var i="";e.TotalRequests=0,a.forEach(function(t){e.TotalRequests++,e["R"+e.TotalRequests+"_RequestTemplate"]="SettingNew.Delete",e["R"+e.TotalRequests+"_Id"]=t.Id,i+=t.Id+";"}),e.TotalRequests>0&&t.$Utils.post(e).then(function(e){t.$Utils.removeAllLink(i),t.loadData()})}),this.deleteDialogVisible=!1},loadData:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:"xSetting.Project.Form",R1_Level:4};this.$Utils.postCheckResult(e).then(function(e){t.fullListForm=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.tableData=t.$Lodash.cloneDeep(t.fullListForm)})}},mounted:function(){this.loadData()},watch:{keyword:function(t){""!==t.trim()&&(this.tableData=this.fullListForm.filter(function(e){var a=JSON.parse(e.Description),i=void 0==a.DataGroupCaption?"":a.DataGroupCaption,s=void 0==e.Caption?"":e.Caption,o=void 0==e.DataGroup?"":e.DataGroup;return i.toLowerCase().indexOf(t.toLowerCase())>-1||s.toLowerCase().indexOf(t.toLowerCase())>-1||o.toLowerCase().indexOf(t.toLowerCase())>-1}))}}}},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(268),n=a(271),l=a(16);e.a={name:"form",components:{FormForm:o.a,SubRights:n.a,PermissionSelector:l.a},props:["selectedItem","isShow","isNew","closeCallback"],data:function(){var t=this.selectedItem;t.CurrentDataGroup={},t.Description={};var e={passedItem:t,selectedGroups:"",selectedField:"",centerDialogVisible:!1,elements:[],notifitions:[],input:"",value3:"",selectedDisplayType:"ThreeColumn",DataGroup:[],DataGroupTree:[],cascaderData:[],selectedDataGroup:[],selectedDataGroups:[],DisplayType:[],action:"",ObjectFields:[],model:{ObjectFields:[],Caption:"",Description:{Groups:[],Buttons:[],HasCommentTab:!1,HasFileTab:!1,HasHistoryTab:!1,HasPermissionTab:!1,History:!1,Subcribe:!1}},permission:{},viewModel:{DataGroup:{source:[]},OrderFields:{source:[]},contextOrderFields:{autoOpenPopup:!1,mode:"popup"},CurrentDataGroup:{Fields:[],Buttons:[]}},communication:{action:"",item:{},index:"",scope:this},administrator:this.$Lodash.cloneDeep(this.$administrator),Description:{},checkBoxGroup:["Cấp phép","Bình luận","File đính kèm","Lịch sử cập nhật","Lịch sử thay đổi","Lặp nội dung","Theo dõi"],CurrentDataGroup:{Fields:[],Buttons:[]},permissionModel:{passedItem:t,listDropdownRoles:[],listDropdownFields:[],listStaticPermissions:[],listScriptPermissions:[],listDynamicPermissions:[],listUserPermissions:[],listUserGroups:[],listRoles:[],listUsers:[],listGroupRoles:{}},parentSetting:[],catModel:{Caption:"",GroupDisplayType:"",action:""},tmpGroup:{Caption:"",GroupDisplayType:""},listSelectedButtons:[],options:[]};return e.dropdownRoles=[],e.permissionModel.listRoleGroups=[],e.permissionModel.objListUserPermissions={},e.permissionModel.objListUsers={},e.permissionModel.LeadershipDynamicOrganization="",e.permissionModel.LeadershipDynamicProject="",e.permissionModel.LeadershipDynamicCase="",e.permissionModel.LeadershipDynamicValue="",e.permissionModel.StaticPermissions="",e.permissionModel.FormRequest="",e.permissionModel.FormDataRoot="",e.permissionModel.FormCode="",e.permissionModel.Code="",e.permissionModel.AlwaysUpdatePermission=!1,e.AlwaysUpdatePermission=!1,e.RolesIncludedUser=!1,e.permissionModel.RolesIncludedUser=!1,e.permissionModel.RemoveRole=!1,e.RemoveRole=!1,e.permissionModel.StaticIncludedUser=!1,e.StaticIncludedUser=!1,e.Group=[],e.dropdownDynamicPermissions=[],e.User="",e.Field="",e.AddLines={Group:[],Role:[],User:[],Field:[]},e.permissionModel.GroupInCludedUser=!1,e.GroupInCludedUser=!1,e.Role=[],e.signal=0,e.loading={},e.LeadershipDynamicOrganization="",{fullData:e,openedSignal:!1,isShowForm:this.isShow}},methods:{save:function(){var t=this;t.bindListPermissions();var e=t.bindSavedData(),a="edit",i=t.$Lodash.cloneDeep(t.$singleRequest);i=t.$Utils.updateParamsSingleRequest(i,e),t.fullData.model.Id?i=t.$Utils.updateParamsSingleRequest(i,{RequestTemplate:"SettingNew.Update"}):(a="insert",i=t.$Utils.updateParamsSingleRequest(i,{Code:"Form."+t.$Utils.removeVNCharacters(e.Caption)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),RequestTemplate:"SettingNew.Insert",ReferenceId:t.fullData.parentSetting.Id,NestedSetType:"InsertLastChildNode"})),t.$Utils.postCheckResult(i).then(function(e){e.success&&(t.fullData.model.Id=e.R1.Data,"insert"==a&&t.$Utils.linkToRoleEveryone([{Id:t.fullData.model.Id,Caption:t.fullData.model.Caption,Name:t.fullData.model.Caption}]),t.$Utils.showMessage("success",t.$toastMessage.updateItemPre+t.$toastMessage.updateItemSuf),t.$hub.$emit("forceUpdate",e.R1.Data))})},bindListPermissions:function(){var e=this;if(e.fullData.model.Description.Permissions=[],e.fullData.permissionModel.listStaticPermissions.length>0){var a={Name:"Static"};a.Permissions="&Count="+e.fullData.permissionModel.listStaticPermissions.length,t.each(e.fullData.permissionModel.listStaticPermissions,function(t,e){a.Permissions+="&Value"+(t+1)+"="+e.Value,a.Permissions+="&KeyCode"+(t+1)+"="+e.KeyCode}),a.CurrentUser="",t.each(e.fullData.dropdownRoles,function(t,e){a.CurrentUser+=e+";"}),e.fullData.AlwaysUpdatePermission&&(a.AlwaysUpdatePermission=!0),e.fullData.RolesIncludedUser&&(a.RolesIncludedUser=!0),e.fullData.GroupInCludedUser&&(a.GroupInCludedUser=!0),e.fullData.model.Description.Permissions.push(a)}if(e.fullData.permissionModel.listDynamicPermissions.length>0){var a={Name:"Dynamic"};a.Permissions="&Count="+e.fullData.permissionModel.listDynamicPermissions.length,t.each(e.fullData.permissionModel.listDynamicPermissions,function(t,e){a.Permissions+="&Value"+(t+1)+"="+e.Value,a.Permissions+="&KeyCode"+(t+1)+"="+e.KeyCode,e.KeyType&&(a.Permissions+="&KeyType"+(t+1)+"="+e.KeyType)}),e.fullData.model.Description.Permissions.push(a)}if(e.fullData.permissionModel.listScriptPermissions.length>0){var a={Name:"Script"};a.LeadershipDynamicOrganization=e.fullData.permissionModel.LeadershipDynamicOrganization,a.LeadershipDynamicProject=e.fullData.permissionModel.LeadershipDynamicProject,a.LeadershipDynamicCase=e.fullData.permissionModel.LeadershipDynamicCase,a.LeadershipDynamicValue=e.fullData.permissionModel.LeadershipDynamicValue,a.Permissions="&Count="+e.fullData.permissionModel.listScriptPermissions.length,t.each(e.fullData.permissionModel.listScriptPermissions,function(t,e){a.Permissions+="&Name"+(t+1)+"="+e.Name,a.Permissions+="&Value"+(t+1)+"="+e.Value,a.Permissions+="&KeyCode"+(t+1)+"="+e.KeyCode,a.Permissions+="&KeyType"+(t+1)+"="+e.KeyType}),e.fullData.model.Description.Permissions.push(a)}if(e.fullData.dropdownDynamicPermissions.length>0){var a={Name:"Replica"};a.DynamicPermissions="",t.each(e.fullData.dropdownDynamicPermissions,function(t,e){a.DynamicPermissions+=e.value+";"}),a.StaticPermissions=e.fullData.permissionModel.StaticPermissions,e.StaticIncludedUser&&(a.StaticIncludedUser=!0),a.FormRequest=e.fullData.permissionModel.FormRequest,a.FormDataRoot=e.fullData.permissionModel.FormDataRoot,a.FormCode=e.fullData.permissionModel.FormCode,a.Code=e.fullData.permissionModel.Code,e.fullData.model.Description.Permissions.push(a)}if(e.fullData.RemoveRole){var a={Name:"Remove",Value:!0};e.fullData.model.Description.Permissions.push(a)}},bindSavedData:function(){var e=this,a=this.$Lodash.cloneDeep(this.fullData.model);this.$Utils.deleteAutoValue(a),this.fullData.DataGroup.forEach(function(t){if(t.Id==e.fullData.selectedDataGroups[e.fullData.selectedDataGroups.length-1]){var i=e.$Lodash.cloneDeep(t);i.Description=JSON.parse(i.Description),a.Name=i.Code,a.DataGroup=i.Code,a.Caption=e.fullData.model.Caption,a.Description.Caption=e.fullData.model.Caption,a.Description.DataGroupCaption=i.Caption,a.Description.Link=i.Description.Link,a.Description.RootData=i.Description.RootData,a.Description.DataSource=i.Description.DataSource,a.Description.AdditionConditions=i.Description.AdditionConditions,a.Description.Dependencies=i.Description.Dependencies}}),a.Description.DisplayType=this.fullData.selectedDisplayType,a.Fields=this.$Lodash.cloneDeep(a.ObjectFields);var i=this.$Lodash.cloneDeep(this.fullData.CurrentDataGroup.Fields);t.each(a.Fields,function(a,s){t.each(i,function(a,i){i.Name==s.Name&&(t.each(i,function(t,a){e.$Utils.isEmpty(s[t])||(s[t]=a)}),e.$Utils.deleteAutoValue(s))})}),t.each(i,function(t,i){e.$Utils.deleteAutoValue(i),"Hidden"==i.FormFieldType&&a.Fields.push(i),void 0!=i.DynamicText&&null!=i.DynamicText&&a.Fields.push({Name:i.DynamicText,FieldStorageType:"Dynamic"})});var o=[];t.each(this.fullData.model.Description.Groups,function(t,e){e.children&&(o=o.concat(e.children))}),t.each(o,function(t,e){delete e.$parent}),a.ObjectFields=s()(o);for(var n=0,l=0,r=1;r<7;r++)a.ObjectFields.length>n&&(a["OF"+r]=a.ObjectFields.substring(n,n+9999),n=1e4*r-r,l=r);a.Description.OFCount=l,delete a.ObjectFields,n=0,l=0,o=this.$Lodash.cloneDeep(a.Fields),t.each(o,function(t,e){delete e.$parent}),a.Fields=s()(o);for(var r=1;r<7;r++)a.Fields.length>n&&(a["F"+r]=a.Fields.substring(n,n+9999),n=1e4*r-r,l=r);return a.Description.FCount=l,delete a.Fields,a.Description.Buttons=this.fullData.model.Description.Buttons,a.Description.Groups=[],t.each(this.fullData.model.Description.Groups,function(i,s){s.ListFields="",delete s.$parent,a.Description.Groups.push(s);var o=e.$Lodash.cloneDeep(s.children);delete s.children,t.each(o,function(t,e){s.ListFields+=e.Name+";"})}),t.each(a.Description,function(e,i){1==i&!t.isNumeric(a.Description[e])&&(a.Description[e]="true"),0==i&&""!=i&&(a.Description[e]="false")}),a.Description.ModuleType="Form",a.Description=s()(a.Description),a},openPermissionSelector:function(){this.$hub.$emit("set-modal-data","Cấp quyền","60%",!0,"center",l.a,!1,"",this.selectedItem.Id)},back:function(){this.isShowForm=!1,setTimeout(function(){},1e3),this.closeCallback&&this.closeCallback()}},created:function(){this.fullData.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}}).call(e,a(2))},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(42),s=a.n(i),o=a(3),n=a(43),l=a.n(n),r=a(31),c=a(677),d=a(680),u=a(684),m=a(267),p=a(45),h=a(296);a.n(h);o.default.use(l.a),e.a={props:["data"],components:{VueDragula:l.a,SelectTree:r.a,SortableTree:p.a,ElementDependent:c.a,ExtendNotify:u.a,FieldInfoDialog:m.a},data:function(){var t=this.data;return t.treeFullData={collapseIcon:"fa fa-plus-square",expandIcon:"fa fa-minus-square",level:"-1",Level:"-1",Caption:"Các nhóm",children:[]},t.treeFullDataCache={},t.rulesForGroup={Caption:[{required:!0,message:"Tên bắt buộc nhập",trigger:"blur"},{min:5,message:"Tên ngắn nhất phải có 5 kí tự",trigger:"blur"}]},t.ruleForm={Caption:[{required:!0,message:"Tên bắt buộc nhập",trigger:"blur"},{min:5,message:"Tên ngắn nhất phải có 5 kí tự",trigger:"blur"}]},t.communication={action:"",item:{},Notifications:[],SubElements:[],index:"",scope:this},t},created:function(){var t=this;this.$hub.$on("forceUpdate",function(e){t.searchSettingById(e)}),this.passedItem.Id?this.searchSettingById(this.passedItem.Id):(this.searchDataGroup(),this.searchDisplayType(),""==this.action&&this.bindParentSetting())},mounted:function(){var t=this;o.default.vueDragula.eventBus.$on("dragend",function(e){"btnFieldsFormbag"===e[0]&&(t.model.Description.Buttons=t.CurrentDataGroup.Buttons.filter(function(e){return t.listSelectedButtons.indexOf(e.Code)>-1}))})},watch:{"communication.Notifications":function(t){this.$set(this.model.Description,"Notifications",t)},"communication.SubElements":function(t){this.$set(this.model.Description,"SubElements",t)}},methods:{positionChanged:function(t){t.data.level===t.afterParent.level||"1"===t.data.level&&"-1"===t.afterParent.level?this.treeFullData=this.$Lodash.cloneDeep(this.treeFullDataCache):this.treeFullDataCache=this.$Lodash.cloneDeep(this.treeFullData);var e=this.$Lodash.cloneDeep(this.treeFullData);this.treeFullData=e,this.model.Description.Groups=this.treeFullData.children,this.$forceUpdate()},changeStatus:function(t,e,a){var i=this;this.model.Description.Buttons=this.CurrentDataGroup.Buttons.filter(function(t){return i.listSelectedButtons.indexOf(t.Code)>-1})},deleteSubElement:function(t,e){t.splice(e,1)},clearModel:function(){this.catModel={Caption:"",GroupDisplayType:"",action:""},this.tmpGroup={Caption:"",GroupDisplayType:""}},bindParentSetting:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_Code="xSetting.Project.Form",this.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.parentSetting=e[0]})},AddNotify:function(){this.$hub.$emit("set-modal-data","Thông tin chi tiết thông báo","40%",!0,"center",u.a,!1,"")},changeState:function(t){this.$set(t,"$foldClose",!t.$foldClose);var e=this.$Lodash.cloneDeep(this.treeFullData);this.treeFullData=e,this.model.Description.Groups=this.treeFullData.children,this.$forceUpdate()},searchSettingById:function(e){var a=this,i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_Id=e,this.$Utils.post(i).then(function(e){if(e=a.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),e.length>0){a.action="edit";var i=e[0];i.Description=JSON.parse(i.Description),i.ObjectFields="";for(var o=1;o<=i.Description.OFCount;o++)void 0!=i["OF"+o]&&(i.ObjectFields+=i["OF"+o],delete i["F"+o],delete i["OF"+o]);i.ObjectFields=JSON.parse(i.ObjectFields||null),a.$Utils.equals(i.ObjectFields,{})&&(i.ObjectFields=[]),t.each(i.Description,function(t,e){"true"==e?i.Description[t]=!0:"false"==e&&(i.Description[t]=!1)}),a.model=i,a.passedItem.Description=a.model.Description,a.selectedDisplayType=a.model.Description.DisplayType;var n={Fields:a.$Lodash.cloneDeep(a.model.ObjectFields),Buttons:[]};a.CurrentDataGroup=s()({},n),a.ObjectFields=a.$Lodash.cloneDeep(a.model.ObjectFields),a.treeFullData={collapseIcon:"fa fa-plus-square",expandIcon:"fa fa-minus-square",level:"-1",Level:"-1",Caption:"Các nhóm",children:[]},t.each(a.model.Description.Groups,function(e,i){var s=i.ListFields,o=s.split(";");i.children=[],t.each(o,function(e,s){t.each(a.model.ObjectFields,function(t,e){e.Name===s&&(e.level="1",i.children.push(e))})}),i.collapseIcon="fa fa-plus-square",i.expandIcon="fa fa-minus-square",i.level="0",i.Level="5",i.Name=i.Caption,i.index=e,a.treeFullData.children.push(i)}),t.each(a.model.Description.Buttons,function(t,e){a.listSelectedButtons.push(e.Code)})}else a.action="";a.searchDataGroup(),a.searchDisplayType(),""==a.action&&(a.model={Description:{Groups:[],Buttons:[],SubElements:[],Notifications:[],Permissions:[],Dependencies:[],Link:{},DisplayType:"ThreeColumn",HasHistoryTab:!0},ObjectFields:[]},a.bindParentSetting()),a.treeFullDataCache=a.$Lodash.cloneDeep(a.treeFullData)})},insertField:function(){var t=this;if(""!=t.selectedField&&null!=t.selectedField){var e="";t.CurrentDataGroup.Fields.forEach(function(a){if(a.Name==t.selectedField)return e={Caption:a.Caption,Name:a.Name,DisplayType:"LeftLabel",level:"1"},!1});var a=!1;if(t.model.ObjectFields.forEach(function(t){if(t.Name==e.Name)return a=!0,!1}),a)t.$message.error("Trường đã có trong biểu mẫu");else{t.model.Description.Groups.forEach(function(a){void 0==a.children&&(a.children=[]),a.Caption===t.selectedGroups&&(e.$parent=a,a.children.push(e),t.model.ObjectFields.push(e))});var i=t.$Lodash.cloneDeep(t.model.Description.Groups);t.model.Description.Groups=i;var s=this.$Lodash.cloneDeep(this.treeFullData);this.treeFullData=s,this.treeFullData.children=this.model.Description.Groups,this.treeFullDataCache=this.$Lodash.cloneDeep(this.treeFullData),this.$forceUpdate()}t.viewModel.Field=""}},deleteField:function(e){var a=this,i=this;i.$Utils.showConfirm("Cảnh báo",this.$toastMessage.deleteSettingWarning).then(function(){if(0==e.level){t.each(i.treeFullData.children,function(t,a){if(a.Name==e.Name)return i.treeFullData.children.splice(t,1),!1});var s=i.$Utils.rotateDementionArr(i.model.ObjectFields,"Name"),o=e.children;o.push(e),t.each(o,function(t,e){delete s[e.Name]}),i.model.ObjectFields=[],t.each(s,function(t,e){i.model.ObjectFields.push(e)})}else t.each(i.treeFullData.children,function(s,o){if(o.Name==e.$parent.Name){t.each(o.children,function(t,a){if(e.Name===a.Name)return i.model.Description.Groups[s].children.splice(t,1),!1}),t.each(a.model.ObjectFields,function(t,a){if(e.Name===a.Name)return i.model.ObjectFields.splice(t,1),!1});var n=i.$Lodash.cloneDeep(i.model.Description.Groups);i.model.Description.Groups=n}});var n=a.$Lodash.cloneDeep(a.treeFullData);a.treeFullData=n,a.model.Description.Groups=a.treeFullData.children,a.treeFullDataCache=a.$Lodash.cloneDeep(a.treeFullData),a.$forceUpdate()})},saveGroup:function(e){var a=this,i=!1;if(t.each(a.model.Description.Groups,function(t,a){return i=a.Caption===e.Caption,"edit"==e.action&&(i=i&&a.GroupDisplayType===e.GroupDisplayType),!i}),i)a.$message.error("Nhóm đã tồn tại");else if("edit"==e.action)a.$set(a.tmpGroup,"Caption",a.catModel.Caption),a.$set(a.tmpGroup,"GroupDisplayType",a.catModel.GroupDisplayType),a.centerDialogVisible=!1;else if("insert"==e.action){var s={Caption:e.Caption,Name:e.Caption,GroupDisplayType:e.GroupDisplayType};s.collapseIcon="fa fa-plus-square",s.expandIcon="fa fa-minus-square",s.level="0",s.Level="5",a.model.Description.Groups.push(s),a.model.ObjectFields.push(s);var o=a.$Lodash.cloneDeep(a.model.Description.Groups);a.model.Description.Groups=o,a.centerDialogVisible=!1,this.treeFullData.children=a.model.Description.Groups;var n=this.$Lodash.cloneDeep(this.treeFullData);this.treeFullData=n,this.$forceUpdate()}},excuteSubElement:function(t,e,a,i,s){var o=this;o.communication.action=a,e||(e=[]),"sub-element"===t?o.communication.SubElements=e:o.communication.Notifications=e,"edit"==a&&(o.communication.item=i,o.communication.index=s);var n="sub-element"===t?c.a:d.a;o.communication.type="Form",this.$hub.$emit("set-modal-data","Thông tin chi tiết","40%",!0,"center",n,!1,"",o.communication)},handleChange:function(e){var a=this;this.selectedDataGroups=e,t.each(this.DataGroup,function(t,i){if(i.Id===e[e.length-1]){var s=a.$Lodash.cloneDeep(a.$singleRequest);return s.R1_RequestTemplate="SettingNew.SearchSetting",s.R1_Code=i.Code,a.$Utils.post(s).then(function(t){t=a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),t=t[0],t.Description=JSON.parse(t.Description),t.Fields="";for(var e=1;e<=t.Description.FCount;e++)void 0!=t["F"+e]&&(t.Fields+=t["F"+e]);t.Fields=JSON.parse(t.Fields),a.CurrentDataGroup={Fields:t.Fields,Buttons:[]};var i=t.Description.Buttons.filter(function(t){return"Form"==t.ParentObject});a.CurrentDataGroup.Buttons=a.$Lodash.cloneDeep(i),i.forEach(function(t){var e=a.listSelectedButtons.indexOf(t.Code);-1==e?(e=i.length-1,a.CurrentDataGroup.Buttons.splice(e,1),a.CurrentDataGroup.Buttons.push(t)):(a.CurrentDataGroup.Buttons.splice(e,0,t),a.CurrentDataGroup.Buttons.splice(e+1,1))})}),!1}})},searchDataGroup:function(){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="SettingNew.SearchSetting",a.R1_ParentCode="xSetting.Project.DataGroup",this.$Utils.post(a).then(function(a){e.DataGroup=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),e.DataGroupTree=e.$Utils.createCustomTreeFromList(e.$Lodash.cloneDeep(e.DataGroup),"Id","ParentId","children",{Caption:"label",Id:"value"},{}),t.each(e.DataGroup,function(t,a){if(a.Code===e.passedItem.DataGroup){var i=[a.ParentId,a.Id];return e.selectedDataGroups=i,e.handleChange(e.selectedDataGroups),!1}})})},searchDisplayType:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_ParentCode="xSetting.Default.Project.Form.DisplayType",this.$Utils.post(e).then(function(e){t.DisplayType=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")})},searchSystem:function(){var t={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"jsontree",ConditionFields:"GroupType",GroupType:"0",StaticFields:"GroupId;GroupName;Description;GroupParent"};this.$Utils.post(t).then(function(t){})},searchGroup:function(){var t={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"GroupType",GroupType:"1",StaticFields:"GroupId;GroupName;Description;GroupParent;Status;GroupPath",StructFields:"ParentName",OrderFields:"GroupName ASC"};this.$Utils.post(t).then(function(t){})},searchGroupRole:function(){var t={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"GroupType",GroupType:"2",StaticFields:"GroupId;GroupName;Description;GroupParent;Status;GroupPath",StructFields:"ParentName",OrderFields:"GroupName ASC"};this.$Utils.post(t).then(function(t){})},searchRoleTemplate:function(){var t=this.$Lodash.cloneDeep(this.$singleRequest);t.R1_RequestTemplate="SettingNew.SearchSetting",t.R1_ParentCode="xSetting.Default.Permissions.RoleTemplate",this.$Utils.post(t).then(function(t){})},searchUserWithGroup:function(){var t={RequestAction:"SearchUserWithGroups",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status",Status:"1",GroupType:"1",StaticFields:"UserId;Username;LoginName",OrderFields:"LoginName ASC"};this.$Utils.post(t).then(function(t){})},searchPermission:function(){var t=this.$Lodash.cloneDeep(this.$singleRequest);t.R1_RequestTemplate="Setting.SearchBase",t.R1_ParentCode="xSetting.Template.Permissions",this.$Utils.post(t).then(function(t){})},addGroupFields:function(){this.data.push({key:this.data.length,label:"grouped-fields",type:"GROUPFIELD",disabled:!0}),this.value3.push(this.data.length)},renderFunc:function(t,e){return t("span",null,[" ",e.type,"-",e.key,"-",e.label])},editTreeNode:function(t){var e=this;if(0==t.level)e.catModel=e.$Lodash.cloneDeep(t),e.tmpGroup=t,e.catModel.action="edit",e.centerDialogVisible=!0;else{var a={item:t,action:"edit",type:"Form"};e.$hub.$emit("set-modal-data","Thông tin trường dữ liệu","50%",!0,"center",m.a,!1,"",a)}}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=a(678),s=a(679),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){e.a={components:{},props:["data"],data:function(){var t={subElementTypeLst:[{id:"Form",name:"Form"},{id:"List",name:"List"},{id:"Filter",name:"Filter"},{id:"Report",name:"Report"}]};return t.model={SubElementType:"",IncludeElementData:!1,SaveElementData:!1,GetFullData:!1,ParentChild:"",ExtraSetting:""},t.viewModel={listSubElements:[]},t.dataToPass=this.data,t.communication={action:"",item:{},index:"",scope:this},t},methods:{save:function(){var t=this;t.$Utils.isEmpty(t.model.SubElement)&&(t.model.DataGroup=t.model.SubElement.DataGroup,t.model.DataGroupCaption=t.model.SubElement.DataGroupCaption,t.model.SubElement=t.model.SubElement.Code,"edit"==t.dataToPass.action?(t.dataToPass.SubElements.splice(t.dataToPass.index,1),t.dataToPass.SubElements.splice(t.dataToPass.index,0,t.model)):t.dataToPass.SubElements.push(t.model),t.cancel())},onChangeSubElementType:function(e){var a=this;if(""!=a.model.SubElementType){var i=a.$Lodash.clone(a.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_ParentCode="xSetting.Project."+a.model.SubElementType,i.R1_Level="4;",a.$Utils.post(i).then(function(i){i=a.$Utils.getDataWithRoot(i.R1,"Data.DynamicDS.Setting"),a.viewModel.listSubElements=i,void 0!=e&&t.each(a.viewModel.listSubElements,function(t,a){if(a.Code==e.SubElement)return e.SubElement=a,!1})})}else a.viewModel.listSubElements=[]},cancel:function(){this.$hub.$emit("close-modal")}},destroyed:function(){},mounted:function(){this.loadField},created:function(){var e=this;"edit"==e.dataToPass.action&&(e.action="edit",e.model=e.$Lodash.clone(e.dataToPass.item),t.each(e.model,function(t,a){"true"==a?e.model[t]=!0:"false"==a&&(e.model[t]=!1)}),e.onChangeSubElementType(e.model))},watch:{}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{"label-width":"15%"}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},on:{change:t.onChangeSubElementType},model:{value:t.model.SubElementType,callback:function(e){t.$set(t.model,"SubElementType",e)},expression:"model.SubElementType"}},t._l(t.subElementTypeLst,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Phần tử"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"Id"},model:{value:t.model.SubElement,callback:function(e){t.$set(t.model,"SubElement",e)},expression:"model.SubElement"}},t._l(t.viewModel.listSubElements,function(t){return a("el-option",{key:t.id,attrs:{value:t,label:t.Caption}})}))],1),t._v(" "),a("el-form-item",[a("el-col",{attrs:{span:10}},[a("el-checkbox",{model:{value:t.model.IncludeElementData,callback:function(e){t.$set(t.model,"IncludeElementData",e)},expression:"model.IncludeElementData"}},[t._v("Lấy dữ liệu từ phần tử")])],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-checkbox",{model:{value:t.model.SaveElementData,callback:function(e){t.$set(t.model,"SaveElementData",e)},expression:"model.SaveElementData"}},[t._v("Lưu dữ liệu")])],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-checkbox",{model:{value:t.model.GetFullData,callback:function(e){t.$set(t.model,"GetFullData",e)},expression:"model.GetFullData"}},[t._v("Lấy đủ dữ liệu")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường ghép đôi"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.ParentChild,callback:function(e){t.$set(t.model,"ParentChild",e)},expression:"model.ParentChild"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Cấu hình thêm"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.ExtraSetting,callback:function(e){t.$set(t.model,"ExtraSetting",e)},expression:"model.ExtraSetting"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(681)}var s=a(682),o=a(683),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-2fe2299b",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(42),s=a.n(i);e.a={name:"notification-dialog",props:["data"],data:function(){return{model:{NotificationType:"",Permissions:"",Template:"",NotifyFields:"",AdditionField:""},viewModel:{NotificationType:[],Permissions:[],Template:[]},dataToPass:this.data,reqCount:0,arrCombo:[]}},methods:{bindComboModel:function(t){var e=this,a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:t.length};t.forEach(function(t,e){a["R"+(e+1)+"_RequestTemplate"]="SettingNew.SearchSetting",a["R"+(e+1)+"_ParentCode"]=t.Code}),e.$Utils.post(a).then(function(a){t.forEach(function(t,i){e.viewModel[t.Field]=e.$Utils.getDataWithRoot(a["R"+(i+1)],"Data.DynamicDS.Setting"),e.reqCount++})})},save:function(){var t=this;t.$Utils.isEmpty(t.model.NotificationType)&&("edit"==t.dataToPass.action&&t.dataToPass.Notifications.splice(t.dataToPass.index,1),t.dataToPass.Notifications.splice(t.dataToPass.index,0,t.model),t.cancel())},cancel:function(){this.$hub.$emit("close-modal")}},watch:{reqCount:function(t){t==this.arrCombo.length&&(this.viewModel=s()({},this.viewModel))}},created:function(){var e=this;"edit"==e.dataToPass.action?(e.model=e.$Lodash.cloneDeep(e.dataToPass.item),t.each(e.model,function(t,a){"true"==a?e.model[t]=!0:"false"==a&&(e.model[t]=!1)})):e.model={NodeType:"Notifications",Status:!0},e.viewModel={},e.arrCombo=[{Code:"xSetting.Default.Project.Form.NotificationType",Field:"NotificationType"},{Code:"xSetting.Template.Permissions",Field:"Permissions"},{Code:"xSetting.Project.Notification",Field:"Template"}],e.bindComboModel(e.arrCombo)}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{"label-width":"15%"}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},model:{value:t.model.NotificationType,callback:function(e){t.$set(t.model,"NotificationType",e)},expression:"model.NotificationType"}},t._l(t.viewModel.NotificationType,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Quyền"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},model:{value:t.model.Permissions,callback:function(e){t.$set(t.model,"Permissions",e)},expression:"model.Permissions"}},t._l(t.viewModel.Permissions,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Mẫu gửi"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},model:{value:t.model.Template,callback:function(e){t.$set(t.model,"Template",e)},expression:"model.Template"}},t._l(t.viewModel.Template,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Caption,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường bổ sung"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},model:{value:t.model.NotifyFields,callback:function(e){t.$set(t.model,"NotifyFields",e)},expression:"model.NotifyFields"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Thêm"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},model:{value:t.model.AdditionField,callback:function(e){t.$set(t.model,"AdditionField",e)},expression:"model.AdditionField"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Thêm"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(685),s=a(704),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";a(3),a(269),a(270);e.a={components:{},data:function(){return{input10:"",options:[{value:"Option1",label:"Option1"},{value:"Option2",label:"Option2"},{value:"Option3",label:"Option3"},{value:"Option4",label:"Option4"},{value:"Option5",label:"Option5"}],value:""}},methods:{closeForm:function(){this.$hub.$emit("close-modal")}},destroyed:function(){},mounted:function(){},created:function(){},watch:{}}},function(t,e,a){"use strict";(function(t){var i=a(3),s=a(58),o=a(109),n=a(288),l=a(7);i.default.use(n.a),e.a={components:{UserInfo:s.a,ChangeThePassword:o.a},name:"user-dropdown",props:["loggedUser"],data:function(){return{user:JSON.parse(localStorage.getItem("LoggedOnUser")),userModel:{},showBtnCalendar:!1,authGoogle:!1,flagSync:!1,calendarTitle:"Đồng bộ hóa google",isMobile:!1,myDevice:"",curAvatar:""}},methods:{checkSigninGoogle:function(){var t=this;if(!this.isMobile)try{n.a.checkAuth().then(function(e){if("error"===e)return t.showBtnCalendar=!1,void console.log("can not connect google service");t.showBtnCalendar=!0,e?(t.$set(t.$rootScope,"authGoogle",!0),t.flagSync=!0,t.calendarTitle="Hủy đồng bộ hóa"):(t.$set(t.$rootScope,"authGoogle",!1),t.flagSync=!1,t.calendarTitle="Đồng bộ hóa google"),t.$hub.$emit("reloadCalendar")})}catch(t){console.log("can not connect google service",t)}},syncCalendar:function(){var t=this,e=this;e.isMobileApp||(!1===e.flagSync?n.a.handleAuthClick().then(function(a){"error"===a?l.a.showMessage("error","Không thể kết nối tới google"):(l.a.showMessage("success","Đồng bộ thành công"),t.$set(t.$rootScope,"authGoogle",!0),e.flagSync=!0,e.calendarTitle="Hủy đồng bộ hóa",t.$hub.$emit("reloadCalendar"))}):(n.a.handleSignoutClick(),e.flagSync=!1,e.calendarTitle="Đồng bộ hóa google",this.$set(this.$rootScope,"authGoogle",!1),l.a.showMessage("success","Đã hủy kết nối đến Google Calendar"),this.$set(this.$rootScope,"isGoogleCalendar",!1),e.$hub.$emit("reloadCalendar")))},connect:function(){},logOut:function(){this.$Utils.logout(),"isMobileApp"==this.myDevice&&this.$cordovaPushV5.setBadgeNumber(0).then(function(t){},function(t){console.log("Error: "+t)}),this.$router.push("/login")},infoUser:function(){this.$hub.$emit("set-modal-data","Thông tin chi tiết người dùng","80%",!0,"center",s.a,!0,"",{action:"edit",item:this.userModel}),this.$hub.$emit("open-modal")},changePass:function(){this.$hub.$emit("set-modal-data","Thay đổi mật khẩu","40%",!0,"center",o.a,!1,"",this.user),this.$hub.$emit("open-modal")},loadAvatar:function(t){return t=t.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===t?this.$appUri.BaseURL+t:this.$appUri.BaseURL+t.replace("/","")+"&Height=50&Width=50"}},mounted:function(){var e=this;this.isMobile=this.$isMobileDevice,this.myDevice=this.$myDevice;var a=t(".userdropdown"),i=a.find('a[class="nav-link"]');i.attr("href","javascript:void(0)"),a.parent().attr("href","javascript:void(0)"),i.attr("href","javascript:void(0)"),this.$hub.$on("userInfoChanged",function(){var t={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",SessionId:e.$getItemLocalStorage(e.$localStorageConstant.SessionId),ConditionFields:"LoginName",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;GroupManage;Notification",OrderFields:"LoginName ASC",GroupType:"1",LoginName:void 0!=e.user.LoginName?e.user.LoginName:"",Status:"1"};e.$Utils.postCheckResult(t).then(function(t){t=e.$Utils.getDataWithRoot(t,"Data.UserDS.User"),1==t.length&&(e.userModel=t[0],e.$hub.$emit("userInfoLoaded",t[0]),e.curAvatar=e.loadAvatar(t[0].Avatar))})})},created:function(){var t=this,e={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",SessionId:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),ConditionFields:"LoginName",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;GroupManage;Notification",OrderFields:"LoginName ASC",GroupType:"1",LoginName:void 0!=this.user.LoginName?this.user.LoginName:"",Status:"1"};this.$Utils.postCheckResult(e).then(function(e){e=t.$Utils.getDataWithRoot(e,"Data.UserDS.User"),1==e.length&&(t.userModel=e[0])}),this.curAvatar=this.loadAvatar(this.user.Avatar),this.checkSigninGoogle()}}}).call(e,a(2))},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(44),n=a.n(o),l=a(689),r=a(3),c=a(101);r.default.use(a(40)),e.a={components:{AvatarUpload:l.a},props:["data"],data:function(){var e={};if("insert"==this.data.action)e.model={Description:{},RoleRoot:""};else{var a=JSON.parse(this.data.item.Description);e.model={Description:{Accountable:a.Accountable&&a.Accountable.UserId?a.Accountable.UserId:"",Control:a.Control&&a.Control.UserId?a.Control.UserId:"",Manager:a.Manager&&a.Manager.UserId?a.Manager.UserId:"",DoubleChecker:a.DoubleChecker&&a.DoubleChecker.UserId?a.DoubleChecker.UserId:""},UserId:this.data.item.UserId,RoleRoot:this.data.item.RoleRoot,LoginName:this.data.item.LoginName,Username:this.data.item.Username,Email:this.data.item.Email,Birthday:this.data.item.Birthday?r.default.moment(this.data.item.Birthday)._d:"",Telephone:this.data.item.Telephone,Password:this.data.item.Password,Facebook:this.data.item.Facebook,Skype:this.data.item.Skype,Biography:this.data.item.Biography,WorkProcess:this.data.item.WorkProcess},t.each(this.data.item,function(t,a){void 0==e.model[t]&&(e.model[t]=a)}),e.model.CurAvatar=this.data.item.Avatar?this.data.item.Avatar.replace("/Download","Download"):""}return e.basicInfoRules={LoginName:[{required:!0,message:"",trigger:"blur"},{min:5,max:20,message:"Tên đăng nhập có độ dài từ 5 tới 20 kí tự",trigger:"blur"}],Username:[{required:!0,message:"Tên cần phải có",trigger:"blur"}],Email:[{type:"email",required:!0,message:"email sai định dạng",trigger:"blur"}]},e.dataToPass=this.data,e.renderable=!1,e.records=[],e.Project=[],e.myDes={},e.rolesObj={},e.deptsLst=[],e.groupsAndGroupRolesTree=[],e.objGroupRole={},e.objGroupRoleX={},e.selectedProjectName="",e.RoleAdmin="",e.formMode=this.data.action,e.isMobileVer=this.$isMobile.Android()||this.$isMobile.BlackBerry()||this.$isMobile.Opera()||this.$isMobile.iOS(),e.isMobileApp=this.$isMobile.Android()||this.$isMobile.BlackBerry()||this.$isMobile.Opera()||this.$isMobile.iOS()&&!this.$isMobile.iPad(),e.dataNoti={cb1:{Status:!1,Add:!1,Edit:!1,Comment:!1},cb2:{Status:!1,Add:!1,Edit:!1,Comment:!1}},e.dataDB={cb1:{Status:!1,Add:!1,Edit:!1,Comment:!1},cb2:{Status:!1,Add:!1,Edit:!1,Comment:!1}},e.viewModel=n()({ListUsers:[],Data:{Fields:[]},Group:{source:[]},Role:{source:[],checkChange:function(t){e.changeGroup(t,"Role",e.treeRole)}},Projects:{source:[]},WProject:{source:[]},MProject:{source:[]},LProject:{source:[]},GroupRoles:{source:[]},GroupDropdown:{source:[]},Groups:{}},"GroupRoles",{}),t.each(e.model,function(t,a){"true"==a?e.model[t]=!0:"false"==a&&(e.model[t]=!1)}),e.Departments=[],e.Project=[],e.Roles=[],e},methods:{handleRoleChange:function(e,a,i){var s=this,o=!1;t.each(a.children,function(t,a){s.viewModel.GroupRoles[a.GroupId]=a.GroupId==i&&e}),t.each(a.children,function(t,e){if(s.viewModel.GroupRoles[e.GroupId])return void(o=!0)}),s.$set(s.viewModel.Groups,a.GroupId,o)},onChangeNoti:function(){var t=this;t.dataDB.cb1.Edit=!t.dataNoti.cb1.Edit,t.dataDB.cb1.Add=!t.dataNoti.cb1.Add,t.dataDB.cb1.Comment=!t.dataNoti.cb1.Comment,t.dataDB.cb2.Add=!t.dataNoti.cb2.Add,t.dataDB.cb2.Edit=!t.dataNoti.cb2.Edit,t.dataDB.cb2.Comment=!t.dataNoti.cb2.Comment,t.dataNoti.cb1.Status=1==t.dataNoti.cb1.Add||1==t.dataNoti.cb1.Edit||1==t.dataNoti.cb1.Comment,t.dataDB.cb1.Status=!t.dataNoti.cb1.Status,t.dataNoti.cb2.Status=1==t.dataNoti.cb2.Add||1==t.dataNoti.cb2.Edit||1==t.dataNoti.cb2.Comment,t.dataDB.cb2.Status=!t.dataNoti.cb2.Status},checkProject:function(e,a,i){var o=this;e&&o.$Utils.isEmpty(a.Department)&&""!=a.Department?(o.viewModel.WProject[a.Id]=i,t.each(a.Department.split(";"),function(e,a){-1==s()(o.viewModel.Groups).indexOf(a)?o.viewModel.Groups[a]=!0:t.each(o.viewModel.Groups,function(t,e){t!=a||e||(o.viewModel.Groups[a]=!0)})})):(o.$Utils.isEmpty(o.viewModel.MProject,a.Id)&&1==o.viewModel.MProject[a.Id]&&(o.viewModel.MProject[a.Id]=!1),o.$Utils.isEmpty(o.viewModel.WProject,a.Id)&&1==o.viewModel.WProject[a.Id]&&(o.viewModel.WProject[a.Id]=!1),o.$Utils.isEmpty(o.viewModel.LProject,a.Id)&&1==o.viewModel.LProject[a.Id]&&(o.viewModel.LProject[a.Id]=!1))},checkRoleProject:function(t,e,a,i){this.$set(this.viewModel.Projects,e.Id,t||a),this.checkProject(t||a,e,i)},checkGroup:function(e,a){var i=this;e||t.each(a.children,function(t,a){i.viewModel.GroupRoles[a.GroupId]=e}),0==this.viewModel.Groups[a.GroupId]&&t.each(i.objGroupRole[a.GroupId],function(t,e){1==i.viewModel.GroupRoles[e.GroupId]&&(i.viewModel.GroupRoles[e.GroupId]=!1)})},executeUserGroup:function(t,e,a,i){var s=this,o={RequestAction:t+"UserGroup",RequestClass:"BPM",UserId:e,GroupId:a};s.$Utils.post(o).then(function(t){void 0!=i&&null!=i||s.$Utils.showMessage("success",s.$toastMessage.updateItemPre+s.$toastMessage.updateItemSuf)})},contentType:function(t){return r.default.moment(t,"YYYY-MM-DD",!0).isValid()?3:isNaN(t)?0:t%1==0?1:2},changeRoleRoot:function(t){var e=this.$refs.roleTree.getCheckedKeys();-1==e.indexOf(t)&&(e.push(t),this.$refs.roleTree.setCheckedKeys(e))},changeGroup:function(e,a,i){var s=this;if(s.$Utils.isEmpty(s.model.Groups)&&-1==s.model.Groups.indexOf(e.GroupId)&&(s.model.Groups+=e.GroupId+";",s.model.RoleRoot=e.GroupId,s.model.UserId&&s.executeUserGroup("Insert",s.model.UserId,e.GroupId)),!a)if(s.model.UserId){var o={RequestAction:"SearchGroup",RequestClass:"BPM",GroupParent:e.GroupId,GroupType:2,SessionId:s.$getItemLocalStorage(s.$localStorageConstant.SessionId)};s.$Utils.post(o).then(function(a){var i=s.$Utils.getDataWithRoot(a,"UserDS.Group");i.length>0?(s.arrGroupId=[e.GroupId],s.arrGroupId.concat(i),t.each(s.arrGroupId,function(t,e){s.executeUserGroup("Delete",s.model.UserId,e),s.model.Groups=s.model.Groups.replace(e+";","")})):s.executeUserGroup("Delete",s.model.UserId,e.GroupId)}),s.model.Groups=s.model.Groups.replace(e.GroupId+";","")}else s.model.Groups=s.model.Groups.replace(e.GroupId+";","")},changeProject:function(e,a){var i=this,o=e.args,n=a.getItem(o.element);i.selectedProjectName=n.label,o.checked?(i.checkedGroup=[],t.each(i.Project,function(e,a){a.Id==n.value&&(t.each(i.treeGroup.getCheckedItems(),function(t,e){var a={Caption:e.label,Value:e.value};i.checkedGroup.push(a)}),-1==s()(i.checkedGroup).indexOf(a.Department)&&t.each(i.treeGroup.getItems(),function(t,e){-1!=a.Department.indexOf(e.value)&&i.treeGroup.checkItem(e)}))}),i.ListAddProject+=n.value+";"):i.$Utils.isEmpty(i.ListAddProject)&&-1!=i.ListAddProject.indexOf(n.value)?i.ListAddProject=i.ListAddProject.replace(n.value+";",""):i.ListRmProject=n.value+";"},save:function(){var e=this,a=!0,i=!1;t.each(e.viewModel.Groups,function(t,e){if(1==e)return i=!0,!1}),a=1==i;var o="",n=[{Name:"Username",Message:"Tên đầy đủ"},{Name:"LoginName",Message:"Tên đăng nhập"},{Name:"Email",Message:"Email"}];if(e.model.Notification={},t.each(e.dataDB,function(t,a){"cb1"==t&&(e.model.Notification["DataGroup.danh-sach-cong-viec.04b66"]=a),"cb2"==t&&(e.model.Notification["DataGroup.tai-lieu-dung-chung.0cb59"]=a)}),e.model.Notification=s()(e.model.Notification),t.each(n,function(t,i){(""==o&&""==e.model[i.Name]||void 0==e.model[i.Name])&&(a=!1,o=i.Message)}),!e.model.UserId&&(void 0==e.model.Password||""==e.model.Password||e.model.Password.length<5)&&(a=!1,o="Mật khẩu"),e.model.UserId&&e.model.Password&&0!==e.model.Password.length&&e.model.Password.length<5&&(a=!1,o="Mật khẩu"),a){e.$Utils.saveSelectModel(e);var l={RequestClass:"BPM",RequestAction:"InsertUser",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;Notification",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone;Avatar",SessionId:e.$getItemLocalStorage(this.$localStorageConstant.SessionId)};e.$Utils.isEmpty(e.model.RoleRoot)&&(e.model.RoleRootName=e.viewModel.objRoles[e.model.RoleRoot]);var c={value:"",label:""};e.model.GroupRoot=c.value,e.model.GroupRootName=c.label,e.model.Description.RoleRoot={Caption:e.model.RoleRoot,Value:e.model.RoleRootName},e.model.Description.GroupRoot={Caption:e.model.GroupRoot,Value:e.model.GroupRootName},e.model.Description.Accountable&&""!==e.model.Description.Accountable&&(e.myDes.Accountable={UserId:e.model.Description.Accountable,Username:e.viewModel.ObjectUsers[e.model.Description.Accountable].Username}),e.model.Description.Control&&""!==e.model.Description.Control&&(e.myDes.Control={UserId:e.model.Description.Control,Username:e.viewModel.ObjectUsers[e.model.Description.Control].Username}),e.model.Description.Manager&&""!==e.model.Description.Manager&&(e.myDes.Manager={UserId:e.model.Description.Manager,Username:e.viewModel.ObjectUsers[e.model.Description.Manager].Username}),e.model.Description.DoubleChecker&&""!==e.model.Description.DoubleChecker&&(e.myDes.DoubleChecker={UserId:e.model.Description.DoubleChecker,Username:e.viewModel.ObjectUsers[e.model.Description.DoubleChecker].Username}),e.myDes.GroupLevel1=[],e.myDes.GroupLevel2=[],t.each(e.model,function(t,a){e.$Utils.isEmpty(a)&&("Birthday"==t?l[t]=r.default.moment(a).format("YYYY-MM-DD"):(l[t]=a,l.StructFields.indexOf(t)>=0&&(l[t+"ColumnType"]=e.contentType(a))))}),e.model.UserId&&(l.RequestAction="UpdateUser",l.UserId=e.model.UserId),""==e.model.Notification&&(l.Notification=";"),l.Description=s()(e.myDes),delete l.Password,e.$Utils.post(l).then(function(t){try{"string"==typeof t&&(t=JSON.parse(t))}catch(e){t={success:!1}}if(t.success){e.$Utils.showMessage("success",e.$toastMessage.updateItemPre+e.$toastMessage.updateItemSuf);var a={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:t.Data,GroupId:e.$roleEveryoneId};if(e.$Utils.post(a),"edit"==e.dataToPass.action){if("admin"!=e.RoleAdmin){var a={RequestAction:"DeleteUserGroup",RequestClass:"BPM",UserId:t.Data,GroupId:e.$supervisor};e.$Utils.post(a)}if("bod"!=e.RoleAdmin){var a={RequestAction:"DeleteUserGroup",RequestClass:"BPM",UserId:t.Data,GroupId:e.$manager};e.$Utils.post(a)}if("bom"!=e.RoleAdmin){var a={RequestAction:"DeleteUserGroup",RequestClass:"BPM",UserId:t.Data,GroupId:e.$leader};e.$Utils.post(a)}var a={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:t.Data};"admin"==e.RoleAdmin?a.GroupId=e.$supervisor:"bod"==e.RoleAdmin?a.GroupId=e.$manager:"bom"==e.RoleAdmin&&(a.GroupId=e.$leader),e.$Utils.post(a)}else{var a={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:t.Data,GroupId:e.$roleEveryoneId};e.$Utils.post(a),"admin"==e.RoleAdmin?a.GroupId=e.$supervisor:"bod"==e.RoleAdmin?a.GroupId=e.$manager:"bom"==e.RoleAdmin&&(a.GroupId=e.$leader),e.$Utils.post(a)}void 0!=e.model.Password&&null!=e.model.Password&&(l={RequestClass:"BPM",RequestAction:"SetPassword",Account:e.model.LoginName,Password:e.model.Password,SessionId:e.$getItemLocalStorage(e.$localStorageConstant.SessionId)},e.$Utils.post(l)),e.model.UserId=t.Data,e.communication={action:e.action,item:e.model,index:e.dataToPass.index},e.saveUserGroup(t.Data),e.saveProjectPermiss(t.Data),e.dataToPass.reload?e.dataToPass.reload():e.$hub.$emit("userInfoChanged"),e.cancel()}else e.model.userId?e.$Utils.showMessage("error",e.$toastMessage.updateItemFailed):e.$Utils.showMessage("error","Tài khoản đã tồn tại hoặc đang bị khóa")})}else e.$Utils.isEmpty(e.model.LoginName)?e.$Utils.isEmpty(e.model.Username)?e.$Utils.isEmpty(e.model.Email)?!e.model.UserId&&(void 0==e.model.Password||""==e.model.Password||e.model.Password.length<5)||e.model.UserId&&e.model.Password&&0!==e.model.Password.length&&e.model.Password.length<5?(e.$Utils.showMessage("error","Mật khẩu phải ít nhất 5 kí tự"),a=!1):i||(e.$Utils.showMessage("error","Bạn phải chọn ít nhất một phòng ban"),a=!1):(e.$Utils.showMessage("error","Email bắt buộc nhập"),a=!1):(e.$Utils.showMessage("error","Tên đầy đủ bắt buộc nhập"),a=!1):(e.$Utils.showMessage("error","Tên đăng nhập bắt buộc nhập"),a=!1)},saveUserGroup:function(e){var a=this,i=[],s=[];s=s.concat(a.compareArray(a.convertObjectToArray(a.Cache.GroupsTemp),a.convertObjectToArray(a.viewModel.Groups))),s=s.concat(a.compareArray(a.convertObjectToArray(a.Cache.GroupsRoleTemp),a.convertObjectToArray(a.viewModel.GroupRoles))),s=s.filter(function(t,e,a){return e==a.indexOf(t)}),i=i.concat(a.compareArray(a.convertObjectToArray(a.viewModel.Groups),a.convertObjectToArray(a.Cache.GroupsTemp))),i=i.concat(a.compareArray(a.convertObjectToArray(a.viewModel.GroupRoles),a.convertObjectToArray(a.Cache.GroupsRoleTemp))),i=i.filter(function(t,e,a){return e==a.indexOf(t)}),t.each(i,function(t,i){if(a.$Utils.isEmpty(i)){var s={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:e,GroupId:i};a.$Utils.post(s).then(function(t){})}}),t.each(s,function(t,i){if(a.$Utils.isEmpty(i)){var s={RequestAction:"DeleteUserGroup",RequestClass:"BPM",UserId:e,GroupId:i};a.$Utils.post(s).then(function(t){})}})},saveProjectPermiss:function(e){var a=this,i=(a.compareArray(a.convertObjectToArray(a.viewModel.Projects),a.convertObjectToArray(a.Cache.ProjectsTemp)),a.compareArray(a.convertObjectToArray(a.viewModel.MProject),a.convertObjectToArray(a.Cache.MProjectsTemp))),s=a.compareArray(a.convertObjectToArray(a.viewModel.LProject),a.convertObjectToArray(a.Cache.LProjectsTemp)),o=a.compareArray(a.convertObjectToArray(a.viewModel.WProject),a.convertObjectToArray(a.Cache.WProjectsTemp)),n=a.$Lodash.cloneDeep(a.Project);t.each(n,function(t,n){var l=a.$Lodash.cloneDeep(a.$singleRequest);l.R1_RequestTemplate="tblGroup.Update",l.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",l.R1_RequestFields="GroupId;Worker;Manager;Lead;",l.R1_Id=n.Id;var r=i.filter(function(t){return t===n.Id}),c=s.filter(function(t){return t===n.Id}),d=o.filter(function(t){return t===n.Id}),u=n.Worker?n.Worker:"",m=n.Manager?n.Manager:"",p=n.Lead?n.Lead:"";if(d.length>0&&-1==u.indexOf(e)&&(l.R1_Worker=n.Worker+e+";"),r.length>0&&-1==m.indexOf(e)&&(l.R1_Manager=n.Manager+e+";"),c.length>0&&-1==p.indexOf(e)&&(l.R1_Lead=n.Lead+e+";"),a.$Utils.isEmpty(l,"R1_Manager")||a.$Utils.isEmpty(l,"R1_Worker")||a.$Utils.isEmpty(l,"R1_Lead")){a.$Utils.post(l).then(function(t){});var h={RequestClass:"xBase",Parent:n.Id,Child:e,Code:"View",Name:n.Name+" - View",RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser",RequestTemplate:"Permission.Insert"};a.$Utils.post(h).then(function(t){})}});var l=(a.compareArray(a.convertObjectToArray(a.Cache.ProjectsTemp),a.convertObjectToArray(a.viewModel.Projects)),a.compareArray(a.convertObjectToArray(a.Cache.MProjectsTemp),a.convertObjectToArray(a.viewModel.MProject))),r=a.compareArray(a.convertObjectToArray(a.Cache.LProjectsTemp),a.convertObjectToArray(a.viewModel.LProject)),c=a.compareArray(a.convertObjectToArray(a.Cache.WProjectsTemp),a.convertObjectToArray(a.viewModel.WProject));t.each(n,function(i,s){var o=a.$Lodash.cloneDeep(a.$singleRequest);o.R1_RequestTemplate="tblGroup.Update",o.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",o.R1_RequestFields="GroupId;Worker,Manager;Lead",o.R1_Id=s.Id;var n=l.filter(function(t){return t===s.Id}),d=r.filter(function(t){return t===s.Id}),u=c.filter(function(t){return t===s.Id}),m=s.Worker?s.Worker:"",p=s.Manager?s.Manager:"",h=s.Lead?s.Lead:"";if(u.length>0&&-1!=m.indexOf(e)&&(o.R1_Worker=m.replace(e+";","")),n.length>0&&-1!=p.indexOf(e)&&(o.R1_Manager=p.replace(e+";","")),d.length>0&&-1!=h.indexOf(e)&&(o.R1_Lead=h.replace(e+";","")),a.$Utils.isEmpty(o,"R1_Manager")||a.$Utils.isEmpty(o,"R1_Worker")||a.$Utils.isEmpty(o,"R1_Lead")){a.$Utils.post(o).then(function(t){});var f={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;",SessionId:a.$getItemLocalStorage(this.$localStorageConstant.SessionId),StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:s.Id,Child:e};a.$Utils.post(f).then(function(e){if(e.TotalCount>0){var i=1==e.TotalCount?[e.Data.DataDS.Linked]:e.Data.DataDS.Linked,s={RequestClass:"xBase",RequestAction:"Request",TotalRequests:i.length,RequestTemplate:"Permission.Remove"};t.each(i,function(t,e){s["R"+(t+1)+"_Id"]=e.Id}),a.$Utils.post(s).then(function(){})}})}})},convertObjectToArray:function(e){var a=[],i=s()(e);return i=i.split("{").join(""),i=i.split("}").join(""),i=i.split(","),t.each(i,function(t,e){e&&(e=e.split(":"),"true"===e[1]&&a.push(e[0].split('"').join("")))}),a},compareArray:function(t,e){return t.filter(function(t){return e.indexOf(t)<0})},cancel:function(){this.$hub.$emit("close-modal")},getAndBindRoles:function(){var t=this,e={RequestClass:"BPM",RequestAction:"SearchGroup",ConditionFields:"GroupType",StaticFields:"GroupId;GroupName;Description;GroupParent;Status;GroupType",StructFields:"ParentName",GroupType:"0",orderFields:"GroupName ASC",RequestDataType:"json"};this.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e,"UserDS.Group"),t.viewModel.Role.source=t.$Utils.treeify(e,"GroupId","parent","level"),t.viewModel.listRoles=e,t.viewModel.objRoles=t.$Utils.rotateDementionArr(e,"GroupId");var a=[];void 0!=t.model.Groups&&t.model.Groups.constructor===String&&(a=t.model.Groups.split(";"),t.viewModel.Role.defaultCheckedNode=a)})},getAndBindProjects:function(){var t=this,e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="tblGroup.Search",a.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",a.R1_RequestFields="GroupId;GroupName;GroupType;GroupParent;ProjectCode;CreatedBy;State;Status;Type;Department;ParentName;Description;",a.R1_GroupType="4;5",this.$isSystemAdmin()||this.$isMantisAdmin()||(a.R1_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId)),this.$Utils.post(a).then(function(a){return e.model.Groups=e.model.Groups?e.model.Groups:"",a=t.$Utils.getDataWithRoot(a.R1,"Data.UserDS.Group"),e.Project=[],e.Roles=[],a&&a.forEach(function(t){"4"===t.GroupType&&(t.children={},e.Project.push(t),e.$set(e.viewModel.Groups,t.GroupId,!1),e.model.Groups.toLowerCase().indexOf(t.GroupId.toLowerCase())>-1&&e.$set(e.viewModel.Groups,t.GroupId,!0)),"5"===t.GroupType&&(e.Roles.push(t),e.$set(e.viewModel.GroupRoles,t.GroupId,!1),e.model.Groups.toLowerCase().indexOf(t.GroupId.toLowerCase())>-1&&e.$set(e.viewModel.GroupRoles,t.GroupId,!0))}),e.Project.forEach(function(t){e.Roles.forEach(function(e){t.GroupId===e.GroupParent&&(t.children[e.GroupId]=e)})}),e.Cache.GroupsTemp=e.$Lodash.cloneDeep(e.viewModel.Groups),void(e.Cache.GroupsRoleTemp=e.$Lodash.cloneDeep(e.viewModel.GroupRoles))})},showCreatedDepartment:function(t){var e="Thêm mới phòng ban",a={treeSrc:[],groupP:[],groupRole:[],checkGroup:!0};void 0!=t&&(a.item=t,e="Chỉnh sửa phòng ban"),this.$hub.$emit("set-modal-data",e,"60%",!0,"center",c.a,!0,"showCreatedDepartment",a)},getAndBindDepartments:function(){var t=this,e=this,a={RequestClass:"BPM",RequestAction:"SearchGroup",ConditionFields:"GroupType",StaticFields:"GroupId;GroupName;Description;GroupParent;Status;GroupType",StructFields:"ParentName",GroupType:"1;2",orderFields:"GroupName ASC",RequestDataType:"json"};this.$Utils.post(a).then(function(a){return e.model.Groups=e.model.Groups?e.model.Groups:"",a=a.UserDS.Group,a||e.$confirm("Hiện tại chưa có phòng ban, bạn có muốn tạo phòng ban?","Cảnh Báo",{confirmButtonText:"Đồng ý",cancelButtonText:"Bỏ qua",type:"warning"}).then(function(){t.cancel(),t.showCreatedDepartment()}).catch(function(){t.$message({type:"info",message:"Hủy bỏ tạo người dùng!"}),t.cancel()}),e.Departments=[],e.Roles=[],a&&a.forEach(function(t){"1"===t.GroupType&&(t.children={},e.Departments.push(t),e.$set(e.viewModel.Groups,t.GroupId,!1),e.model.Groups.toLowerCase().indexOf(t.GroupId.toLowerCase())>-1&&e.$set(e.viewModel.Groups,t.GroupId,!0)),"2"===t.GroupType&&(e.Roles.push(t),e.$set(e.viewModel.GroupRoles,t.GroupId,!1),e.model.Groups.toLowerCase().indexOf(t.GroupId.toLowerCase())>-1&&e.$set(e.viewModel.GroupRoles,t.GroupId,!0))}),e.Departments.forEach(function(t){e.Roles.forEach(function(e){t.GroupId===e.GroupParent&&(t.children[e.GroupId]=e)})}),e.Cache.GroupsTemp=e.$Lodash.cloneDeep(e.viewModel.Groups),void(e.Cache.GroupsRoleTemp=e.$Lodash.cloneDeep(e.viewModel.GroupRoles))})},getUsers:function(){var t=this,e={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",SessionId:t.$getItemLocalStorage(t.$localStorageConstant.SessionId),ConditionFields:"IncludedGroupManager;Group;Status;LoginName",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;GroupManage;Notification",OrderFields:"LoginName ASC",GroupType:"1",Status:"1"};t.$Utils.postCheckResult(e).then(function(e){e=t.$Utils.getDataWithRoot(e,"Data.UserDS.User"),t.viewModel.ListUsers=e,t.viewModel.ObjectUsers=t.$Utils.rotateDementionArr(e,"UserId")})}},created:function(){var t=this;if("edit"==t.data.action){var e={RequestClass:"BPM",RequestAction:"SearchGroup",ConditionFields:"GroupType",StaticFields:"GroupId;GroupName;Description;GroupParent;Status",StructFields:"ParentName",GroupType:0,GroupId:t.dataToPass.item.Groups,orderFields:"GroupName ASC",RequestDataType:"json"};t.$Utils.postCheckResult(e).then(function(e){e=t.$Utils.getDataWithRoot(e,"UserDS.Group"),e.filter(function(e){e.GroupId==t.$supervisor?t.RoleAdmin="admin":""==t.RoleAdmin&&e.GroupId==t.$manager?t.RoleAdmin="bod":""==t.RoleAdmin&&e.GroupId==t.$leader?t.RoleAdmin="bom":""==t.RoleAdmin&&(t.RoleAdmin="user")})})}else"insert"==t.data.action&&(t.RoleAdmin="user");t.getAndBindProjects(),t.$Utils.isEmpty(t.dataToPass.item,"Notification")&&-1!=t.dataToPass.item.Notification.indexOf("{")&&(t.dataDB.cb1=JSON.parse(t.dataToPass.item.Notification)["DataGroup.danh-sach-cong-viec.04b66"],t.dataDB.cb2=JSON.parse(t.dataToPass.item.Notification)["DataGroup.tai-lieu-dung-chung.0cb59"],t.dataNoti.cb1.Status=!t.dataDB.cb1.Status,t.dataNoti.cb1.Edit=!t.dataDB.cb1.Edit,t.dataNoti.cb1.Add=!t.dataDB.cb1.Add,t.dataNoti.cb1.Comment=!t.dataDB.cb1.Comment,t.dataNoti.cb2.Status=!t.dataDB.cb2.Status,t.dataNoti.cb2.Add=!t.dataDB.cb2.Add,t.dataNoti.cb2.Edit=!t.dataDB.cb2.Edit,t.dataNoti.cb2.Comment=!t.dataDB.cb2.Comment,t.onChangeNoti()),t.isSystemAdmin=t.$isSystemAdmin(),t.isMantisAdmin=t.$isMantisAdmin(),t.Cache={},t.Cache.GroupsTemp={},t.Cache.GroupsRoleTemp={},t.Cache.ProjectsTemp={},t.Cache.MProjectsTemp={},t.Cache.LProjectsTemp={},t.Cache.WProjectsTemp={},t.ListAddProject="",t.ListRmProject="",t.communication={action:"",item:{},index:"",scope:t},t.getUsers(),t.getAndBindDepartments(),t.getAndBindRoles()},mounted:function(){var t=this;this.$hub.$on("imgUploaded",function(e){t.model.Avatar="/Download.ashx?Id="+e})},watch:{"dataNoti.cb1.Status":{handler:function(t){t||(this.dataNoti.cb1.Add=t,this.dataNoti.cb1.Edit=t,this.dataNoti.cb1.Comment=t,this.dataDB.cb1.Add=!t,this.dataDB.cb1.Edit=!t,this.dataDB.cb1.Comment=!t,this.dataDB.cb1.Status=!t)},deep:!0},"dataNoti.cb2.Status":{handler:function(t){t||(this.dataNoti.cb2.Add=t,this.dataNoti.cb2.Edit=t,this.dataNoti.cb2.Comment=t,this.dataDB.cb2.Add=!t,this.dataDB.cb2.Edit=!t,this.dataDB.cb2.Comment=!t,this.dataDB.cb2.Status=!t)},deep:!0}},destroy:function(){this.$hub.$off("imgUploaded")}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(690)}var s=a(691),o=a(692),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={props:["imageUrl"],data:function(){var t={};return this.imageUrl&&this.imageUrl.indexOf("Download")>-1?t.imgUrl=this.$appUri.BaseURL+this.imageUrl:t.imgUrl="",t.action=this.$appUri.BaseUri,t},created:function(){var t=JSON.parse(localStorage.getItem("LoggedOnUser")),e=this.$getItemLocalStorage(this.$localStorageConstant.SessionId);this.data={RequestClass:"xBase",RequestAction:"Upload",SessionId:e,Username:t.Username,Parent:t.UserId,WriteTempFile:!0}},destroyed:function(){},mounted:function(){},methods:{submitUpload:function(){},handleAvatarSuccess:function(t,e){this.imgUrl=URL.createObjectURL(e.raw),this.$hub.$emit("imgUploaded",t.AttachmentId)},beforeAvatarUpload:function(t){var e=t.type.indexOf("image/")>-1,a=t.size/1024/1024<2;return e||this.$message.error("Avatar  must be picture/image format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),e&&a}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:t.action,data:t.data,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[""!=t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=(a(3),a(31));e.a={components:{SelectTree:o.a},props:["data"],data:function(){return{form:{name:"",code:"",status:!0,desc:"",parentId:"",groupParent:"",user:[],oriUser:[],groupRole:[],groupRoleTemp:[]},stages:[],listUser:[],title:"",titleR:"",input:"",checked:!0,option:!0,rules:{name:[{required:!0,message:"Hãy nhập tên phòng",trigger:"blur"}],desc:[{required:!0,message:"Hãy nhập mô tả",trigger:"blur"}]}}},created:function(){var e=this;this.getUser();var a=this;if("1"==a.data.checkGroup?(a.title="phòng ban",a.titleR="Phòng ban"):(a.title="vai trò",a.titleR="Vai trò"),this.groupParent=a.data.groupP,this.data.item){this.option=!0;var i=this.data.item;this.form.name=i.label,this.form.code=i.code,this.form.desc=i.des,this.form.groupRole=this.$Lodash.cloneDeep(i.groupRole),i.ParentId&&(this.form.parentId=i.ParentId),"1"==i.status?this.form.status=!0:this.form.status=!1}else this.option=!1;this.data.groupP&&t.each(this.data.groupP,function(t,e){if(e.Level){var i=e.Level;for(a.data.groupP[t].text="";i>1;)a.data.groupP[t].text+="|-- ",i--;a.data.groupP[t].text+=e.GroupName}});var s=this.$Lodash.cloneDeep(this.$singleRequest);s.R1_RequestTemplate="Setting.SearchSetting",s.R1_ParentCode="xSetting.Default.Permissions.RoleTemplate",this.$Utils.post(s).then(function(t){e.form.groupRoleTemp=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),e.$forceUpdate()})},methods:{executeUserGroup:function(e){var a=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),i=this;0==this.$Utils.equals(e,i.oriUser)&&(i.oriUser.length>e.length?t.each(i.oriUser,function(t,o){if(-1==s()(e).indexOf(o)){var n={RequestAction:"DeleteUserGroup",RequestClass:"BPM",UserId:o,GroupId:i.data.item.Id,SessionId:a};i.$Utils.post(n).then(function(t){t.success?i.$message({message:"Đã bỏ nhân sự ra khỏi phòng ban "+i.data.item.text,type:"success"}):i.$message.error("Đã xảy ra lỗi. Xin vui lòng thử lại.")})}}):t.each(e,function(t,e){if(-1==s()(i.oriUser).indexOf(e)){var o={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:e,GroupId:i.data.item.Id,SessionId:a};i.$Utils.post(o).then(function(t){t?i.$message({message:"Đã thêm nhân sự vào phòng ban "+i.data.item.text,type:"success"}):i.$message.error("Đã xảy ra lỗi. Xin vui lòng thử lại.")})}}))},getUser:function(){var e=this,a=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),i=this,o={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",SessionId:a,ConditionFields:"IncludedGroupManager;Group;Status",StaticFields:"UserId;Username;LoginName;Description;Status;",OrderFields:"LoginName ASC",Status:1};this.$Utils.post(o).then(function(a){var a=e.$Utils.getDataWithRoot(a,"Data.UserDS.User");e.$isSystemAdmin()||(a=a.filter(function(t){return"superadmin"!=t.LoginName})),e.listUser=a;var o=[];e.data.item&&t.each(a,function(t,e){i.$Utils.isEmpty(e.Groups)&&-1!=s()(e.Groups).indexOf(i.data.item.Id)&&o.push(e.UserId)}),i.form.user=o,i.oriUser=o})},onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.onSave()})},onSave:function(){var e=this,a=this,i=this.$getItemLocalStorage(this.$localStorageConstant.SessionId);if(this.data){var s=this.$Lodash.cloneDeep(this.$singleRequest);s.TotalRequests=1,this.data.item?(s.R1_RequestTemplate="OrgnizationUpdate",s.R1_GroupId=this.data.item.Id):s.R1_RequestTemplate="OrgnizationInsert",s.R1_GroupParent=this.form.parentId,"1"==this.data.checkGroup?s.R1_GroupType=1:"2"==this.data.checkGroup&&(s.R1_GroupType=0),s.R1_GroupName=this.form.name,s.R1_GroupPath=this.form.code,1==this.form.status?s.R1_Status=1:s.R1_Status=2,s.R1_Description=this.form.desc,this.$Utils.post(s).then(function(o){if(o)if("OrgnizationInsert"==s.R1_RequestTemplate){var n={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:JSON.parse(e.$Utils.getUserInfo()).UserId,GroupId:o.R1.Data};if(e.$Utils.post(n).then(function(t){}),1==s.R1_GroupType){var l=e.$Lodash.cloneDeep(e.$singleRequest);l.R1_RequestTemplate="Setting.SearchSetting",l.R1_ParentCode="xSetting.Default.Permissions.RoleTemplate",t.each(e.form.groupRoleTemp,function(t,e){var s={R1_Status:1,RequestAction:"Request",RequestClass:"xBase",TotalRequests:1,R1_RequestTemplate:"OrgnizationInsert",R1_GroupParent:o.R1.Data,R1_GroupName:e.Name,R1_GroupType:2,R1_Description:e.Caption};a.$Utils.post(s).then(function(t){var s={RequestClass:"BPM",RequestAction:"UpdateGroupForNestedSet",SessionId:i};a.$Utils.post(s).then(function(i){if("Leader"==e.Name){var s={RequestAction:"InsertUserGroup",RequestClass:"BPM",UserId:JSON.parse(a.$Utils.getUserInfo()).UserId,GroupId:t.R1.Data};a.$Utils.post(s).then(function(t){})}})})})}else{var r={RequestClass:"BPM",RequestAction:"UpdateGroupForNestedSet"};e.$Utils.post(r).then(function(t){})}e.data.callback&&e.data.callback()}else if("OrgnizationUpdate"==s.R1_RequestTemplate){var c=e.$Lodash.differenceBy(e.data.item.groupRole,e.form.groupRole,"Name"),d=e.$Lodash.differenceBy(e.form.groupRole,e.data.item.groupRole,"Name"),u={},m={};t.each(d,function(t,a){u={R1_Status:1,RequestAction:"Request",RequestClass:"xBase",TotalRequests:1,R1_RequestTemplate:"OrgnizationInsert",R1_GroupParent:s.R1_GroupId,R1_GroupName:a.Name,R1_GroupType:2,R1_Description:a.Caption},e.$Utils.post(u).then(function(t){})}),t.each(c,function(t,e){m={RequestAction:"DeleteGroup",RequestClass:"BPM",ConditionFields:"GroupId;",GroupId:e.GroupId},a.$Utils.post(m).then(function(t){})}),e.data.callback&&e.data.callback()}else e.data.callback&&e.data.callback();e.close()})}else;},close:function(){this.$hub.$emit("close-modal")},handleChange:function(){}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mb-0"},[a("el-form",{ref:"form",staticClass:"formUpdate",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên "+t.title,prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã "+t.title}},[a("el-input",{model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Hoạt động"}},[a("el-switch",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1),t._v(" "),"1"===t.data.checkGroup?a("el-form-item",{attrs:{label:"Vai trò sử dụng"}},[a("el-select",{staticClass:"w-100",attrs:{multiple:"",clearable:"","value-key":"Name"},model:{value:t.form.groupRole,callback:function(e){t.$set(t.form,"groupRole",e)},expression:"form.groupRole"}},t._l(t.form.groupRoleTemp,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t}})}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:t.titleR+" cha"}},[a("b-form-select",{staticClass:"mb-3 selectP",model:{value:t.form.parentId,callback:function(e){t.$set(t.form,"parentId",e)},expression:"form.parentId"}},t._l(t.data.groupP,function(e){return a("option",{key:e.Id,domProps:{value:e.GroupId}},[t._v(t._s(e.text))])}))],1),t._v(" "),t.option&&2!=t.data.checkGroup?a("el-form-item",{attrs:{label:"Nhân sự"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"large",placeholder:"Chọn",multiple:""},on:{change:function(e){t.executeUserGroup(t.form.user)}},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}},t._l(t.listUser,function(t){return a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.UserId}})}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),t._v(" "),a("el-form-item",[a("el-form-item"),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("form")}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Cơ bản"}},[a("el-form",{ref:"basicInfo",staticClass:"row justify-content-md-center",attrs:{model:t.model,rules:t.basicInfoRules}},[a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Hình đại diện:"}},[a("AvatarUpload",{attrs:{imageUrl:t.model.CurAvatar}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[t.$isMantisAdmin()||t.$isSystemAdmin()?a("el-form-item",{attrs:{label:"Quyền người dùng:"}},[a("el-select",{attrs:{placeholder:"Chọn"},model:{value:t.RoleAdmin,callback:function(e){t.RoleAdmin=e},expression:"RoleAdmin"}},[a("el-option",{attrs:{value:"user",label:"Người dùng"}}),t._v(" "),a("el-option",{attrs:{value:"bod",label:"BOD"}}),t._v(" "),a("el-option",{attrs:{value:"bom",label:"BOM"}}),t._v(" "),a("el-option",{attrs:{value:"admin",label:"Quản trị viên"}})],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"}),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Tên đăng nhập",prop:"LoginName"}},[a("el-input",{attrs:{disabled:void 0!=t.model.UserId,placeholder:"tendangnhap"},model:{value:t.model.LoginName,callback:function(e){t.$set(t.model,"LoginName",e)},expression:"model.LoginName"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"},[a("el-form-item",{attrs:{label:"Tên đầy đủ",prop:"Username"}},[a("el-input",{attrs:{placeholder:"Tên đầy đủ"},model:{value:t.model.Username,callback:function(e){t.$set(t.model,"Username",e)},expression:"model.Username"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Thư điện tử",prop:"Email"}},[a("el-input",{attrs:{placeholder:"thudientu@vidu.com"},model:{value:t.model.Email,callback:function(e){t.$set(t.model,"Email",e)},expression:"model.Email"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"},[a("el-form-item",{attrs:{label:"Số điện thoại",prop:"Telephone"}},[a("el-input",{attrs:{placeholder:"0912345678"},model:{value:t.model.Telephone,callback:function(e){t.$set(t.model,"Telephone",e)},expression:"model.Telephone"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Ngày sinh",prop:"Birthday"}},[a("el-date-picker",{model:{value:t.model.Birthday,callback:function(e){t.$set(t.model,"Birthday",e)},expression:"model.Birthday"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"},[a("el-form-item",{attrs:{label:"Mật khẩu(ít nhất 5 kí tự)",prop:"Password"}},[a("el-input",{attrs:{type:"password",placeholder:"***"},model:{value:t.model.Password,callback:function(e){t.$set(t.model,"Password",e)},expression:"model.Password"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Link Facebook",prop:"Facebook"}},[a("el-input",{attrs:{placeholder:"https://www.facebook.com/tendangnhap"},model:{value:t.model.Facebook,callback:function(e){t.$set(t.model,"Facebook",e)},expression:"model.Facebook"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"},[a("el-form-item",{attrs:{label:"Skype",prop:"Skype"}},[a("el-input",{attrs:{placeholder:"tendangnhapskype"},model:{value:t.model.Skype,callback:function(e){t.$set(t.model,"Skype",e)},expression:"model.Skype"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Tiểu sử",prop:"Biography"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.Biography,callback:function(e){t.$set(t.model,"Biography",e)},expression:"model.Biography"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"},[a("el-form-item",{attrs:{label:"Quá trình công tác",prop:"WorkProcess"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:t.model.WorkProcess,callback:function(e){t.$set(t.model,"WorkProcess",e)},expression:"model.WorkProcess"}})],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Người phụ trách",prop:"Accountable"}},[a("el-select",{attrs:{placeholder:"Chọn"},model:{value:t.model.Description.Accountable,callback:function(e){t.$set(t.model.Description,"Accountable",e)},expression:"model.Description.Accountable"}},t._l(t.viewModel.ListUsers,function(t){return a("el-option",{key:t.UserId,attrs:{value:t.UserId,label:t.Username}})}))],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"},[a("el-form-item",{attrs:{label:"Người điều khiển",prop:"Control"}},[a("el-select",{attrs:{placeholder:"Chọn"},model:{value:t.model.Description.Control,callback:function(e){t.$set(t.model.Description,"Control",e)},expression:"model.Description.Control"}},t._l(t.viewModel.ListUsers,function(t){return a("el-option",{key:t.UserId,attrs:{value:t.UserId,label:t.Username}})}))],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12"},[a("el-form-item",{attrs:{label:"Người quản lý",prop:"Manager"}},[a("el-select",{attrs:{placeholder:"Chọn"},model:{value:t.model.Description.Manager,callback:function(e){t.$set(t.model.Description,"Manager",e)},expression:"model.Description.Manager"}},t._l(t.viewModel.ListUsers,function(t){return a("el-option",{key:t.UserId,attrs:{value:t.UserId,label:t.Username}})}))],1)],1),t._v(" "),a("div",{staticClass:"col-md-5 col-sm-12 col-xs-12 offset-md-1"},[a("el-form-item",{attrs:{label:"Người kiểm tra",prop:"DoubleChecker"}},[a("el-select",{attrs:{placeholder:"Chọn"},model:{value:t.model.Description.DoubleChecker,callback:function(e){t.$set(t.model.Description,"DoubleChecker",e)},expression:"model.Description.DoubleChecker"}},t._l(t.viewModel.ListUsers,function(t){return a("el-option",{key:t.UserId,attrs:{value:t.UserId,label:t.Username}})}))],1)],1)])],1),t._v(" "),t.model.UserId?a("el-tab-pane",{attrs:{label:"Thông báo"}},[a("table",{staticClass:"w-100"},[a("thead",[a("tr",{staticClass:"row"},[a("th",{staticClass:"col-6"},[t._v("Phần công việc")]),t._v(" "),a("th",{staticClass:"col-6"},[t._v("Phần tài liệu")])])]),t._v(" "),a("tbody",[a("tr",{staticClass:"row",staticStyle:{"border-bottom":"1px dotted lightblue !important"}},[a("td",{staticClass:"col-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[t._v("Tất cả")])]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-text switch-pill switch-primary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataNoti.cb1.Status,expression:"dataNoti.cb1.Status"}],staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dataNoti.cb1.Status)?t._i(t.dataNoti.cb1.Status,null)>-1:t.dataNoti.cb1.Status},on:{change:function(e){var a=t.dataNoti.cb1.Status,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.dataNoti.cb1.Status=a.concat([null])):o>-1&&(t.dataNoti.cb1.Status=a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.dataNoti.cb1,"Status",s)}}}),t._v(" "),a("span",{staticClass:"switch-label",attrs:{"data-on":"Bật","data-off":"Tắt"}}),t._v(" "),a("span",{staticClass:"switch-handle"})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[t._v("Thêm mới")])]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-text switch-pill switch-primary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataNoti.cb1.Add,expression:"dataNoti.cb1.Add"}],staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dataNoti.cb1.Add)?t._i(t.dataNoti.cb1.Add,null)>-1:t.dataNoti.cb1.Add},on:{change:[function(e){var a=t.dataNoti.cb1.Add,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.dataNoti.cb1.Add=a.concat([null])):o>-1&&(t.dataNoti.cb1.Add=a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.dataNoti.cb1,"Add",s)},function(e){t.onChangeNoti()}]}}),t._v(" "),a("span",{staticClass:"switch-label",attrs:{"data-on":"Bật","data-off":"Tắt"}}),t._v(" "),a("span",{staticClass:"switch-handle"})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[t._v("Chỉnh sửa")])]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-text switch-pill switch-primary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataNoti.cb1.Edit,expression:"dataNoti.cb1.Edit"}],staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dataNoti.cb1.Edit)?t._i(t.dataNoti.cb1.Edit,null)>-1:t.dataNoti.cb1.Edit},on:{change:[function(e){var a=t.dataNoti.cb1.Edit,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.dataNoti.cb1.Edit=a.concat([null])):o>-1&&(t.dataNoti.cb1.Edit=a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.dataNoti.cb1,"Edit",s)},function(e){t.onChangeNoti()}]}}),t._v(" "),a("span",{staticClass:"switch-label",attrs:{"data-on":"Bật","data-off":"Tắt"}}),t._v(" "),a("span",{staticClass:"switch-handle"})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[t._v("Bình luận")])]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-text switch-pill switch-primary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataNoti.cb1.Comment,expression:"dataNoti.cb1.Comment"}],staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dataNoti.cb1.Comment)?t._i(t.dataNoti.cb1.Comment,null)>-1:t.dataNoti.cb1.Comment},on:{change:[function(e){var a=t.dataNoti.cb1.Comment,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.dataNoti.cb1.Comment=a.concat([null])):o>-1&&(t.dataNoti.cb1.Comment=a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.dataNoti.cb1,"Comment",s)},function(e){t.onChangeNoti()}]}}),t._v(" "),a("span",{staticClass:"switch-label",attrs:{"data-on":"Bật","data-off":"Tắt"}}),t._v(" "),a("span",{staticClass:"switch-handle"})])])])]),t._v(" "),a("td",{staticClass:"col-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[t._v("Tất cả")])]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-text switch-pill switch-primary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataNoti.cb2.Status,expression:"dataNoti.cb2.Status"}],staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dataNoti.cb2.Status)?t._i(t.dataNoti.cb2.Status,null)>-1:t.dataNoti.cb2.Status},on:{change:function(e){var a=t.dataNoti.cb2.Status,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.dataNoti.cb2.Status=a.concat([null])):o>-1&&(t.dataNoti.cb2.Status=a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.dataNoti.cb2,"Status",s)}}}),t._v(" "),a("span",{staticClass:"switch-label",attrs:{"data-on":"Bật","data-off":"Tắt"}}),t._v(" "),a("span",{staticClass:"switch-handle"})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[t._v("Thêm mới")])]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-text switch-pill switch-primary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataNoti.cb2.Add,expression:"dataNoti.cb2.Add"}],staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dataNoti.cb2.Add)?t._i(t.dataNoti.cb2.Add,null)>-1:t.dataNoti.cb2.Add},on:{change:[function(e){var a=t.dataNoti.cb2.Add,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.dataNoti.cb2.Add=a.concat([null])):o>-1&&(t.dataNoti.cb2.Add=a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.dataNoti.cb2,"Add",s)},function(e){t.onChangeNoti()}]}}),t._v(" "),a("span",{staticClass:"switch-label",attrs:{"data-on":"Bật","data-off":"Tắt"}}),t._v(" "),a("span",{staticClass:"switch-handle"})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("label",[t._v("Chỉnh sửa")])]),t._v(" "),a("div",{staticClass:"col"},[a("label",{staticClass:"switch switch-text switch-pill switch-primary"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataNoti.cb2.Edit,expression:"dataNoti.cb2.Edit"}],staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.dataNoti.cb2.Edit)?t._i(t.dataNoti.cb2.Edit,null)>-1:t.dataNoti.cb2.Edit},on:{change:[function(e){var a=t.dataNoti.cb2.Edit,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&(t.dataNoti.cb2.Edit=a.concat([null])):o>-1&&(t.dataNoti.cb2.Edit=a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.dataNoti.cb2,"Edit",s)},function(e){t.onChangeNoti()}]}}),t._v(" "),a("span",{staticClass:"switch-label",attrs:{"data-on":"Bật","data-off":"Tắt"}}),t._v(" "),a("span",{staticClass:"switch-handle"})])])])])])])])]):t._e(),t._v(" "),a("el-tab-pane",{attrs:{label:"Phòng ban & dự án"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-sm-12 col-xs-12",attrs:{id:"tblGroups"}},[a("el-card",[a("table",{staticClass:"w-100"},[a("thead",[a("tr",{staticClass:"row"},[a("th",{staticClass:"col-6"},[t._v("Phòng ban")]),t._v(" "),a("th",{staticClass:"col-6"},[t._v("Vai trò")])])]),t._v(" "),a("tbody",t._l(t.Departments,function(e){return a("tr",{key:e.GroupId,staticClass:"row",staticStyle:{"border-bottom":"1px dotted lightblue !important"}},[a("td",{staticClass:"col-6"},[a("el-checkbox",{attrs:{disabled:!t.isSystemAdmin&&!t.isMantisAdmin},on:{change:function(a){t.checkGroup(a,e)}},model:{value:t.viewModel.Groups[e.GroupId],callback:function(a){t.$set(t.viewModel.Groups,e.GroupId,a)},expression:"viewModel.Groups[item.GroupId]"}},[t._v("\n                      "+t._s(e.GroupName)+"\n                    ")])],1),t._v(" "),a("td",{staticClass:"col-6"},[a("div",{staticClass:"row"},t._l(e.children,function(i){return a("div",{key:i.GroupId,staticClass:"col-md-6 col-sm-12 col-xs-12"},[a("el-checkbox",{attrs:{disabled:!t.isSystemAdmin&&!t.isMantisAdmin},on:{change:function(a){t.handleRoleChange(a,e,i.GroupId)}},model:{value:t.viewModel.GroupRoles[i.GroupId],callback:function(e){t.$set(t.viewModel.GroupRoles,i.GroupId,e)},expression:"viewModel.GroupRoles[grole.GroupId]"}},[t._v(t._s(i.Description)+"\n                        ")])],1)}))])])}))])])],1),t._v(" "),a("div",{staticClass:"col-md-6 col-sm-12 col-xs-12",attrs:{id:"tblGroups"}},[a("el-card",[a("table",{staticClass:"w-100"},[a("thead",[a("tr",{staticClass:"row"},[a("th",{staticClass:"col-6"},[t._v("Dự án")]),t._v(" "),a("th",{staticClass:"col-6"},[t._v("Vai trò")])])]),t._v(" "),a("tbody",t._l(t.Project,function(e){return a("tr",{key:e.GroupId,staticClass:"row",staticStyle:{"border-bottom":"1px dotted lightblue !important"}},[a("td",{staticClass:"col-6"},[a("el-checkbox",{attrs:{disabled:!t.isSystemAdmin&&!t.isMantisAdmin},on:{change:function(a){t.checkGroup(a,e)}},model:{value:t.viewModel.Groups[e.GroupId],callback:function(a){t.$set(t.viewModel.Groups,e.GroupId,a)},expression:"viewModel.Groups[item.GroupId]"}},[t._v("\n                      "+t._s(e.GroupName)+"\n                    ")])],1),t._v(" "),a("td",{staticClass:"col-6"},[a("div",{staticClass:"row"},t._l(e.children,function(i){return a("div",{key:i.GroupId,staticClass:"col-md-6 col-sm-12 col-xs-12"},[a("el-checkbox",{attrs:{disabled:!t.isSystemAdmin&&!t.isMantisAdmin},on:{change:function(a){t.handleRoleChange(a,e,i.GroupId)}},model:{value:t.viewModel.GroupRoles[i.GroupId],callback:function(e){t.$set(t.viewModel.GroupRoles,i.GroupId,e)},expression:"viewModel.GroupRoles[grole.GroupId]"}},[t._v(t._s(i.Description)+"\n                        ")])],1)}))])])}))])])],1)])]),t._v(" "),t.$isSystemAdmin()?a("el-tab-pane",{attrs:{label:"Vai trò"}},[a("div",[a("div",{attrs:{layout:"row","layout-wrap":"",flex:""}},[a("div",{attrs:{flex:"",layout:"column"}},[a("div",{staticClass:"md-block",attrs:{flex:""}},[a("label",{attrs:{translate:"USERS.Dialogs_Main_Role"}},[t._v("Vai trò chính")]),t._v(" "),a("el-select",{on:{change:t.changeRoleRoot},model:{value:t.model.RoleRoot,callback:function(e){t.$set(t.model,"RoleRoot",e)},expression:"model.RoleRoot"}},t._l(t.viewModel.listRoles,function(t){return a("el-option",{key:t.GroupId,attrs:{value:t.GroupId,label:t.Description}})}))],1),t._v(" "),a("label",{attrs:{translate:"USERS.Dialogs_Role"}},[t._v("Vai trò")]),t._v(" "),a("el-tree",{ref:"roleTree",attrs:{data:t.viewModel.Role.source,"show-checkbox":"","node-key":"GroupId","default-checked-keys":t.viewModel.Role.defaultCheckedNode,props:{children:"children",label:"Description"}},on:{"check-change":t.changeGroup}})],1)])])]):t._e()],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"text-center pt-2",attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.cancel()}}},[t._v("Đóng")])],1)],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";e.a={props:["data"],data:function(){return{ruleForm:{newPass:"",confirmNewPass:"",UserId:"",LoginName:"",Email:"",FullName:""},rules:{newPass:[{required:!0,message:"Nhập mật khẩu mới",trigger:"blur"},{min:5,max:20,message:"Tên đăng nhập có độ dài từ 5 tới 20 kí tự",trigger:"blur"}],confirmNewPass:[{required:!0,message:"Nhập lại mật khẩu mới",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.save()})},resetForm:function(t){this.$refs[t].resetFields()},closeForm:function(){this.$hub.$emit("close-modal")},checkValidForm:function(){return this.ruleForm.newPass==this.ruleForm.confirmNewPass||(this.$message({message:"Mật khẩu không khớp!",type:"error"}),!1)},save:function(){var t=this;if(this.checkValidForm()){var e=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),a=JSON.parse(localStorage.getItem("LoggedOnUser")),i={RequestClass:"BPM",RequestAction:"SetPassword",Account:this.ruleForm.LoginName,Password:this.ruleForm.newPass,SessionId:e};this.$Utils.post(i).then(function(e){var i={RequestClass:"BPM",RequestAction:"UpdateUser",UserId:a.UserId,LoginName:a.LoginName,StructFields:"PassChangeDate",PassChangeDate:t.$Utils.formatDateTime(new Date(0,0,0)),PassChangeDateColumnType:0};t.$Utils.post(i).then(function(e){t.$message({message:"Cập nhật mật khẩu thành công.",type:"success"}),t.$hub.$emit("update-users-list"),t.closeForm()})})}}},created:function(){this.ruleForm.UserId=this.data.UserId,this.ruleForm.LoginName=this.data.LoginName,this.ruleForm.FullName=this.data.Username,this.ruleForm.Email=this.data.Email}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[a("el-form-item",{attrs:{label:"Tài khoản"}},[a("el-input",{attrs:{disabled:""},model:{value:t.ruleForm.LoginName,callback:function(e){t.$set(t.ruleForm,"LoginName",e)},expression:"ruleForm.LoginName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{disabled:""},model:{value:t.ruleForm.Email,callback:function(e){t.$set(t.ruleForm,"Email",e)},expression:"ruleForm.Email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên đầy đủ"}},[a("el-input",{attrs:{disabled:""},model:{value:t.ruleForm.FullName,callback:function(e){t.$set(t.ruleForm,"FullName",e)},expression:"ruleForm.FullName"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"newPass",label:"Nhập mật khẩu mới"}},[a("el-input",{attrs:{type:"password",placeholder:"Nhập mật khẩu mới","auto-complete":"off"},model:{value:t.ruleForm.newPass,callback:function(e){t.$set(t.ruleForm,"newPass",e)},expression:"ruleForm.newPass"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"confirmNewPass",label:"Nhập lại mật khẩu mới"}},[a("el-input",{attrs:{type:"password",placeholder:"Nhập lại mật khẩu mới","auto-complete":"off"},model:{value:t.ruleForm.confirmNewPass,callback:function(e){t.$set(t.ruleForm,"confirmNewPass",e)},expression:"ruleForm.confirmNewPass"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.closeForm()}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userdropdown"},[a("b-nav-item-dropdown",{attrs:{right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("img",{staticClass:"img-avatar",attrs:{src:t.curAvatar}})]),t._v(" "),a("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"},on:{click:function(t){t.stopPropagation()}}},[a("strong",[t._v(t._s(t.user.Username))])]),t._v(" "),a("b-dropdown-item",{on:{click:function(e){t.infoUser()}}},[a("i",{staticClass:"fa fa-user"}),t._v("Tài khoản")]),t._v(" "),t.isMobile?t._e():a("b-dropdown-item",{on:{click:t.syncCalendar}},[a("i",{staticClass:"fa fa-calendar"}),t._v(t._s(t.calendarTitle))]),t._v(" "),a("b-dropdown-item",{on:{click:function(e){t.changePass()}}},[a("i",{staticClass:"fa fa-shield"}),t._v("Đổi mật khẩu")]),t._v(" "),a("b-dropdown-item",{on:{click:function(e){t.logOut()}}},[a("i",{staticClass:"fa fa-lock"}),t._v(" Đăng xuất")])],2)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(7);e.a={inject:["getDayName"],name:"header-dropdown",props:["datasource","unread"],data:function(){return{fullscreenLoading:!1,mscount:0,start:0,limit:5,end:5,myDevice:""}},methods:{onUpdateMsCount:function(){var t=this,e=JSON.parse(localStorage.getItem("LoggedOnUser")),a={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"UserId",UserId:e.UserId,StaticFields:"Description;"};this.$Utils.post(a).then(function(e){e=t.$Utils.getDataWithRoot(e,"Data.UserDS.User");var a=JSON.parse(e[0].Description);t.mscount!==parseInt(a.NotiCount)&&(t.mscount=parseInt(a.NotiCount),t.playAudio().then(function(){}).catch(function(t){console.log("play audio error ",t)}))}),"isMobileApp"==this.myDevice&&this.$cordovaPushV5.setBadgeNumber(this.mscount).then(function(t){},function(t){})},loadNotification:function(t,e){var a=JSON.parse(localStorage.getItem("LoggedOnUser")),i={RequestClass:"xBase",RequestAction:"Request",RequestTemplate:"SendMessage.Search",TotalRequests:1,R1_Name:"InstantMessage",R1_Receiver:a.UserId,R1_StartIndex:t,R1_EndIndex:e,R1_RequestOrderFields:"Created DESC"};this.$Utils.post(i).then(function(t){if(this.$Utils.isEmpty(t)){var e=this.$Utils.getDataWithRoot(t.R1,"Data.ConversationDS.Message");angular.forEach(e,function(t){if(t){var e=this.$Utils.jsonParse(t.Body);if(o.a.isEmpty(e)){var a={};if(a.Name=e.Name,this.$Utils.isEmpty(e,"Content"))var i=e.Content;var n=JSON.parse(t.Description),l="assets/images/avatars/profile.png"===n.avatar?n.avatar:n.avatar+"&Height=50&Width=50",r={Id:e.id,Name:t.From,Task:a,Date:t.Created,Active:"",Action:lstAction[e.action],ActionClass:e.action,index:e.index,Avatar:vm.baseUri+l,type:e.action,IdMessage:t.Id};"DocumentInsert"!==e.action&&"DocumentUpdate"!==e.action||(r.DocumentId=e.DocumentId),o.a.isEmpty(i)&&(r.Content=i);-1===s()(vm.notifications).indexOf(r.Id)&&(4==t.State?r.Active="":r.Active="isActive",vm.notifications.push(r))}}})}})},playAudio:function(){new Audio("/"!=this.$appUri.BaseURL?[this.$appUri.BaseURL+"assets/alert.mp3"]:"assets/alert.mp3").play()},loadTask:function(t){var e="/dynamic/view/Index="+t.Index;if("isActive"===t.Active){var a=this.datasource.indexOf(t);-1!=a&&(this.datasource[a].Active="",this.updateStatus(t))}"DocumentInsert"!==t.ActionClass&&"DocumentUpdate"!==t.ActionClass||(e="/dynamic/knowhow-update-document/Id="+t.DocumentId),this.$router.push(e)},updateStatus:function(t){if(o.a.isEmpty(t,"IdMessage")){var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,RequestTemplate:"UpdateConversation",R1_Id:t.IdMessage,R1_Name:"InstantMessage",R1_State:4};o.a.post(e).then(function(t){})}},clearNumber:function(){var t=JSON.parse(localStorage.getItem("LoggedOnUser")),e=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),a="/"!==this.$appUri.BaseURL?this.$appUri.BaseURL.substring(0,this.$appUri.BaseURL.length-1):window.origin;this.$hub.proxy.invoke("clearCountNotification",t.UserId,a,e),this.mscount=0,"isMobileApp"===this.myDevice&&this.$cordovaPushV5.setBadgeNumber(this.mscount).then(function(t){},function(t){})},maskReadAll:function(){var e=JSON.parse(localStorage.getItem("LoggedOnUser"));this.$getItemLocalStorage(this.$localStorageConstant.SessionId);t.each(this.datasource,function(t,e){"isActive"===e.Active&&(e.Active="")});var a={RequestClass:"xBase",RequestAction:"Request",RequestTemplate:"Message.UpdateState",TotalRequests:1,R1_Name:"InstantMessage",R1_Receiver:e.UserId,R1_State:"4"};this.$Utils.post(a).then(function(t){})},openTaskDetail:function(t){this.$router.push("/dynamic/view/Index="+t),this.onUpdateMsCount()},openFullScreen:function(){var t=this,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){e.close(),t.$message({message:"Congrats, this is a success message.",type:"success"})},2e3)}},created:function(){},mounted:function(){var e=this;this.myDevice=this.$myDevice;var a=t(".dropdownactivity"),i=a.find('a[class="nav-link"]');i.attr("href","javascript:void(0)"),a.parent().attr("href","javascript:void(0)"),i.attr("href","javascript:void(0)"),t("#maskReadAll").on("click",function(){e.maskReadAll()})},watch:{}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdownactivity"},[a("b-nav-item-dropdown",{attrs:{right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("div",{on:{click:t.clearNumber}},[a("el-badge",{staticClass:"item",attrs:{value:t.unread,max:99}},[a("i",{staticClass:"fa-lg icon-bell"})])],1)]),t._v(" "),a("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"},on:{click:function(t){t.stopPropagation()}}},[a("el-row",[a("el-col",{attrs:{span:12}},[t._v("Thông báo")]),t._v(" "),a("el-col",{attrs:{span:12,id:"maskReadAll"},on:{click:function(e){e.stopPropagation(),t.maskReadAll(e)}}},[t._v("Đánh dấu đã đọc")])],1)],1),t._v(" "),a("div",{staticClass:"content"},t._l(t.datasource,function(e){return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],key:e.Id,class:"message px-1 mb-1"+e.Active,on:{click:function(a){t.loadTask(e)}}},[a("div",{staticClass:"py-3 mr-3 float-left"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"img-avatar",attrs:{src:e.Avatar,alt:e.Name}})])]),t._v(" "),a("div",{staticClass:"mb-1"},[a("div",[a("small",{staticClass:"text-muted"},[t._v(t._s(e.Name))]),t._v(" "),a("small",{staticClass:"text-muted float-right mt-1"},[t._v(t._s(e.Date))])]),t._v(" "),a("div",{staticClass:"text-truncate font-weight-bold"},[t._v(t._s(e.Action))]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v(t._s(e.Task.Name))]),t._v(" "),a("hr")]),t._v(" "),a("div",{staticClass:"clearfix"})])})),t._v(" "),a("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"}},[a("router-link",{attrs:{to:"/all-notifications"}},[t._v("Xem thêm")])],1)],2)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",[a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Loại"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Quyền"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Mẫu gửi"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"Trường bổ sung",clearable:""},model:{value:t.input10,callback:function(e){t.input10=e},expression:"input10"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"Thêm",clearable:""},model:{value:t.input10,callback:function(e){t.input10=e},expression:"input10"}})],1),t._v(" "),a("el-form-item",[a("el-col",{attrs:{span:8}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"primary"}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.closeForm}},[t._v("Đóng")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[t._v(" ")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-config"},[a("el-form",{attrs:{rules:t.ruleForm,"label-width":"100px",model:t.model}},[a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:24}},[a("el-form-item",{attrs:{label:"Mã",prop:"Code"}},[a("el-input",{attrs:{disabled:""},model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Tên",prop:"Caption"}},[a("el-input",{attrs:{placeholder:"Tên"},model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Mô tả"}},[a("el-input",{attrs:{placeholder:"Mô tả"},model:{value:t.model.Description.More,callback:function(e){t.$set(t.model.Description,"More",e)},expression:"model.Description.More"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Cho phép:"}},[a("el-checkbox",{model:{value:t.model.Description.HasPermissionTab,callback:function(e){t.$set(t.model.Description,"HasPermissionTab",e)},expression:"model.Description.HasPermissionTab"}},[t._v("Cấp phép")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.HasCommentTab,callback:function(e){t.$set(t.model.Description,"HasCommentTab",e)},expression:"model.Description.HasCommentTab"}},[t._v("Bình luận")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.HasFileTab,callback:function(e){t.$set(t.model.Description,"HasFileTab",e)},expression:"model.Description.HasFileTab"}},[t._v("File đính kèm")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.HasHistoryTab,callback:function(e){t.$set(t.model.Description,"HasHistoryTab",e)},expression:"model.Description.HasHistoryTab"}},[t._v("Lịch sử cập nhật")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.HasSubscribe,callback:function(e){t.$set(t.model.Description,"HasSubscribe",e)},expression:"model.Description.HasSubscribe"}},[t._v("Theo dõi")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.History,callback:function(e){t.$set(t.model.Description,"History",e)},expression:"model.Description.History"}},[t._v("Lịch sử thay đổi")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.Repeat,callback:function(e){t.$set(t.model.Description,"Repeat",e)},expression:"model.Description.Repeat"}},[t._v("Lặp nội dung")])],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,md:12}},[a("el-form-item",{attrs:{label:"Khối dữ liệu"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",options:t.DataGroupTree,placeholder:""},on:{change:t.handleChange},model:{value:t.selectedDataGroups,callback:function(e){t.selectedDataGroups=e},expression:"selectedDataGroups"}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,md:12}},[a("el-form-item",{attrs:{label:"Kiểu hiển thị"}},t._l(t.DisplayType,function(e){return a("el-radio",{attrs:{label:e.Code},model:{value:t.selectedDisplayType,callback:function(e){t.selectedDisplayType=e},expression:"selectedDisplayType"}},[t._v(t._s(e.Name)+"\n        ")])}))],1),t._v(" "),a("el-col",{attrs:{xs:24,md:24}},[a("el-form-item",{attrs:{label:"Trường dữ liệu"}},[a("el-col",{attrs:{xs:12,md:4}},[a("el-select",{attrs:{placeholder:"Chọn",filterable:"",clearable:""},model:{value:t.selectedField,callback:function(e){t.selectedField=e},expression:"selectedField"}},t._l(t.CurrentDataGroup.Fields,function(e){return"Hidden"!=e.FormFieldType?a("el-option",{key:e.Name,attrs:{label:e.Caption+"("+e.Name+")",value:e.Name}}):t._e()}))],1),t._v(" "),a("el-col",{attrs:{xs:12,md:4}},[a("el-select",{attrs:{placeholder:"Nhóm",clearable:""},model:{value:t.selectedGroups,callback:function(e){t.selectedGroups=e},expression:"selectedGroups"}},t._l(t.model.Description.Groups,function(t){return a("el-option",{key:t.Caption,attrs:{label:t.Caption,value:t.Caption}})}))],1),t._v(" "),a("el-col",{attrs:{xs:12,md:2}},[a("el-button",{attrs:{type:"primary",disabled:""===t.selectedGroups||""===t.selectedField},on:{click:t.insertField}},[t._v("\n            Thêm\n          ")])],1),t._v(" "),a("el-col",{attrs:{xs:12,md:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.centerDialogVisible=!0,t.catModel.action="insert"}}},[t._v("Thêm nhóm\n          ")])],1),t._v(" "),a("el-col",{attrs:{md:2}},[t._v(" ")]),t._v(" "),a("el-col",{staticClass:"hidden-xs-only",attrs:{md:4}},[t._v("\n          Nút hiển thị\n        ")])],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,md:13}},[a("el-card",{staticClass:"box-card"},[a("sortable-tree",{attrs:{data:t.treeFullData,dragEnable:!0,closeStateKey:"$foldClose",mixinParentKey:"$parent"},on:{changePosition:t.positionChanged},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("div",{staticClass:"custom-tree-content",class:{exitChild:i.children&&i.children.length}},[i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.collapseIcon})]):!i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.expandIcon})]):t._e(),t._v(" "),a("span",{staticClass:"mr-3"},["-1"===i.level?a("a",[t._v(t._s(i.Caption))]):a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editTreeNode(i)}}},[t._v(t._s(i.Caption))])]),t._v(" "),a("span",["-1"!==i.level?a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.deleteField(i)}}},[a("i",{staticClass:"fa fa-trash"})]):t._e()])])]}}])})],1)],1),t._v(" "),a("el-col",{staticClass:"hidden-xs-only",attrs:{md:1}},[t._v(" ")]),t._v(" "),a("el-col",{staticClass:"hidden-sm-and-up",attrs:{xs:24}},[t._v("\n      Nút hiển thị\n    ")]),t._v(" "),a("el-col",{attrs:{xs:24,md:10}},[a("el-card",{staticClass:"box-card"},[a("el-checkbox-group",{model:{value:t.listSelectedButtons,callback:function(e){t.listSelectedButtons=e},expression:"listSelectedButtons"}},[a("div",{directives:[{name:"dragula",rawName:"v-dragula",value:t.CurrentDataGroup.Buttons,expression:"CurrentDataGroup.Buttons"}],attrs:{bag:"btnFieldsFormbag"}},t._l(t.CurrentDataGroup.Buttons,function(e,i){return a("el-checkbox",{key:e.Code,staticClass:"row",staticStyle:{"margin-left":"0px"},attrs:{label:e.Code},on:{change:function(a){t.changeStatus(a,e.Code,i)}}})}))])],1)],1),t._v(" "),a("el-collapse",[a("el-col",{attrs:{span:24}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n            Phần tử trực thuộc   "),a("i",{staticClass:"header-icon el-icon-news"})]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus",disabled:t.selectedDataGroups.length<=0},on:{click:function(e){t.excuteSubElement("sub-element",t.model.Description.SubElements,"insert")}}},[t._v("Thêm\n          ")]),t._v(" "),a("br"),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.SubElements}},[a("el-table-column",{attrs:{label:"STT",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{property:"SubElementType",label:"Loại phần tử"}}),t._v(" "),a("el-table-column",{attrs:{property:"SubElement",label:"Phần tử"}}),t._v(" "),a("el-table-column",{attrs:{property:"DataGroupCaption",label:"Khối dữ liệu"}}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.excuteSubElement("sub-element",t.model.Description.SubElements,"edit",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.deleteSubElement(t.model.Description.SubElements,e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[t._v("\n             Thông báo   "),a("i",{staticClass:"header-icon el-icon-bell"})]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus",disabled:t.selectedDataGroups.length<=0},on:{click:function(e){t.excuteSubElement("sub-notification",t.model.Description.Notifications,"insert")}}},[t._v("Thêm\n          ")]),t._v(" "),a("br"),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Description.Notifications}},[a("el-table-column",{attrs:{label:"STT",type:"index"}}),t._v(" "),a("el-table-column",{attrs:{label:"Loại",prop:"NotificationType"}}),t._v(" "),a("el-table-column",{attrs:{label:"Quản trị",prop:"Permissions"}}),t._v(" "),a("el-table-column",{attrs:{label:"Template",prop:"Template"}}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.excuteSubElement("sub-notification",t.model.Description.Notifications,"edit",e.row,e.$index)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.deleteSubElement(t.model.Description.Notifications,e.$index)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],2)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"Thông tin nhóm",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e},close:t.clearModel}},[a("el-form",{attrs:{rules:t.rulesForGroup}},[a("el-form-item",{attrs:{label:"Tên nhóm",prop:"Caption"}},[a("el-input",{attrs:{placeholder:"Nhập tên nhóm"},model:{value:t.catModel.Caption,callback:function(e){t.$set(t.catModel,"Caption",e)},expression:"catModel.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giao diện"}},[a("el-select",{attrs:{clearable:""},model:{value:t.catModel.GroupDisplayType,callback:function(e){t.$set(t.catModel,"GroupDisplayType",e)},expression:"catModel.GroupDisplayType"}},[a("el-option",{attrs:{value:"Default",label:"Mặc định"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:t.catModel.Caption.trim()==t.tmpGroup.Caption.trim()&&t.catModel.GroupDisplayType==t.tmpGroup.GroupDisplayType},on:{click:function(e){t.saveGroup(t.catModel)}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("Đóng")])],1)],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){e.a={components:{},props:["data"],data:function(){var t=this.data;return t.activeName="Group",t},methods:{handleClick:function(t,e){this.$forceUpdate()},handlerToFixCheckboxValue:function(t,e){this.$set(this.permissionModel,t,e)},checkDynamicLinked:function(e,a){var i=this,s=!1,o=-1,n={};t.each(i.permissionModel.listDynamicPermissions,function(t,a){if(a.Value===e)return o=t,s=!0,n=a,!1}),s?i.permissionModel["Dynamic"+e+a]?n.KeyCode+=a+";":(n.KeyCode=n.KeyCode.replace(a+";",""),""===n.KeyCode&&i.permissionModel.listDynamicPermissions.splice(o,1)):i.permissionModel.listDynamicPermissions.push({Value:e,KeyCode:a+";"})},checkDynamicSelect:function(e){var a=this,i=!1,s=-1,o={};t.each(a.permissionModel.listDynamicPermissions,function(t,a){var n=!0;return a.Value===e&&(s=t,i=!0,o=a,n=!1),n}),i?o.KeyType=a.permissionModel["Dynamic_Type"+e]:a.permissionModel.listDynamicPermissions.push({Value:e,KeyCode:e+";"})},checkScriptLinked:function(e,a,i,s){var o=this,n=!1,l=-1,r={};t.each(o.permissionModel.listScriptPermissions,function(t,i){i.Value===e&&i.Name===a&&(l=t,n=!0,r=i)}),n?((s&&"1"!==e&&o.permissionModel["Script"+a+i+s]||!s&&"1"!==e&&o.permissionModel["Script"+e+i+s]||"1"===e&&o.permissionModel["Script"+a+i+s])&&(r.KeyCode+=i+";"),s?r.KeyType=s:(r.KeyCode=r.KeyCode.replace(i+";",""),""===r.KeyCode&&o.permissionModel.listScriptPermissions.splice(l,1))):o.permissionModel.listScriptPermissions.push({Name:a,Value:e,KeyCode:i+";",KeyType:s})},checkStaticLinked:function(e,a){var i=this,s=!1,o=-1,n={};t.each(i.permissionModel.listStaticPermissions,function(t,a){a.Value===e&&(o=t,s=!0,n=a)}),s?i.permissionModel["Static"+e+a]?n.KeyCode+=a+";":(n.KeyCode=n.KeyCode.replace(a+";",""),""===n.KeyCode&&i.permissionModel.listStaticPermissions.splice(o,1)):i.permissionModel.listStaticPermissions.push({Value:e,KeyCode:a+";"})},bindComboModel:function(){var e=this,a=this,i={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"jsontree",SessionId:a.$getItemLocalStorage(a.$localStorageConstant.SessionId),ConditionFields:"GroupType",GroupType:"0",StaticFields:"GroupId;GroupName;Description;GroupParent"};a.$Utils.post(i).then(function(t){a.$set(a.permissionModel,"listUserPermissions",t),a.$set(a.permissionModel,"objListUserPermissions",a.$Utils.rotateDementionArr(a.permissionModel.listUserPermissions,"GroupId")),a.signal++}),i={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",SessionId:a.$getItemLocalStorage(a.$localStorageConstant.SessionId),ConditionFields:"GroupType",GroupType:"1",StaticFields:"GroupId;GroupName;Description;GroupParent;Status",StructFields:"ParentName",OrderFields:"GroupName ASC"},a.$Utils.post(i).then(function(t){a.$set(a.permissionModel,"listUserGroups",a.$Utils.getDataWithRoot(t,"UserDS.Group")),a.$set(a.permissionModel,"objListUserGroups",a.$Utils.rotateDementionArr(a.permissionModel.listUserGroups,"GroupId")),a.signal++}),i={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",SessionId:a.$getItemLocalStorage(a.$localStorageConstant.SessionId),ConditionFields:"GroupType",GroupType:"2",StaticFields:"GroupId;GroupName;Description;GroupParent;Status",StructFields:"ParentName",OrderFields:"GroupName ASC"},a.$Utils.post(i).then(function(e){e=a.$Utils.getDataWithRoot(e,"UserDS.Group"),t.each(e,function(t,e){a.permissionModel.listGroupRoles[e.GroupParent]||(a.permissionModel.listGroupRoles[e.GroupParent]=[]),a.permissionModel.listGroupRoles[e.GroupParent].push(e)}),a.signal++}),i=a.$Lodash.cloneDeep(a.$singleRequest),i.R1_RequestTemplate="Setting.SearchSetting",i.R1_ParentCode="xSetting.Default.Permissions.RoleTemplate",a.$Utils.post(i).then(function(t){a.permissionModel.listRoleGroups=a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),a.signal++}),i=a.$Lodash.cloneDeep(a.$singleRequest),i.R1_RequestTemplate="Setting.SearchSetting",i.R1_ParentCode="xSetting.Default.Permissions.RoleProjectTemplate",a.$Utils.post(i).then(function(t){a.permissionModel.listRoleProjects=a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),a.signal++}),i={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",SessionId:a.$getItemLocalStorage(a.$localStorageConstant.SessionId),ConditionFields:"IncludedGroupManager;Group;Status",Status:"1",GroupType:"1",StaticFields:"UserId;Username;LoginName",OrderFields:"LoginName ASC"},a.$Utils.post(i).then(function(t){var i=a.$Utils.getDataWithRoot(t,"Data.UserDS.User");e.$isSystemAdmin()||(i=i.filter(function(t){return-1==t.LoginName.toLowerCase().indexOf("superadmin")})),a.$set(a.permissionModel,"listUsers",i),a.$set(a.permissionModel,"objListUsers",a.$Utils.rotateDementionArr(a.permissionModel.listUsers,"UserId")),a.signal++}),i=a.$Lodash.cloneDeep(a.$singleRequest),i.R1_RequestTemplate="Setting.SearchBase",i.R1_ParentCode="xSetting.Template.Permissions",a.$Utils.post(i).then(function(t){a.$set(a.permissionModel,"listRoles",a.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting")),a.signal++})},bindDropdownFields:function(){var e=this;this.$set(this.permissionModel,"objFields",this.$Utils.rotateDementionArr(this.CurrentDataGroup.Fields,"Name")),t.each(this.CurrentDataGroup.Fields,function(t,a){"General"!==a.FormFieldType&&"Calculator"!==a.FormFieldType||e.permissionModel.listDropdownFields.push(a)})},bindPermissionEditor:function(){var e=this;t.each(e.permissionModel.passedItem.Description.Permissions,function(a,i){if(""!==i.Permissions)for(var s=e.$Utils.stringToObject(i.Permissions),o=1;o<=parseInt(s.Count);o++){var n={Value:s["Value"+o],KeyCode:s["KeyCode"+o],KeyType:e.$Utils.isEmpty(s["KeyType"+o])?s["KeyType"+o]:""};null!=s["Name"+o]&&(n.Name=s["Name"+o]),"Static"===i.Name?e.permissionModel.listStaticPermissions.push(n):"Dynamic"===i.Name?(""!==n.KeyType&&void 0!==n.KeyType&&"undefined"!==n.KeyType&&e.$set(e.permissionModel,"Dynamic_Type"+n.Value,n.KeyType),e.permissionModel.listDynamicPermissions.push(n)):"Script"===i.Name&&e.permissionModel.listScriptPermissions.push(n);for(var l=s["KeyCode"+o].split(";"),r=0;r<l.length;r++)"Script"===i.Name&&"1"===s["Value"+o]?e.$set(e.permissionModel,i.Name+s["Name"+o]+l[r],!0):"project"==s["KeyType"+o]?e.$set(e.permissionModel,i.Name+s["Name"+o]+l[r]+"project",!0):e.$set(e.permissionModel,i.Name+s["Value"+o]+l[r],!0)}if("Static"===i.Name)""!==i.CurrentUser&&void 0!==i.CurrentUser&&t.each(e.permissionModel.listRoles,function(t,a){-1!==i.CurrentUser.indexOf(a.Code+";")&&-1===e.dropdownRoles.indexOf(a.Code)&&e.dropdownRoles.push(a.Code)}),e.permissionModel.AlwaysUpdatePermission=i.AlwaysUpdatePermission,e.AlwaysUpdatePermission=i.AlwaysUpdatePermission,e.permissionModel.RolesIncludedUser=i.RolesIncludedUser,e.RolesIncludedUser=i.RolesIncludedUser,e.GroupInCludedUser=i.GroupInCludedUser,e.permissionModel.GroupInCludedUser=i.GroupInCludedUser;else if("Script"===i.Name)""!==i.LeadershipDynamicOrganization&&void 0!==i.LeadershipDynamicOrganization&&(e.permissionModel.LeadershipDynamicOrganization=i.LeadershipDynamicOrganization),""!==i.LeadershipDynamicProject&&void 0!==i.LeadershipDynamicProject&&(e.permissionModel.LeadershipDynamicProject=i.LeadershipDynamicProject),""!==i.LeadershipDynamicCase&&void 0!==i.LeadershipDynamicCase&&(e.permissionModel.LeadershipDynamicCase=i.LeadershipDynamicCase),""!==i.LeadershipDynamicValue&&void 0!==i.LeadershipDynamicValue&&(e.permissionModel.LeadershipDynamicValue=i.LeadershipDynamicValue);else if("Replica"===i.Name){if(""!==i.StaticPermissions&&void 0!==i.StaticPermissions&&(e.permissionModel.StaticPermissions=i.StaticPermissions),e.StaticIncludedUser=i.StaticIncludedUser,e.permissionModel.StaticIncludedUser=i.StaticIncludedUser,""!==i.FormRequest&&void 0!==i.FormRequest&&(e.permissionModel.FormRequest=i.FormRequest),""!==i.FormDataRoot&&void 0!==i.FormDataRoot&&(e.permissionModel.FormDataRoot=i.FormDataRoot),""!==i.FormCode&&void 0!==i.FormCode&&(e.permissionModel.FormCode=i.FormCode),""!==i.Code&&void 0!==i.Code&&(e.permissionModel.Code=i.Code),""!==i.DynamicPermissions&&void 0!==i.DynamicPermissions){var c=e.permissionModel.listDropdownFields;t.each(c,function(t,a){-1!==i.DynamicPermissions.indexOf(a.Name+";")&&-1===e.dropdownDynamicPermissions.indexOf(a.Name)&&e.dropdownDynamicPermissions.push(a.Name)})}}else"Remove"===i.Name&&!0===i.Value&&(e.RemoveRole=!0,e.permissionModel.RemoveRole=!0)}),e.loading.close()},addLine:function(e,a){var i=this;switch(i.AddLines[e].push(a),e){case"Group":t.each(i.permissionModel.listUserGroups,function(t,e){var s=!0;return e.GroupId===a.GroupId&&(i.$set(e,"Selected",!0),i.Group="",s=!1),s});break;case"Role":t.each(i.permissionModel.listUserPermissions,function(t,e){var s=!0;return e.GroupId===a.GroupId&&(i.$set(e,"Selected",!0),i.Role="",s=!1),s});break;case"User":t.each(i.permissionModel.listUsers,function(t,e){var s=!0;return e.UserId===a.UserId&&(i.$set(e,"Selected",!0),i.User="",s=!1),s});break;case"Field":t.each(i.CurrentDataGroup.Fields,function(t,e){if(e.Name===a.Name)return i.$set(e,"Selected",!0),i.Field="",!1})}}},mounted:function(){var t=this;this.$hub.$on("saveFormForm",function(e){t.bindListPermissions()})},watch:{passedModel:{handler:function(t){6===this.signal&&this.bindPermissionEditor()},deep:!0},signal:{handler:function(t){6===t&&this.bindPermissionEditor()}},CurrentDataGroup:{handler:function(t){this.$set(this.permissionModel,"objFields",this.$Utils.rotateDementionArr(t.Fields,"Name")),this.$set(this.permissionModel,"listDropdownFields",t.Fields)},deep:!0}},created:function(){var t=this;t.isSystemAdmin=t.$isSystemAdmin(),t.isMantisAdmin=t.$isMantisAdmin(),t.administrator=t.$Lodash.cloneDeep(t.$administrator),t.bindComboModel(),t.bindDropdownFields()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Cơ bản"}},[a("el-tabs",{attrs:{type:"card"}},[a("el-tab-pane",{attrs:{label:"Quyền theo phòng ban"}},[a("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Người dùng tạo/Cập nhật"}},[a("el-col",{attrs:{xs:24,md:12}},[a("el-select",{staticStyle:{width:"90%"},attrs:{clearable:"",multiple:"",filterable:"","allow-create":"",placeholder:"Chọn..."},model:{value:t.dropdownRoles,callback:function(e){t.dropdownRoles=e},expression:"dropdownRoles"}},t._l(t.permissionModel.listRoles,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}))],1),t._v(" "),a("el-col",{attrs:{xs:24,md:6}},[a("el-checkbox",{on:{change:function(e){t.handlerToFixCheckboxValue("AlwaysUpdatePermission",e)}},model:{value:t.AlwaysUpdatePermission,callback:function(e){t.AlwaysUpdatePermission=e},expression:"AlwaysUpdatePermission"}},[t._v("Luôn cập nhật\n                    quyền\n                  ")])],1),t._v(" "),a("el-col",{attrs:{xs:24,md:6}},[a("el-checkbox",{on:{change:function(e){t.handlerToFixCheckboxValue("RolesIncludedUser",e)}},model:{value:t.RolesIncludedUser,callback:function(e){t.RolesIncludedUser=e},expression:"RolesIncludedUser"}},[t._v("Bao gồm thông tin\n                    người dùng\n                  ")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{xs:16,md:4}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn..."},model:{value:t.Group,callback:function(e){t.Group=e},expression:"Group"}},t._l(t.permissionModel.listUserGroups,function(e){return t.permissionModel["Static"+e.GroupId]||e.Selected?t._e():a("el-option",{key:e.GroupId,attrs:{label:e.GroupName,value:e.GroupId}})}))],1),t._v(" "),a("el-col",{attrs:{xs:8,md:2}},[a("el-button",{attrs:{disabled:!t.Group},on:{click:function(e){t.addLine("Group",t.permissionModel.objListUserGroups[t.Group])}}},[t._v("Thêm\n              ")])],1),t._v(" "),a("el-col",{staticClass:"hidden-xs-only",attrs:{md:16}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{md:24}},[a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"30%"}},[t._v("PHÒNG BAN")]),t._v(" "),t._l(t.permissionModel.listRoles,function(e){return a("th",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==e.Name,expression:"item.Name !== 'LinkGroup'"}],staticClass:"text-center",style:"width: "+70/t.permissionModel.listRoles.length+"%;"},[t._v("\n                      "+t._s(e.Name)+"\n                    ")])})],2)]),t._v(" "),t._l(t.permissionModel.listUserGroups,function(e){return t.permissionModel["Static"+e.GroupId]?a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.GroupName))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.GroupId,i.Code)}},model:{value:t.permissionModel["Static"+e.GroupId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.GroupId+i.Code,a)},expression:"permissionModel['Static'+item.GroupId + role.Code]"}})],1)})],2),t._v(" "),t._l(t.permissionModel.listGroupRoles[e.GroupId],function(e){return a("tr",[a("td",[t._v("-- "+t._s(e.GroupName))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.GroupId,i.Code)}},model:{value:t.permissionModel["Static"+e.GroupId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.GroupId+i.Code,a)},expression:"permissionModel['Static'+child.GroupId + role.Code]"}})],1)})],2)})],2):t._e()}),t._v(" "),t._l(t.AddLines.Group,function(e){return a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.GroupName))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.GroupId,i.Code)}},model:{value:t.permissionModel["Static"+e.GroupId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.GroupId+i.Code,a)},expression:"permissionModel['Static'+item.GroupId + role.Code]"}})],1)})],2),t._v(" "),t._l(t.permissionModel.listGroupRoles[e.GroupId],function(e){return a("tr",[a("td",[t._v("-- "+t._s(e.GroupName))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.GroupId,i.Code)}},model:{value:t.permissionModel["Static"+e.GroupId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.GroupId+i.Code,a)},expression:"permissionModel['Static'+child.GroupId + role.Code]"}})],1)})],2)})],2)})],2)])])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Quyền theo vai trò"}},[a("div",[a("el-col",{attrs:{span:24}},[a("el-checkbox",{model:{value:t.GroupInCludedUser,callback:function(e){t.GroupInCludedUser=e},expression:"GroupInCludedUser"}},[t._v("Bao gồm thông tin người dùng")])],1),t._v(" "),a("el-col",{attrs:{xs:16,md:4}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn..."},model:{value:t.Role,callback:function(e){t.Role=e},expression:"Role"}},t._l(t.permissionModel.listUserPermissions,function(e){return t.permissionModel["Static"+e.GroupId]||e.Selected?t._e():a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})}))],1),t._v(" "),a("el-col",{attrs:{xs:8,md:2}},[a("el-button",{attrs:{disabled:!t.Role},on:{click:function(e){t.addLine("Role",t.permissionModel.objListUserPermissions[t.Role])}}},[t._v("\n                Thêm\n              ")])],1),t._v(" "),a("el-col",{staticClass:"hidden-xs-only",attrs:{span:16}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"30%"}},[t._v("VAI TRÒ")]),t._v(" "),t._l(t.permissionModel.listRoles,function(e){return a("th",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!=e.Name,expression:"item.Name != 'LinkGroup'"}],staticClass:"text-center",style:"width:"+70/t.permissionModel.listRoles.length+"%;"},[t._v("\n                      "+t._s(e.Name)+"\n                    ")])})],2)]),t._v(" "),a("tbody",[t._l(t.permissionModel.listUserPermissions,function(e){return t.permissionModel["Static"+e.GroupId]?a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.GroupName))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.GroupId,i.Code)}},model:{value:t.permissionModel["Static"+e.GroupId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.GroupId+i.Code,a)},expression:"permissionModel['Static'+item.GroupId + role.Code]"}})],1)})],2):t._e()}),t._v(" "),t._l(t.AddLines.Role,function(e){return a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.GroupName))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.GroupId,i.Code)}},model:{value:t.permissionModel["Static"+e.GroupId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.GroupId+i.Code,a)},expression:"permissionModel['Static'+item.GroupId + role.Code]"}})],1)})],2)})],2)])])])],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"Quyền theo người dùng"}},[a("div",[a("el-col",{attrs:{xs:16,md:4}},[a("el-select",{attrs:{clearable:"",placeholder:"--Chọn người dùng--"},model:{value:t.User,callback:function(e){t.User=e},expression:"User"}},t._l(t.permissionModel.listUsers,function(e){return t.permissionModel["Static"+e.UserId]||e.Selected?t._e():a("el-option",{key:e.UserId,attrs:{label:e.Username,value:e.UserId}})}))],1),t._v(" "),a("el-col",{attrs:{xs:8,md:2}},[a("el-button",{attrs:{disabled:!t.User},on:{click:function(e){t.addLine("User",t.permissionModel.objListUsers[t.User])}}},[t._v("Thêm\n              ")])],1),t._v(" "),a("el-col",{staticClass:"hidden-xs-only",attrs:{md:16}},[t._v(" ")]),t._v(" "),a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"30%"}},[t._v("NGƯỜI DÙNG")]),t._v(" "),t._l(t.permissionModel.listRoles,function(e){return a("th",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==e.Name,expression:"item.Name !== 'LinkGroup'"}],staticClass:"text-center",style:"width:"+70/t.permissionModel.listRoles.length+"%;"},[t._v("\n                    "+t._s(e.Name)+"\n                  ")])})],2)]),t._v(" "),a("tbody",[t._l(t.permissionModel.listUsers,function(e){return t.permissionModel["Static"+e.UserId]?a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.Username))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!=i.Name,expression:"role.Name != 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.UserId,i.Code)}},model:{value:t.permissionModel["Static"+e.UserId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.UserId+i.Code,a)},expression:"permissionModel['Static'+item.UserId + role.Code]"}})],1)})],2):t._e()}),t._v(" "),t._l(t.AddLines.User,function(e){return a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.Username))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!=i.Name,expression:"role.Name != 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkStaticLinked(e.UserId,i.Code)}},model:{value:t.permissionModel["Static"+e.UserId+i.Code],callback:function(a){t.$set(t.permissionModel,"Static"+e.UserId+i.Code,a)},expression:"permissionModel['Static'+item.UserId + role.Code]"}})],1)})],2)})],2)])])],1)])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Theo dữ liệu"}},[a("el-col",{attrs:{xs:16,md:4}},[a("el-select",{attrs:{clearable:"",placeholder:"Chọn"},model:{value:t.Field,callback:function(e){t.Field=e},expression:"Field"}},t._l(t.CurrentDataGroup.Fields,function(e){return!e.Permit||t.permissionModel["Dynamic"+e.Name]||e.Selected?t._e():a("el-option",{key:e.Name,attrs:{label:e.Caption,value:e.Name}})}))],1),t._v(" "),a("el-col",{attrs:{xs:8,md:2}},[a("el-button",{attrs:{disabled:!t.Field},on:{click:function(e){t.addLine("Field",t.permissionModel.objFields[t.Field])}}},[t._v("Thêm")])],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"20%"}},[t._v("TRƯỜNG DỮ LIỆU")]),t._v(" "),t._l(t.permissionModel.listRoles,function(e){return a("th",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==e.Name,expression:"item.Name !== 'LinkGroup'"}],staticClass:"text-center",style:"width:"+80/t.permissionModel.listRoles.length+"%;"},[t._v("\n                "+t._s(e.Name)+"\n              ")])}),t._v(" "),a("th",{staticClass:"text-left"},[t._v("BẢNG DỮ LIỆU")])],2)]),t._v(" "),a("tbody",[t._l(t.CurrentDataGroup.Fields,function(e){return"General"!==e.FormFieldType&&"Calculator"!==e.FormFieldType||!t.permissionModel["Dynamic"+e.Name]?t._e():a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.Caption))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkDynamicLinked(e.Name,i.Code)}},model:{value:t.permissionModel["Dynamic"+e.Name+i.Code],callback:function(a){t.$set(t.permissionModel,"Dynamic"+e.Name+i.Code,a)},expression:"permissionModel['Dynamic'+item.Name + role.Code]"}})],1)}),t._v(" "),a("td",{staticClass:"text-left"},[a("el-select",{attrs:{clearable:""},on:{change:function(a){t.checkDynamicSelect(e.Name)}},model:{value:t.permissionModel["Dynamic_Type"+e.Name],callback:function(a){t.$set(t.permissionModel,"Dynamic_Type"+e.Name,a)},expression:"permissionModel['Dynamic_Type'+ item.Name]"}},[a("el-option",{attrs:{value:"User",label:"Nhân sự"}}),t._v(" "),a("el-option",{attrs:{value:"Group",label:"Phòng ban"}})],1)],1)],2)}),t._v(" "),t._l(t.AddLines.Field,function(e){return a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.Caption))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkDynamicLinked(e.Name,i.Code)}},model:{value:t.permissionModel["Dynamic"+e.Name+i.Code],callback:function(a){t.$set(t.permissionModel,"Dynamic"+e.Name+i.Code,a)},expression:"permissionModel['Dynamic'+item.Name + role.Code]"}})],1)}),t._v(" "),a("td",{staticClass:"text-left"},[a("el-select",{attrs:{clearable:""},on:{change:function(a){t.checkDynamicSelect(e.Name)}},model:{value:t.permissionModel["Dynamic_Type"+e.Name],callback:function(a){t.$set(t.permissionModel,"Dynamic_Type"+e.Name,a)},expression:"permissionModel['Dynamic_Type'+ item.Name]"}},[a("el-option",{attrs:{value:"User",label:"Nhân sự"}}),t._v(" "),a("el-option",{attrs:{value:"Group",label:"Phòng ban"}})],1)],1)],2)})],2)])])])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Theo kịch bản"}},[a("el-form",{attrs:{"label-width":"100px"}},["Project"!=t.activeName?a("el-form-item",{attrs:{label:"Phân quyền cho cấp trên:"}},[a("el-select",{attrs:{clearable:"",placeholder:"-Chọn cấp-","no-data-text":"Không có dữ liệu"},model:{value:t.permissionModel.LeadershipDynamicOrganization,callback:function(e){t.$set(t.permissionModel,"LeadershipDynamicOrganization",e)},expression:"permissionModel.LeadershipDynamicOrganization"}},t._l(t.CurrentDataGroup.Fields,function(e){return e.Permit?a("el-option",{key:e.Name,attrs:{label:e.Caption,value:e.Name}}):t._e()}))],1):t._e(),t._v(" "),"Project"==t.activeName?[a("el-form-item",{attrs:{label:"Phân quyền cho cấp trên:"}},[a("el-select",{attrs:{clearable:"",placeholder:"-Chọn cấp-","no-data-text":"Không có dữ liệu"},model:{value:t.permissionModel.LeadershipDynamicProject,callback:function(e){t.$set(t.permissionModel,"LeadershipDynamicProject",e)},expression:"permissionModel.LeadershipDynamicProject"}},t._l(t.CurrentDataGroup.Fields,function(e){return e.Permit?a("el-option",{key:e.Name,attrs:{label:e.Caption,value:e.Name}}):t._e()}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường điều kiện"}},[a("el-select",{attrs:{clearable:"",placeholder:"-Chọn trường-","no-data-text":"Không có dữ liệu"},model:{value:t.permissionModel.LeadershipDynamicCase,callback:function(e){t.$set(t.permissionModel,"LeadershipDynamicCase",e)},expression:"permissionModel.LeadershipDynamicCase"}},t._l(t.CurrentDataGroup.Fields,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Điều kiện"}},[a("el-input",{attrs:{placeholder:"Kích hoạt"},model:{value:t.permissionModel.LeadershipDynamicValue,callback:function(e){t.$set(t.permissionModel,"LeadershipDynamicValue",e)},expression:"permissionModel.LeadershipDynamicValue"}})],1)]:t._e()],2),t._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Phòng Ban",name:"Group"}},[a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"30%"}},[t._v("PHÒNG BAN")]),t._v(" "),t._l(t.permissionModel.listRoles,function(e){return a("th",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!=e.Name,expression:"item.Name != 'LinkGroup'"}],staticClass:"text-center",style:"width:"+70/t.permissionModel.listRoles.length+"%;"},[t._v("\n                  "+t._s(e.Name)+"\n                ")])})],2)]),t._v(" "),a("tbody",t._l(t.permissionModel.listRoleGroups,function(e){return a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.Caption))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkScriptLinked("1",e.Name,i.Code)}},model:{value:t.permissionModel["Script"+e.Name+i.Code],callback:function(a){t.$set(t.permissionModel,"Script"+e.Name+i.Code,a)},expression:"permissionModel['Script'+item.Name + role.Code]"}})],1)})],2)}))])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"Vai trò",name:"Role"}},[a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"30%"}},[t._v("VAI TRÒ")]),t._v(" "),t._l(t.permissionModel.listRoles,function(e){return a("th",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!=e.Name,expression:"item.Name != 'LinkGroup'"}],staticClass:"text-center",style:"width:"+70/t.permissionModel.listRoles.length+"%;"},[t._v("\n                  "+t._s(e.Name)+"\n                ")])})],2)]),t._v(" "),a("tbody",t._l(t.permissionModel.listUserPermissions,function(e){return a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.GroupName))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkScriptLinked(e.GroupId,e.GroupName,i.Code)}},model:{value:t.permissionModel["Script"+e.GroupId+i.Code],callback:function(a){t.$set(t.permissionModel,"Script"+e.GroupId+i.Code,a)},expression:"permissionModel['Script'+item.GroupId + role.Code]"}})],1)})],2)}))])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"Dự án",name:"Project"}},[a("div",{staticClass:"el-table__body-wrapper is-scroll-left"},[a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{width:"30%"}},[t._v("DỰ ÁN")]),t._v(" "),t._l(t.permissionModel.listRoles,function(e){return a("th",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!=e.Name,expression:"item.Name != 'LinkGroup'"}],staticClass:"text-center",style:"width:"+70/t.permissionModel.listRoles.length+"%;"},[t._v("\n                  "+t._s(e.Name)+"\n                ")])})],2)]),t._v(" "),a("tbody",t._l(t.permissionModel.listRoleProjects,function(e){return a("tr",[a("td",{staticClass:"text-left"},[t._v(t._s(e.Caption))]),t._v(" "),t._l(t.permissionModel.listRoles,function(i){return a("td",{directives:[{name:"show",rawName:"v-show",value:"LinkGroup"!==i.Name,expression:"role.Name !== 'LinkGroup'"}],staticClass:"text-center"},[a("el-checkbox",{on:{change:function(a){t.checkScriptLinked(e.Id,e.Name,i.Code,"project")}},model:{value:t.permissionModel["Script"+e.Name+i.Code+"project"],callback:function(a){t.$set(t.permissionModel,"Script"+e.Name+i.Code+"project",a)},expression:"permissionModel['Script'+item.Name + role.Code + 'project']"}})],1)})],2)}))])])])],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Sao chép phân quyền"}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"Trường dữ liệu:"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{clearable:"",multiple:"",placeholder:"Chọn trường dữ liệu"},model:{value:t.dropdownDynamicPermissions,callback:function(e){t.dropdownDynamicPermissions=e},expression:"dropdownDynamicPermissions"}},t._l(t.permissionModel.listDropdownFields,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Nhập mã trực tiếp"}},[a("el-col",{attrs:{xs:24,md:11}},[a("el-input",{attrs:{placeholder:"Nhập mã trực tiếp..."},model:{value:t.permissionModel.StaticPermissions,callback:function(e){t.$set(t.permissionModel,"StaticPermissions",e)},expression:"permissionModel.StaticPermissions"}})],1),t._v(" "),a("el-col",{attrs:{xs:24,md:10}},[a("el-checkbox",{on:{change:function(e){t.handlerToFixCheckboxValue("StaticIncludedUser",e)}},model:{value:t.StaticIncludedUser,callback:function(e){t.StaticIncludedUser=e},expression:"StaticIncludedUser"}},[t._v("Bao gồm thông tin người\n              dùng\n            ")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã Template lấy dữ liệu"}},[a("el-input",{attrs:{placeholder:"Mã Template lấy dữ liệu"},model:{value:t.permissionModel.FormRequest,callback:function(e){t.$set(t.permissionModel,"FormRequest",e)},expression:"permissionModel.FormRequest"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Đường dẫn gốc"}},[a("el-input",{attrs:{placeholder:"Đường dẫn gốc"},model:{value:t.permissionModel.FormDataRoot,callback:function(e){t.$set(t.permissionModel,"FormDataRoot",e)},expression:"permissionModel.FormDataRoot"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{attrs:{placeholder:"Mã"},model:{value:t.permissionModel.FormCode,callback:function(e){t.$set(t.permissionModel,"FormCode",e)},expression:"permissionModel.FormCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã riêng tư"}},[a("el-input",{attrs:{placeholder:"Mã riêng tư"},model:{value:t.permissionModel.Code,callback:function(e){t.$set(t.permissionModel,"Code",e)},expression:"permissionModel.Code"}})],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Xóa phân quyền"}},[a("el-checkbox",{on:{change:function(e){t.handlerToFixCheckboxValue("RemoveRole",e)}},model:{value:t.RemoveRole,callback:function(e){t.RemoveRole=e},expression:"RemoveRole"}},[t._v("Xóa phân quyền\n      ")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"formConfig"}},[a("el-form",[a("el-form-item",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.isShow,expression:"isShow!=undefined"}],on:{click:t.back}},[t._v("Quay lại")]),t._v(" "),t.isNew?t._e():a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.openPermissionSelector()}}},[t._v("Cấp phép")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("Lưu")])],1),t._v(" "),t.$isSystemAdmin()?a("el-form-item",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Cấu hình Form"}},[a("FormForm",{attrs:{data:t.fullData}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Phân Quyền"}},[a("SubRights",{attrs:{data:t.fullData}})],1)],1)],1):a("el-form-item",[a("div",{attrs:{type:"border-card"}},[a("FormForm",{staticStyle:{display:"none"},attrs:{data:t.fullData}}),t._v(" "),a("SubRights",{attrs:{data:t.fullData}})],1)])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showEditForm?a("div",[a("FormCfg",{attrs:{selectedItem:t.rowItem,isShow:t.showEditForm,isNew:t.isAddNew,closeCallback:t.hiddenForm}})],1):t._e(),t._v(" "),t.showEditForm?t._e():a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{staticClass:"fa fa-plus",on:{click:t.handleAddNew}}),t._v(" "),a("el-button",{staticClass:"fa fa-refresh",on:{click:t.onReload}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Tìm kiếm"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DataGroup",label:"Khối"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"Mã hệ thống"}}),t._v(" "),a("el-table-column",{attrs:{label:"Tên"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Caption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Khối dữ liệu"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.DataGroupCaption))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.openDeleteDialog(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"Cảnh báo",visible:t.deleteDialogVisible,width:"30%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[a("span",[t._v("Hành động này không thể hoàn tác. Bạn thực sự muốn xóa bản ghi này?")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("Hủy")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleDelete}},[t._v("Xác nhận")])],1)])],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(3),n=a(43),l=a.n(n),r=a(713),c=a(717),d=a(720),u=a(724),m=a(728),p=a(7),h=a(16);o.default.use(l.a),e.a={name:"categories",components:{PageTree:r.a,PageForm:c.a,PermissionSelector:h.a},data:function(){return{model:{ObjectFields:[],Description:{isDashBoard:!1,PageLink:"",MenuIcon:"",ExtraSetting:"",LimitIndex:35,IsShowOnMenu:!1,IsDetail:!1,Pagination:!1,DisplayRole:!1,DisplayChange:!1,Filters:{Link:{}}}},viewModel:{Page:[],Groups:[],ListLanguage:[],ListSourceModules:[],Group:"",ModuleValue:{}},radio:"0",tableData:[],Pagelist:[],activeName:"0",selectedItem:{},isSystemAdmin:!1,isMantisAdmin:!1,treePage:{},tabPosition:"top",rules:{Caption:[{required:!0,message:"Trường bắt buộc",trigger:"blur"}]},objGroup:{},treeFullData:{collapseIcon:"fa fa-plus-square",expandIcon:"fa fa-minus-square",level:"-1",Level:"-1",Caption:"Các nhóm",children:[]},treeFullDataCache:{}}},methods:{positionChanged:function(t){t.data.level===t.afterParent.level||"1"===t.data.level&&"-1"===t.afterParent.level?this.treeFullData=this.$Lodash.cloneDeep(this.treeFullDataCache):this.treeFullDataCache=this.$Lodash.cloneDeep(this.treeFullData);var e=this.$Lodash.cloneDeep(this.treeFullData);this.treeFullData=e,this.model.ObjectFields=this.treeFullData.children,this.$forceUpdate()},editTreeNode:function(t,e){var a="0"===t.level?"group":"field";this.executeSubElement(a,"edit",t,e)},changeFilter:function(t,e,a){this.$set(t,e,a)},changeState:function(t){this.$set(t,"$foldClose",!t.$foldClose)},bindPageSource:function(){var e=this,a=this;a.Pagelist=[],a.viewModel.Page.source=[];var i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_ParentCode="xSetting.Project.Page",i.R1_IncludedNestedSetParent=!0,p.a.post(i).then(function(i){i=p.a.getDataWithRoot(i.R1,"Data.DynamicDS.Setting"),a.Pagelist=i.filter(function(t){return void 0!=t.Description&&(t.treeCaption=t.Caption+"",t.Description=JSON.parse(t.Description),t.Caption=t.Description.Caption),a.isSystemAdmin||void 0==t.Description||t.Description&&"true"===t.Description.DisplayRole});var s=e.$Utils.createCustomTreeFromList(a.Pagelist,"Id","ParentId","children",{Caption:"Name",Id:"value"},{type:"data-group",collapseIcon:"fa fa-plus-square-o",expandIcon:"fa fa-minus-square-o",icon:"icon-folder",unread:0,total:0,$foldClose:!1});t.each(s,function(t,e){if(void 0==e.Description)return a.treePage=e,!1})})},requestByAction:function(e){var a=this,i=this,s=this.selectedItem;if(null!=s)if("edit"===e){i.resetForm();var o=i.$Lodash.cloneDeep(this.$singleRequest);o.R1_RequestTemplate="SettingNew.SearchSetting",o.R1_Id=s.value,p.a.postCheckResult(o).then(function(e){e=p.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");var a=e[0];void 0!==a.Description&&(a.Description=JSON.parse(a.Description),a.Value=JSON.parse(a.Value),a.Language="string"==typeof a.Language?JSON.parse(a.Language):[],t.each(a.Description,function(t,e){"true"===e&&(a.Description[t]=!0),"false"===e&&(a.Description[t]=!1)}),a.Description.IsDashboard=void 0!==a.Description.IsDashboard&&a.Description.IsDashboard,void 0!==a.Description.Filters&&!1!==a.Description.Filters||(a.Description.Filters=[]),i.model=a,o=i.$Lodash.cloneDeep(i.$singleRequest),o.R1_RequestTemplate="SettingNew.SearchSetting",o.R1_Code="",t.each(i.model.Value,function(t,e){o.R1_Code+=e.ModuleCode+";"}),p.a.post(o).then(function(e){var a=p.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");if(t.each(a,function(e,a){t.each(i.model.Value,function(t,e){e.ModuleCode===a.Code&&("Report"===e.ModuleType?e.DataGroup=a.DataGroup:e.DataGroup=a.Name,e.Caption=a.Caption)}),t.each(i.model.Description.Filters,function(t,e){e.ModuleCode===a.Code&&(i.$set(e,"Caption",a.Caption),i.$set(e,"DataGroup",a.DataGroup))})}),i.model.Description.IsDashboard){i.treeFullData={collapseIcon:"fa fa-plus-square",expandIcon:"fa fa-minus-square",level:"-1",Level:"-1",Caption:"Các nhóm",children:[]},i.model.ObjectFields=i.$Lodash.cloneDeep(i.model.Description.Groups);var s=i.$Utils.rotateDementionArr(i.model.Value,"ModuleCode");t.each(i.model.ObjectFields,function(e,a){a.children=[],t.each(a.ListModules.split(";"),function(t,e){""!==e&&a.children.push(s[e])}),a.collapseIcon="fa fa-plus-square",a.expandIcon="fa fa-minus-square",a.level="0",i.treeFullData.children.push(a),i.objGroup[a.Name]=a.Caption})}else if(void 0!==i.model.Description.ModuleOrder&&!1!==i.model.Description.ModuleOrder){var o=i.model.Description.ModuleOrder.split(";"),n=i.$Lodash.cloneDeep(i.model.Value);t.each(o,function(e,a){t.each(n,function(t,s){a===s.ModuleCode&&i.model.Value.splice(e,0,i.model.Value.splice(t,1)[0])})})}if(void 0!==i.model.Description.FilterOrder&&!1!==i.model.Description.FilterOrder){var l=i.model.Description.FilterOrder.split(";"),r=i.$Lodash.cloneDeep(i.model.Description.Filters);t.each(l,function(e,a){t.each(r,function(t,s){a==s.ModuleCode&&i.model.Description.Filters.splice(e,0,i.model.Description.Filters.splice(t,1)[0])})})}t.each(i.model.Description.Filters,function(e,a){a.Link={},void 0!==a.FilterLink&&t.each(i.model.Value,function(t,e){i.$set(a.Link,e.ModuleCode,-1!==a.FilterLink.indexOf(e.ModuleCode))})})})),i.treeFullDataCache=i.$Lodash.cloneDeep(i.treeFullData)})}else if("save"===e){var n=i.bindSavedData(),o=i.$Lodash.cloneDeep(i.$singleRequest);o=p.a.updateParamsSingleRequest(o,n),p.a.postCheckResult(o).then(function(t){t.success&&(p.a.showMessage("success",a.$toastMessage.updateItemPre+a.$toastMessage.updateItemSuf),i.bindPageSource(),i.requestByAction("edit"))})}},onModuleTypeChange:function(){var t=this;if(""!==t.viewModel.ModuleType){t.viewModel.ModuleValue={},t.viewModel.ListSourceModules=[];var e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_ParentCode="xSetting.Project."+t.viewModel.ModuleType,e.R1_Level="4",p.a.post(e).then(function(e){t.viewModel.ListSourceModules=p.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")})}},onCaptionChange:function(){var t=this;p.a.isEmpty(t.model.Description.UrlPage)||(t.model.Description.UrlPage="dynamic/"+p.a.removeVNCharacters(t.model.Description.Caption))},insertModule:function(){var e=this,a=e.treeFullData.children;if(""!=e.viewModel.ModuleValue&&null!=e.viewModel.ModuleValue){var i=e.viewModel.ModuleValue;i={Caption:i.Caption,ModuleCode:i.Code,ModuleType:e.viewModel.ModuleType,DataGroup:"Report"==e.viewModel.ModuleType?i.DataGroup:i.Name,Group:e.viewModel.Group};var s=!1;t.each(e.model.Value,function(t,e){if(e.ModuleCode==i.ModuleCode)return s=!0,!1}),s?e.$Utils.showMessage("error","Đã tồn tại"):(e.model.Description.IsDashboard&&"Filter"!=i.ModuleType&&t.each(a,function(t,a){if("0"==a.level&&a.Name==e.viewModel.Group)return a.children.push(i),!1}),"Filter"==i.ModuleType?(i.Link={},t.each(e.model.Value,function(t,e){i.Link[e.ModuleCode]=!1}),e.model.Description.Filters.push(i)):e.model.Value.push(i))}else p.a.showMessage("error","Hãy chọn 1 chức năng")},insertLanguage:function(){var e=this;if(""!=e.viewModel.LanguageValue&&null!=e.viewModel.LanguageValue){var a=e.viewModel.LanguageValue;a={LanguageValue:a.title,LanguageCode:a.code};var i=!1;t.each(e.model.Language,function(t,e){e.LanguageValue==a.LanguageValue&&(i=!0)}),i||e.model.Language.push(a),e.viewModel.LanguageValue=""}else p.a.showMessage("error","Hãy chọn 1 ngôn ngữ")},deleteLanguage:function(t,e){ctrl.model.Language.splice(e,1)},deleteModule:function(e,a){var i=this;"module"==e?i.model.Value.splice(a,1):(t.each(i.model.Value,function(t,e){if(e.ModuleCode==a.ModuleCode)return i.model.Value.splice(t,1),!1}),i.model.Description.Filters.splice(a,1))},bindGroup:function(e){var a=this,i=!1;"edit"==e.action?(t.each(a.model.Description.Groups,function(t,a){a.Name==e.item.Name&&e.index!=t&&(i=!0)}),i||(a.model.Description.Groups[e.index]=e.item,a.treeGroups.updateItem(a.treeGroups.getSelectedItem().element,{label:e.item.Caption,value:e.item.Name}))):(a.model.Description.Groups.push(e.item),a.treeGroups.addTo({label:e.item.Caption,value:e.item.Name}))},executeSubElement:function(t,e,a,i){var s=this;s.communication.action=e,s.communication.scope=s,"edit"==e&&(s.communication.item=a,s.communication.index=i);var o="group"==t?d.a:"autoload"==t?u.a:m.a,n="autoload"==t?"Thông tin liên kết":"Thông tin nhóm";this.$hub.$emit("set-modal-data",n,"50%",!0,"center",o,!1,"",s.communication)},onElementClick:function(){var e=this,a=this,i=-1,s={};if(null!=this.selectedItem)if(0===this.selectedItem.level)t.each(a.model.Description.Groups,function(t,e){e.Name===selectedItem.value&&(i=t,s=e)});else if(a.model.Description.IsDashboard){t.each(a.model.Value,function(t,a){a.ModuleCode===e.selectedItem.value&&(i=t,s=a)});this.selectedItem.parentElement}},bindListUserPermissions:function(){var e=this;e.viewModel.UserPermissions=[],e.viewModel.GroupPermissions=[],e.viewModel.RolePermissions={},e.viewModel.listUsers=[];var a={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"Status",Status:"1",StaticFields:"GroupId;GroupName;Description;GroupParent;GroupType"};p.a.post(a).then(function(a){a=p.a.getDataWithRoot(a,"UserDS.Group"),t.each(a,function(t,a){0==a.GroupType?e.viewModel.UserPermissions.push(a):1==a.GroupType?e.viewModel.GroupPermissions.push(a):2==a.GroupType&&(p.a.isEmpty(e.viewModel.RolePermissions)&&p.a.isEmpty(e.viewModel.RolePermissions[a.GroupParent])||void 0==e.viewModel.RolePermissions[a.GroupParent]&&(e.viewModel.RolePermissions[a.GroupParent]=[]),e.viewModel.RolePermissions[a.GroupParent].push(a))})}),a={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status",Status:"1",GroupType:"1",StaticFields:"UserId;Username;LoginName",orderFields:"LoginName ASC"},p.a.post(a).then(function(t){t=p.a.getDataWithRoot(t,"Data.UserDS.User"),e.viewModel.listUsers=t})},bindSavedData:function(){var e=this,a=e.$Lodash.cloneDeep(e.model);if(a.Description.Groups=e.$Lodash.cloneDeep(e.treeFullData.children),p.a.deleteAutoValue(a),a.RequestTemplate="SettingNew.Update",a.Description.IsDashboard){var i=e.treePage;t.each(a.Description.Groups,function(e,a){p.a.deleteAutoValue(a),a.ListModules="";for(var s=0;s<i.length;s++)if(i[s].value==a.Name){i[s].id;break}t.each(a.children,function(t,e){a.ListModules+=e.ModuleCode+";",delete e.$parent}),delete a.children})}else a.Description.ModuleOrder="",t.each(a.Value,function(t,e){a.Description.ModuleOrder+=e.ModuleCode+";"}),a.Description.FilterOrder="",t.each(a.Description.Filters,function(t,e){a.Description.FilterOrder+=e.ModuleCode+";"});return t.each(a.Value,function(t,e){e&&(delete e.$parent,"Filter"==e.ModuleType&&a.Value.splice(t,1))}),t.each(a.Description.Filters,function(e,i){p.a.deleteAutoValue(i),delete i.Caption,i.FilterLink="",t.each(i.Link,function(t,e){e&&(i.FilterLink+=t+";")}),delete i.Link,a.Value.push(i)}),t.each(a.Value,function(t,e){delete e.Caption}),t.each(a.Description.Groups,function(t,e){e.$parent&&delete e.$parent}),t.each(a.ObjectFields,function(e,a){a.$parent&&delete a.$parent,t.each(a.children,function(t,e){e.$parent&&delete e.$parent})}),t.each(a.Description,function(t,e){1==e&&(a.Description[t]="true"),0==e&&""!=e&&(a.Description[t]="false")}),t.each(a.Value,function(t,e){e.$parent&&delete e.$parent}),a.ObjectFields=s()(a.ObjectFields),a.Description=s()(a.Description),a.Value=s()(a.Value),a.Language=s()(a.Language),a},resetForm:function(){var t=this;t.viewModel.Groups.source=[],t.viewModel.selectedTab=0,t.viewModel.ModuleType="",t.viewModel.Group="",t.viewModel.ListSourceModules=[]},showPermission:function(t){this.$hub.$emit("set-modal-data","Chia sẻ tài liệu","80%",!0,"left",h.a,!0,"",t)},init:function(){var t=this;t.isSystemAdmin=this.$isSystemAdmin(),t.isMantisAdmin=this.$isMantisAdmin(),this.bindListUserPermissions(),this.bindPageSource(),t.communication={action:"",item:{},index:"",scope:t}},deleteField:function(e){var a=this,i=this;i.$Utils.showConfirm("Cảnh báo",this.$toastMessage.deleteSettingWarning).then(function(){if(0==e.level){t.each(i.treeFullData.children,function(t,a){if(a.Name==e.Name)return i.treeFullData.children.splice(t,1),!1});var s=i.$Utils.rotateDementionArr(i.model.ObjectFields,"Name"),o=e.children;o.push(e),t.each(o,function(t,e){delete s[e.Name]}),i.model.ObjectFields=[],t.each(s,function(t,e){i.model.ObjectFields.push(e)}),i.model.Value=[],t.each(i.treeFullData.children,function(t,e){void 0!=e.children&&(i.model.Value=i.model.Value.concat(e.children))});var n="";t.each(i.model.Value,function(t,e){n+=";"+e.ModuleCode}),t.each(i.model.Description.Filters,function(e,a){t.each(a.Link,function(t,a){-1==n.indexOf(t)&&delete i.model.Description.Filters[e].Link[t]})}),i.model.Value.concat(i.model.Description.Filters)}else{t.each(i.treeFullData.children,function(a,s){if(s.Name==e.$parent.Name){t.each(s.children,function(t,a){if(e.Name===a.Name)return s.children.splice(t,1),!1}),t.each(i.model.ObjectFields,function(t,a){if(e.Name===a.Name)return i.model.ObjectFields.splice(t,1),!1});var o=i.$Lodash.cloneDeep(i.model.Description.Groups);i.model.Description.Groups=o}}),i.model.Value=[],t.each(i.treeFullData.children,function(t,e){void 0!=e.children&&(i.model.Value=i.model.Value.concat(e.children))});var n="";t.each(i.model.Value,function(t,e){n+=";"+e.ModuleCode}),t.each(i.model.Description.Filters,function(e,a){t.each(a.Link,function(t,a){-1==n.indexOf(t)&&delete i.model.Description.Filters[e].Link[t]})}),i.model.Value.concat(i.model.Description.Filters)}var l=a.$Lodash.cloneDeep(a.treeFullData);a.treeFullData=l,a.model.Description.Groups=a.treeFullData.children,a.treeFullDataCache=a.$Lodash.cloneDeep(a.treeFullData),a.$forceUpdate()})}},watch:{},destroyed:function(){this.$hub.$off("fill-data-to-page"),this.$hub.$off("reloadTree"),this.$hub.$off("reloadFieldTree")},created:function(){this.init()},mounted:function(){var t=this;this.$hub.$on("fill-data-to-page",function(e){t.activeName="0",t.selectedItem=e,t.requestByAction("edit")}),this.$hub.$on("reloadTree",function(){t.bindPageSource()}),this.$hub.$on("reloadFieldTree",function(e){e&&(t.treeFullData.children=e),t.$forceUpdate()})}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(714)}var s=a(715),o=a(716),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-78f1b9c2",null);e.a=r.exports},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__=__webpack_require__(45),id=1e3;__WEBPACK_IMPORTED_MODULE_1_vue__.default.component(__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__.a.name,__WEBPACK_IMPORTED_MODULE_2_vue_sortable_tree__.a),__webpack_exports__.a={props:["treePage"],data:function(){return{treeData:this.treePage,dialogVisible:!1,itemSelected:{},form:{name:""},rules:{name:[{required:!0,message:"Hãy nhập tên trang",trigger:"blur"}]},viewModel:{ListModules:[]}}},destroyed:function(){},created:function(){this.updateDatagroup()},methods:{changeState:function(t){this.$set(t,"$foldClose",!t.$foldClose),this.$forceUpdate()},changePosition:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);if(a.R1_RequestTemplate="Setting.MoveNode",a.R1_Id=t.data.Id,t.afterParent.children&&t.afterParent.children.length>1){var i=0;$.each(t.afterParent.children,function(e,s){s.Id==t.data.Id&&e>0?(i=e-1,a.R1_ReferenceId=t.afterParent.children[i].Id,a.R1_NestedSetType="MoveToAfterAnother"):s.Id==t.data.Id&&0==e&&(i=1,a.R1_ReferenceId=t.afterParent.children[i].Id,a.R1_NestedSetType="MoveToBeforeAnother")})}else a.R1_ReferenceId=t.afterParent.Id,a.R1_NestedSetType="MoveToLastChildNode";this.$Utils.post(a).then(function(a){e.getAllLevel(t.afterParent.Level,t.data)})},editCategory:function(t){this.$hub.$emit("fill-data-to-page",t)},addCategory:function(){var t=this,e=t.$Lodash.cloneDeep(t.$singleRequest),a=t.form.name.split(";");e.TotalRequests=0,$.each(a,function(a,i){""!=i&&(e.TotalRequests++,e["R"+e.TotalRequests+"_RequestTemplate"]="Setting.Insert",e["R"+e.TotalRequests+"_NestedSetType"]="InsertLastChildNode",e["R"+e.TotalRequests+"_ReferenceId"]=t.itemSelected.Id,e["R"+e.TotalRequests+"_Caption"]=i,e["R"+e.TotalRequests+"_Name"]=t.$Utils.removeVNCharacters(i),e["R"+e.TotalRequests+"_Code"]="Page."+t.$Utils.removeVNCharacters(i)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),e["R"+e.TotalRequests+"_Description"]=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({ListGroups:[],Filter:[],Module:[],Caption:i,IsDashboard:!1,IsShowOnMenu:!0,DisplayRole:t.$isMantisAdmin()+"",PageLink:"Url",UrlPage:"dynamic/"+t.$Utils.removeVNCharacters(i)}),e["R"+e.TotalRequests+"_Value"]="[]")}),t.$Utils.post(e).then(function(i){if(i.success){t.$Utils.showMessage("success",t.$toastMessage.updateItemPre+t.$toastMessage.updateItemSuf),t.communication={action:"insert",items:[]};var s=[];$.each(a,function(a,o){""!=o&&(s.push({Id:i["R"+(a+1)].Data,Caption:o.Caption,Name:o.Name}),t.communication.items.push({label:e["R"+(a+1)+"_Caption"],value:i["R"+(a+1)].Data}))}),t.$Utils.linkToRoleEveryone(s),t.$hub.$emit("reloadTree"),t.dialogVisible=!1,t.form.name=""}else t.$Utils.showMessage("error",t.$toastMessage.updateItemFailed)})},deletePage:function(t){var e=this;e.$Utils.showConfirm("Cảnh báo",this.$toastMessage.oneWayAction+this.$toastMessage.deleteSettingWarning).then(function(){var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="SettingNew.SearchSetting",a.R1_ParentId=t.Id,a.R1_IncludedNestedSetParent=!0,e.$Utils.postCheckResult(a).then(function(t){t=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),a=e.$Lodash.cloneDeep(e.$singleRequest);var i="";a.TotalRequests=0,$.each(t,function(t,e){a.TotalRequests++,a["R"+a.TotalRequests+"_RequestTemplate"]="SettingNew.Delete",a["R"+a.TotalRequests+"_Id"]=e.Id,i+=e.Id+";"}),a.TotalRequests>0&&e.$Utils.post(a).then(function(){e.$Utils.showMessage("success",e.$toastMessage.deleteItemPre+e.$toastMessage.deleteItemSuf),e.$Utils.removeAllLink(i),e.$hub.$emit("reloadTree")})})})},deleteSetting:function(t){return},checkExits:function(){var t=this;this.Parent&&""!=this.Parent&&(this.objParent=this.ListData.filter(function(e){return e.Id==t.Parent})[0]);var e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="Setting.SearchSetting",e.R1_Value=this.data.Id,e.R1_ParentCode="xSetting.Project.Parameter.Project.Category",this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");a=a.filter(function(e){return e.Name==t.Name}),a.length>0||t.insertSetting()})},insertSetting:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.Insert",a.R1_Name=this.Name,a.R1_Value=this.data.Id,a.R1_ValueName=this.data.Name,a.R1_ReferenceId=this.$Utils.isEmpty(this.objParent)?this.objParent.Id:this.ParentId,a.R1_NestedSetType="InsertLastChildNode",this.$Utils.postCheckResult(a).then(function(t){e.$Utils.linkToRoleEveryone([{Id:t.R1.Data,Caption:e.Name}]),e.$Utils.isEmpty(e.objParent,"Level")?e.onSave(e.objParent.Level):e.onSave(5),e.Name=null,e.objParent=null,e.getSetting()})},updateDatagroup:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.TotalRequests=4,e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_Code="DataGroup.danh-sach-cong-viec.04b66",e.R2_RequestTemplate="SettingNew.SearchSetting",e.R2_ParentCode="xSetting.Project.Form",e.R2_Level="4",e.R2_Name="DataGroup.danh-sach-cong-viec.04b66",e.R3_RequestTemplate="SettingNew.SearchSetting",e.R3_ParentCode="xSetting.Project.List",e.R3_Level="4",e.R3_Name="DataGroup.danh-sach-cong-viec.04b66",e.R4_RequestTemplate="SettingNew.SearchSetting",e.R4_ParentCode="xSetting.Project.Filter",e.R4_Level="4",e.R4_Name="DataGroup.danh-sach-cong-viec.04b66",this.$Utils.post(e).then(function(e){t.SettingFilter=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0],t.$Utils.isEmpty(t.SettingFilter,"Description")&&"string"==typeof t.SettingFilter.Description&&(t.SettingFilter.Description=JSON.parse(t.SettingFilter.Description)),t.objFields={},t.sortedFilter=[];for(var a=1;a<=t.SettingFilter.Description.FCount;a++)1==a&&(t.FilterSettings=""),t.FilterSettings+=t.SettingFilter["F"+a],a==t.SettingFilter.Description.FCount&&(t.setFilterSetting=!0,t.FilterSetting=JSON.parse(t.FilterSettings),t.SettingFilter.Fields=t.FilterSetting);t.viewModel.ListModules=t.$Utils.getDataWithRoot(e.R2,"Data.DynamicDS.Setting"),t.viewModel.ListModules=t.viewModel.ListModules.concat(t.$Utils.getDataWithRoot(e.R3,"Data.DynamicDS.Setting")),t.viewModel.ListModules=t.viewModel.ListModules.concat(t.$Utils.getDataWithRoot(e.R4,"Data.DynamicDS.Setting")),t.viewModel.ListModules.forEach(function(t){if(void 0!=t.Description){t.Description=JSON.parse(t.Description),t.ObjectFields="";for(var e=1;e<=t.Description.OFCount;e++)void 0!=t["OF"+e]&&(t.ObjectFields+=t["OF"+e]);t.ObjectFields=JSON.parse(t.ObjectFields)}}),t.DatagroupSource=t.$Lodash.cloneDeep(t.viewModel.ListModules)})},onSave:function(t,e){var a=this,i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);if(t-=4,-1==i.indexOf("ProjectCategoriesLevel"+t)){var s={Caption:"Danh mục cấp "+t,DataSource:"xDynamicData_Setting",FieldColumnType:"String",FieldStorageType:"Struct",FilterIsUsed:"true",FormDisplay:"- Danh mục cấp "+t+" -",FormFieldType:"Hidden",FormIncludeSubmit:"true",FormValidate:"",ListButtonGroups:"",ListIsHidden:"true",Name:"ProjectCategoriesLevel"+t,PlaceHolder:"- Danh mục cấp "+t+" -",ReportIsUsed:"true"};this.SettingFilter.Fields.push(s),i=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Fields);var o=JSON.parse(this.SettingFilter.Value),n={Name:"CategoriesLevel"+t,ColumnType:"String",StorageType:"Struct"};o.push(n),this.SettingFilter.Value=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(o),this.sourceFields=this.$Lodash.cloneDeep(this.SettingFilter.Fields),delete this.SettingFilter.Fields;var l=0;this.SettingFilter.Description.FCount=0;for(var r=1;r<7;r++)i.length>l&&(this.SettingFilter["F"+r]=i.substring(l,l+9999),l=1e4*r-r,this.SettingFilter.Description.FCount=r);if(this.SettingFilter.Description=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.SettingFilter.Description),!this.$Utils.isEmpty(e)||0==e){var c=this.$Lodash.cloneDeep(this.$singleRequest);this.$Utils.updateParamsSingleRequest(c,this.$Lodash.cloneDeep(this.SettingFilter)),c.R1_RequestTemplate="SettingNew.Update",this.$Utils.post(c).then(function(t){a.saveModules()})}}},saveModules:function(){var t=this,e=this.$Lodash.cloneDeep(this.SettingFilter);e.Description=JSON.parse(e.Description),e.Description.Fields=this.$Lodash.cloneDeep(this.sourceFields);var a=this.$Lodash.cloneDeep(this.viewModel.ListModules),i=this.$Lodash.cloneDeep(this.$singleRequest);i.TotalRequests=0,a.forEach(function(a){i.TotalRequests++,a.ModuleType=a.Value,a.Description.DataGroupCaption=e.Caption,a.Description.RootData=e.Description.RootData,a.Description.DataSource=e.Description.DataSource,a.Description.AdditionConditions=e.Description.AdditionConditions,-1!=["Form","Filter","List"].indexOf(a.Description.ModuleType)&&(a.Description.Link=e.Description.Link),-1!=["Form","Filter"].indexOf(a.Description.ModuleType)&&(a.Description.Dependencies=e.Description.Dependencies);var s=["Multicheck","IndexDefault","Tool"];(t.$Lodash.cloneDeep(a.ObjectFields).forEach(function(t){for(var i=!1,o=0;o<e.Description.Fields.length;o++){var n=e.Description.Fields[o];if(t.Name==n.Name){i=!0;break}}-1!=["List"].indexOf(a.Description.ModuleType)&&(-1!=s.indexOf(t.Name)&&(i=!0),"true"==t.ManualCalculator&&(i=!0)),i||($.each(a.ObjectFields,function(e,i){t.Name==i.Name&&a.ObjectFields.splice(e,1)}),void 0!=a.Description.Groups&&a.Description.Groups.forEach(function(e){void 0!=e.ListFields&&-1!=e.ListFields.indexOf(t.Name)&&(e.ListFields=e.ListFields.replace(t.Name+";",""))}))}),t.$Utils.isEmpty(a.Description,"Buttons"))&&(t.$Lodash.cloneDeep(a.Description.Buttons).forEach(function(t){for(var i=!1,s=0;s<e.Description.Buttons.length;s++)e.Description.Buttons[s].Code==t.Code&&(i=!0);i||$.each(a.Description.Buttons,function(e,i){t.Code==i.Code&&a.Description.Buttons.splice(e,1)})}),a.Description.Buttons.forEach(function(t){a.Description.Buttons.forEach(function(e){e.Code==t.Code&&(t=e)})}));if(-1!=["Form","List"].indexOf(a.Description.ModuleType))for(var o=0;o<a.Description.Buttons.length;o++)e.Description.Buttons.forEach(function(t){a.Description.Buttons[o].Code==t.Code&&(a.Description.Buttons[o]=t)});a.Fields=t.$Lodash.cloneDeep(a.ObjectFields),a.Fields.forEach(function(a){e.Description.Fields.forEach(function(e){e.Name==a.Name&&($.each(e,function(e,i){t.$Utils.isEmpty(a[e])||(a[e]=i)}),t.$Utils.deleteAutoValue(a))})}),-1!=["Form","Filter"].indexOf(a.Description.ModuleType)?e.Description.Fields.forEach(function(e){t.$Utils.deleteAutoValue(e),"Hidden"==e.FormFieldType&&a.Fields.push(e),void 0!=e.DynamicText&&null!=e.DynamicText&&a.Fields.push({Name:e.DynamicText,FieldStorageType:"Dynamic"})}):e.Description.Fields.forEach(function(e){t.$Utils.deleteAutoValue(e),"true"==e.ListIsHidden&&a.Fields.push(e),void 0!=e.DynamicText&&null!=e.DynamicText&&a.Fields.push({Name:e.DynamicText,FieldStorageType:"Dynamic"})}),a.ObjectFields=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.ObjectFields);for(var n=0,l=0,o=1;o<7;o++)a.ObjectFields.length>n&&(a["OF"+o]=a.ObjectFields.substring(n,n+9999),n=1e4*o-o,l=o);a.Description.OFCount=l,delete a.ObjectFields,n=0,l=0,a.Fields=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.Fields);for(var o=1;o<7;o++)a.Fields.length>n&&(a["F"+o]=a.Fields.substring(n,n+9999),n=1e4*o-o,l=o);a.Description.FCount=l,delete a.Fields,a.Description=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a.Description),i=t.$Utils.updateParamsSingleRequest(i,a,i.TotalRequests),i=t.$Utils.updateParamsSingleRequest(i,{RequestTemplate:"SettingNew.Update"},i.TotalRequests)}),this.$Utils.post(i).then(function(e){t.updateDatagroup()})},getAllLevel:function getAllLevel(parent,data){this.onSave(eval(parent)+1),this.$Utils.isEmpty(data.children)&&this.getAllLevel(eval(parent)+1,data.children),this.$hub.$emit("reloadTree")},checkParent:function(t){var e=this;if(this.$Utils.isEmpty(t,"$parent")){var a=this.$Lodash.cloneDeep(t.$parent);delete t.$parent,this.inputData.unshift(a),this.checkParent(t.$parent)}else{var i=this.$Lodash.cloneDeep(this.$singleRequest);i.TotalRequests=0,$.each(this.ListTask,function(t,a){if(e.$Utils.isEmpty(a,"ProjectCategoriesName")&&""!=a.Categories){var s=!1,o=e.$Lodash.cloneDeep(e.inputData),n=e.$Utils.isEmpty(a,"ProjectCategoriesName")?a.CategoriesName.split(";"):[];$.each(a.Categories.split(";"),function(t,a){if(""!=a){if(1==s){var i={};i.Id=a,i.Name=n[t],o.push(i)}a==e.inputData[e.inputData.length-1].Id&&(s=!0)}}),1==s&&(i["R"+[i.TotalRequests+1]+"_RequestTemplate"]="AG_Task_Task.Update",i["R"+[i.TotalRequests+1]+"_RequestDataGroup"]="DataGroup.danh-sach-cong-viec.04b66",i["R"+[i.TotalRequests+1]+"_RequestFields"]="Id;Index;ProjectCategories;Code;",i["R"+[i.TotalRequests+1]+"_ProjectCategories"]="",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesName"]="",i["R"+[i.TotalRequests+1]+"_Id"]=a.Id,$.each(o,function(t,e){i["R"+[i.TotalRequests+1]+"_ProjectCategories"]+=t.Id+";",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesName"]+=t.Name+";",i["R"+[i.TotalRequests+1]+"_ProjectCategoriesLevel"+[e+1]]=t.Id,i["R"+[i.TotalRequests+1]+"_RequestFields"]+="ProjectCategoriesLevel"+[e+1]+";"}),i.TotalRequests++)}}),this.$Utils.post(i)}}}}}).call(__webpack_exports__,__webpack_require__(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-categories"},[a("b-card",[a("sortable-tree",{attrs:{data:t.treePage,mixinParentKey:"$parent",dragEnable:!0,closeStateKey:"$foldClose"},on:{changePosition:t.changePosition},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("div",{staticClass:"custom-tree-content",class:{exitChild:i.children&&i.children.length}},[i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.collapseIcon})]):!i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.expandIcon})]):t._e(),t._v(" "),a("span",{staticClass:"mr-3"},[i.Description&&i.Description.IsShowOnMenu?a("i",{staticClass:"fa fa-eye"}):t._e(),t._v(" "),a("i",{class:i.Description?i.Description.MenuIcon:"fa fa-puzzle-piece"}),t._v(" "),"3"!==i.Level?a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editCategory(i)}}},[t._v("\n              "+t._s(i.treeCaption))]):t._e(),t._v(" "),"3"===i.Level?a("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(i.Name))]):t._e()]),t._v(" "),a("span",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.itemSelected=i,t.dialogVisible=!0}}},[a("i",{staticClass:"fa fa-plus"})]),t._v(" "),"3"!==i.Level?a("a",[t._v("|\n              "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.deletePage(i)}}},[a("i",{staticClass:"fa fa-trash"})])]):t._e()])])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"Thông tin",visible:t.dialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên trang",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1,t.form.name=""}}},[t._v("Hủy bỏ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addCategory}},[t._v("Lưu")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(718),s=a(719),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";e.a={data:function(){return{activeNames:["extenField1","extenField2","extenField3"],ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rules:{name:[{required:!0,message:"Please input Activity name",trigger:"blur"},{min:3,max:5,message:"Length should be 3 to 5",trigger:"blur"}],region:[{required:!0,message:"Please select Activity zone",trigger:"change"}],date1:[{type:"date",required:!0,message:"Please pick a date",trigger:"change"}],date2:[{type:"date",required:!0,message:"Please pick a time",trigger:"change"}],type:[{type:"array",required:!0,message:"Please select at least one activity type",trigger:"change"}],resource:[{required:!0,message:"Please select activity resource",trigger:"change"}],desc:[{required:!0,message:"Please input activity form",trigger:"blur"}]},tableData:[]}},created:function(){},methods:{submitForm:function(t){this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(t){this.$refs[t].resetFields()}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Tên",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Nguồn dữ liệu",prop:"region"}},[a("el-select",{attrs:{placeholder:"Activity zone"},model:{value:t.ruleForm.region,callback:function(e){t.$set(t.ruleForm,"region",e)},expression:"ruleForm.region"}},[a("el-option",{attrs:{label:"Zone one",value:"shanghai"}}),t._v(" "),a("el-option",{attrs:{label:"Zone two",value:"beijing"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Dữ liệu gốc",required:""}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.source,callback:function(e){t.$set(t.ruleForm,"source",e)},expression:"ruleForm.source"}})],1)],1),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Mở rộng điều kiện truyền thêm",name:"extenField1"}},[a("el-form-item",{attrs:{label:"Khóa",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"Xử lý",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Khóa",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"Giá trị"}})],1)],1)],1),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Mở rộng các trường liên quan",name:"extenField2"}},[a("el-form-item",{attrs:{label:"Khóa",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.desc,callback:function(e){t.$set(t.ruleForm,"desc",e)},expression:"ruleForm.desc"}})],1)],1),t._v(" "),a("el-button",{on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("Thêm")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"Nguồn",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Đích",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Loại",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"Loại xử lý"}})],1)],1)],1),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Mở rộng các khối liên kết",name:"extenField3"}},[a("el-form-item",{attrs:{label:"Khóa",prop:"name"}},[a("el-col",{attrs:{span:11}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"Stt",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Khối liên kết",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Xử lý",width:"180"}})],1)],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(721)}var s=a(722),o=a(723),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-d174f1e2",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){e.a={name:"page-advance-group-info",props:["data"],data:function(){return this.data.scope.treeFullData.children=this.data.scope.treeFullData.children?this.data.scope.treeFullData.children:[],this.data.scope.model.Description.Groups=this.data.scope.treeFullData.children,{model:{Caption:"",UserPermissions:[],listUsers:[],MenuIcon:"",Flex:"",GroupDisplayType:"Default",FlexSM:50,FlexXS:100,action:"",children:[],level:"0"},viewModel:{UserPermissions:this.data.scope.viewModel.UserPermissions,GroupPermissions:this.data.scope.viewModel.GroupPermissions,RolePermissions:this.data.scope.viewModel.RolePermissions,listUsers:this.data.scope.viewModel.listUsers},centerDialogVisible:!0,treeLst:this.data.scope.model.Description.Groups,dataToPass:this.data}},methods:{save:function(){var e=this,a=this;a.model.collapseIcon="fa fa-plus-square",a.model.expandIcon="fa fa-minus-square",a.model.level="0",a.model.Level="5","edit"==a.data.action?t.each(this.treeLst,function(t,i){if(i.Id==a.model.Id)return e.treeLst[t]=a.model,!1}):(a.model.Id=a.makeId(),a.model.Name=a.model.Id,a.treeLst.push(a.model)),this.data.scope.model.Description.Groups=this.treeLst,a.$hub.$emit("reloadFieldTree",a.treeLst),a.clearModel()},cancel:function(){this.$hub.$emit("close-modal")},clearModel:function(){this.$hub.$emit("close-modal")},makeId:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-0123456789",a=0;a<36;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},created:function(){var e=this;if("edit"==e.data.action){e.action="edit";var a=e.$Lodash.cloneDeep(e.data.item);t.each(a,function(t,a){e.$set(e.model,t,a)})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",[a("el-form-item",{attrs:{label:"Tên nhóm"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Quyền hiển thị"}},[a("el-select",{attrs:{multiple:"",clearable:""},model:{value:t.model.UserPermissions,callback:function(e){t.$set(t.model,"UserPermissions",e)},expression:"model.UserPermissions"}},[a("el-option-group",{attrs:{label:"Người dùng"}},t._l(t.viewModel.UserPermissions,function(e){return t.viewModel.UserPermissions?a("el-option",{attrs:{value:e.GroupId,label:e.GroupName}}):t._e()})),t._v(" "),a("el-option-group",{attrs:{label:"Phòng ban"}},t._l(t.viewModel.GroupPermissions,function(e){return a("div",[a("el-option",{attrs:{value:e.GroupId,label:e.GroupName}}),t._v(" "),t._l(t.viewModel.RolePermissions[e.GroupId],function(i){return t.viewModel.RolePermissions[e.GroupId]?a("el-option",{attrs:{value:i.GroupId,label:"--"+i.GroupName}}):t._e()})],2)}))],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Quyền nhân sự"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.listUsers,callback:function(e){t.$set(t.model,"listUsers",e)},expression:"model.listUsers"}},t._l(t.viewModel.listUsers,function(e){return t.viewModel.listUsers?a("el-option",{attrs:{value:e.UserId,label:e.LoginName}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.LoginName))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.Username))])]):t._e()}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Menu Icon"}},[a("el-input",{model:{value:t.model.MenuIcon,callback:function(e){t.$set(t.model,"MenuIcon",e)},expression:"model.MenuIcon"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tỉ lệ trên laptop (%)"}},[a("el-input",{model:{value:t.model.Flex,callback:function(e){t.$set(t.model,"Flex",e)},expression:"model.Flex"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tỉ lệ trên tablet (%)"}},[a("el-input",{model:{value:t.model.FlexSM,callback:function(e){t.$set(t.model,"FlexSM",e)},expression:"model.FlexSM"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tỉ lệ trên điện thoại (%)"}},[a("el-input",{model:{value:t.model.FlexXS,callback:function(e){t.$set(t.model,"FlexXS",e)},expression:"model.FlexXS"}})],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(725)}var s=a(726),o=a(727),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-9cd9b84e",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={name:"page-advance-group-info",props:["data"],data:function(){return{DataGroupTree:[],selectedDataGroups:[],ruleForm:{},rules:{},model:{},viewModel:{ListModules:[]},centerDialogVisible:!0,treeLst:this.data.scope.model.ObjectFields,dataToPass:this.data}},methods:{cancel:function(){this.$hub.$emit("close-modal")},bindEditor:function(){var t=this,e=t.data,a=!1;void 0==e.scope.model.Description.AutoLoad?a=!0:void 0!=e.scope.model.Description.AutoLoad.indexOf&&-1!=e.scope.model.Description.AutoLoad.indexOf("Type")&&(a=!0),a&&(e.scope.model.Description.AutoLoad={Enable:!0,ParentChild:!0,Condition:"Id;RequestDataGroup;Code;"}),t.model=t.$Lodash.cloneDeep(e.scope.model.Description.AutoLoad),t.bindListDataGroups()},bindListDataGroups:function(){var t=this,e=(t.data,t.$Lodash.cloneDeep(t.$singleRequest));e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_ParentCode="xSetting.Project.DataGroup",t.$Utils.post(e).then(function(e){t.viewModel.ListDataGroups=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.DataGroupTree=t.$Utils.createCustomTreeFromList(t.$Lodash.cloneDeep(t.viewModel.ListDataGroups),"Id","ParentId","children",{Caption:"label",Id:"value"},{}),t.model.DataGroup&&t.viewModel.ListDataGroups.forEach(function(e){void 0!=e.Description&&(e.Description=JSON.parse(e.Description)),e.Code===t.model.DataGroup&&(t.selectedDataGroups=[e.ParentId,e.Id],t.handleChange(t.selectedDataGroups))})})},handleChange:function(t){var e=this.viewModel.ListDataGroups.filter(function(e){return e.Id==t[t.length-1]})[0];this.model.DataGroup=e.Code,"string"==typeof e.Description&&(e.Description=JSON.parse(e.Description)),this.model.AdditionConditions=e.Description.AdditionConditions.substring(1),this.model.DataSource=e.Description.DataSource,this.model.RootData=e.Description.RootData},save:function(){var t=this,e=t.data,a=t.$Lodash.cloneDeep(t.model);a.Enable?e.scope.model.Description.AutoLoad=a:delete e.scope.model.Description.AutoLoad,t.cancel()}},created:function(){var t=this;t.data.scope.model.Value.forEach(function(e){"Filter"!=e.ModuleType&&t.viewModel.ListModules.push(e)}),t.bindEditor()}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",attrs:{"label-position":"top",model:t.model,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:""}},[a("label",[t._v("Hiển thị bảng thống kê")]),t._v(" "),a("el-switch",{model:{value:t.model.Enable,callback:function(e){t.$set(t.model,"Enable",e)},expression:"model.Enable"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Module"}},[a("el-select",{attrs:{clearable:"",placeholder:"Module"},model:{value:t.model.Module,callback:function(e){t.$set(t.model,"Module",e)},expression:"model.Module"}},t._l(t.viewModel.ListModules,function(t){return a("el-option",{key:t.ModuleCode,attrs:{label:t.Caption,value:t.ModuleCode}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[t.model.ParentChild?a("el-form-item",{attrs:{label:"Khối dữ liệu"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",options:t.DataGroupTree,placeholder:"Khối dữ liệu"},on:{change:function(e){t.handleChange(t.selectedDataGroups)}},model:{value:t.selectedDataGroups,callback:function(e){t.selectedDataGroups=e},expression:"selectedDataGroups"}})],1):t._e()],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{attrs:{clearable:"",placeholder:"Loại"},model:{value:t.model.Type,callback:function(e){t.$set(t.model,"Type",e)},expression:"model.Type"}},[a("el-option",{attrs:{value:"loadDataBase"}},[t._v("loadDataBase")]),t._v(" "),a("el-option",{attrs:{value:"includeUrlData"}},[t._v("includeUrlData")])],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"ParentChild"}},[a("el-switch",{model:{value:t.model.ParentChild,callback:function(e){t.$set(t.model,"ParentChild",e)},expression:"model.ParentChild"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"Phân quyền"}},[a("el-switch",{model:{value:t.model.AssignedUser,callback:function(e){t.$set(t.model,"AssignedUser",e)},expression:"model.AssignedUser"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Điều kiện"}},[a("el-input",{model:{value:t.model.Condition,callback:function(e){t.$set(t.model,"Condition",e)},expression:"model.Condition"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Điều kiện khác"}},[a("el-input",{model:{value:t.model.OtherCondition,callback:function(e){t.$set(t.model,"OtherCondition",e)},expression:"model.OtherCondition"}})],1)],1)],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:t.save}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(729)}var s=a(730),o=a(731),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-38414e88",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){e.a={name:"page-field-info-dialog",props:["data"],data:function(){var t={};return t.viewModel={Fields:[],Type:"Field",Key:"",ListFilters:[]},t.model={action:"",UserPermissions:[],listUsers:[],DefaultFilter:{}},t.treeLst=this.data.scope.model.ObjectFields?this.data.scope.model.ObjectFields:[],t.viewModel.UserPermissions=this.data.scope.viewModel.UserPermissions,t.viewModel.GroupPermissions=this.data.scope.viewModel.GroupPermissions,t.viewModel.RolePermissions=this.data.scope.viewModel.RolePermissions,t.viewModel.listUsers=this.data.scope.viewModel.listUsers,t.dataToPass=this.data.scope,t},methods:{save:function(){var e=this;e.data.scope.model.Description.IsDashboard?e.model.DefaultFilter[e.data.item.$parent.Caption]=e.viewModel.ListFilters:e.model.DefaultFilter=e.viewModel.ListFilters,"edit"==this.data.action?(t.each(e.dataToPass.model.Value,function(t,a){if(e.model.ModuleCode==a.ModuleCode)return e.dataToPass.model.Value.splice(t,1),e.dataToPass.model.Value.splice(t,0,e.model),e.$hub.$emit("reloadFieldTree"),!1}),e.data.item.$parent&&t.each(e.data.item.$parent.children,function(t,a){if(e.model.ModuleCode==a.ModuleCode)return e.data.item.$parent.children.splice(t,1),e.data.item.$parent.children.splice(t,0,e.model),e.$hub.$emit("reloadFieldTree"),!1})):(e.data.item.$parent.children.push(e.model),e.dataToPass.mode.Value.push(e.model),e.$hub.$emit("reloadFieldTree")),e.cancel()},cancel:function(){this.$hub.$emit("close-modal")},addFilter:function(){this.viewModel.ListFilters.push({Key:this.viewModel.Key,Value:this.viewModel.Value,Type:this.viewModel.Type}),this.viewModel.Key="",this.viewModel.Value=""},removeFilter:function(t){this.viewModel.ListFilters.splice(t,1)},bindDataGroupFields:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_Code=this.model.ModuleCode,this.$Utils.post(e).then(function(a){a=t.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting"),t.model.DataGroup=a[0].Name,e=t.$Lodash.cloneDeep(t.$singleRequest),e.R1_RequestTemplate="SettingNew.SearchSetting",e.R1_Code=t.model.DataGroup,t.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0],e.Description=JSON.parse(e.Description),e.Fields="";for(var a=1;a<=e.Description.FCount;a++)void 0!=e["F"+a]&&(e.Fields+=e["F"+a]);t.viewModel.Fields=JSON.parse(e.Fields)})})}},created:function(){var e=this;if("edit"==e.data.action){e.action="edit";var a=e.$Lodash.cloneDeep(e.data.item);t.each(a,function(t,a){e.$set(e.model,t,a)}),e.data.scope.model.Description.IsDashboard?(void 0==e.model.DefaultFilter[e.data.item.$parent.Caption]&&e.$set(e.model.DefaultFilter,e.data.item.$parent.Caption,[]),e.viewModel.ListFilters=e.model.DefaultFilter[e.data.item.$parent.Caption]):(e.$Utils.equals(e.model.DefaultFilter,{})&&(e.model.DefaultFilter=[]),e.viewModel.ListFilters=e.model.DefaultFilter),this.bindDataGroupFields()}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",[a("el-form-item",{attrs:{label:"Quyền hiển thị","flex-gt-sm":""}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.UserPermissions,callback:function(e){t.$set(t.model,"UserPermissions",e)},expression:"model.UserPermissions"}},[t._l(t.viewModel.UserPermissions,function(t){return a("el-option",{attrs:{value:t.GroupId,label:t.Description}})}),t._v(" "),a("hr"),t._v(" "),t._l(t.viewModel.GroupPermissions,function(e){return a("div",[a("el-option",{attrs:{value:e.GroupId,label:e.GroupName}}),t._v(" "),t._l(t.viewModel.RolePermissions[e.GroupId],function(t){return a("el-option",{attrs:{value:t.GroupId,label:"-- "+t.Description}})})],2)})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"Quyền nhân sự"}},[a("el-select",{attrs:{multiple:""},model:{value:t.model.listUsers,callback:function(e){t.$set(t.model,"listUsers",e)},expression:"model.listUsers"}},t._l(t.viewModel.listUsers,function(e){return a("el-option",{attrs:{value:e.UserId,label:e.LoginName}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.LoginName))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.Username))])])}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Tỉ lệ"}},[a("el-select",{model:{value:t.model.Layout,callback:function(e){t.$set(t.model,"Layout",e)},expression:"model.Layout"}},[a("el-option",{attrs:{value:"1",label:"1"}}),t._v(" "),a("el-option",{attrs:{value:"2",label:"2"}}),t._v(" "),a("el-option",{attrs:{value:"3",label:"3"}}),t._v(" "),a("el-option",{attrs:{value:"4",label:"4"}}),t._v(" "),a("el-option",{attrs:{value:"5",label:"5"}}),t._v(" "),a("el-option",{attrs:{value:"6",label:"6"}}),t._v(" "),a("el-option",{attrs:{value:"7",label:"7"}}),t._v(" "),a("el-option",{attrs:{value:"8",label:"8"}}),t._v(" "),a("el-option",{attrs:{value:"9",label:"9"}}),t._v(" "),a("el-option",{attrs:{value:"10",label:"10"}}),t._v(" "),a("el-option",{attrs:{value:"11",label:"11"}}),t._v(" "),a("el-option",{attrs:{value:"12",label:"12"}})],1)],1),t._v(" "),a("el-checkbox",{model:{value:t.model.DisplayTable,callback:function(e){t.$set(t.model,"DisplayTable",e)},expression:"model.DisplayTable"}},[t._v("Hiển thị bảng (Dashboard)\n  ")]),t._v(" "),a("el-checkbox",{model:{value:t.model.HideReport,callback:function(e){t.$set(t.model,"HideReport",e)},expression:"model.HideReport"}},[t._v("Ẩn biểu đồ  (Dashboard)\n  ")]),t._v(" "),a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{model:{value:t.viewModel.Type,callback:function(e){t.$set(t.viewModel,"Type",e)},expression:"viewModel.Type"}},[a("el-option",{attrs:{value:"Field",label:"Trường dữ liệu"}}),t._v(" "),a("el-option",{attrs:{value:"Other",label:"Khác"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường"}},[a("el-select",{attrs:{filterable:""},model:{value:t.viewModel.Key,callback:function(e){t.$set(t.viewModel,"Key",e)},expression:"viewModel.Key"}},t._l(t.viewModel.Fields,function(e){return a("el-option",{attrs:{value:e.Name,label:e.Caption+"("+e.Name+")"}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.Caption))]),t._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.Name))])])}))],1),t._v(" "),"Other"==t.viewModel.Type?a("el-form-item",{attrs:{label:"Trường"}},[a("el-input",{model:{value:t.viewModel.Key,callback:function(e){t.$set(t.viewModel,"Key",e)},expression:"viewModel.Key"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị"}},[a("el-input",{model:{value:t.viewModel.Value,callback:function(e){t.$set(t.viewModel,"Value",e)},expression:"viewModel.Value"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{disabled:void 0==t.viewModel.Key||""==t.viewModel.Key||void 0==t.viewModel.Value||""==t.viewModel.Value},on:{click:function(e){t.addFilter()}}},[t._v("\n      Thêm\n    ")])],1),t._v(" "),a("el-form-item",[a("table",{staticClass:"el-table__body-wrapper el-table--border is-scroll-left"},[a("thead",[a("tr",[a("td",[t._v("XỬ LÝ")]),t._v(" "),a("td",[t._v("LOẠI")]),t._v(" "),a("td",[t._v("TRƯỜNG")]),t._v(" "),a("td",[t._v("GIÁ TRỊ")])])]),t._v(" "),a("tbody",t._l(t.viewModel.ListFilters,function(e,i){return a("tr",[a("td",[a("el-button",{on:{click:function(e){t.removeFilter(i)}}},[a("i",{staticClass:"fa fa-trash"})])],1),t._v(" "),a("td",[t._v(t._s(e.Type))]),t._v(" "),a("td",[t._v(t._s(e.Key))]),t._v(" "),a("td",[t._v(t._s(e.Value))])])}))]),t._v(" "),a("br")]),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){t.save()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.cancel()}}},[t._v("Đóng")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"page-header mb-2"},[a("div",{staticClass:"title-box py-1 px-3"},[a("div",{staticClass:"row"},[t._m(0,!1,!1),t._v(" "),a("div",{staticClass:"col text-right pr-0"},[t.selectedItem.Id?a("el-button",{on:{click:function(e){t.requestByAction("save")}}},[t._v("Lưu")]):t._e()],1)])])]),t._v(" "),a("el-container",{staticClass:"card"},[a("el-row",{staticStyle:{width:"100%"}},[a("el-col",{staticClass:"border-box mt-aside",attrs:{xs:24,md:7}},[a("PageTree",{attrs:{treePage:t.treePage}})],1),t._v(" "),a("el-col",{staticClass:"pl-2 pr-2",attrs:{xs:24,md:17}},[t.selectedItem.Id?t._e():a("div",[t._v("\n          Chưa có trang được chọn\n        ")]),t._v(" "),t.selectedItem.Id?a("el-tabs",{attrs:{"tab-position":t.tabPosition},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Phổ biến"}},[a("el-form",{attrs:{"label-width":"120px",rules:t.rules,model:t.model.Description}},[a("el-form-item",{attrs:{label:"Tên",prop:"Caption"}},[a("el-input",{on:{change:t.onCaptionChange},model:{value:t.model.Description.Caption,callback:function(e){t.$set(t.model.Description,"Caption",e)},expression:"model.Description.Caption"}})],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){t.showPermission(t.selectedItem.Id)}}},[t._v("Phân quyền")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên nội dung",prop:"Caption"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",[a("el-radio-group",{model:{value:t.model.Description.PageLink,callback:function(e){t.$set(t.model.Description,"PageLink",e)},expression:"model.Description.PageLink"}},[t.isSystemAdmin?a("el-radio",{attrs:{label:"Empty"}},[t._v("Không có liên kết")]):t._e(),t._v(" "),a("el-radio",{attrs:{label:"Url"}},[t._v("Là đường dẫn")]),t._v(" "),t.isSystemAdmin?a("el-radio",{attrs:{label:"Redirect"}},[t._v("Mở ra trang khác\n                  ")]):t._e()],1)],1),t._v(" "),"Redirect"==t.model.Description.PageLink?a("el-form-item",{attrs:{label:"Đường dẫn"}},[a("el-input",{model:{value:t.model.Description.UrlPage,callback:function(e){t.$set(t.model.Description,"UrlPage",e)},expression:"model.Description.UrlPage"}})],1):t._e(),t._v(" "),"Url"==t.model.Description.PageLink?a("el-form-item",{attrs:{label:"Trang liên kết"}},[a("el-input",{model:{value:t.model.Description.UrlPage,callback:function(e){t.$set(t.model.Description,"UrlPage",e)},expression:"model.Description.UrlPage"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"Mặc định mở Menu"}},[a("el-select",{attrs:{placeholder:"Select"},model:{value:t.model.Description.DefaultOpenTree,callback:function(e){t.$set(t.model.Description,"DefaultOpenTree",e)},expression:"model.Description.DefaultOpenTree"}},[a("el-option",{attrs:{label:"Có",value:!0}}),t._v(" "),a("el-option",{attrs:{label:"Không",value:!1}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Biểu tượng"}},[a("div",{staticClass:"row"},[a("span",[a("i",{staticClass:"col",class:t.model.Description.MenuIcon})]),t._v(" "),a("el-input",{staticClass:"col",model:{value:t.model.Description.MenuIcon,callback:function(e){t.$set(t.model.Description,"MenuIcon",e)},expression:"model.Description.MenuIcon"}})],1)]),t._v(" "),t.isSystemAdmin?a("el-form-item",{attrs:{label:"Số bản ghi"}},[a("el-select",{model:{value:t.model.Description.LimitIndex,callback:function(e){t.$set(t.model.Description,"LimitIndex",e)},expression:"model.Description.LimitIndex"}},[a("el-option",{attrs:{value:25}},[t._v("25")]),t._v(" "),a("el-option",{attrs:{value:35}},[t._v("35")]),t._v(" "),a("el-option",{attrs:{value:50}},[t._v("50")]),t._v(" "),a("el-option",{attrs:{value:100}},[t._v("100")]),t._v(" "),a("el-option",{attrs:{value:200}},[t._v("200")])],1)],1):t._e(),t._v(" "),a("el-form-item",[a("el-checkbox",{model:{value:t.model.Description.IsShowOnMenu,callback:function(e){t.$set(t.model.Description,"IsShowOnMenu",e)},expression:"model.Description.IsShowOnMenu"}},[t._v("Hiển thị trên menu\n                ")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.IsDetail,callback:function(e){t.$set(t.model.Description,"IsDetail",e)},expression:"model.Description.IsDetail"}},[t._v("Chi tiết\n                ")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.Pagination,callback:function(e){t.$set(t.model.Description,"Pagination",e)},expression:"model.Description.Pagination"}},[t._v("Phân trang\n                ")]),t._v(" "),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],model:{value:t.model.Description.DisplayRole,callback:function(e){t.$set(t.model.Description,"DisplayRole",e)},expression:"model.Description.DisplayRole"}},[t._v("Cho phép quản trị\n                ")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.DisplayChange,callback:function(e){t.$set(t.model.Description,"DisplayChange",e)},expression:"model.Description.DisplayChange"}},[t._v("Hiển thị chuyển dạng\n                ")]),t._v(" "),a("el-checkbox",{model:{value:t.model.Description.IsDashboard,callback:function(e){t.$set(t.model.Description,"IsDashboard",e)},expression:"model.Description.IsDashboard"}},[t._v("Dashboard\n                ")])],1),t._v(" "),t.isSystemAdmin?a("el-form-item",[a("el-button",{attrs:{disabled:t.$Utils.equals(t.selectedItem,{})},on:{click:function(e){t.executeSubElement("autoload",e)}}},[t._v("\n                  Tự động tải\n                ")])],1):t._e(),t._v(" "),t.isSystemAdmin?a("el-form-item",{attrs:{label:"Cấu hình thêm"}},[a("el-input",{model:{value:t.model.Description.ExtraSetting,callback:function(e){t.$set(t.model.Description,"ExtraSetting",e)},expression:"model.Description.ExtraSetting"}})],1):t._e(),t._v(" "),t.isSystemAdmin?a("el-form-item",{attrs:{label:"Mô tả"}},[a("el-input",{model:{value:t.model.Description.More,callback:function(e){t.$set(t.model.Description,"More",e)},expression:"model.Description.More"}})],1):t._e()],1)],1),t._v(" "),t.model.Description.IsDashboard||"Redirect"===t.model.Description.PageLink?t._e():a("el-tab-pane",{attrs:{label:"Chức năng",name:"1"}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{attrs:{clearable:""},on:{change:function(e){t.onModuleTypeChange()}},model:{value:t.viewModel.ModuleType,callback:function(e){t.$set(t.viewModel,"ModuleType",e)},expression:"viewModel.ModuleType"}},[t.isSystemAdmin?a("el-option",{attrs:{value:"Filter",label:"Filter"}}):t._e(),t._v(" "),t.isSystemAdmin?a("el-option",{attrs:{value:"Form",label:"Form"}}):t._e(),t._v(" "),t.isSystemAdmin?a("el-option",{attrs:{value:"List",label:"List"}}):t._e(),t._v(" "),a("el-option",{attrs:{value:"Report",label:"Report"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên"}},[a("el-select",{attrs:{filterable:"",placeholder:"","value-key":"Id"},model:{value:t.viewModel.ModuleValue,callback:function(e){t.$set(t.viewModel,"ModuleValue",e)},expression:"viewModel.ModuleValue"}},t._l(t.viewModel.ListSourceModules,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:t.insertModule}},[t._v("Thêm")])],1)],1),t._v(" "),a("table",{staticClass:"el-table__body-wrapper el-table--border is-scroll-left"},[a("thead",[a("tr",[a("th",[t._v("Loại")]),t._v(" "),a("th",[t._v("Chức năng")]),t._v(" "),a("th",[t._v("Hành động")])])]),t._v(" "),a("tbody",{directives:[{name:"dragula",rawName:"v-dragula",value:t.model.Value,expression:"model.Value"}],attrs:{bag:"fieldsABag"}},t._l(t.model.Value,function(e,i){return"Filter"!=e.ModuleType?a("tr",{key:e.ModuleCode,staticClass:"hoverdragable"},[a("td",[t._v(t._s(e.ModuleType))]),t._v(" "),a("td",[t._v(t._s(e.Caption))]),t._v(" "),a("td",[a("el-button",{attrs:{title:"Chỉnh sửa"},on:{click:function(a){t.executeSubElement("module","edit",e,i)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("el-button",{attrs:{title:"Xóa"},on:{click:function(e){t.deleteModule("module",i)}}},[a("i",{staticClass:"el-icon-delete"})])],1)]):t._e()}))]),t._v(" "),a("br"),t._v(" "),a("span",[t._v("Liên kết lọc")]),t._v(" "),a("div",[a("table",{staticClass:"el-table__body-wrapper el-table--border is-scroll-left"},[a("thead",[a("tr",[a("th",[t._v("Tên bộ lọc")]),t._v(" "),a("th",[t._v("Công cụ")])])]),t._v(" "),a("tbody",t._l(t.model.Description.Filters,function(e,i){return a("tr",[a("td",[t._v(t._s(e.Caption))]),t._v(" "),a("td",[t.$isMobileDevice?a("div",{staticClass:"row"},[t._l(t.model.Value,function(i){return"Filter"!=i.ModuleType?a("div",{staticClass:"col"},[a("el-checkbox",{attrs:{checked:e.Link[i.ModuleCode]},on:{change:function(a){t.changeFilter(e.Link,i.ModuleCode,a)}}})],1):t._e()}),t._v(" "),a("div",{attrs:{flex:"","ng-if":"isSystemAdmin"}},[a("el-button",{attrs:{title:"Xóa"},on:{click:function(e){t.deleteModule("filter",i)}}},[a("i",{staticClass:"el-icon-delete"})])],1)],2):a("div",{staticClass:"row"},[t._l(t.model.Value,function(i){return"Filter"!=i.ModuleType?a("div",{staticClass:"col"},[e.Link?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.Caption,placement:"top-start"}},[a("el-checkbox",{attrs:{checked:e.Link[i.ModuleCode]},on:{change:function(a){t.changeFilter(e.Link,i.ModuleCode,a)}}})],1):t._e()],1):t._e()}),t._v(" "),a("div",{attrs:{flex:"","ng-if":"isSystemAdmin"}},[a("el-button",{attrs:{title:"Xóa"},on:{click:function(e){t.deleteModule("filter",i)}}},[a("i",{staticClass:"el-icon-delete"})])],1)],2)])])}))])])],1),t._v(" "),"Redirect"!==t.model.Description.PageLink?a("el-tab-pane",{attrs:{label:"Nâng cao",name:"2"}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{attrs:{clearable:""},on:{change:function(e){t.onModuleTypeChange()}},model:{value:t.viewModel.ModuleType,callback:function(e){t.$set(t.viewModel,"ModuleType",e)},expression:"viewModel.ModuleType"}},[t.isSystemAdmin?a("el-option",{attrs:{value:"Filter",label:"Filter"}}):t._e(),t._v(" "),t.isSystemAdmin?a("el-option",{attrs:{value:"Form",label:"Form"}}):t._e(),t._v(" "),t.isSystemAdmin?a("el-option",{attrs:{value:"List",label:"List"}}):t._e(),t._v(" "),t.isSystemAdmin?a("el-option",{attrs:{value:"Report",label:"Report"}}):t._e()],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên"}},[a("el-select",{attrs:{filterable:"",placeholder:"","value-key":"Id"},model:{value:t.viewModel.ModuleValue,callback:function(e){t.$set(t.viewModel,"ModuleValue",e)},expression:"viewModel.ModuleValue"}},t._l(t.viewModel.ListSourceModules,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Nhóm"},model:{value:t.viewModel.Group,callback:function(e){t.$set(t.viewModel,"Group",e)},expression:"viewModel.Group"}},[a("el-select",{model:{value:t.viewModel.Group,callback:function(e){t.$set(t.viewModel,"Group",e)},expression:"viewModel.Group"}},t._l(t.model.Description.Groups,function(t){return a("el-option",{attrs:{label:t.Caption,value:t.Name}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{disabled:""==t.viewModel.ModuleType||""==t.viewModel.ModuleValue||""==t.viewModel.Group},on:{click:t.insertModule}},[t._v("Thêm")]),t._v(" "),a("el-button",{attrs:{disabled:0==t.model.Description.IsDashboard},on:{click:function(e){t.executeSubElement("group","insert")}}},[t._v("Thêm nhóm\n                ")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Trường dữ liệu "}},[a("el-card",{staticClass:"box-card"},[a("sortable-tree",{attrs:{data:t.treeFullData,dragEnable:!0,closeStateKey:"$foldClose",mixinParentKey:"$parent"},on:{changePosition:t.positionChanged},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("div",{staticClass:"custom-tree-content",class:{exitChild:i.children&&i.children.length}},[i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.collapseIcon})]):!i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.expandIcon})]):t._e(),t._v(" "),a("span",{staticClass:"mr-3"},["-1"===i.level?a("a",[t._v(t._s(i.Caption))]):a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editTreeNode(i)}}},[t._v(t._s(i.Caption))])]),t._v(" "),a("span",["-1"!==i.level?a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.deleteField(i)}}},[a("i",{staticClass:"fa fa-trash"})]):t._e()])])]}}])})],1)],1)],1),t._v("\n            Liên kết lọc\n            "),a("table",{staticClass:"el-table__body-wrapper el-table--border el-table--border is-scroll-left"},[a("thead",[a("tr",[a("th",{staticStyle:{width:"20%"}},[t._v("Tên bộ lọc")]),t._v(" "),a("th",{staticStyle:{width:"20%"}},[t._v("Nhóm")]),t._v(" "),a("th",{staticStyle:{width:"60%"}},[t._v("Công cụ")])])]),t._v(" "),a("tbody",t._l(t.model.Description.Filters,function(e,i){return a("tr",[a("td",[t._v(t._s(e.Caption))]),t._v(" "),a("td",[t._v(t._s(t.objGroup[e.Group]))]),t._v(" "),t.$isMobileDevice?a("td",{staticClass:"row"},[t._l(t.model.Value,function(i){return"Filter"!=i.ModuleType?a("div",{staticClass:"col"},[a("el-checkbox",{attrs:{checked:e.Link[i.ModuleCode]},on:{change:function(a){t.changeFilter(e.Link,i.ModuleCode,a)}}})],1):t._e()}),t._v(" "),t.isSystemAdmin?a("div",{staticClass:"col"},[a("el-button",{attrs:{title:"Xóa"},on:{click:function(e){t.deleteModule("filter",i)}}},[a("i",{staticClass:"el-icon-delete"})])],1):t._e()],2):a("td",{staticClass:"row"},[t._l(t.model.Value,function(i){return"Filter"!=i.ModuleType?a("div",{staticClass:"col"},[e.Link?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.Caption,placement:"top-start"}},[a("el-checkbox",{attrs:{checked:e.Link[i.ModuleCode]},on:{change:function(a){t.changeFilter(e.Link,i.ModuleCode,a)}}})],1):t._e()],1):t._e()}),t._v(" "),t.isSystemAdmin?a("div",{staticClass:"col"},[a("el-button",{attrs:{title:"Xóa"},on:{click:function(e){t.deleteModule("filter",i)}}},[a("i",{staticClass:"el-icon-delete"})])],1):t._e()],2)])}))])],1):t._e(),t._v(" "),t._e()],1):t._e()],1)],1)],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"col m-auto"},[a("i",{staticClass:"fa fa-file-text-o"}),a("span",[t._v("Quản lý trang:")])])}],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(734),s=a(739),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(735);e.a={components:{NotificationForm:i.a},data:function(){return{showEditForm:!1,isAddNew:!1,formInline:{user:"",region:""},rowItem:{},tableData:[]}},methods:{editItem:function(t){},hiddenForm:function(t){t&&this.searchData(),this.showEditForm=!1},onSubmit:function(){},handleAddNew:function(){this.isAddNew=!0,this.rowItem={ParentId:this.tableData[0].ParentId},this.showEditForm=!0},handleEdit:function(t,e){this.isAddNew=!1,this.rowItem=e,this.showEditForm=!0},handleDelete:function(t,e){var a=this;a.$Utils.showConfirm("Cảnh báo",a.$toastMessage.oneWayAction+a.$toastMessage.deleteSettingWarning).then(function(){var i=a.$Lodash.cloneDeep(a.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_Id=e.Id,void 0==e.Id||""==e.Id?a.$Utils.showMessage("error","Không định danh được đối tượng!"):a.$Utils.postCheckResult(i).then(function(i){if(i.success){a.$Utils.removeAllLink(e.Id);var s=a.$Lodash.cloneDeep(a.$singleRequest);s.R1_RequestTemplate="SettingNew.Delete",s.R1_Id=e.Id,a.$Utils.post(s).then(function(t){a.$Utils.showMessage("success",a.$toastMessage.deleteItemPre+a.$toastMessage.deleteItemSuf)}),a.tableData.splice(t,1)}else a.$Utils.showMessage("error",a.$toastMessage.updateItemFailed)})})},searchData:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:"xSetting.Project.Notification"};this.$Utils.post(e).then(function(e){t.tableData=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")})}},mounted:function(){if(this.showEditForm=void 0!=this.$route.query&&null!=this.$route.query.id&&""!==this.$route.query.id,this.isAddNew="new"===this.$route.query.id,!this.showEditForm){JSON.parse(localStorage.getItem("LoggedOnUser")),this.$getItemLocalStorage(this.$localStorageConstant.SessionId);this.searchData()}}}},function(t,e,a){"use strict";function i(t){a(736)}var s=a(737),o=a(738),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-58dfa578",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(3),n=a(43),l=a.n(n),r=a(16),c=a(31);o.default.use(l.a),e.a={props:["selectedItem","isShow","isNew","closeCallback"],components:{VueDragula:l.a,PermissionSelector:r.a,SelectTree:c.a},data:function(){return{DataGroupTree:[],selectedDataGroups:[],model:{Description:{}},viewModel:{ListDataGroups:[]},TypeList:[],CurrentDataGroup:{},configEditor:this.$froOptions,activeNames:["1"],ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},created:function(){},mounted:function(){setTimeout(function(){t("a:contains('Unlicensed copy of the Froala Editor')").remove()},900);var e=this,a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="SettingNew.SearchSetting",a.R1_ParentCode="xSetting.Project.DataGroup",e.$Utils.post(a).then(function(t){e.viewModel.ListDataGroups=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),e.DataGroupTree=e.$Utils.createCustomTreeFromList(e.$Lodash.cloneDeep(e.viewModel.ListDataGroups),"Id","ParentId","children",{Caption:"label",Id:"value"},{}),e.$Utils.isEmpty(e.selectedItem,"Description")&&(e.model=e.$Lodash.cloneDeep(e.selectedItem),e.model.Description=JSON.parse(e.model.Description),e.model.Description.Content=e.$Utils.decodeHtmlEntities(e.model.Description.Content),e.model.Name&&e.viewModel.ListDataGroups.forEach(function(t){var a=!0;return t.Code===e.model.Name&&(e.selectedDataGroups=[t.ParentId,t.Id],e.handleChange(e.selectedDataGroups),a=!1),a}))})},ready:function(){},methods:{back:function(t){this.resetForm("ruleForm"),this.closeCallback&&this.closeCallback(t)},handleChange:function(t){var e=this.viewModel.ListDataGroups.filter(function(e){return e.Id==t[t.length-1]})[0];this.model.Name=e.Code,"string"==typeof e.Description&&(e.Description=JSON.parse(e.Description)),e.Fields="";for(var a=1;a<=e.Description.FCount;a++)void 0!=e["F"+a]&&(e.Fields+=e["F"+a]);this.model.Description.DataGroupCaption=e.Caption,this.model.Description.RootData=e.Description.RootData,this.model.Description.DataSource=e.Description.DataSource,this.model.Description.AdditionConditions=e.Description.AdditionConditions,e.Fields=JSON.parse(e.Fields),this.viewModel.ListFields=e.Fields},addField:function(){var t=this;if(this.viewModel.Field){console.log(" this.model.Description.Content ",this.model.Description.Content);var e=this.viewModel.ListFields.filter(function(e){return e.Name==t.viewModel.Field})[0],a=void 0!=e.DynamicText&&""!=e.DynamicText?e.DynamicText:e.Name;this.model.Description.Content||this.$set(this.model.Description,"Content",""),this.model.Description.Content+="{{"+a+"}}"}},resetForm:function(t){this.$refs[t].resetFields()},submitForm:function(){var t=this,e=t.$Lodash.cloneDeep(t.model);e.Value="Notification",e.Description.Content=e.Description.Content?t.$Utils.encodeHtmlEntities(e.Description.Content):"";var a=t.$Lodash.cloneDeep(t.$singleRequest);e.Id?a=t.$Utils.updateParamsSingleRequest(a,{RequestTemplate:"SettingNew.Update"}):(e.Code="Notification."+t.$Utils.removeVNCharacters(e.Caption)+"."+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5),a=t.$Utils.updateParamsSingleRequest(a,{RequestTemplate:"SettingNew.Insert",ReferenceId:t.selectedItem.ParentId,NestedSetType:"InsertLastChildNode"})),e.Description.Caption=e.Caption,e.Description=s()(e.Description),t.$Utils.deleteAutoValue(e),a=t.$Utils.updateParamsSingleRequest(a,e),t.$Utils.postCheckResult(a).then(function(a){e.Id||t.$Utils.linkToRoleEveryone([{Id:a.R1.Data,Caption:e.Caption,Name:e.Code}]),t.$Utils.showMessage("success",t.$toastMessage.updateItemPre+t.$toastMessage.updateItemSuf),t.back(!0)})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notifi-form"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-position":"top",model:t.ruleForm,"label-width":"120px"}},[a("el-form-item",[a("el-button",{on:{click:function(e){t.back()}}},[t._v("Quay lại")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("Lưu")])],1),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"Tên biểu mẫu"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Loại"}},[a("el-select",{attrs:{placeholder:"Chọn"},model:{value:t.model.Description.NotificationType,callback:function(e){t.$set(t.model.Description,"NotificationType",e)},expression:"model.Description.NotificationType"}},[a("el-option",{attrs:{value:"Email"}},[t._v("Email")]),t._v(" "),a("el-option",{attrs:{value:"SMS"}},[t._v("SMS")]),t._v(" "),a("el-option",{attrs:{value:"Notification"}},[t._v("Thông báo")])],1)],1)],1),t._v(" "),"Email"===t.model.Description.NotificationType?a("div",{staticClass:"email-form__wrapper"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Tài khoản gửi"}},[a("el-input",{model:{value:t.model.Description.EmailAccount,callback:function(e){t.$set(t.model.Description,"EmailAccount",e)},expression:"model.Description.EmailAccount"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Email gửi"}},[a("el-input",{model:{value:t.model.Description.From,callback:function(e){t.$set(t.model.Description,"From",e)},expression:"model.Description.From"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Tiêu đề"}},[a("el-input",{model:{value:t.model.Description.Title,callback:function(e){t.$set(t.model.Description,"Title",e)},expression:"model.Description.Title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tiêu đề Thêm mới"}},[a("el-input",{model:{value:t.model.Description.TitleInsert,callback:function(e){t.$set(t.model.Description,"TitleInsert",e)},expression:"model.Description.TitleInsert"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tiêu đề cập nhật"}},[a("el-input",{model:{value:t.model.Description.TitleUpdate,callback:function(e){t.$set(t.model.Description,"TitleUpdate",e)},expression:"model.Description.TitleUpdate"}})],1)],1):t._e(),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Khối dữ liệu"}},[a("el-cascader",{attrs:{"expand-trigger":"hover",options:t.DataGroupTree,placeholder:""},on:{change:function(e){t.handleChange(t.selectedDataGroups)}},model:{value:t.selectedDataGroups,callback:function(e){t.selectedDataGroups=e},expression:"selectedDataGroups"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"Trường dữ liệu"}},[a("el-select",{attrs:{placeholder:"Chọn",filterable:"",clearable:""},model:{value:t.viewModel.Field,callback:function(e){t.$set(t.viewModel,"Field",e)},expression:"viewModel.Field"}},t._l(t.viewModel.ListFields,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption+" ("+t.Name+")",value:t.Name}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Chọn trường tạo template"}},[a("el-button",{on:{click:t.addField}},[t._v("Chọn")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Nội dung"}},[a("froala",{attrs:{tag:"textarea",config:t.configEditor},model:{value:t.model.Description.Content,callback:function(e){t.$set(t.model.Description,"Content",e)},expression:"model.Description.Content"}})],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showEditForm?a("div",[a("NotificationForm",{attrs:{selectedItem:t.rowItem,isShow:t.showEditForm,isNew:t.isAddNew,closeCallback:t.hiddenForm}})],1):t._e(),t._v(" "),t.showEditForm?t._e():a("div",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleAddNew}},[t._v("Thêm mới")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Tải lại")])],1),t._v(" "),a("el-form-item",{attrs:{label:"Tìm kiếm"}},[a("el-input",{attrs:{placeholder:"Approved by"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"Mã"}}),t._v(" "),a("el-table-column",{attrs:{prop:"NotificationType",label:"Loại thông báo"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(JSON.parse(e.row.Description).NotificationType)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Tên"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(JSON.parse(e.row.Description).Caption)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";(function(t){var i=(a(101),a(741)),s=a(744),o=a(110);a(3);e.a={components:{CreateGroupForm:i.a,GroupTreeGrid:s.a,Parameter:o.a},data:function(){return{radio:"1",isSystemAdmin:this.$isSystemAdmin(),isMantisAdmin:this.$isMantisAdmin(),groups:[],title:"phòng ban",groupt:[],groupType:"1",groupOri:[],groupP:[],groupRole:[],TreeGrid:[],parentgroups:[],defaultProps:{children:"children",label:"label"}}},created:function(){var t=this;this.init(),this.$on("reload",function(e){t.init()}),this.$on("search",function(e){t.init(e)})},methods:{chooseSelect:function(){"3"!==this.radio&&("1"===this.radio?(this.title="phòng ban",this.groupType="1"):"2"===this.radio&&(this.groupType="0",this.title="vai trò"),this.init())},init:function(e){var a=this,i=this.$Lodash.cloneDeep(this.$singleRequest);i.RequestClass="xBase",i.RequestAction="Request",i.TotalRequests=1,i.R1_RequestTemplate="OrgnizationList",this.$Utils.postCheckResult(i).then(function(i){if(i.success){var s=a.$Utils.getDataWithRoot(i.R1,"Data.UserDS.Group"),o=[],n=[];s.forEach(function(t){t.GroupType==a.groupType?n.push(t):2==t.GroupType&&o.push(t)}),n.forEach(function(t){t.GroupRole=[],o.forEach(function(e){t.GroupId===e.GroupParent&&(e.Name=e.GroupName,t.GroupRole.push(e))})});e||t.each(n,function(t,e){e.text="",e.text=e.GroupName}),a.groupP=n,a.$Utils.isEmpty(n,"length")||(n=[n]),e&&(n=n.filter(function(t){return-1!==t.GroupName.toLowerCase().indexOf(e.toLowerCase())})),a.groupOri=t.makeArray(t.map(n,function(t,e){return t?{Id:t.GroupId,ParentId:t.GroupParent,value:t.GroupId,status:t.Status,label:t.GroupName,code:t.GroupPath,des:t.Description,level:t.Level,text:t.GroupName,groupRole:t.GroupRole}:{}})),a.groups=a.$Utils.createCustomTreeFromList(a.groupOri,"Id","ParentId","children",{Name:"label",Id:"value"},{type:"group"}),a.parentgroups=a.$Lodash.cloneDeep(a.groups)}},function(t){console.log(t)})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=a(742),s=a(743),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(106);e.a={props:["datasource"],data:function(){return{formInline:{Name:"",Group:""}}},components:{SelectCheck:i.a},methods:{childUpdate:function(t){this.Group=t},onSubmit:function(){this.formInline.Group=i.a.value,this.$hub.$emit("update-category-callback",i.a)}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"Phòng ban"}},[a("el-input",{attrs:{placeholder:"Tên"},model:{value:t.formInline.Name,callback:function(e){t.$set(t.formInline,"Name",e)},expression:"formInline.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Phòng ban cha"}},[a("SelectCheck",{attrs:{datasource:t.datasource,value:t.formInline.Group},on:{update:t.childUpdate}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Lưu")])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(745),a(746)}var s=a(747),o=a(748),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-a5b93f6a",null);e.a=r.exports},function(t,e){},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(56),s=a.n(i),o=a(57),n=a.n(o),l=a(21),r=a.n(l),c=a(30),d=a.n(c),u=a(101),m=a(54);e.a={name:"example",components:{ElTreeGrid:d.a,ElTableTreeColumn:d.a},props:["datasource","group","checkRadio","title"],data:function(){return{searchText:"",props:{stripe:!0,border:!0,showHeader:!0,showSummary:!1,showRowHover:!0,showIndex:!1,treeType:!0,isFold:!0,expandType:!1,selectionType:!1,datasource:[]},groupsUserData:{},columns:[{label:"Tên",prop:"label",minWidth:"100px"},{label:"Mã",prop:"code",minWidth:"50px"},{label:"Mô tả",prop:"des"},{label:"Nhân sự",prop:"user"}],listSystemUser:[]}},watch:{searchText:function(t){this.$parent.$emit("search",this.searchText)}},computed:{propList:function(){return r()(this.props).map(function(t){return{name:t}})}},methods:{search:function(t){},reload:function(){this.$parent.$emit("reload"),this.getGroupObjAttachUser()},onDelete:function(e){var a=this,i=this,s=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),o=e;this.$confirm("Bạn chắc chắn muốn xóa "+this.title+" "+o.label,"Cảnh báo",{confirmButtonText:"Xóa",cancelButtonText:"Bỏ qua",type:"warning"}).then(function(){var e=a.$Lodash.cloneDeep(a.$singleRequest);e.R1_RequestTemplate="OrgnizationList",e.R1_GroupParent=o.Id,a.$Utils.post(e).then(function(e){e=a.$Utils.getDataWithRoot(e,"R1.Data.UserDS.Group");var n=e,l={};n.push(o),t.each(n,function(t,e){e.Id!==o.Id?(l={RequestAction:"DeleteGroup",RequestClass:"BPM",ConditionFields:"GroupId;",GroupId:e.GroupId,SessionId:s},i.$Utils.post(l).then(function(t){})):(l={RequestAction:"DeleteGroup",RequestClass:"BPM",ConditionFields:"GroupId;",GroupId:o.Id,SessionId:s},i.$Utils.post(l).then(function(t){t.success?(i.reload(),i.$message({type:"success",message:"Xóa thành công"}),a.$hub.$emit("reloadGroup","Reload")):i.$message({type:"danger",message:"Xóa không thành công!"})}))})})}).catch(function(){})},showCreatedDepartment:function(t){var e="Thêm mới "+this.title,a={treeSrc:this.datasource,groupP:this.group,callback:this.reload,checkGroup:this.checkRadio,groupRole:t&&t.groupRole?t.groupRole:[]};void 0!==t&&(a.item=t,e="Chỉnh sửa "+this.title),this.$hub.$emit("set-modal-data",e,"60%",!0,"center",u.a,!0,"showCreatedDepartment",a)},getUsers:function(){var t=this;return n()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.a.requestGetUser().then(function(e){return t.listSystemUser=e,e}).catch(function(t){console.log("err",t)}));case 1:case"end":return e.stop()}},e,t)}))()},buildGroupObjAttachUser:function(){var t=this,e={};return this.listSystemUser.forEach(function(a){(a.Groups?a.Groups.split(";"):[]).forEach(function(i){e[i]=t.$Utils.pushWithCheckUnique(e[i],a)})}),this.groupsUserData=e,e},getGroupObjAttachUser:function(){var t=this;this.getUsers().then(function(){t.buildGroupObjAttachUser()})}},created:function(){this.getGroupObjAttachUser()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"GroupTreeGrid",attrs:{id:"grouptreegrid mt-2"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{size:"mini",icon:"fa fa-plus"},on:{click:function(e){t.showCreatedDepartment()}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"Nhập từ khóa","suffix-icon":"el-icon-search"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)],1),t._v(" "),a("el-table",{attrs:{data:t.datasource,border:""}},[a("el-table-tree-column",{attrs:{prop:"label",label:"Tên",levelKey:"level",treeKey:"Id",parentKey:"ParentId"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"Mã","show-overflow-tooltip":!0,width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"des",label:"Mô tả","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"user",label:"Nhân sự","show-overflow-tooltip":!0,width:"350px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(t.groupsUserData[e.row.Id]&&t.groupsUserData[e.row.Id].slice(0,10),function(e){return a("el-tag",{key:e.UserId,attrs:{size:"mini"}},[t._v("\n          "+t._s(e&&e.Username)+"\n        ")])}),t._v(" "),t.groupsUserData[e.row.Id]&&t.groupsUserData[e.row.Id].length>10?a("el-tag",[t._v("...")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Hành động",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"",icon:"el-icon-edit"},on:{click:function(a){t.showCreatedDepartment(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"",icon:"el-icon-delete"},on:{click:function(a){t.onDelete(e.row)}}})],1)]}}])})],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-radio",{directives:[{name:"show",rawName:"v-show",value:t.isSystemAdmin,expression:"isSystemAdmin"}],attrs:{size:"mini",label:"1"},on:{change:t.chooseSelect},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Phòng ban")]),t._v(" "),t.isSystemAdmin?a("el-radio",{attrs:{size:"mini",label:"2"},on:{change:t.chooseSelect},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Vai trò người dùng")]):t._e(),t._v(" "),t.isSystemAdmin?a("el-radio",{attrs:{size:"mini",label:"3"},on:{change:t.chooseSelect},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("Vai trò phòng ban")]):t._e()],1),t._v(" "),"3"===this.radio?a("Parameter",{staticClass:"mgt10",attrs:{settingType:"rolePermission"}}):t._e(),t._v(" "),"3"!==this.radio&&"4"!==this.radio?a("GroupTreeGrid",{attrs:{datasource:t.groups,group:t.groupP,checkRadio:t.radio,title:t.title}}):t._e()],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(58),s=a(109),o=a(752);a(272);e.a={components:{UserInfo:i.a,ChangeThePassword:s.a,Rights:o.a},data:function(){return{loading:!1,sessionId:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),tableData:[],centerDialogVisible:!1,status:"1",searchInput:"",temp:[]}},watch:{status:function(t){this.loadData()},searchInput:function(t){var e=this;(""!==t.trim()||this.$Utils.isEmpty(t))&&(this.tableData=this.temp.filter(function(a){return(e.$Utils.isEmpty(a.GroupsName)&&a.GroupsName.toLowerCase().indexOf(t.toLowerCase()))>-1||(e.$Utils.isEmpty(a.LoginName)&&a.LoginName.toLowerCase().indexOf(t.toLowerCase()))>-1||e.$Utils.isEmpty(a.Email)&&a.Email.toLowerCase().indexOf(t.toLowerCase())>-1||e.$Utils.isEmpty(a.Username)&&a.Username.toLowerCase().indexOf(t.toLowerCase())>-1}))}},methods:{addNewUser:function(){this.$hub.$emit("set-modal-data","Tạo người dùng","80%",!0,"center",i.a,!0,"",{action:"insert",scope:null,reload:this.loadData})},changeStatus:function(t,e,a){var i=this,s=e?1:0,o={RequestClass:"BPM",RequestAction:"UpdateUser",UserId:a.UserId,Status:s,StaticFields:"Status",SessionId:this.sessionId};this.$Utils.post(o).then(function(t){try{JSON.parse(t).success?i.$message.success("Cập nhật thành công"):i.$message.error("Cập nhật không thành công")}catch(t){i.$message.error("Cập nhật không thành công")}i.loadData()})},loadData:function(){var t=this,e={RequestAction:"SearchGroup",RequestClass:"BPM",RequestDataType:"json",SessionId:this.sessionId,ConditionFields:"GroupId,GroupType",GroupType:"1",StaticFields:"GroupId;GroupName;Description;GroupParent"};this.loading=!0,this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e,"UserDS.Group"),i=t.$Utils.rotateDementionArr(a,"GroupId");t.getUsers(i)})},getUsers:function(e){var a=this;this.tableData=[];var i={RequestAction:"SearchUserWithGroups",IncludedGroupManager:!0,RequestClass:"BPM",RequestDataType:"json",SessionId:this.sessionId,ConditionFields:"IncludedGroupManager;Group;Status;LoginName;UserId",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;GroupManage;Notification",OrderFields:"LoginName ASC",GroupType:1,Status:this.status};this.$Utils.post(i).then(function(i){var s=a.$Utils.getDataWithRoot(i,"Data.UserDS.User");a.tableData=s.filter(function(i){return i.GroupsName="",i.Groups&&t.each(i.Groups.split(";"),function(t,a){e[a]&&(i.GroupsName+=e[a].GroupName+" ; ")}),a.$isSystemAdmin()||"superadmin"!==i.LoginName.toLowerCase()}),a.temp=a.$Lodash.cloneDeep(a.tableData),a.loading=!1})},changePass:function(t){this.$hub.$emit("set-modal-data","Thay đổi mật khẩu","25%",!0,"center",s.a,!1,"",t)},editUser:function(t){this.$hub.$emit("set-modal-data","Sửa thông tin người dùng","70%",!0,"center",i.a,!1,"",{action:"edit",item:t,reload:this.loadData})}},created:function(){this.loadData()},mounted:function(){}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(753)}var s=a(754),o=a(755),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-7a010942",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(268),s=a(271);e.a={components:{FormConfig:i.a,SubRights:s.a},props:["code"],data:function(){return{taskCode:"Form.task.0d1c1"}},methods:{},mounted:function(){},created:function(){}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"b"}},[a("el-form",[a("el-form-item",[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"}},[t._v("Lưu")])],1),t._v(" "),a("el-form-item",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Cấu hình Form"}},[a("FormConfig",{attrs:{code:t.code}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Phân Quyền"}},[a("SubRights")],1)],1)],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-radio",{attrs:{label:"1"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v("Hoạt động")]),t._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v("Không hoạt động")]),t._v(" "),a("el-row",{staticClass:"mgb5"},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary"},on:{click:t.addNewUser}},[a("i",{staticClass:"fa fa-plus mgr5"}),t._v(" "),a("span",{staticClass:"hidden-xs-only"},[t._v("Thêm người dùng mới")])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"Tìm kiếm","prefix-icon":"el-icon-search",clearable:""},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"Tải dữ liệu...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:"","empty-text":"Không có dữ liệu",data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{prop:"LoginName",label:"Tên đăng nhập","min-width":"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Username",label:"Tên đầy đủ","min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Email",label:"Hòm thư","min-width":"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"GroupsName",label:"Phòng ban","min-width":"300"}}),t._v(" "),a("el-table-column",{attrs:{label:"Hoạt động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{attrs:{checked:1==e.row.Status},on:{change:function(a){t.changeStatus(e.$index,a,e.row)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Xử lý",fixed:"right","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 offset-2 center-icon-clickable",on:{click:function(a){t.editUser(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),t._v(" "),a("div",{staticClass:"col-3 offset-1 center-icon-clickable",on:{click:function(a){t.changePass(e.row)}}},[a("i",{staticClass:"icon-key"})])])]}}])})],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(758)}var s=a(759),o=a(769),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-9d351fd0",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(3),n=a(45),l=a(760),r=a(763),c=a(766);o.default.component(n.a.name,n.a),e.a={components:{ParameterForm:l.a},data:function(){return{isEditParam:!1,paramCode:"",ruleForm:{name:"",radio:1},rules:{name:[]},Name:"",Parent:"",ListData:[],treeData:{},tempTree:{Name:"Các tham số",children:[],level:"0",Level:"5",collapseIcon:"fa fa-cog",expandIcon:"fa fa-cog"},viewModel:{},DialogVisible:!1}},destroyed:function(){this.$hub.$off("update-param-tree")},created:function(){this.paramCode=this.$route.params.param,this.isEditParam=null!=this.paramCode&&""!=this.paramCode,this.isEditParam||(this.paramCode="xSetting.Default"),this.ruleForm.name=this.paramCode,this.init()},mounted:function(){var t=this;this.$hub.$on("update-param-tree",function(e){t.paramCode=e,t.init()})},methods:{exportPara:function(t){var e=this;if(t){var a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="Setting.SearchSetting",a.R1_ParentId=t.value,a.R1_IncludedNestedSetParent=!0,this.$Utils.post(a).then(function(a){a=e.$Utils.getDataWithRoot(a.R1,"Data.DynamicDS.Setting");var i=new Blob([s()(a)],{type:"application/json"});e.saveAs(i,t.Name+".json")})}},saveAs:function(t,e){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,e);else{var a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e,a.click(),window.URL.revokeObjectURL(a.href)}},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$hub.$emit("update-param-tree",e.paramCode)})},manualUpdate:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="AG_Task_Task.Search",e.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",e.R1_RequestFields="Id;Targets;TargetsName",e.R2_RequestTemplate="Setting.SearchBase",e.R2_ParentCode="xSetting.Project.Parameter.Organization.Target",e.TotalRequests=2,this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.TasksDS.Task");a=a.filter(function(t){if(t.Targets&&""!=t.Targets)return t.TargetsName=t.Targets,t.Targets&&""!=t.Targets});var i=t.$Utils.getDataWithRoot(e.R2,"Data.DynamicDS.Setting");a.forEach(function(t){i.forEach(function(e){-1!=t.Targets.indexOf(e.Id)&&(t.TargetsName=t.TargetsName.replaceAll(e.Id,e.Name))})}),a.forEach(function(e){var a=t.$Lodash.cloneDeep(t.$singleRequest);a.R1_RequestTemplate="AG_Task_Task.Update",a.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",a.R1_Id=e.Id,a.R1_TargetsName=e.TargetsName,a.R1_RequestFields="Id;TargetsName"})})},resetForm:function(t){this.$refs[t].resetFields()},init:function(){var t=this,e=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_ParentCode:this.paramCode,R1_IncludedNestedSetParent:!0,SessionId:e};this.$Utils.post(a).then(function(e){var a=[];a=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");var i=t.$Utils.createCustomTreeFromList(a,"Id","ParentId","children",{Caption:"Name",Id:"value"},{type:"data-group",collapseIcon:"fa fa-plus-square-o",expandIcon:"fa fa-minus-square-o",icon:"icon-folder",unread:0,total:0,$foldClose:!0});t.$Utils.isEmpty(t.paramCode)&&""!=t.paramCode.trim()&&i.length>0?(t.treeData=i[0],t.treeData.$foldClose=!1):(t.treeData=t.$Lodash.cloneDeep(t.tempTree),t.treeData.children=i,t.treeData.$foldClose=!1)})},getSetting:function(){},consoleData:function(t){},changeState:function(t){this.$set(t,"$foldClose",!t.$foldClose)},changePosition:function(e){var a=this.$Lodash.cloneDeep(this.$singleRequest);if(a.R1_RequestTemplate="Setting.MoveNode",a.R1_Id=e.data.Id,e.afterParent.children&&e.afterParent.children.length>1){var i=0;t.each(e.afterParent.children,function(t,s){s.Id==e.data.Id&&t>0?(i=t-1,a.R1_ReferenceId=e.afterParent.children[i].Id,a.R1_NestedSetType="MoveToAfterAnother"):s.Id==e.data.Id&&0==t&&(i=1,a.R1_ReferenceId=e.afterParent.children[i].Id,a.R1_NestedSetType="MoveToBeforeAnother")})}else a.R1_ReferenceId=e.afterParent.Id,a.R1_NestedSetType="MoveToLastChildNode";this.$Utils.post(a).then(function(t){})},editPara:function(t){var e={data:t,radio:this.ruleForm.radio,loadData:this.init},a="40%";1!=this.ruleForm.radio&&(a="80%"),this.$hub.$emit("set-modal-data","Sửa tham số",a,!0,"center",l.a,!1,"",e)},addPara:function(t){var e={ParentId:t.Id},a={data:e,radio:this.ruleForm.radio,loadData:this.init},i="40%";1!=this.ruleForm.radio&&(i="80%"),this.$hub.$emit("set-modal-data","Thêm khối dữ liệu",i,!0,"center",l.a,!1,"",a)},copyPara:function(t){var e={data:t};this.$hub.$emit("set-modal-data","Thông tin Node đích","80%",!0,"center",r.a,!1,"",e)},copyToNewGroupPara:function(t){var e={data:t};this.$hub.$emit("set-modal-data","Thông tin Khối đích","80%",!0,"center",c.a,!1,"",e)},deletePara:function(t){var e=this;if(e.$Utils.isEmpty(t)){var a=e.$Lodash.cloneDeep(e.$singleRequest);a.R1_RequestTemplate="Setting.SearchBase",a.R1_ParentId=t.Id,a.R1_IncludedNestedSetParent=!0,e.$Utils.post(a).then(function(t){t=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting"),a=e.$Lodash.cloneDeep(e.$singleRequest);var i="";a.TotalRequests=0,t.forEach(function(t){a.TotalRequests++,a["R"+a.TotalRequests+"_RequestTemplate"]="SettingNew.Delete",a["R"+a.TotalRequests+"_Id"]=t.Id,i+=t.Id+";"}),a.TotalRequests>0&&e.$Utils.postCheckResult(a).then(function(){e.$Utils.showMessage("success",e.$toastMessage.deleteItemPre+e.$toastMessage.deleteItemSuf),e.$Utils.removeAllLink(i),e.init()})})}}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=a(761),s=a(762),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(16);e.a={props:["data"],components:{PermissionSelector:i.a},data:function(){return{model:this.$Lodash.cloneDeep(this.data.data),labelPosition:"right",Migrate:!1,value1:!0}},methods:{addPara:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.Update"};this.data.data.Id?1==this.Migrate&&(e.R1_RequestTemplate="Setting.MigrateSetting"):(e.R1_RequestTemplate="Setting.Insert",e.R1_NestedSetType="InsertLastChildNode",e.R1_ReferenceId=this.model.ParentId),e=this.$Utils.updateParamsSingleRequest(e,this.model),this.$Utils.post(e).then(function(e){t.data.loadData(),t.closeForm()})},closeForm:function(){this.$hub.$emit("close-modal")},openPermissionSelector:function(){this.$hub.$emit("set-modal-data","Cấp quyền","60%",!0,"center",i.a,!1,"",this.model.Id)}},mounted:function(){},created:function(){var t=this;if(this.model.Id){var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchSetting",R1_Id:this.model.Id};this.$Utils.postCheckResult(e).then(function(e){t.model=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0]})}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[1==t.data.radio?a("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"Tên"}},[a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mã"}},[a("el-input",{model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mầu"}},[a("el-color-picker",{model:{value:t.model.Color,callback:function(e){t.$set(t.model,"Color",e)},expression:"model.Color"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Giá trị"}},[a("el-input",{model:{value:t.model.Value,callback:function(e){t.$set(t.model,"Value",e)},expression:"model.Value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Tên hiển thị"}},[a("el-input",{model:{value:t.model.Caption,callback:function(e){t.$set(t.model,"Caption",e)},expression:"model.Caption"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"ID"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.model.Id,callback:function(e){t.$set(t.model,"Id",e)},expression:"model.Id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Mô tả"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.model.Description,callback:function(e){t.$set(t.model,"Description",e)},expression:"model.Description"}})],1),t._v(" "),t.model.Id?a("el-form-item",{attrs:{label:"Đồng  bộ dữ liệu"}},[a("el-switch",{model:{value:t.Migrate,callback:function(e){t.Migrate=e},expression:"Migrate"}})],1):t._e(),t._v(" "),a("el-form-item",[t.model.Id?a("el-button",{on:{click:function(e){t.openPermissionSelector()}}},[t._v("Phân quyền")]):t._e()],1),t._v(" "),a("el-form-item",[a("el-col",{attrs:{span:5}},[t._v(" ")]),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addPara()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.closeForm()}}},[t._v("Đóng")])],1),t._v(" "),a("el-col",{attrs:{span:5}},[t._v(" ")])],1)],1):a("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:8}},[a("label",[t._v("Tên")]),t._v(" "),a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",[t._v("Mã")]),t._v(" "),a("el-input",{model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",[t._v("Type")]),t._v(" "),a("el-input",{model:{value:t.model.DataType,callback:function(e){t.$set(t.model,"DataType",e)},expression:"model.DataType"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:8}},[a("label",[t._v("Library")]),t._v(" "),a("el-input",{model:{value:t.model.Library,callback:function(e){t.$set(t.model,"Library",e)},expression:"model.Library"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",[t._v("Class")]),t._v(" "),a("el-input",{model:{value:t.model.Class,callback:function(e){t.$set(t.model,"Class",e)},expression:"model.Class"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",[t._v("Action")]),t._v(" "),a("el-input",{model:{value:t.model.Action,callback:function(e){t.$set(t.model,"Action",e)},expression:"model.Action"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:8}},[a("label",[t._v("Conditions")]),t._v(" "),a("el-input",{model:{value:t.model.Conditions,callback:function(e){t.$set(t.model,"Conditions",e)},expression:"model.Conditions"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",[t._v("Statics")]),t._v(" "),a("el-input",{model:{value:t.model.Statics,callback:function(e){t.$set(t.model,"Statics",e)},expression:"model.Statics"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("label",[t._v("Structs")]),t._v(" "),a("el-input",{model:{value:t.model.Structs,callback:function(e){t.$set(t.model,"Structs",e)},expression:"model.Structs"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"Dynamics"}},[a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.model.Dynamics,callback:function(e){t.$set(t.model,"Dynamics",e)},expression:"model.Dynamics"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Orders")]),t._v(" "),a("el-input",{model:{value:t.model.Orders,callback:function(e){t.$set(t.model,"Orders",e)},expression:"model.Orders"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("Parameters")]),t._v(" "),a("el-input",{model:{value:t.model.Parameters,callback:function(e){t.$set(t.model,"Parameters",e)},expression:"model.Parameters"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("EncodedParameters")]),t._v(" "),a("el-input",{model:{value:t.model.EncodedParameters,callback:function(e){t.$set(t.model,"EncodedParameters",e)},expression:"model.EncodedParameters"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("Settings")]),t._v(" "),a("el-input",{model:{value:t.model.Settings,callback:function(e){t.$set(t.model,"Settings",e)},expression:"model.Settings"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addPara()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.closeForm()}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(764),s=a(765),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(16),s=a(7);e.a={props:["data"],components:{PermissionSelector:i.a},data:function(){return{model:{RequestUrl:"",SessionId:"",ReferenceId:"",Name:"",Code:"",RoleEveryOneId:"",KeepId:"",NewCode:"",NotParentSource:"",EveryoneLinked:""},viewModel:{}}},methods:{getTarget:function(){var t=this;t.model.ReferenceId="";var e="/xRequest.ashx"!==t.model.RequestUrl?t.model.RequestUrl:null,a=t.$Lodash.cloneDeep(t.$singleRequest);a.R1_RequestTemplate="Setting.SearchSetting",a.R1_Code=t.viewModel.Code,a.SessionId=t.model.SessionId,t.viewModel.Code&&""!==t.viewModel.Code?s.a.post(a,!0,e).then(function(e){e=s.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.model.ReferenceId=e[0].Id,t.$forceUpdate()}):s.a.showMessage("error","Chưa nhập Mã Node Gốc!")},save:function(){var t=this;t.$rootScope.RequestUrl=t.$Lodash.cloneDeep(t.model.RequestUrl),t.$rootScope.SessionId=t.$Lodash.cloneDeep(t.model.SessionId);var e=!0,a="";if([{Name:"ReferenceId",Message:"Id Node"},{Name:"RequestUrl",Message:"Link Request"}].forEach(function(i){(""===a&&""===t.model[i.Name]||void 0===t.model[i.Name])&&(e=!1,a=i.Message)}),e){var i="/xRequest.ashx"!==t.model.RequestUrl?t.model.RequestUrl:null,o=t.$Lodash.cloneDeep(t.$singleRequest);o.R1_RequestTemplate="Setting.SearchSetting",o.R1_Id=t.model.CurrentNodeId,o.R2_RequestTemplate="Setting.SearchSetting",o.R2_ParentId=t.model.CurrentNodeId,o.TotalRequests=2,s.a.post(o).then(function(e){if(e.success){var a=s.a.getDataWithRoot(e.R2,"Data.DynamicDS.Setting"),n=[{ParentId:t.model.CurrentNodeId}];if(t.model.NotParentSource)n[0].ReferenceId=t.model.ReferenceId,t.copyChildNodes(n,a,i);else{var l=s.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0];s.a.deleteAutoValue(l),""!==t.model.Name&&void 0!==t.model.Name&&(l.Name=t.model.Name),""!==t.model.Code&&void 0!==t.model.Code&&(l.Code=t.model.Code),t.model.NewCode&&void 0!==l.Code&&""!==l.Code&&(l.Code=l.Code.substring(0,l.Code.length-5)+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5)),void 0!==t.model.KeepId&&!1!==t.model.KeepId||delete l.Id,o=t.$Lodash.cloneDeep(t.$singleRequest),o.R1_RequestTemplate="Setting.Insert",o.R1_NestedSetType="InsertLastChildNode",o.R1_ReferenceId=t.model.ReferenceId,o.SessionId=t.model.SessionId,o=s.a.updateParamsSingleRequest(o,l),s.a.post(o,!0,i).then(function(e){e.success&&(n[0].ReferenceId=e.R1.Data,t.model.EveryoneLinked&&s.a.linkToRoleEveryone([{Id:e.R1.Data,Caption:l.Caption,Name:l.Name}],i,t.model.SessionId),t.copyChildNodes(n,a,i))})}}})}else s.a.showMessage("error",a+" chưa được nhập đầy đủ!")},copyChildNodes:function(e,a,i){var o=this,n=o.$Lodash.cloneDeep(o.$singleRequest),l=[];e.forEach(function(t){a.forEach(function(e){e.ParentId===t.ParentId&&(l.push({ParentId:e.Id,Caption:void 0!==e.Caption?e.Caption:"",Name:void 0!==e.Name?e.Name:""}),n["R"+n.TotalRequests+"_RequestTemplate"]="Setting.Insert",n["R"+n.TotalRequests+"_NestedSetType"]="InsertLastChildNode",n["R"+n.TotalRequests+"_ReferenceId"]=t.ReferenceId,void 0!==o.model.KeepId&&!1!==o.model.KeepId||delete e.Id,o.model.NewCode&&void 0!==e.Code&&""!==e.Code&&(e.Code=e.Code.substring(0,e.Code.length-5)+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5)),s.a.deleteAutoValue(e),n=s.a.updateParamsSingleRequest(n,e,n.TotalRequests),n.TotalRequests+=1)})}),n.SessionId=o.model.SessionId,1===n.TotalRequests?s.a.showMessage("success","Copy Node thành công"):(n.TotalRequests-=1,s.a.post(n,!0,i).then(function(e){e.success&&(t.each(l,function(t,a){a.ReferenceId=e["R"+(t+1)].Data,a.Id=a.ReferenceId}),o.model.EveryoneLinked&&s.a.linkToRoleEveryone(l,i,o.model.SessionId),o.copyChildNodes(l,a,i))}))},cancel:function(){this.$hub.$emit("close-modal")},init:function(){var t=this;t.model={RequestUrl:"/xRequest.ashx",CurrentNodeId:this.data.data.Id,SessionId:t.$getItemLocalStorage(t.$localStorageConstant.SessionId),RoleEveryOneId:t.$roleEveryoneId,EveryoneLinked:!0},t.$rootScope.RequestUrl&&""!==t.$rootScope.RequestUrl&&(t.model.RequestUrl=t.$Lodash.cloneDeep(t.$rootScope.RequestUrl)),t.$rootScope.SessionId&&""!==t.$rootScope.SessionId&&(t.model.SessionId=t.$Lodash.cloneDeep(t.$rootScope.SessionId))}},mounted:function(){},created:function(){this.init()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[a("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Link Request")]),t._v(" "),a("el-input",{model:{value:t.model.RequestUrl,callback:function(e){t.$set(t.model,"RequestUrl",e)},expression:"model.RequestUrl"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("SessionId")]),t._v(" "),a("el-input",{model:{value:t.model.SessionId,callback:function(e){t.$set(t.model,"SessionId",e)},expression:"model.SessionId"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Mã Node Gốc")]),t._v(" "),a("el-input",{model:{value:t.viewModel.Code,callback:function(e){t.$set(t.viewModel,"Code",e)},expression:"viewModel.Code"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("    ")]),t._v(" "),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getTarget()}}},[t._v("Get Id")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Id Node Đích")]),t._v(" "),a("el-input",{model:{value:t.model.ReferenceId,callback:function(e){t.$set(t.model,"ReferenceId",e)},expression:"model.ReferenceId"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("Tên Node Mới")]),t._v(" "),a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Mã Node Mới")]),t._v(" "),a("el-input",{model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("Role Everyone")]),t._v(" "),a("el-input",{model:{value:t.model.RoleEveryOneId,callback:function(e){t.$set(t.model,"RoleEveryOneId",e)},expression:"model.RoleEveryOneId"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[a("label",[t._v("Giữ Id")]),t._v(" "),a("el-checkbox",{model:{value:t.model.KeepId,callback:function(e){t.$set(t.model,"KeepId",e)},expression:"model.KeepId"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",[t._v("Sinh mã mới")]),t._v(" "),a("el-checkbox",{model:{value:t.model.NewCode,callback:function(e){t.$set(t.model,"NewCode",e)},expression:"model.NewCode"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",[t._v("Không lấy Node cha nguồn")]),t._v(" "),a("el-checkbox",{model:{value:t.model.NotParentSource,callback:function(e){t.$set(t.model,"NotParentSource",e)},expression:"model.NotParentSource"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",[t._v("Thêm phân quyền Everyone")]),t._v(" "),a("el-checkbox",{model:{value:t.model.EveryoneLinked,callback:function(e){t.$set(t.model,"EveryoneLinked",e)},expression:"model.EveryoneLinked"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.cancel()}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(767),s=a(768),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(16),s=a(7);e.a={props:["data"],components:{PermissionSelector:i.a},data:function(){return{model:{RequestUrl:"",SessionId:"",ReferenceId:"",Name:"",Code:"",RoleEveryOneId:"",KeepId:"",NewCode:"",NotParentSource:"",EveryoneLinked:""},viewModel:{}}},methods:{getTarget:function(){console.log(this.viewModel.Code);var t=this;t.model.ReferenceId="";var e=("/xRequest.ashx"!=t.model.RequestUrl&&t.model.RequestUrl,t.$Lodash.cloneDeep(t.$singleRequest));e.R1_RequestTemplate="Setting.SearchSetting",e.R1_Code=t.viewModel.Code,e.SessionId=t.model.SessionId,t.viewModel.Code&&""!=t.viewModel.Code?s.a.post(e).then(function(e){e=s.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.model.ReferenceId=e[0].Id,t.$forceUpdate()}):s.a.showMessage("error","Chưa nhập Mã Node Gốc!")},save:function(){var t=this;t.$rootScope.RequestUrl=t.$Lodash.cloneDeep(t.model.RequestUrl),t.$rootScope.SessionId=t.$Lodash.cloneDeep(t.model.SessionId);var e=!0,a="";if([{Name:"ReferenceId",Message:"Id Node"},{Name:"RequestUrl",Message:"Link Request"}].forEach(function(i){(""==a&&""==t.model[i.Name]||void 0==t.model[i.Name])&&(e=!1,a=i.Message)}),e){var i="/xRequest.ashx"!=t.model.RequestUrl?t.model.RequestUrl:null,o=t.$Lodash.cloneDeep(t.$singleRequest);o.R1_RequestTemplate="Setting.SearchSetting",o.R1_Id=t.model.CurrentNodeId,o.R2_RequestTemplate="Setting.SearchSetting",o.R2_ParentId=t.model.CurrentNodeId,o.TotalRequests=2,s.a.post(o).then(function(e){if(console.log(e),e.success){var a=s.a.getDataWithRoot(e.R2,"Data.DynamicDS.Setting"),n=[{ParentId:t.model.CurrentNodeId}];if(!t.model.NotParentSource){var l=s.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0];return s.a.deleteAutoValue(l),""!=t.model.Name&&void 0!=t.model.Name&&(l.Name=t.model.Name),""!=t.model.Code&&void 0!=t.model.Code&&(l.Code=t.model.Code),t.model.NewCode&&void 0!=l.Code&&""!=l.Code&&(l.Code=l.Code.substring(0,l.Code.length-5)+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5)),void 0!=t.model.KeepId&&0!=t.model.KeepId||delete l.Id,o=t.$Lodash.cloneDeep(t.$singleRequest),o.R1_RequestTemplate="Setting.Insert",o.R1_ReferenceId=t.model.ReferenceId,o.SessionId=t.model.SessionId,o=s.a.updateParamsSingleRequest(o,l),void console.log(o)}n[0].ReferenceId=t.model.ReferenceId,t.copyChildNodes(n,a,i)}})}else s.a.showMessage("error",a+" chưa được nhập đầy đủ!")},copyChildNodes:function(e,a,i){var o=this,n=o.$Lodash.cloneDeep(o.$singleRequest),l=[];e.forEach(function(t){a.forEach(function(e){e.ParentId==t.ParentId&&(l.push({ParentId:e.Id,Caption:void 0!=e.Caption?e.Caption:"",Name:void 0!=e.Name?e.Name:""}),o.model.Code&&void 0!=o.model.Code&&""!=e.Code&&(n["R"+n.TotalRequests+"_RequestTemplate"]="xDocument_Document.Insert",n["R"+n.TotalRequests+"_RequestDataGroup"]="DataGroup.campaign.0d1gf",n["R"+n.TotalRequests+"_Code"]=o.model.Code,n["R"+n.TotalRequests+"_RequestFields"]="Id;Code;Name;Description;DisplayDate;ExpiredDate;StatusName;Status;Created;StatusName",void 0!=o.model.KeepId&&0!=o.model.KeepId||delete e.Id,o.model.NewCode&&void 0!=e.Code&&""!=e.Code&&(e.Code=e.Code.substring(0,e.Code.length-5)+Math.random().toString(18).replace(/[^a-zA-Z0-9]+/g,"").substr(0,5)),s.a.deleteAutoValue(e),n=s.a.updateParamsSingleRequest(n,e,n.TotalRequests),n.TotalRequests+=1))})}),n.SessionId=o.model.SessionId,1==n.TotalRequests?s.a.showMessage("success","Copy Node thành công"):(n.TotalRequests-=1,console.log(n),s.a.postCheckResult(n,!0,i).then(function(e){e.success&&(t.each(l,function(t,a){a.ReferenceId=e["R"+(t+1)].Data,a.Id=a.ReferenceId}),o.model.EveryoneLinked&&s.a.linkToRoleEveryone(l,i,o.model.SessionId),o.copyChildNodes(l,a,i))}))},cancel:function(){this.$hub.$emit("close-modal")},init:function(){var t=this;t.model={RequestUrl:"/xRequest.ashx",CurrentNodeId:this.data.data.Id,SessionId:t.$getItemLocalStorage(t.$localStorageConstant.SessionId),RoleEveryOneId:t.$roleEveryoneId,EveryoneLinked:!0,KeepId:!0,NotParentSource:!0,ReferenceId:this.data.data.Id},t.$rootScope.RequestUrl&&""!=t.$rootScope.RequestUrl&&(t.model.RequestUrl=t.$Lodash.cloneDeep(t.$rootScope.RequestUrl)),t.$rootScope.SessionId&&""!=t.$rootScope.SessionId&&(t.model.SessionId=t.$Lodash.cloneDeep(t.$rootScope.SessionId)),t.viewModel.Code=this.data.data.Code}},mounted:function(){},created:function(){this.init()}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[a("el-form",{attrs:{"label-position":"top","label-width":"100px"}},[a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Link Request")]),t._v(" "),a("el-input",{model:{value:t.model.RequestUrl,callback:function(e){t.$set(t.model,"RequestUrl",e)},expression:"model.RequestUrl"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("SessionId")]),t._v(" "),a("el-input",{model:{value:t.model.SessionId,callback:function(e){t.$set(t.model,"SessionId",e)},expression:"model.SessionId"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Mã Node Gốc")]),t._v(" "),a("el-input",{model:{value:t.viewModel.Code,callback:function(e){t.$set(t.viewModel,"Code",e)},expression:"viewModel.Code"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("    ")]),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getTarget()}}},[t._v("Get Id")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Id Node Đích")]),t._v(" "),a("el-input",{model:{value:t.model.ReferenceId,callback:function(e){t.$set(t.model,"ReferenceId",e)},expression:"model.ReferenceId"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("Tên Node Mới")]),t._v(" "),a("el-input",{model:{value:t.model.Name,callback:function(e){t.$set(t.model,"Name",e)},expression:"model.Name"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}}),t._v(" "),a("label",[t._v("RequestTemplate ")]),t._v(" "),a("el-input",{attrs:{placeholder:"xDocument_Document.Insert"},model:{value:t.model.RequestTemplate,callback:function(e){t.$set(t.model,"RequestTemplate",e)},expression:"model.RequestTemplate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}}),t._v(" "),a("label",[t._v("RequestDataGroup ")]),t._v(" "),a("el-input",{attrs:{placeholder:"DataGroup.campaign.0d1gf"},model:{value:t.model.RequestDataGroup,callback:function(e){t.$set(t.model,"RequestDataGroup",e)},expression:"model.RequestDataGroup"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:12}},[a("label",[t._v("Mã Node Mới")]),t._v(" "),a("el-input",{attrs:{placeholder:"Campaign"},model:{value:t.model.Code,callback:function(e){t.$set(t.model,"Code",e)},expression:"model.Code"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("label",[t._v("Role Everyone")]),t._v(" "),a("el-input",{model:{value:t.model.RoleEveryOneId,callback:function(e){t.$set(t.model,"RoleEveryOneId",e)},expression:"model.RoleEveryOneId"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-col",{attrs:{span:6}},[a("label",[t._v("Giữ Id")]),t._v(" "),a("el-checkbox",{model:{value:t.model.KeepId,callback:function(e){t.$set(t.model,"KeepId",e)},expression:"model.KeepId"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",[t._v("Sinh mã mới")]),t._v(" "),a("el-checkbox",{model:{value:t.model.NewCode,callback:function(e){t.$set(t.model,"NewCode",e)},expression:"model.NewCode"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",[t._v("Không lấy Node cha nguồn")]),t._v(" "),a("el-checkbox",{model:{value:t.model.NotParentSource,callback:function(e){t.$set(t.model,"NotParentSource",e)},expression:"model.NotParentSource"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("label",[t._v("Thêm phân quyền Everyone")]),t._v(" "),a("el-checkbox",{model:{value:t.model.EveryoneLinked,callback:function(e){t.$set(t.model,"EveryoneLinked",e)},expression:"model.EveryoneLinked"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save()}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.cancel()}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,rules:t.rules,model:t.ruleForm}},[a("el-form-item",{attrs:{label:"Mã",prop:"name"}},[a("el-input",{attrs:{size:"medium",placeholder:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submitForm("ruleForm")}},model:{value:t.paramCode,callback:function(e){t.paramCode=e},expression:"paramCode"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-radio-group",{model:{value:t.ruleForm.radio,callback:function(e){t.$set(t.ruleForm,"radio",e)},expression:"ruleForm.radio"}},[a("el-radio",{attrs:{label:1}},[t._v("Mặc định")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("Request")])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("Tìm kiếm")])],1)],1),t._v(" "),a("div",{staticClass:"project-categories"},[a("b-card",[a("sortable-tree",{attrs:{data:t.treeData,mixinParentKey:"$parent",dragEnable:!0,closeStateKey:"$foldClose"},on:{changePosition:t.changePosition},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("div",{staticClass:"custom-tree-content",class:{exitChild:i.children&&i.children.length}},[i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.collapseIcon})]):!i.$foldClose&&i.children&&i.children.length?a("span",{on:{click:function(e){t.changeState(i)}}},[a("i",{class:i.expandIcon})]):t._e(),t._v(" "),a("span",{staticClass:"mr-3"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.changeState(i)}}},[t._v(t._s(i.Name))])]),"0"!=i.level?a("span",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addPara(i)}}},[a("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})]),t._v(" |\n                  "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.editPara(i)}}},[a("i",{staticClass:"el-icon-edit",attrs:{"aria-hidden":"true"}})]),t._v(" |\n                  "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.exportPara(i)}}},[a("i",{staticClass:"el-icon-download",attrs:{"aria-hidden":"true"}})]),t._v(" |\n                  "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.copyPara(i)}}},[a("i",{staticClass:"fa fa-copy",attrs:{"aria-hidden":"true"}})]),t._v(" |\n                  "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.copyToNewGroupPara(i)}}},[a("i",{staticClass:"fa fa-object-ungroup",attrs:{"aria-hidden":"true"}})]),t._v(" |\n                  "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.deletePara(i)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})])]):t._e()])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"Xóa",visible:t.DialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.DialogVisible=e}}},[a("span",[t._v("Bạn có chắc muốn xóa không ?")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.DialogVisible=!1}}},[t._v("Lưu")]),t._v(" "),a("el-button",{on:{click:function(e){t.DialogVisible=!1}}},[t._v("Đóng")])],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(771),s=a(783),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";function i(t){for(var e=new ArrayBuffer(t.length),a=new Uint8Array(e),i=0;i!=t.length;++i)a[i]=255&t.charCodeAt(i);return e}var s=a(772),o=a(775),n="undefined"!=typeof XLSX?XLSX:o;e.a={components:{ImportForm:s.a},data:function(){return{data:["SheetJS".split(""),"1234567".split("")],isShowSheetTbl:!0,isShowDataSheetTbl:!1,SheetJSFT:["xlsx","xlsb","xlsm","xls","xml","csv","txt","ods","fods","uos","sylk","dif","dbf","prn","qpw","123","wb*","wq*","html","htm"].map(function(t){return"."+t}).join(","),fileReader:{},sheets:[],openedSheetData:[],communication:{action:"",item:{},index:"",scope:this},model:{listSheets:[]}}},mounted:function(){},methods:{_reload:function(){this.$router.go(this.$router.currentRoute)},_suppress:function(t){t.stopPropagation(),t.preventDefault()},_drop:function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files;e&&e[0]&&this._file(e[0])},_change:function(t){var e=t.target.files;e&&e[0]&&this._file(e[0])},_export:function(t){var e=n.utils.aoa_to_sheet(this.data),a=n.utils.book_new();n.utils.book_append_sheet(a,e,"SheetJS");var s=n.write(a,{type:"binary",bookType:"xlsx"});saveAs(new Blob([i(s)],{type:"application/octet-stream"}),"sheetjs.xlsx")},_file:function(t){var e=this,a=new FileReader;a.onload=function(t){e.model.listSheets=[];var a=t.target.result;e.fileReader=n.read(a,{type:"binary"}),e.fileReader.SheetNames.forEach(function(t){var a=n.utils.sheet_to_row_object_array(e.fileReader.Sheets[t]);void 0!=a&&a.Rows.length>0&&(a.Name=t,a.isImported=!1,e.model.listSheets.push(a))})},a.readAsBinaryString(t)},showPreview:function(t){var e=this;e.isShowSheetTbl=!1,e.isShowDataSheetTbl=!0;var a=document.getElementById("htmlPreview"),i=n.write(e.fileReader,{sheet:t.sheetName,type:"binary",bookType:"html"});a.innerHTML+=i},executeSheet:function(t,e,a,i){var o=this;o.communication.action=e,o.communication.scope=o,"edit"==e&&(o.communication.item=a,o.communication.index=i),this.$hub.$emit("set-modal-data","Import exel","60%",!0,"center",s.a,!0,"",o.communication,!1)},fixdata:function(t){for(var e="",a=0,i=10240;a<t.byteLength/i;++a)e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*i,a*i+i)));return e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(a*i)))},ab2str:function(t){for(var e="",a=0,i=10240;a<t.byteLength/i;++a)e+=String.fromCharCode.apply(null,new Uint16Array(t.slice(a*i,a*i+i)));return e+=String.fromCharCode.apply(null,new Uint16Array(t.slice(a*i)))},s2ab:function(t){for(var e=new ArrayBuffer(2*t.length),a=new Uint16Array(e),i=0;i!=t.length;++i)a[i]=t.charCodeAt(i);return[a,e]},xw_noxfer:function(t,e){var a=new Worker(XW.noxfer);a.onmessage=function(t){switch(t.data.t){case"ready":break;case"e":console.error(t.data.d);break;case XW.msg:e(JSON.parse(t.data.d))}};var i=rABS?t:btoa(fixdata(t));a.postMessage({d:i,b:rABS})},xw_xfer:function(t,e){var a=new Worker(rABS?XW.rABS:XW.norABS);if(a.onmessage=function(t){switch(t.data.t){case"ready":break;case"e":console.error(t.data.d);break;default:xx=ab2str(t.data).replace(/\n/g,"\\n").replace(/\r/g,"\\r"),e(JSON.parse(xx))}},rABS){var s=i(t);a.postMessage(s[1],[s[1]])}else a.postMessage(t,[t])},xw:function(t,e){transferable=document.getElementsByName("xferable")[0].checked,transferable?xw_xfer(t,e):xw_noxfer(t,e)},to_json:function(t){t.SheetNames.forEach(function(e){var a=n.utils.sheet_to_row_object_array(t.Sheets[e]);void 0!=a.Rows&&a.Rows.length>0&&(a.Name=e,a.isImported=!1,ctrl.model.listSheets.push(a))})},process_wb:function(t){$timeout(function(){to_json(t)})},handleFile:function(t){rABS=document.getElementsByName("userabs")[0].checked,use_worker=document.getElementsByName("useworker")[0].checked;var e=t.target.files,a=e[0],i=new FileReader;a.name;i.onload=function(t){ctrl.model={listSheets:[],listData:{}};var e=t.target.result;if(use_worker)xw(e,process_wb);else{var a;if(rABS)a=n.read(e,{type:"binary"});else{var i=fixdata(e);a=n.read(btoa(i),{type:"base64"})}process_wb(a)}},rABS?i.readAsBinaryString(a):i.readAsArrayBuffer(a)},init:function(){ctrl.dtOptions={paging:!1,searching:!1,autoWidth:!1,showNEntries:!1,responsive:!0},ctrl.communication={action:"",item:{},index:"",scope:ctrl},ctrl.model={listSheets:[]};var t=document.getElementById("xlf");t.addEventListener&&t.addEventListener("change",handleFile,!1)}}}},function(t,e,a){"use strict";var i=a(773),s=a(774),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(7),n=a(3);n.default.use(a(273)),n.default.use(a(40)),e.a={props:["data"],data:function(){return{importedCount:0,activeNames:["1","2","3"],viewModel:{DataGroup:{source:[],allowDrag:!1,allowDrop:!1,select:function(t){ctrl.onSelectDataGroup(t)}},listFields:[],ListDataGroups:[],listLogs:[],Parameters:[],listPermissions:[],listDependencies:[],listRequestFields:[],Convert:{listColumns:[],listRows:[],listError:[]},Loop:0,NumberRequestPerTime:5,ValueMap:{},DisplayMap:{},Dupplicate:{listData:[],Caption:"",Name:"",listServerData:[]},ListForms:[]},communication:{action:"",item:{},index:"",scope:this},listfield:[],objfield:{},treeDataGroup:[],selectedDataGroup:{},DataGroup:[],InputForm:"",model:{isConverted:!1,Rows:[],Columns:[]},dtOptions:{paging:!1,searching:!1,autoWidth:!1,showNEntries:!1,responsive:!0}}},methods:{clearRadio:function(){this.viewModel.Dupplicate.Column="1-"},bindDataGroupSource:function(){var e=this,a=this,i=this.$Lodash.cloneDeep(this.$singleRequest);i.R1_RequestTemplate="SettingNew.SearchSetting",i.R1_ParentCode="xSetting.Project.DataGroup",o.a.post(i).then(function(i){i=o.a.getDataWithRoot(i.R1,"Data.DynamicDS.Setting"),a.viewModel.ListDataGroups=e.$Lodash.cloneDeep(i),t.each(a.viewModel.ListDataGroups,function(t,e){e.Description=e.Description&&e.Description.constructor===String?JSON.parse(e.Description):e.Description,e.Fields="";for(var a=1;a<=e.Description.FCount;a++)void 0!=e["F"+a]&&(e.Fields+=e["F"+a],delete e["F"+a]);try{e.Fields=e.Fields&&""!=e.Fields&&e.Fields.constructor===String?JSON.parse(e.Fields):[]}catch(t){console.error(t)}}),a.treeDataGroup=o.a.createCustomTreeFromList(a.viewModel.ListDataGroups,"Id","ParentId","children",{Caption:"label",Id:"value"},{})})},bindInputForm:function(e){var a=this,i=this;if(void 0!=e){var s=this.$Lodash.cloneDeep(this.$singleRequest);s.R1_RequestTemplate="SettingNew.SearchSetting",s.R1_ParentCode="xSetting.Project.Form",s.R1_Name=e.Code,o.a.post(s).then(function(e){e=o.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),a.$set(i.viewModel,"ListForms",e),t.each(i.viewModel.ListForms,function(t,e){e.Description=JSON.parse(e.Description)})})}else o.a.showMessage("error","Khối dữ liệu chưa được chọn!")},onSelectDataGroup:function(e){var a=this,i=this,s=e[e.length-1];t.each(i.viewModel.ListDataGroups,function(t,e){e.Id===s&&(a.selectedDataGroup=e)});var n=this.selectedDataGroup.Fields;i.viewModel.savedMap={};var l=this.$Lodash.cloneDeep(this.$singleRequest);l.R1_RequestTemplate="Setting.SearchSetting",l.R1_Name=this.selectedDataGroup.Code,l.R1_ParentCode="xSetting.Project.Import",i.bindInputForm(this.selectedDataGroup),o.a.postCheckResult(l).then(function(e){if(i.viewModel.savedMap=o.a.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),i.listfield=[],i.objfield={},i.viewModel.listFields=[],t.each(n,function(e,s){i.listfield.push(s.Name),i.objfield[s.Name]=s,t.each(i.model.Columns,function(t,e){i.$Lodash.cloneDeep(e).trim()===s.Caption&&a.$set(i.viewModel.ValueMap,e,s)})}),t.each(i.listfield,function(t,e){i.viewModel.listFields.push(i.objfield[e])}),i.viewModel.savedMap.length>0&&void 0!==i.viewModel.savedMap[0].MapFields){var s=JSON.parse(i.viewModel.savedMap[0].MapFields);t.each(s,function(e,s){t.each(i.model.Columns,function(e,o){o===s.Caption&&t.each(n,function(t,e){e.Name===s.DisplayMap&&a.$set(i.viewModel.DisplayMap,o,e),e.Name===s.ValueMap&&a.$set(i.viewModel.ValueMap,o,e)})})})}})},depend:function(t,e){var a=this;["Select","Multi","Radio","CombineData","DataInside"].indexOf(t.FormElementType)>-1&&o.a.isEmpty(a.objfield[t.Name+"Name"])&&!o.a.isEmpty(t.FormSourceData)&&this.$set(a.viewModel.DisplayMap,e,a.objfield[t.Name+"Name"])},showConfirm:function(e){var a=this;this.$Utils.showConfirm("Cảnh báo","Xóa toàn bộ dữ liệu trong bảng dữ liệu này!").then(function(){var i=a.$Lodash.cloneDeep(a.$singleRequest);i.R1_RequestTemplate=e.Description.DataSource+".Search",i.R1_RequestDataGroup=e.Code,""!=e.Description.AdditionConditions&&void 0!=e.Description.AdditionConditions&&t.each(o.a.stringToArray(e.Description.AdditionConditions)[0],function(t,e){i["R1_"+t]=e}),o.a.post(i).then(function(s){s=o.a.getDataWithRoot(s.R1,e.Description.RootData),i=a.$Lodash.cloneDeep(a.$singleRequest),t.each(s,function(t,a){i["R"+(t+1)+"_RequestTemplate"]=e.Description.DataSource+".Delete",i["R"+(t+1)+"_Id"]=a.Id,i["R"+(t+1)+"_DeleteReferenceData"]=a.Id,i.TotalRequests=t+1}),o.a.post(i).then(function(t){t.success?o.a.showMessage("success",a.$toastMessage.updateItemPre+a.$toastMessage.updateItemSuf):o.a.showMessage("error",a.$toastMessage.updateItemFailed)})})}).catch(function(){})},cancel:function(){this.$hub.$emit("close-modal")},prepareConvert:function(t){var e=this,a="",i=!0;if(null==t&&(i=!1,a="Khối dữ liệu"),""!=e.InputForm&&void 0!=e.InputForm||(i=!1,a="Form nhập"),i){var s=this.$Lodash.cloneDeep(this.$singleRequest);s.R1_RequestTemplate="SettingNew.SearchSetting",s.R1_Code=e.InputForm,o.a.isEmpty(e.InputForm)?o.a.post(s).then(function(a){a=o.a.getDataWithRoot(a.R1,"Data.DynamicDS.Setting")[0],a.Description&&a.Description.constructor===String&&(a.Description=JSON.parse(a.Description)),e.viewModel.listDependencies=a.Description.Dependencies,e.viewModel.listPermissions=a.Description.Permissions,e.convert(t)}):e.convert(t)}else o.a.showMessage("error",a+" chưa được nhập đầy đủ!")},convert:function(e){var i=this,n=a(273),l=this;l.model.isConverted=!1,l.viewModel.listRequestFields=[],l.viewModel.Convert={listColumns:[],listRows:[],listError:[],listView:[]},l.viewModel.Parameters=[],l.viewModel.Dupplicate.listData=[],l.viewModel.Dupplicate.listServerData=[];var r=[],c=this.$Lodash.cloneDeep(this.$singleRequest);t.each(l.model.Columns,function(e,a){var i=l.viewModel.ValueMap[a],s=l.viewModel.DisplayMap[a];if(void 0!==i){var n={Caption:a,ValueMap:i.Name,FieldColumnType:i.FieldColumnType,FormElementType:i.FormElementType,FormExpression:i.FormExpression,DynamicText:i.DynamicText,FormSourceData:i.FormSourceData};if(void 0!==s&&(n.DisplayMap=void 0!==s.Name?s.Name:n.ValueMap+"Name"),void 0!==i.FormSavedKey&&""!==i.FormSavedKey&&(n.FormSavedKey=i.FormSavedKey.replace("{{","").replace("}}","")),void 0!==i.FormSavedText&&""!==i.FormSavedText&&(n.FormSavedText=i.FormSavedText.replace("{{","").replace("}}","")),void 0!==i.FormExpression&&""!==i.FormExpression&&(n.FormExpression=i.FormExpression),void 0!==i.FormImport&&""!==i.FormImport&&(n.FormImport=i.FormImport),void 0!==i.DynamicText&&""!==i.DynamicText&&(n.DynamicText=i.DynamicText),void 0!==i.FormSourceData&&""!==i.FormSourceData&&(n.FormSourceData=i.FormSourceData),void 0!==i.FormDataRoot&&""!==i.FormDataRoot?n.FormDataRoot="Data"===i.FormDataRoot?"Data.DynamicDS.Setting":i.FormDataRoot:n.FormDataRoot="Data.DynamicDS.Setting",void 0!==n.FormExpression){var d=n.FormExpression.replace("{{","").replace("}}","").split(".");d.length>1&&(t.each(l.viewModel.listFields,function(e,a){if(a.Name===d[0]){var i=a.FormCode;c["R"+c.TotalRequests+"_RequestTemplate"]="Setting.SearchSettingTree"===a.FormRequest?"Setting.SearchSetting":a.FormRequest,t.each(o.a.stringToArray(i)[0],function(t,e){c["R"+c.TotalRequests+"_"+t]=e}),c.TotalRequests++,n.ValueMap=d[1],n.ValueCompare=a.FormSavedText,r.push({Name:n.ValueMap,RootData:void 0!==a.FormDataRoot&&""!==a.FormDataRoot?a.FormDataRoot:"Data.DynamicDS.Setting"})}}),t.each(l.viewModel.listFields,function(t,e){if(("CombineData"===e.FormElementType||"DataInside"===e.FormElementType)&&void 0!==e.FormExpression&&""!==e.FormExpression&&e.FormExpression.split("}}")<=2){var a=e.FormExpression.replace("{{","").replace("}}","").split(".");-1!==a.indexOf(d[0])&&n.ValueMap!==a[1]&&(n.DisplayMap=a[1],n.ValueCompare=i.Name)}}))}if(["Select","Multi","Radio"].indexOf(i.FormElementType)>=0&&!o.a.isEmpty(i.FormSourceData)){var u=!1,m=!1;if(t.each(l.viewModel.listDependencies,function(t,e){e.Source===n.ValueMap&&(u=!0),e.Target===n.ValueMap&&o.a.isEmpty(i.FormCode)&&i.FormCode.indexOf("ParentId=Id")>=0&&(m=!0,n.Source=e.Source,n.TargetKey=e.TargetKey)}),!m){var p="";""!==i.FormCode&&void 0!==i.FormCode&&(p=i.FormCode,""!==i.FormFullCode&&void 0!==i.FormFullCode&&(p=i.FormFullCode),c["R"+c.TotalRequests+"_RequestTemplate"]="Setting.SearchBaseTree"===i.FormRequest?"Setting.SearchSetting":"Setting.SearchSettingTree"===i.FormRequest?"Setting.SearchSetting":"Setting.SearchBase"===i.FormRequest?"Setting.SearchSetting":i.FormRequest,t.each(o.a.stringToArray(p)[0],function(t,e){o.a.isEmpty(e)&&""!==e?c["R"+c.TotalRequests+"_"+t]=e:(delete c["R"+c.TotalRequests+"_RequestTemplate"],c.TotalRequests--)}),u&&(n.Level=c["R"+c.TotalRequests+"_Level"],delete c["R"+c.TotalRequests+"_Level"]),c.TotalRequests++,r.push({Name:i.Name,RootData:n.FormDataRoot}))}}l.viewModel.Convert.listColumns.push(n)}}),c.TotalRequests--,o.a.post(c).then(function(a){if(a.success||0===c.TotalRequests){for(var d=1;d<=parseInt(c.TotalRequests);d++)a["R"+d].success&&(r[d-1].Data=o.a.getDataWithRoot(a["R"+d],r[d-1].RootData));t.each(l.viewModel.Convert.listColumns,function(e,a){t.each(r,function(t,e){a.ValueMap===e.Name&&(a.Parameters=e.Data),a.Source===e.Name&&(a.Parameters=e.Data)})}),t.each(l.viewModel.Convert.listColumns,function(e,a){void 0!==a.Source&&void 0===a.Parameters&&t.each(l.viewModel.Convert.listColumns,function(t,e){a.Source===e.ValueMap&&(a.Parameters=e.Parameters)})});var u=!0;if(t.each(l.model.Rows,function(e,a){var i={listErrors:[]};if(t.each(l.viewModel.Convert.listColumns,function(s,r){var c=a[r.Caption];if(c&&(c=c.trim()),l.viewModel.Dupplicate.Column===r.Caption&&(l.viewModel.Dupplicate.Name=r.ValueMap,-1===l.viewModel.Dupplicate.listData.indexOf(c)?l.viewModel.Dupplicate.listData.push(c):(i.Index=e+1,i.listErrors.push({Caption:"Kiểm tra trùng",Message:c+" bị trùng"}))),void 0===c)"Double"!==r.FieldColumnType&&"Integer"!==r.FieldColumnType&&"Float"!==r.FieldColumnType||(i[r.ValueMap]=void 0,l.bindRequestFields(r.ValueMap));else{if("DateTime"===r.FieldColumnType||"Date"===r.FieldColumnType?"Invalid Date"!==new Date(c)?i[r.ValueMap]=l.$Utils.formatDateTime(new Date(c)):(i.Index=e+1,i.listErrors.push({Caption:r.Caption,Message:"Format ngày tháng sai, đặt lại theo định dạng MM/DD/YYYY"})):"Double"===r.FieldColumnType||"Integer"===r.FieldColumnType?"0"==c?i[r.ValueMap]=0:""!==c&&(0!==n(c).value()?i[r.ValueMap]=n(c).value():(i.Index=e+1,i.listErrors.push({Caption:r.Caption,Message:"Format số sai"}))):i[r.ValueMap]=c,l.bindRequestFields(r.ValueMap),["Select","Multi","Radio"].indexOf(r.FormElementType)>=0&&!o.a.isEmpty(r.FormSourceData)){var d=!1,u=void 0!==r.FormSavedKey?r.FormSavedKey:"Id",m=void 0!==r.FormSavedText?r.FormSavedText:"Name";void 0!==r.Source?t.each(r.Parameters,function(t,e){e[m]===c&&e[r.TargetKey]===i[r.Source]&&(d=!0,i[r.ValueMap]=e[u],o.a.isEmpty(r.DisplayMap)?i[r.DisplayMap]=e[m]:i[r.DynamicText]=e[m])}):t.each(r.Parameters,function(t,e){void 0!==r.Level?e[m]===c&&e.Level===r.Level&&(d=!0,i[r.ValueMap]=e[u],o.a.isEmpty(r.DisplayMap)?i[r.DisplayMap]=e[m]:i[r.DynamicText]=e[m]):e[m]===c&&(d=!0,void 0!==r.FormImport?(i[r.FormImport]=e[u],l.bindRequestFields(r.FormImport)):i[r.ValueMap]=e[u],o.a.isEmpty(r.DisplayMap)?i[r.DisplayMap]=e[m]:i[r.DynamicText]=e[m])}),o.a.isEmpty(r.DisplayMap)?l.bindRequestFields(r.DisplayMap):l.bindRequestFields(r.DynamicText),d||(i.Index=e+1,i.listErrors.push({Caption:r.Caption,Message:"Dữ liệu không tồn tại trong bảng tham số"}))}if(void 0!==r.FormExpression&&void 0!==r.DisplayMap){var d=!1,p="";t.each(l.viewModel.Convert.listColumns,function(t,e){-1!==e.ValueMap.indexOf(r.ValueCompare)&&(p=e.Caption)}),t.each(r.Parameters,function(t,e){void 0!==r.FormExpression&&""!==r.FormExpression&&o.a.isEmpty(r.DisplayMap)?e[r.ValueCompare+"Name"]===a[p]&&(d=!0,i[r.ValueMap]=e[r.ValueMap],o.a.isEmpty(r.DisplayMap)?i[r.DisplayMap]=e[r.ValueMap+"Name"]:i[r.DynamicText]=e[r.ValueMap+"Name"],l.bindRequestFields(r.ValueMap),o.a.isEmpty(r.DisplayMap)?l.bindRequestFields(r.DisplayMap):l.bindRequestFields(r.DynamicText)):e[r.ValueCompare]===a[p]&&(d=!0,i[r.ValueMap]=e[r.ValueMap],o.a.isEmpty(r.DisplayMap)?i[r.DisplayMap]=e.Name:i[r.DynamicText]=e.Name,o.a.isEmpty(r.DisplayMap)?l.bindRequestFields(r.DisplayMap):l.bindRequestFields(r.DynamicText))}),d||(i.Index=e+1,i.listErrors.push({Caption:r.Caption,Message:"Dữ liệu không tồn tại trong bảng tham số"}))}}}),i.listErrors.length>0)l.viewModel.Convert.listError.push(i);else{delete i.listErrors,void 0!==i.undefined&&""!==i.undefined&&(u=!1);var s=[];o.a.isEmpty(l.viewModel.listRequestFields)&&(t.each(l.viewModel.listRequestFields,function(e,a){t.each(i,function(t,e){t===a&&s.push(e)})}),l.viewModel.Convert.listView.push(s),l.viewModel.Convert.listRows.push(i))}}),u){if(0===l.viewModel.Convert.listError.length){var m=[];t.each(l.viewModel.Convert.listColumns,function(t,e){m.push({Caption:e.Caption,DisplayMap:e.DisplayMap?e.DisplayMap:e.DynamicText,ValueMap:e.ValueMap})});var p=i.$Lodash.cloneDeep(i.$singleRequest);p.R1_Name=e.Code,p.R1_Code=o.a.removeVNCharacters(l.InputForm.Caption),p.R1_MapFields=s()(m),0===l.viewModel.savedMap.length?(p.R1_RequestTemplate="Setting.Insert",p.R1_NestedSetType="InsertLastChildNode",p.R1_ReferenceId="9c0c92cc-04df-4d61-a8c1-fe0d57e737db"):(p.R1_RequestTemplate="Setting.Update",p.R1_Id=l.viewModel.savedMap[0].Id),o.a.post(p).then(function(t){t.success&&(l.viewModel.savedMap=[{Id:t.R1.Data}])})}l.model.isConverted=!0}else l.model.isConverted=!1,l.viewModel.Convert={listColumns:[],listRows:[],listError:[],listView:[]},o.a.showMessage("error","Trường hiển thị của các dữ liệu tham số chưa được chọn đầy đủ!")}else o.a.showMessage("error","Không lấy được dữ liệu tham số!")})},bindRequestFields:function(t){var e=this;o.a.isEmpty(t)&&-1===e.viewModel.listRequestFields.indexOf(t)&&-1===t.indexOf("{")&&e.viewModel.listRequestFields.push(t)},excuteImport:function(e){var a=this,i=this;if(i.viewModel.Convert.listRows.length>0){i.viewModel.listLogs=[],t.each(i.viewModel.ListDataGroups,function(t,a){a.Code==e.value&&(e=a)}),t.each(i.viewModel.listFields,function(t,e){i.bindRequestFields(e.Name)});var s=[];""!==e.Description.AdditionConditions&&void 0!==e.Description.AdditionConditions&&(s=o.a.stringToArray(e.Description.AdditionConditions)[0],t.each(s,function(t,e){-1===e.indexOf("{")&&i.bindRequestFields(t)}));var n="";if(t.each(i.viewModel.listRequestFields,function(t,e){n+=e+";"}),void 0!==i.viewModel.Dupplicate.Column&&""!==i.viewModel.Dupplicate.Column){var l=this.$Lodash.cloneDeep(this.$singleRequest);l.R1_RequestTemplate=e.Description.DataSource+".Search",l.R1_RequestFields="Id;"+i.viewModel.Dupplicate.Name,l.R1_RequestDataGroup=e.Code,t.each(s,function(t,e){-1==e.indexOf("{")&&(l["R1_"+t]=e)}),o.a.post(l).then(function(t){t.success?(i.viewModel.Dupplicate.listServerData=a.$Lodash.cloneDeep(o.a.getDataWithRoot(t.R1,e.Description.RootData)),i.excuteImportRequest(e,s,n)):o.a.showMessage("error",i.$toastMessage.updateItemFailed)})}else i.excuteImportRequest(e,s,n)}else o.a.showMessage("error","Danh sách dữ liệu chuyển đổi được không có dữ liệu")},excuteImportRequest:function(e,a,i){for(var s=this,n=this,l=n.viewModel.Convert.listRows.length<n.viewModel.NumberRequestPerTime?n.viewModel.Convert.listRows.length:n.viewModel.NumberRequestPerTime,r=n.$Lodash.cloneDeep(n.$singleRequest),c=0;c<n.viewModel.Convert.listRows.length;c++){var d=c%l,u=n.viewModel.Convert.listRows[c];t.each(u,function(t,e){r["R"+(d+1)+"_"+t]=e}),t.each(a,function(t,e){r["R"+(d+1)+"_"+t]=e}),r["R"+(d+1)+"_RequestTemplate"]=e.Description.DataSource+".Insert",r["R"+(d+1)+"_RequestDataGroup"]=e.Code,r["R"+(d+1)+"_ModifiedByName"]="Import",r["R"+(d+1)+"_RequestFields"]=i,t.each(n.viewModel.Dupplicate.listServerData,function(t,a){if(a[n.viewModel.Dupplicate.Name]===u[n.viewModel.Dupplicate.Name]){r["R"+(d+1)+"_RequestTemplate"]=e.Description.DataSource+".Update",r["R"+(d+1)+"_Id"]=a.Id,delete a.Data;var i=s.$Lodash.cloneDeep(s.$singleRequest);i.R1_RequestTemplate=s.selectedDataGroup.Description.DataSource+".Search",i.R1_RequestFields="",i.R1_RequestDataGroup=s.selectedDataGroup.Code,i.R1_Id=a.Id,s.selectedDataGroup.Fields.forEach(function(t){"true"===t.History&&(i.R1_RequestFields+=t.Name+";")}),o.a.post(i).then(function(t){u.SourceData=s.$Utils.getDataWithRoot(t.R1,"Data.DocumentDS.Document")[0]})}}),(0!==c&&d===l-1||c===n.viewModel.Convert.listRows.length-1)&&(r.TotalRequests=d+1,o.a.post(r).then(function(e){if(e.success){var a={total:0,Success:0,Failed:0,Message:"",Inserted:0,Updated:0};t.each(e,function(t,e){if(0===t.indexOf("R")){if(e.success){var i=n.viewModel.Convert.listRows[n.importedCount];i.Id=e.Data,a.Success++,-1!==e.msg.indexOf("inserted with Id ")?(a.Inserted++,n.addPermissionToObject(i)):-1!==e.msg.indexOf("updated with Id ")&&(a.Updated++,n.createHistoryLogs(i,void 0!==i.SourceData?i.SourceData:[]))}else a.Failed++,a.Message=e.msg;a.total++,n.importedCount++}}),n.viewModel.listLogs.push(a)}else o.a.showMessage("error",n.$toastMessage.updateItemFailed)}),r=n.$Lodash.cloneDeep(n.$singleRequest))}},createArrChanged:function(e,a){var i=this,s=this,n=[];return t.each(e,function(e,l){if(a[e]&&a[e]!==l.toString()&&(o.a.isEmpty(a[e])||""!==l.toString())){var r=o.a.isEmpty(s.fields,e+".Caption")?s.fields[e].Caption:e;if(e.length>4&&e.indexOf("Name")>0){var c=e.substr(0,e.length-4);o.a.isEmpty(s.fields,c)&&(r=s.fields[c].Caption?s.fields[c].Caption:c)}var d={};t.each(a,function(t,e){e.name===t&&(d=i.$Lodash.cloneDeep(e))});var u={ColumnCaption:r,ColumnName:e,OldDisplayValue:d.oldDisplay?d.oldDisplay:a[e],OldValue:a[e],NewDisplayValue:d.display?d.display:l,NewValue:l};u&&n.push(u)}}),n},createHistoryLogs:function(t,e){var a=this,i=a.createArrChanged(t,e);if(i.length>0){var n=this.$Lodash.cloneDeep(this.$singleRequest);n.R1_RequestTemplate="ChangedLogs.Count",n.R1_SourceId=t.Id,n.R1_Code="ImportHistory",o.a.post(n).then(function(e){if(o.a.isEmpty(e,"R1.Data")){var l=n;l.R1_RequestTemplate="ChangedLogs.Insert",l.R1_Version=parseInt(e.R1.Data)+1,l.R1_Changes=s()(i),l.R1_CreatedByName=o.a.getUserInfo("Username"),o.a.post(l).then(function(e){e.success&&e.R1.success||o.a.showMessage("error",a.$toastMessage.insertHistoryFailed+(t.Name?t.Name:""))})}else o.a.showMessage("error",a.$toastMessage.insertHistoryFailed+(t.Name?t.Name:""))})}},addPermissionToObject:function(e,a,i){var s=this;if(a=o.a.isEmpty(a)?a:0,i=o.a.isEmpty(i)?i:[],a<s.viewModel.listPermissions.length){var n=this.$Lodash.cloneDeep(s.viewModel.listPermissions[a]);switch(n.Name){case"Static":if(n.Permissions&&n.Permissions.constructor===String){for(var l=o.a.stringToArray(n.Permissions)[0],r=[],c=1;c<=l.Count;c++)r.push({Value:l["Value"+c],KeyCode:l["KeyCode"+c]});n.Permissions=r}t.each(n.Permissions,function(a,s){if(o.a.isEmpty(s.Value)&&""!=s.Value){var n=s.KeyCode&&s.KeyCode.constructor===String?s.KeyCode.split(";"):[];t.each(n,function(t,a){""!=a.trim()&&i.push({RequestClass:"xBase",Parent:e.Id,Child:s.Value,Code:a,Name:e.Name+" - "+a,RequestAction:"LinkGroupToObject",ParentTable:"xObject",ChildTable:"tblGroup"})})}}),s.addPermissionToObject(e,a+1,i);break;case"Dynamic":if(n.Permissions&&n.Permissions.constructor===String){for(var l=o.a.stringToArray(n.Permissions)[0],r=[],c=1;c<=l.Count;c++)r.push({Value:l["Value"+c],KeyCode:l["KeyCode"+c]});n.Permissions=r}t.each(n.Permissions,function(a,s){if(o.a.isEmpty(s.Value)&&e[s.Value]){var n=s.KeyCode&&s.KeyCode.constructor===String?s.KeyCode.split(";"):[];t.each(n,function(t,a){""!=a.trim()&&i.push({RequestClass:"xBase",Parent:e.Id,Child:e[s.Value],Code:a,Name:e.Name+" - "+a,RequestAction:"LinkGroupToObject",ParentTable:"xObject",ChildTable:"tblGroup"})})}}),s.addPermissionToObject(e,a+1,i);break;case"Replica":var d="",u=n.StaticPermissions&&n.StaticPermissions.constructor===String?n.StaticPermissions.split(";"):[],m=(n.DynamicPermissions,n.DynamicPermissions.constructor===String?n.DynamicPermissions.split(";"):[]);t.each(u,function(t,e){""!=e&&(d+=e+";")}),t.each(m,function(t,a){o.a.isEmpty(e[a])&&""!=e[a]&&(d+=e[a]+";")});var p=this.$Lodash.cloneDeep(this.$singleRequest);p.RequestTemplate="Permission",p.R1_Parent=d,""!=d?o.a.post(p).then(function(n){t.each(o.a.getDataWithRoot(n,"R1.Data.DataDS.Linked"),function(t,a){a.Name=e.Name+"("+a.Name+")",a.RequestClass="xBase",a.Parent=e.Id,a.RequestAction="LinkGroupToObject",a.ParentTable="xObject",a.ChildTable="tblGroup",delete a.Id,i.push(a)}),s.addPermissionToObject(e,a+1,i)}):s.addPermissionToObject(e,a+1,i);break;case"Script":if(n.Permissions&&n.Permissions.constructor===String){for(var l=o.a.stringToArray(n.Permissions)[0],r=[],c=1;c<=l.Count;c++)r.push({Value:l["Value"+c],KeyCode:l["KeyCode"+c]});n.Leadership=r}if(o.a.isEmpty(n.Leadership)){var h=o.a.isEmpty(n.LeadershipDynamicOrganization)?e[n.LeadershipDynamicOrganization]:o.a.getUserInfo("GroupRoot"),f="";o.a.getListGroup(function(l){for(;o.a.isEmpty(h);){for(var r=!1,c=0;c<l.length;c++)if(o.a.isEmpty(h)&&l[c].GroupId.toLowerCase()===h.toLowerCase()){f+=h+";",h=l[c].GroupParent,r=!0;break}r||(h=void 0)}var d=[];t.each(n.Leadership,function(t,e){d.push(e.Value)}),""!=d?o.a.getUserFromGroupAndListRole(f,d).then(function(o){t.each(o,function(a,s){t.each(n.Leadership,function(a,o){if(o.Value==s.RoleId){var n=o.KeyCode&&o.KeyCode.constructor===String?o.KeyCode.split(";"):[];t.each(n,function(t,a){i.push({RequestClass:"xBase",Parent:e.Id,Child:s.UserId,Code:a,Name:e.Name+" - "+s.Username,RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser"})})}})}),s.addPermissionToObject(e,a+1,i)}):s.addPermissionToObject(e,a+1,i)})}else s.addPermissionToObject(e,a+1,i);break;case"Remove":s.addPermissionToObject(e,a+1,i)}}else{var g={RequestClass:"xBase",RequestAction:"Request",TotalRequests:i.length,RequestTemplate:"Permission.Insert"};t.each(i,function(e,a){t.each(a,function(t,a){g["R"+(e+1)+"_"+t]=a})}),o.a.post(g)}},init:function(){var t=this.data,e=this;e.dtOptions={paging:!1,searching:!1,autoWidth:!1,showNEntries:!1,responsive:!0};var a=this.$Lodash.cloneDeep(t.item);e.model.Columns=a.Columns,e.model.Rows=a.Rows,e.model.isConverted=!1,e.bindDataGroupSource()}},mounted:function(){this.init()},watch:{importedCount:function(t){t===this.viewModel.Convert.listRows.length&&(o.a.showMessage("success",this.$toastMessage.updateItemPre+this.$toastMessage.updateItemSuf),this.data.item.isImported=!0)}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{attrs:{model:t.viewModel,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Khối dữ liệu"}},[a("el-cascader",{attrs:{placeholder:"Chọn khối dữ liệu",options:t.treeDataGroup},on:{change:t.onSelectDataGroup},model:{value:t.DataGroup,callback:function(e){t.DataGroup=e},expression:"DataGroup"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Form nhập liệu"}},[a("el-select",{attrs:{"value-key":"Id",placeholder:"Form nhập liệu"},model:{value:t.InputForm,callback:function(e){t.InputForm=e},expression:"InputForm"}},t._l(t.viewModel.ListForms,function(t){return a("el-option",{key:t.Id,attrs:{label:t.Caption,value:t.Code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Không check trùng"}},[a("el-button",{on:{click:function(e){t.clearRadio()}}},[t._v("Xóa kiểm tra trùng")])],1)],1),t._v(" "),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Danh sách trường import",name:"1"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.model.Columns}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{label:"Trường trong sheet",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Trường giá trị"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{filterable:"",clearable:"","value-key":"Name"},on:{change:function(a){t.depend(t.viewModel.ValueMap[e.row],e.row)}},model:{value:t.viewModel.ValueMap[e.row],callback:function(a){t.$set(t.viewModel.ValueMap,e.row,a)},expression:"viewModel.ValueMap[scope.row]"}},t._l(t.viewModel.listFields,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption+" ("+t.Name+")",value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Trường hiển thị"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.viewModel.ValueMap[e.row]&&t.viewModel.ValueMap[e.row].FormElementType&&["Select","Multi","Radio","CombineData"].indexOf(t.viewModel.ValueMap[e.row].FormElementType)>-1?a("el-select",{attrs:{filterable:"",clearable:"","value-key":"Name"},model:{value:t.viewModel.DisplayMap[e.row],callback:function(a){t.$set(t.viewModel.DisplayMap,e.row,a)},expression:"viewModel.DisplayMap[scope.row]"}},t._l(t.viewModel.listFields,function(t){return a("el-option",{key:t.Name,attrs:{label:t.Caption+" ("+t.Name+")",value:t}})})):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Kiểm tra trùng"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row},model:{value:t.viewModel.Dupplicate.Column,callback:function(e){t.$set(t.viewModel.Dupplicate,"Column",e)},expression:"viewModel.Dupplicate.Column"}},[t._v(" ")])]}}])})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.prepareConvert(t.selectedDataGroup)}}},[t._v("Chuyển đổi dữ liệu")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("Bỏ qua")])],1),t._v(" "),t.viewModel.Convert.listError.length>0?a("el-collapse-item",{attrs:{title:"Danh sách trường dữ liệu kiểm tra lại",name:"2"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.viewModel.Convert.listError}},[a("el-table-column",{attrs:{type:"index",label:"Stt"}}),t._v(" "),a("el-table-column",{attrs:{label:"Dòng"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.Index+1)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Mô tả"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.listErrors,function(e){return a("div",{key:e.Caption},[a("b",[t._v(t._s(e.Caption)+": ")]),t._v(t._s(e.Message)+"\n            ")])})}}])})],1)],1):t._e(),t._v(" "),t.model.isConverted&&0==t.viewModel.Convert.listError.length?a("el-row",[a("el-col",{attrs:{span:2}},[a("el-input",{attrs:{type:"number"},model:{value:t.viewModel.NumberRequestPerTime,callback:function(e){t.$set(t.viewModel,"NumberRequestPerTime",e)},expression:"viewModel.NumberRequestPerTime"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.excuteImport(t.selectedDataGroup)}}},[t._v("\n        Nhập dữ liệu\n      ")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.showConfirm(t.selectedDataGroup)}}},[t._v("\n        Xóa trắng dữ liệu\n      ")])],1):t._e(),t._v(" "),t.viewModel.listLogs.length>0?a("el-collapse-item",{attrs:{title:"Kết quả",name:"3"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.viewModel.listLogs}},[a("el-table-column",{attrs:{label:"#",prop:"total"}}),t._v(" "),a("el-table-column",{attrs:{label:"Số lượng thành công"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.Success)+" / "+t._s(t.viewModel.Convert.listRows.length)+"\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Số lượng thêm mới",prop:"Inserted"}}),t._v(" "),a("el-table-column",{attrs:{label:"Số lượng cập nhật",prop:"Updated"}}),t._v(" "),a("el-table-column",{attrs:{label:"thất bại",prop:"Failed"}})],1)],1):t._e()],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},,,,,,,function(t,e){},function(t,e){},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Container"},[a("div",{on:{drop:t._drop,dragenter:t._suppress,dragover:t._suppress}},[a("form",{staticClass:"form-inline",staticStyle:{width:"100%"}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"file"}},[t._v("Chọn file")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"file",id:"file",accept:t.SheetJSFT},on:{change:t._change}}),t._v(" "),a("el-button",{on:{click:t._reload}},[a("i",{staticClass:"fa fa-trash-o"})])],1)])]),t._v(" "),a("div",{staticClass:"row"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isShowDataSheetTbl,expression:"isShowDataSheetTbl"}],on:{click:function(e){t.isShowSheetTbl=!0,t.isShowDataSheetTbl=!1}}},[t._v("Quay lại")])],1),t._v(" "),a("div",[a("el-table",{directives:[{name:"show",rawName:"v-show",value:t.isShowSheetTbl,expression:"isShowSheetTbl"}],staticStyle:{width:"100%"},attrs:{data:t.model.listSheets,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"Tên Sheet"}}),t._v(" "),a("el-table-column",{attrs:{label:"Số lượng"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Rows.length))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Trạng thái import"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(1==e.isImported?"Đã import":"Chưa import")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"180",label:"Hành động"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-edit"},on:{click:function(a){t.executeSheet(a,"edit",e.row,e.$index)}}})]}}])})],1)],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(785)}var s=a(786),o=a(787),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i,s=a(44),o=a.n(s),n=a(4),l=a.n(n),r=a(3),c=a(7),d=a(292),u=a.n(d);r.default.use(u.a),e.a={inject:["getDayName"],data:function(){return{iScrollPos:0,lstAction:{},LoggedOnUser:{},SessionId:"",limit:10,mscount:0,notifications:[],start:1,end:10,isMobile:this.$isMobile,baseUri:this.$appUri.BaseURL,avatarWH:"&Height=36&Width=36",fullscreenLoading:!1}},methods:(i={reload:function(){this.start=1,this.end=10,this.loadNotification(this.start,this.end)},loadTask:function(t){var e=this,a="dynamic/view/Index="+t.index;if("isActive"===t.Active){var i=e.notifications.indexOf(t);-1!=i&&(e.notifications[i].Active="",updateStatus(t))}"DocumentInsert"!==t.ActionClass&&"DocumentUpdate"!==t.ActionClass||(a="dynamic/knowhow-update-document/Id="+t.DocumentId),$location.$$path!=="/"+a&&$location.path(a)},loadmore:function(){this.start=this.end,this.end+=10,this.loadNotification(this.start,this.end)},openNotificationDetail:function(t){t.link&&""!=t.link.trim()&&this.$router.push("/"+t.link)},openTaskDetail:function(t){this.$router.push("/dynamic/view/Index="+t)}},o()(i,"loadTask",function(t){var e="dynamic/view/Index="+t.index;if("isActive"===t.Active){var a=this.notifications.indexOf(t);-1!=a&&(this.notifications[a].Active="",updateStatus(t))}"DocumentInsert"!==t.ActionClass&&"DocumentUpdate"!==t.ActionClass||(e="dynamic/knowhow-update-document/Id="+t.DocumentId),$location.$$path!=="/"+e&&$location.path(e)}),o()(i,"updateStatus",function(t){if(c.a.isEmpty(t,"IdMessage")){var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,SessionId:getItemLocalStorage(localStorageConstant.SessionId),RequestTemplate:"UpdateConversation",R1_Id:t.IdMessage,R1_Name:"InstantMessage",R1_State:4};c.a.post(e).then(function(t){})}}),o()(i,"maskReadAll",function(){this.mscount=0,myDevice,t.each(this.notifications,function(t,e){"isActive"===e.Active&&(e.Active="")});var e={RequestClass:"xBase",RequestAction:"Request",RequestTemplate:"Message.UpdateState",TotalRequests:1,R1_Name:"InstantMessage",R1_Receiver:this.LoggedOnUser.UserId,R1_State:"4"};c.a.post(e).then(function(t){})}),o()(i,"htmlRender",function(t){return c.a.decodeHtmlEntities(t)}),o()(i,"loadNotification",function(e,a){var i=this,s={RequestClass:"xBase",RequestAction:"Request",RequestTemplate:"SendMessage.Search",TotalRequests:1,R1_Name:"InstantMessage",R1_Receiver:this.LoggedOnUser.UserId,R1_StartIndex:e,R1_EndIndex:a,R1_RequestOrderFields:"Created DESC"};c.a.post(s).then(function(e){if(c.a.isEmpty(e)){var a=c.a.getDataWithRoot(e.R1,"Data.ConversationDS.Message");t.each(a,function(t,e){if(e){var a=c.a.jsonParse(e.Body);if(c.a.isEmpty(a)){var s={};if(s.Name=a.Name,c.a.isEmpty(a,"Content"))var o=a.Content;var n=JSON.parse(e.Description);n.avatar=n.avatar.replace("profile.jpg","profile.png");var r="assets/images/avatars/profile.png"===n.avatar?n.avatar:n.avatar.replace("/","")+"&Height=50&Width=50",d=i.lstAction[a.action]&&i.lstAction[a.action].Value?i.lstAction[a.action].Value:"";d=d.replace("{{index}}",a.index),d=d.replace("{{id}}",a.DocumentId);var u={Id:a.id,Name:e.From,Task:s,Date:e.Created,Active:"",Action:i.lstAction[a.action]&&i.lstAction[a.action].Description?i.lstAction[a.action].Description:"",ActionClass:a.action,index:a.index,Avatar:i.baseUri+r,type:a.action,link:d,IdMessage:e.Id,DocumentId:a.DocumentId};c.a.isEmpty(o)&&(u.Content=o);-1===l()(i.notifications).indexOf(u.Id)&&(4==e.State?u.Active="":u.Active="isActive",i.notifications.push(u))}}})}})}),i),created:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_Level:6,R1_ParentCode:"xSetting.Project.Tools.PushNotification"};this.$Utils.post(e).then(function(e){if(e.success){t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting").forEach(function(e){t.lstAction[e.Name]=e})}})},mounted:function(){this.LoggedOnUser=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser)),this.SessionId=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),this.loadNotification(this.start,this.end)}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("h3",[a("i",{staticClass:"el-icon-bell"}),t._v("Thông báo của bạn")])]),t._v(" "),a("div",{staticClass:"qa-message-list",attrs:{id:"wallmessages"}},[a("v-infinite-scroll",{staticStyle:{"max-height":"85vh","overflow-y":"scroll"},attrs:{offset:0},on:{bottom:function(e){t.loadmore()},top:function(e){t.reload()}}},t._l(t.notifications,function(e){return a("div",{key:e.Id,staticClass:"message-item",attrs:{id:"m16"}},[a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"message-inner",on:{click:function(a){t.openNotificationDetail(e)}}},[a("div",{staticClass:"message-head clearfix"},[a("div",{staticClass:"avatar pull-left"},[a("img",{staticClass:"img-avatar",attrs:{src:e.Avatar}})]),t._v(" "),a("div",{staticClass:"user-detail"},[a("h6",{staticClass:"handle"},[t._v(t._s(e.Name)+" "),a("span",[t._v(t._s(e.Action))])]),t._v(" "),a("div",{staticClass:"post-meta"},[a("div",{staticClass:"asker-meta"},[a("span",{staticClass:"qa-message-what"},[t._v(t._s(e.Task.Name))]),t._v(" "),a("span",{staticClass:"qa-message-when"},["insert"==e.type?a("i",{staticClass:"fa fa-calendar-plus-o"}):t._e(),t._v(" "),"updated"==e.type?a("i",{staticClass:"fa fa-calendar-check-o"}):t._e(),t._v(" "),"comment"==e.type?a("i",{staticClass:"fa fa-comment-o"}):t._e(),t._v(" "),"reply"==e.type?a("i",{staticClass:"fa fa-comments-o"}):t._e(),t._v(" "),"DocumentUpdate"==e.type?a("i",{staticClass:"el-icon-tickets"}):t._e(),t._v(" "),"DocumentInsert"==e.type?a("i",{staticClass:"el-icon-document"}):t._e(),t._v(" "),a("span",{staticClass:"qa-message-when-data"},[t._v("  "+t._s(t.getDayName(e.Date)))])])])])])]),t._v(" "),a("div",{staticClass:"qa-message-content",domProps:{innerHTML:t._s(t.htmlRender(e.Content))}})])])}))],1)])])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(789),s=a(916),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(790),s=a(852),o=a(854),n=a(856),l=a(858),r=a(860),c=a(862),d=a(297);e.a={name:"dashboard",components:{Callout:d.c,CardLine1ChartExample:i.a,CardLine2ChartExample:s.a,CardLine3ChartExample:o.a,CardBarChartExample:n.a,MainChartExample:l.a,SocialBoxChartExample:r.a,CalloutChartExample:c.a},data:function(){return{tableItems:[{avatar:{url:"assets/images/avatars/profile.png",status:"success"},user:{name:"Yiorgos Avraamu",new:!0,registered:"Jan 1, 2015"},country:{name:"USA",flag:"static/img/flags/USA.png"},usage:{value:50,period:"Jun 11, 2015 - Jul 10, 2015"},payment:{name:"Mastercard",icon:"fa fa-cc-mastercard"},activity:"10 sec ago"},{avatar:{url:"assets/images/avatars/profile.png",status:"danger"},user:{name:"Avram Tarasios",new:!1,registered:"Jan 1, 2015"},country:{name:"Brazil",flag:"static/img/flags/Brazil.png"},usage:{value:22,period:"Jun 11, 2015 - Jul 10, 2015"},payment:{name:"Visa",icon:"fa fa-cc-visa"},activity:"5 minutes ago"},{avatar:{url:"assets/images/avatars/profile.png",status:"warning"},user:{name:"Quintin Ed",new:!0,registered:"Jan 1, 2015"},country:{name:"India",flag:"static/img/flags/India.png"},usage:{value:74,period:"Jun 11, 2015 - Jul 10, 2015"},payment:{name:"Stripe",icon:"fa fa-cc-stripe"},activity:"1 hour ago"},{avatar:{url:"assets/images/avatars/profile.png",status:""},user:{name:"Enéas Kwadwo",new:!0,registered:"Jan 1, 2015"},country:{name:"France",flag:"static/img/flags/France.png"},usage:{value:98,period:"Jun 11, 2015 - Jul 10, 2015"},payment:{name:"PayPal",icon:"fa fa-paypal"},activity:"Last month"},{avatar:{url:"assets/images/avatars/profile.png",status:"success"},user:{name:"Agapetus Tadeáš",new:!0,registered:"Jan 1, 2015"},country:{name:"Spain",flag:"static/img/flags/Spain.png"},usage:{value:22,period:"Jun 11, 2015 - Jul 10, 2015"},payment:{name:"Google Wallet",icon:"fa fa-google-wallet"},activity:"Last week"},{avatar:{url:"assets/images/avatars/profile.png",status:"danger"},user:{name:"Friderik Dávid",new:!0,registered:"Jan 1, 2015"},country:{name:"Poland",flag:"static/img/flags/Poland.png"},usage:{value:43,period:"Jun 11, 2015 - Jul 10, 2015"},payment:{name:"Amex",icon:"fa fa-cc-amex"},activity:"Last week"}],tableFields:{avatar:{label:'<i class="icon-people"></i>',class:"text-center"},user:{label:"User"},country:{label:"Country",class:"text-center"},usage:{label:"Usage"},payment:{label:"Payment method",class:"text-center"},activity:{label:"Activity"}}}},methods:{variant:function(t){var e=void 0;return t<=25?e="info":t>25&&t<=50?e="success":t>50&&t<=75?e="warning":t>75&&t<=100&&(e="danger"),e}}}},function(t,e,a){"use strict";var i=a(791),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";var i=a(39),s=[{label:"My First dataset",backgroundColor:"#20a8d8",borderColor:"rgba(255,255,255,.55)",data:[65,59,84,84,51,55,40]}];e.a={extends:i.b,props:["height"],mounted:function(){this.renderChart({labels:["January","February","March","April","May","June","July"],datasets:s},{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontSize:2,fontColor:"transparent"}}],yAxes:[{display:!1,ticks:{display:!1,min:Math.min.apply(Math,s[0].data)-5,max:Math.max.apply(Math,s[0].data)+5}}]},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports={_from:"vue-chartjs@^3.0.0",_id:"vue-chartjs@3.0.2",_inBundle:!1,_integrity:"sha512-m6ItjL8o3ff4JpbF083RzZ4KPiNBFsqMKmWCcAtlisOdm1vvB/9mUDJePmxYKJkvl2AcpvLPiH1cUrhq46r8vA==",_location:"/vue-chartjs",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"vue-chartjs@^3.0.0",name:"vue-chartjs",escapedName:"vue-chartjs",rawSpec:"^3.0.0",saveSpec:null,fetchSpec:"^3.0.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/vue-chartjs/-/vue-chartjs-3.0.2.tgz",_shasum:"960d0ba9c2f3720b85ff02417707adc02f953de9",_spec:"vue-chartjs@^3.0.0",_where:"c:\\Sites\\vue-crm",author:{name:"Jakub Juszczak",email:"jakub@posteo.de"},browserify:{transform:["babelify"]},bugs:{url:"https://github.com/apertureless/vue-chartjs/issues"},bundleDependencies:!1,contributors:[{name:"Thorsten Lünborg",url:"https://github.com/LinusBorg"},{name:"Juan Carlos Alonso",url:"https://github.com/jcalonso"}],dependencies:{"lodash.merge":"^4.6.0"},deprecated:!1,description:"Vue.js wrapper for chart.js for creating beautiful charts.",devDependencies:{"@babel/cli":"^7.0.0-beta.31","@babel/core":"^7.0.0-beta.31","@babel/preset-env":"^7.0.0-beta.31","@babel/preset-stage-2":"^7.0.0-beta.31","babel-loader":"8.0.0-beta.0",chai:"^3.5.0","chart.js":"2.7.0",chromedriver:"^2.28.0","connect-history-api-fallback":"^1.1.0","cross-env":"^3.2.4","cross-spawn":"^5.1.0","css-loader":"^0.28.0",eslint:"^3.19.0","eslint-config-standard":"^10.2.1","eslint-friendly-formatter":"^2.0.7","eslint-loader":"^1.7.1","eslint-plugin-html":"^2.0.1","eslint-plugin-import":"^2.2.0","eslint-plugin-node":"^4.2.2","eslint-plugin-promise":"^3.5.0","eslint-plugin-standard":"^3.0.1","eventsource-polyfill":"^0.9.6",express:"^4.15.2","extract-text-webpack-plugin":"^3.0.1","file-loader":"^0.10.1","friendly-errors-webpack-plugin":"^1.6.1","function-bind":"^1.0.2","html-webpack-plugin":"^2.28.0","http-proxy-middleware":"^0.17.4","inject-loader":"^3.0.0",isparta:"^4.0.0","jasmine-core":"^2.5.2","json-loader":"^0.5.4",karma:"^1.5.0","karma-coverage":"^1.1.1","karma-jasmine":"^1.0.2","karma-mocha":"^1.2.0","karma-phantomjs-launcher":"^1.0.4","karma-phantomjs-shim":"^1.4.0","karma-sinon-chai":"^1.2.0","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.30","karma-webpack":"2",lolex:"^1.6.0",mocha:"^3.1.0",nightwatch:"^0.9.14",opn:"^5.1.0",ora:"^1.2.0","phantomjs-prebuilt":"^2.1.13",portfinder:"^1.0.13","selenium-server":"^3.3.1",shelljs:"^0.7.7",sinon:"^2.1.0","sinon-chai":"^2.9.0","url-loader":"^0.5.8",vue:"2.5.2","vue-hot-reload-api":"2.1.0","vue-html-loader":"^1.2.4","vue-loader":"^13.3.0","vue-style-loader":"3.0.1","vue-template-compiler":"2.5.2",webpack:"^3.7.1","webpack-dev-middleware":"^1.10.1","webpack-hot-middleware":"^2.17.1","webpack-merge":"^4.1.0"},engines:{node:">=6.9.0",npm:">= 3.0.0"},files:["src","dist","es"],greenkeeper:{ignore:["extract-text-webpack-plugin","karma-webpack","webpack","webpack-merge"]},homepage:"http://vue-chartjs.org","jsnext:main":"es/index.js",keywords:["ChartJs","Vue","Visualisation","Wrapper","Charts"],license:"MIT",main:"dist/vue-chartjs.js",maintainers:[{name:"Jakub Juszczak",email:"jakub@posteo.de",url:"http://www.jakubjuszczak.de"}],module:"es/index.js",name:"vue-chartjs",peerDependencies:{"chart.js":"2.7.x"},repository:{type:"git",url:"git+ssh://git@github.com/apertureless/vue-chartjs.git"},scripts:{build:"yarn run release && yarn run build:es","build:es":"cross-env BABEL_ENV=es babel src --out-dir es",dev:"node build/dev-server.js",e2e:"node test/e2e/runner.js",lint:"eslint --ext .js,.vue src test/unit/specs test/e2e/specs",prepublishOnly:"yarn run lint && yarn run test && yarn run build",release:"webpack --progress --hide-modules --config  ./build/webpack.release.js && NODE_ENV=production webpack --progress --hide-modules --config  ./build/webpack.release.min.js",test:"npm run unit",unit:"karma start test/unit/karma.conf.js --single-run"},unpkg:"dist/vue-chartjs.min.js",version:"3.0.2"}},function(t,e,a){"use strict";var i=a(853),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";var i=a(39),s=[{label:"My First dataset",backgroundColor:"#63c2de",borderColor:"rgba(255,255,255,.55)",data:[1,18,9,17,34,22,11]}];e.a={extends:i.b,props:["height"],mounted:function(){this.renderChart({labels:["January","February","March","April","May","June","July"],datasets:s},{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontSize:2,fontColor:"transparent"}}],yAxes:[{display:!1,ticks:{display:!1,min:Math.min.apply(Math,s[0].data)-5,max:Math.max.apply(Math,s[0].data)+5}}]},elements:{line:{tension:1e-5,borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}})}}},function(t,e,a){"use strict";var i=a(855),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";var i=a(39),s=[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40]}];e.a={extends:i.b,props:["height"],mounted:function(){this.renderChart({labels:["January","February","March","April","May","June","July"],datasets:s},{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},elements:{line:{borderWidth:2},point:{radius:0,hitRadius:10,hoverRadius:4}}})}}},function(t,e,a){"use strict";var i=a(857),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";var i=a(39),s=[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.3)",borderColor:"transparent",data:[78,81,80,45,34,12,40,75,34,89,32,68,54,72,18,98]}];e.a={extends:i.a,props:["height"],mounted:function(){this.renderChart({labels:["","","","","","","","","","","","","","","",""],datasets:s},{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!1,categoryPercentage:1,barPercentage:.5}],yAxes:[{display:!1}]}})}}},function(t,e,a){"use strict";var i=a(859),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";function i(t,e){return t=t.replace("#",""),"rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+e/100+")"}function s(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var o=a(39);e.a={extends:o.b,props:["height"],mounted:function(){for(var t=[],e=[],a=[],o=0;o<=27;o++)t.push(s(50,200)),e.push(s(80,100)),a.push(65);this.renderChart({labels:["M","T","W","T","F","S","S","M","T","W","T","F","S","S","M","T","W","T","F","S","S","M","T","W","T","F","S","S"],datasets:[{label:"My First dataset",backgroundColor:i("#63c2de",10),borderColor:"#63c2de",pointHoverBackgroundColor:"#fff",borderWidth:2,data:t},{label:"My Second dataset",backgroundColor:"transparent",borderColor:"#4dbd74",pointHoverBackgroundColor:"#fff",borderWidth:2,data:e},{label:"My Third dataset",backgroundColor:"transparent",borderColor:"#f86c6b",pointHoverBackgroundColor:"#fff",borderWidth:1,borderDash:[8,5],data:a}]},{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{drawOnChartArea:!1}}],yAxes:[{ticks:{beginAtZero:!0,maxTicksLimit:5,stepSize:Math.ceil(50),max:250},gridLines:{display:!0}}]},elements:{point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}})}}},function(t,e,a){"use strict";var i=a(861),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";var i=a(39);e.a={extends:i.b,props:["data","height"],mounted:function(){this.renderChart({labels:["January","February","March","April","May","June","July"],datasets:[{backgroundColor:"rgba(255,255,255,.1)",borderColor:"rgba(255,255,255,.55)",pointHoverBackgroundColor:"#fff",borderWidth:2,data:this.data}]},{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},elements:{point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}})}}},function(t,e,a){"use strict";var i=a(863),s=a(0),o=s(i.a,null,!1,null,null,null);e.a=o.exports},function(t,e,a){"use strict";var i=a(39);e.a={extends:i.b,props:["data","height","width","variant"],mounted:function(){this.renderChart({labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{backgroundColor:"transparent",borderColor:this.variant?this.variant:"#c2cfd6",data:this.data}]},{responsive:!0,maintainAspectRatio:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},elements:{line:{borderWidth:2},point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}},legend:{display:!1}})}}},function(t,e,a){"use strict";var i=a(865),s=a(870),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(278),s=a(279);e.a={name:"aside",components:{Callout:i.a,cSwitch:s.a}}},function(t,e,a){"use strict";e.a={props:{variant:{type:String}},computed:{classList:function(){return["callout",this.calloutVariant]},calloutVariant:function(){return this.variant?"callout-"+this.variant:""}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.classList},[t._t("default")],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";e.a={model:{prop:"checked",event:"change"},props:{value:{default:!0},uncheckedValue:{default:!1},checked:{default:!1},type:{type:String,default:"default"},variant:{type:String,default:""},pill:{type:Boolean,default:!1},on:{type:String,default:null},off:{type:String,default:null},size:{type:String,default:null}},computed:{classList:function(){return["switch",this.switchType,this.switchVariant,this.switchPill,this.switchSize]},switchType:function(){return this.type?"switch-"+this.type:"switch-default"},switchVariant:function(){return this.variant?"switch-"+this.variant:"switch-secondary"},switchPill:function(){return this.pill?"switch-pill":null},switchSize:function(){return this.size?"switch-"+this.size:""},isChecked:function(){return this.checked===this.value},isOn:function(){return!!this.on||null}},methods:{handleChange:function(t){var e=t.target.checked;this.$emit("change",e?this.value:this.uncheckedValue)}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{class:t.classList},[a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{value:t.value,checked:t.isChecked},on:{change:t.handleChange}}),t._v(" "),t.isOn?[a("span",{staticClass:"switch-label",attrs:{"data-on":t.on,"data-off":t.off}})]:[a("span",{staticClass:"switch-label"})],t._v(" "),a("span",{staticClass:"switch-handle"})],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"aside-menu"},[a("b-tabs",[a("b-tab",{attrs:{title:"<i class='icon-list'></i>"}},[a("Callout",{staticClass:"m-0 py-2 text-muted text-center bg-light text-uppercase"},[a("small",[a("b",[t._v("Today")])])]),t._v(" "),a("hr",{staticClass:"transparent mx-3 my-0"}),t._v(" "),a("Callout",{staticClass:"m-0 py-3",attrs:{variant:"warning"}},[a("div",{staticClass:"avatar float-right"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",[t._v("Meeting with "),a("strong",[t._v("Lucas")])]),t._v(" "),a("small",{staticClass:"text-muted mr-3"},[a("i",{staticClass:"icon-calendar"}),t._v("  1 - 3pm")]),t._v(" "),a("small",{staticClass:"text-muted"},[a("i",{staticClass:"icon-location-pin"}),t._v("  Palo Alto, CA ")])]),t._v(" "),a("hr",{staticClass:"mx-3 my-0"}),t._v(" "),a("Callout",{staticClass:"m-0 py-3",attrs:{variant:"info"}},[a("div",{staticClass:"avatar float-right"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",[t._v("Skype with "),a("strong",[t._v("Megan")])]),t._v(" "),a("small",{staticClass:"text-muted mr-3"},[a("i",{staticClass:"icon-calendar"}),t._v("  4 - 5pm")]),t._v(" "),a("small",{staticClass:"text-muted"},[a("i",{staticClass:"icon-social-skype"}),t._v("  On-line ")])]),t._v(" "),a("hr",{staticClass:"transparent mx-3 my-0"}),t._v(" "),a("Callout",{staticClass:"m-0 py-2 text-muted text-center bg-light text-uppercase"},[a("small",[a("b",[t._v("Tomorrow")])])]),t._v(" "),a("hr",{staticClass:"transparent mx-3 my-0"}),t._v(" "),a("Callout",{staticClass:"m-0 py-3",attrs:{variant:"danger"}},[a("div",[t._v("New UI Project - "),a("strong",[t._v("deadline")])]),t._v(" "),a("small",{staticClass:"text-muted mr-3"},[a("i",{staticClass:"icon-calendar"}),t._v("  10 - 11pm")]),t._v(" "),a("small",{staticClass:"text-muted"},[a("i",{staticClass:"icon-home"}),t._v("  creativeLabs HQ ")]),t._v(" "),a("div",{staticClass:"avatars-stack mt-2"},[a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})])])]),t._v(" "),a("hr",{staticClass:"mx-3 my-0"}),t._v(" "),a("Callout",{staticClass:"m-0 py-3",attrs:{variant:"success"}},[a("div",[a("strong",[t._v("#10 Startups.Garden")]),t._v(" Meetup")]),t._v(" "),a("small",{staticClass:"text-muted mr-3"},[a("i",{staticClass:"icon-calendar"}),t._v("  1 - 3pm")]),t._v(" "),a("small",{staticClass:"text-muted"},[a("i",{staticClass:"icon-location-pin"}),t._v("  Palo Alto, CA ")])]),t._v(" "),a("hr",{staticClass:"mx-3 my-0"}),t._v(" "),a("Callout",{staticClass:"m-0 py-3",attrs:{variant:"primary"}},[a("div",[a("strong",[t._v("Team meeting")])]),t._v(" "),a("small",{staticClass:"text-muted mr-3"},[a("i",{staticClass:"icon-calendar"}),t._v("  4 - 6pm")]),t._v(" "),a("small",{staticClass:"text-muted"},[a("i",{staticClass:"icon-home"}),t._v("  creativeLabs HQ ")]),t._v(" "),a("div",{staticClass:"avatars-stack mt-2"},[a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})]),t._v(" "),a("div",{staticClass:"avatar avatar-xs"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}})])])]),t._v(" "),a("hr",{staticClass:"mx-3 my-0"})],1),t._v(" "),a("b-tab",{attrs:{title:"<i class='icon-speech'></i>"}},[a("div",{staticClass:"p-3"},[a("div",{staticClass:"message"},[a("div",{staticClass:"py-3 pb-5 mr-3 float-left"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}}),t._v(" "),a("b-badge",{staticClass:"avatar-status",attrs:{variant:"success"}})],1)]),t._v(" "),a("div",[a("small",{staticClass:"text-muted"},[t._v("Lukasz Holeczek")]),t._v(" "),a("small",{staticClass:"text-muted float-right mt-1"},[t._v("1:52 PM")])]),t._v(" "),a("div",{staticClass:"text-truncate font-weight-bold"},[t._v("Lorem ipsum dolor sit amet")]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt...")])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"message"},[a("div",{staticClass:"py-3 pb-5 mr-3 float-left"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}}),t._v(" "),a("b-badge",{staticClass:"avatar-status",attrs:{variant:"success"}})],1)]),t._v(" "),a("div",[a("small",{staticClass:"text-muted"},[t._v("Lukasz Holeczek")]),t._v(" "),a("small",{staticClass:"text-muted float-right mt-1"},[t._v("1:52 PM")])]),t._v(" "),a("div",{staticClass:"text-truncate font-weight-bold"},[t._v("Lorem ipsum dolor sit amet")]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt...")])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"message"},[a("div",{staticClass:"py-3 pb-5 mr-3 float-left"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}}),t._v(" "),a("b-badge",{staticClass:"avatar-status",attrs:{variant:"success"}})],1)]),t._v(" "),a("div",[a("small",{staticClass:"text-muted"},[t._v("Lukasz Holeczek")]),t._v(" "),a("small",{staticClass:"text-muted float-right mt-1"},[t._v("1:52 PM")])]),t._v(" "),a("div",{staticClass:"text-truncate font-weight-bold"},[t._v("Lorem ipsum dolor sit amet")]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt...")])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"message"},[a("div",{staticClass:"py-3 pb-5 mr-3 float-left"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}}),t._v(" "),a("b-badge",{staticClass:"avatar-status",attrs:{variant:"success"}})],1)]),t._v(" "),a("div",[a("small",{staticClass:"text-muted"},[t._v("Lukasz Holeczek")]),t._v(" "),a("small",{staticClass:"text-muted float-right mt-1"},[t._v("1:52 PM")])]),t._v(" "),a("div",{staticClass:"text-truncate font-weight-bold"},[t._v("Lorem ipsum dolor sit amet")]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt...")])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"message"},[a("div",{staticClass:"py-3 pb-5 mr-3 float-left"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"img-avatar",attrs:{src:"assets/images/avatars/profile.png",alt:"admin@bootstrapmaster.com"}}),t._v(" "),a("b-badge",{staticClass:"avatar-status",attrs:{variant:"success"}})],1)]),t._v(" "),a("div",[a("small",{staticClass:"text-muted"},[t._v("Lukasz Holeczek")]),t._v(" "),a("small",{staticClass:"text-muted float-right mt-1"},[t._v("1:52 PM")])]),t._v(" "),a("div",{staticClass:"text-truncate font-weight-bold"},[t._v("Lorem ipsum dolor sit amet")]),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt...")])])])]),t._v(" "),a("b-tab",{attrs:{title:"<i class='icon-settings'></i>"}},[a("div",{staticClass:"p-3"},[a("h6",[t._v("Settings")]),t._v(" "),a("div",{staticClass:"aside-options"},[a("div",{staticClass:"clearfix mt-4"},[a("small",[a("b",[t._v("Option 1")])]),t._v(" "),a("c-switch",{staticClass:"float-right",attrs:{type:"text",variant:"success",on:"on",off:"off",pill:!0,size:"sm",checked:!0}})],1),t._v(" "),a("div",[a("small",{staticClass:"text-muted"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")])])]),t._v(" "),a("div",{staticClass:"aside-options"},[a("div",{staticClass:"clearfix mt-3"},[a("small",[a("b",[t._v("Option 2")])]),t._v(" "),a("c-switch",{staticClass:"float-right",attrs:{type:"text",variant:"success",on:"on",off:"off",pill:!0,size:"sm"}})],1),t._v(" "),a("div",[a("small",{staticClass:"text-muted"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")])])]),t._v(" "),a("div",{staticClass:"aside-options"},[a("div",{staticClass:"clearfix mt-3"},[a("small",[a("b",[t._v("Option 3")])]),t._v(" "),a("c-switch",{staticClass:"float-right",attrs:{type:"text",variant:"success",on:"on",off:"off",pill:!0,size:"sm"}})],1)]),t._v(" "),a("div",{staticClass:"aside-options"},[a("div",{staticClass:"clearfix mt-3"},[a("small",[a("b",[t._v("Option 4")])]),t._v(" "),a("c-switch",{staticClass:"float-right",attrs:{type:"text",variant:"success",on:"on",off:"off",pill:!0,size:"sm",checked:!0}})],1)]),t._v(" "),a("hr"),t._v(" "),a("h6",[t._v("System Utilization")]),t._v(" "),a("div",{staticClass:"text-uppercase mb-1 mt-4"},[a("small",[a("b",[t._v("CPU Usage")])])]),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{height:"{}",variant:"info",value:25}}),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("348 Processes. 1/4 Cores.")]),t._v(" "),a("div",{staticClass:"text-uppercase mb-1 mt-2"},[a("small",[a("b",[t._v("Memory Usage")])])]),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{height:"{}",variant:"warning",value:70}}),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("11444GB/16384MB")]),t._v(" "),a("div",{staticClass:"text-uppercase mb-1 mt-2"},[a("small",[a("b",[t._v("SSD 1 Usage")])])]),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{height:"{}",variant:"danger",value:95}}),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("243GB/256GB")]),t._v(" "),a("div",{staticClass:"text-uppercase mb-1 mt-2"},[a("small",[a("b",[t._v("SSD 2 Usage")])])]),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{height:"{}",variant:"success",value:10}}),t._v(" "),a("small",{staticClass:"text-muted"},[t._v("25GB/256GB")])],1)])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(872)}var s=a(873),o=a(874),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";var i=a(4),s=a.n(i),o=a(3),n=a(7);o.default.use(a(40)),e.a={props:{list:{type:Array,required:!0,default:function(){return[]}}},computed:{dateValString:function(){return null==this.dateVal?this.$rootScope.dateFilter:[o.default.moment(this.dateVal[0]).format("YYYY-MM-DD")+"T00:00:00",o.default.moment(this.dateVal[1]).format("YYYY-MM-DD")+"T23:59:59"]}},watch:{"$route.fullPath":function(t){var e=this;this.isShowBreadScrum=this.showBreadScrumList.filter(function(t){return e.$route.fullPath.indexOf(t)>-1}).length>0,this.isShowViewOption=t.indexOf("dynamic/view-all-task-page")>-1||t.indexOf("scrumboard")>-1||t.indexOf("timeline")>-1,this.$forceUpdate()},dateVal:function(t,e){var a,i;null!==t?(a=t[0],i=t[1]):(a=new Date,i=new Date),a=new Date(a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" 00:00:00"),i=new Date(i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()+" 23:59:59"),this.$set(this.$rootScope,"dateFilter",[a,i,this.type]),this.$hub.$emit("datePicked",[a,i,this.type]),this.type=""},selectedWorkers:function(t,e){this.$set(this.$rootScope,"selectedWorkerId",t),this.$hub.$emit("workerPicked",t)},selectedProjects:function(t,e){this.$set(this.$rootScope,"selectedProjectId",t),this.$hub.$emit("projectPicked",t)},valueGroup:function(t,e){this.$set(this.$rootScope,"selectedGroupId",t),this.$hub.$emit("groupPicked",t)}},data:function(){var t=this,e=this.$getItemLocalStorage("firstDayOfWeekCfg")?parseInt(JSON.parse(this.$getItemLocalStorage("firstDayOfWeekCfg")).Value):1;return{projects:[],selectedProjects:[],firstDayOfWeekCfg:e,showBreadScrumList:["/daily-report","/dynamic/view-all-task-page","/my-view-page","/timeline","/scrumboard","/dynamic/view-all-task-page","/task-summary-table"],isMobile:!1,isShowBreadScrum:!1,isShowViewOption:!0,type:"thisweek",dateFilter:"",selectedWorkers:[],workers:[],requestDatetimeFormat:"YYYY-MM-DDThh:mm:ss",dateOptions:{shortcuts:[{text:"Hôm trước",onClick:function(e){var a=o.default.moment().subtract(1,"days")._d;e.$emit("pick",[a,a]),t.type="yesterday"}},{text:"Hôm nay",onClick:function(e){var a=new Date;e.$emit("pick",[a,a]),t.type="today"}},{text:"Hôm sau",onClick:function(e){var a=o.default.moment().add(1,"days")._d;e.$emit("pick",[a,a]),t.type="tomorrow"}},{text:"Tuần trước",onClick:function(a){var i=new Date;i.setTime(i.getTime()-6048e5);var s=o.default.moment(i).isoWeekday(e).startOf("isoweek")._d,n=o.default.moment(i).isoWeekday(e).endOf("isoweek")._d;a.$emit("pick",[s,n]),t.type="lastweek"}},{text:"Tuần này",onClick:function(a){var i=new Date,s=o.default.moment(i).isoWeekday(e).startOf("isoweek")._d,n=o.default.moment(i).isoWeekday(e).endOf("isoweek")._d;a.$emit("pick",[s,n]),t.type="thisweek"}},{text:"Tuần sau",onClick:function(a){var i=new Date;i.setTime(i.getTime()+6048e5);var s=o.default.moment(i).isoWeekday(1).startOf("isoweek")._d,n=o.default.moment(i).isoWeekday(e).endOf("isoweek")._d;a.$emit("pick",[s,n]),t.type="nextweek"}},{text:"Tháng trước",onClick:function(e){var a=(new Date,(new o.default.moment).subtract(1,"months").date(1)._d),i=o.default.moment(a).endOf("month")._d;e.$emit("pick",[a,i]),t.type="lastmonth"}},{text:"Tháng này",onClick:function(e){var a=new Date,i=o.default.moment([a.getFullYear(),a.getMonth()])._d,s=o.default.moment(i).endOf("month")._d;e.$emit("pick",[i,s]),t.type="thismonth"}},{text:"Tháng sau",onClick:function(e){var a=(new Date,(new o.default.moment).add(1,"months").date(1)._d),i=o.default.moment(a).endOf("month")._d;e.$emit("pick",[a,i]),t.type="nextmonth"}}],firstDayOfWeek:e,onPick:function(t){}},currentUser:JSON.parse(localStorage.getItem("LoggedOnUser")),user:"",groups:"",ListProject:[],valueGroup:"",currentProject:{},dateVal:""}},methods:{changeDeparment:function(){var t=this,e=this.ListProject.filter(function(e){return e.GroupId===t.valueGroup});e[0]&&this.changeProject(e[0])},searchDepartment:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="tblGroup.Search",e.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",e.R1_RequestFields="GroupId;GroupName;GroupType;GroupParent;GroupPath;Status;Description;Level;LeftIndex;RightIndex;",e.R1_GroupType=1,e.R1_OrderFields="GroupName ASC",e.R1_RequestDataType="json",e.R1_Status=1,this.$isSystemAdmin()||this.$isMantisAdmin()||(e.R1_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId)),n.a.postCheckResult(e).then(function(e){if(t.ListProject=n.a.getDataWithRoot(e,"R1.Data.UserDS.Group"),t.ListProject.unshift({GroupId:"",GroupName:"Tất cả"}),n.a.isEmpty(t.user.Project))if(t.user.Project.GroupName)if(t.currentProject=t.user.Project,t.ListProject.length>0){var a=t.ListProject.filter(function(e){return e.GroupId===t.user.Project.GroupId});a.length>0||(t.currentProject=t.ListProject[0],t.valueGroup=t.currentProject.GroupId,t.changeProject(t.ListProject[0]))}else t.valueGroup={};else t.currentProject=t.ListProject[0],t.ListProject.length>0?(t.valueGroup=t.currentProject.GroupId,t.changeProject(t.ListProject[0])):t.valueGroup={};else t.ListProject.length>0?(t.valueGroup=t.ListProject[0].GroupId,t.changeProject(t.ListProject[0])):t.valueGroup={}})},changeProject:function(t){this.currentProject=t,this.ProjectId=this.currentProject.GroupId,this.user.Project=t,this.$setItemLocalStorage(this.$localStorageConstant.LoggedOnUser,s()(this.user)),this.$rootScope.loggedOnUser=this.$Lodash.cloneDeep(this.user)},isLast:function(t){return t===this.list.length-1},showName:function(t){return t.meta&&t.meta.label&&(t=t.meta&&t.meta.label),t.name&&(t=t.name),t},getProject:function(t){var e=this,a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="tblGroup.Search",a.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",a.R1_RequestFields="GroupId;Tool;TypeName;GroupName;ManagerName;StatusName;StateName;PermitName;Progress;DepartmentName;PlanManHour;ActualManHour;FinishDate;PriorityName;ProductName;StartDate;Version;Code;CreatedBy;Department;GroupId;Manager;ModifiedBy;Priority;PriorityDescription;PriorityId;State;Status;Type;Permit;Describe;Active;ActiveName;ProjectCode;Department;DepartmentName;Manager;ManagerName;Worker;WorkerName;GroupType",a.R1_GroupType=4,this.$Utils.postCheckResult(a).then(function(a){e.projects=e.$Utils.getDataWithRoot(a.R1,"Data.UserDS.Group"),t&&(e.projects=e.projects.filter(function(e){return e.Name.toLocaleLowerCase().indexOf(t.toLowerCase())>-1}))})}},destroyed:function(){this.$hub.$off("update-default-date-range")},created:function(){var t=this;this.user=this.$Lodash.cloneDeep(this.currentUser),this.groups=this.$Lodash.cloneDeep(this.currentUser.Groups),this.isShowBreadScrum=this.showBreadScrumList.filter(function(e){return t.$route.fullPath.indexOf(e)>-1}).length>0,this.$hub.$on("update-default-date-range",function(t){}),this.$hub.$on("reloadGroup",function(e){t.searchDepartment()});var e={RequestAction:"SearchUsers",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"Status;LoginName;UserId",StaticFields:"UserId;Username;LoginName;Status;",OrderFields:"LoginName ASC",Status:1};this.$Utils.post(e).then(function(e){t.workers=t.$Utils.getDataWithRoot(e,"Data.UserDS.User"),t.$set(t.$rootScope,"allUsers",[]);var a=JSON.parse(t.$getItemLocalStorage(t.$localStorageConstant.LoggedOnUser));"superadmin"!==a.LoginName&&(t.workers=t.workers.filter(function(t){return-1===t.LoginName.indexOf("superadmin")})),t.workers.filter(function(e){t.$rootScope.allUsers.push(e.UserId)});var i=t.$Lodash.remove(t.workers,function(t){return t.UserId===a.UserId});t.workers.unshift(i[0]);var s={UserId:t.workers.map(function(t){return t.UserId}).join(";"),Username:"Tất cả nhân sự"};t.workers.unshift(s)}),this.$rootScope.application=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.Application));var a=o.default.moment().isoWeekday(this.firstDayOfWeekCfg).startOf("isoweek")._d,i=o.default.moment().isoWeekday(this.firstDayOfWeekCfg).endOf("isoweek")._d;this.isMobile=this.$isMobileDevice,this.$set(this.$rootScope,"dateFilter",[a,i,this.type]),this.dateVal=[a,i],this.isShowViewOption=this.$route.fullPath.indexOf("dynamic/view-all-task-page")>-1||this.$route.fullPath.indexOf("scrumboard")>-1||this.$route.fullPath.indexOf("timeline")>-1,this.searchDepartment()}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.isShowBreadScrum,expression:"isShowBreadScrum"}]},[t.isMobile?a("el-col",{staticClass:"breadcrumbEq d-md-none d-lg-none d-xl-none"},[a("el-row",{staticClass:"text-nowrap"},[t.isShowViewOption?a("el-col",{staticClass:"tac",staticStyle:{"margin-top":"3px"},attrs:{span:2}},[a("el-dropdown",{attrs:{trigger:"click",size:"mini"}},[a("span",{staticClass:"el-dropdown-link"},["TimeLine"===t.$route.name?a("i",{staticClass:"fa fa-list-alt"}):t._e(),t._v(" "),"scrumboard"===t.$route.name?a("i",{staticClass:"fa fa-trello"}):t._e(),t._v(" "),"DynamicMain2"===t.$route.name?a("i",{staticClass:"fa fa-table"}):t._e()]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("router-link",{attrs:{to:"/timeline"}},[a("i",{staticClass:"fa fa-list-alt"}),t._v(" "),a("span",[t._v(" Thời gian")])])],1),t._v(" "),a("el-dropdown-item",[a("router-link",{attrs:{to:{path:"/dynamic/view-all-task-page"}}},[a("i",{staticClass:"fa fa-table"}),a("span",[t._v(" Danh sách")])])],1),t._v(" "),a("el-dropdown-item",[a("router-link",{attrs:{to:"/scrumboard"}},[a("i",{staticClass:"fa fa-trello"}),a("span",[t._v("  Bảng")])])],1)],1)],1)],1):t._e(),t._v(" "),a("el-col",{attrs:{span:22}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:"/my-view-page"!==t.$router.currentRoute.path&&-1===t.$router.currentRoute.path.indexOf("view-all-task-page")&&"/task-summary-table"!==t.$router.currentRoute.path,expression:"$router.currentRoute.path !== '/my-view-page' && $router.currentRoute.path.indexOf('view-all-task-page') === -1\n                            && $router.currentRoute.path !== '/task-summary-table'"}],attrs:{placeholder:"Nhân sự",size:"mini",multiple:"","collapse-tags":""},model:{value:t.selectedWorkers,callback:function(e){t.selectedWorkers=e},expression:"selectedWorkers"}},t._l(t.workers,function(t){return a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.UserId}})})),t._v(" "),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"/timeline"!==t.$router.currentRoute.path&&"/scrumboard"!==t.$router.currentRoute.path&&"/daily-report"!==t.$router.currentRoute.path,expression:"$router.currentRoute.path !== '/timeline' && $router.currentRoute.path !== '/scrumboard' && $router.currentRoute.path !== '/daily-report'"}],attrs:{placeholder:"Phòng ban",size:"mini","collapse-tags":""},on:{change:function(e){t.changeDeparment()}},model:{value:t.valueGroup,callback:function(e){t.valueGroup=e},expression:"valueGroup"}},t._l(t.ListProject,function(t){return a("el-option",{key:t.GroupId,attrs:{label:t.GroupName,value:t.GroupId}})})),t._v(" "),a("el-date-picker",{attrs:{"popper-class":"MobileDateRange",size:"mini",type:"daterange","start-placeholder":"Bắt đầu","end-placeholder":"Kết thúc",format:"dd/MM/yyyy","picker-options":t.dateOptions},model:{value:t.dateVal,callback:function(e){t.dateVal=e},expression:"dateVal"}})],1)],1)],1):a("el-col",{staticClass:"breadcrumbEq d-none d-sm-block",attrs:{span:24}},[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowViewOption,expression:"isShowViewOption"}],staticClass:"col-xs-3 col-sm-3 col-md-3 col-lg-3"},[a("router-link",{attrs:{to:"/timeline"}},[a("i",{staticClass:"fa fa-list-alt"}),t._v(" "),a("span",[t._v(" Thời gian")])]),t._v(" "),a("router-link",{attrs:{to:{path:"/dynamic/view-all-task-page"}}},[a("i",{staticClass:"fa fa-table"}),a("span",[t._v(" Danh sách")])]),t._v(" "),a("router-link",{attrs:{to:"/scrumboard"}},[a("i",{staticClass:"fa fa-trello"}),a("span",[t._v("  Bảng")])])],1),t._v(" "),a("div",{staticClass:"rightaligndiv col-xs-9 col-sm-9 col-md-9 col-lg-9"},[a("el-date-picker",{attrs:{size:"mini",type:"daterange",clearable:!1,"start-placeholder":"Bắt đầu","end-placeholder":"Kết thúc",format:"dd/MM/yyyy","picker-options":t.dateOptions},model:{value:t.dateVal,callback:function(e){t.dateVal=e},expression:"dateVal"}}),t._v(" "),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"/my-view-page"!==this.$router.currentRoute.path&&"/task-summary-table"!==t.$router.currentRoute.path,expression:"this.$router.currentRoute.path !== '/my-view-page'\n            && $router.currentRoute.path !== '/task-summary-table'"}],attrs:{placeholder:"Lọc nhân sự",size:"mini",multiple:"","collapse-tags":""},model:{value:t.selectedWorkers,callback:function(e){t.selectedWorkers=e},expression:"selectedWorkers"}},t._l(t.workers,function(t){return a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.UserId}})})),t._v(" "),a("el-select",{directives:[{name:"show",rawName:"v-show",value:"/timeline"!==t.$router.currentRoute.path&&"/scrumboard"!==t.$router.currentRoute.path,expression:"$router.currentRoute.path !== '/timeline' && $router.currentRoute.path !== '/scrumboard'"}],attrs:{placeholder:"Chọn phòng ban"},on:{change:function(e){t.changeDeparment()}},model:{value:t.valueGroup,callback:function(e){t.valueGroup=e},expression:"valueGroup"}},t._l(t.ListProject,function(t){return a("el-option",{key:t.GroupId,attrs:{label:t.GroupName,value:t.GroupId}})}))],1)])],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(876)}var s=a(877),o=a(878),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";function i(){void 0!=document.getElementById("ToTop")&&(document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("ToTop").style.display="block":document.getElementById("ToTop").style.display="none")}a(54);e.a={name:"footer",data:function(){return{VersionDetail:null}},methods:{backToTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},requestGetAppVersionDetail:function(){var t=this;JSON.parse(localStorage.getItem("AppInfo")).forEach(function(e){"VersionDetail"===e.Name&&(t.VersionDetail=e.Description)})}},created:function(){this.requestGetAppVersionDetail()}},window.onscroll=function(){i()}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return!t.$isMobileDevice||t.$isMobileDevice&&-1==t.$route.fullPath.indexOf("scrumboard")&&-1==t.$route.fullPath.indexOf("timeline")?a("footer",{staticClass:"app-footer"},[a("div",{attrs:{id:"ToTop"},on:{click:function(e){t.backToTop()}}},[t.$isMobileDevice?a("el-button",{attrs:{size:"small",icon:"icon-arrow-up"}}):a("el-tooltip",{attrs:{content:"Trở lên trên",placement:"top"}},[a("el-button",{attrs:{size:"small",icon:"icon-arrow-up"}})],1)],1),t._v(" "),a("span",{domProps:{innerHTML:t._s(t.VersionDetail)}})]):t._e()},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(880)}var s=a(881),o=a(885),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(4),s=a.n(i),o=a(269),n=a(882),l=a(270),r=a(7),c=a(58);e.a={components:{UserDropdown:o.a,ActivityDropdown:l.a,UserInfo:c.a,AddNewDropdown:n.a},props:["currentUser"],data:function(){return{isShowSearch:!0,isHome:!1,isManage:this.$isSystemAdmin()||this.$isMantisAdmin(),links:[],keyword:"",timeout:null,user:this.currentUser,valueGroup:"",groups:this.currentUser.Groups,itemgroup:"",activities:[],itemlist:[],sender:"",isAvatar:!0,users:[],start:1,end:10,mscount:0,currentProject:{},ProjectId:"",ListGroup:[],ListProject:[],sessionId:"",isMobile:!1,myDevice:"",lstAction:{updated:"đã cập nhật công việc: ",insert:"đã thêm công việc: ",comment:"đã bình luận vào công việc: ",reply:"đã phản hồi bình luận trong công việc: ",DocumentUpdate:"đã cập nhật tài liệu: ",DocumentInsert:"đã thêm tài liệu: "}}},methods:{back:function(){window.history.back()},toggleSearchContent:function(){this.isMobile&&(this.isShowSearch?(t("#nav-label").toggle(),t("#GroupSelectBox").toggle(),t("#searchContent").find("input[type=text]").focus(),document.getElementById("searchContent").style.display="inline",document.getElementById("searchContent").style.width="150px",document.getElementById("nav-search").style.color="#55bbf5"):(t("#nav-label").toggle(),t("#GroupSelectBox").toggle(),t("#searchContent").find("input[type=text]").blur(),document.getElementById("searchContent").style.width="32px",document.getElementById("searchContent").style.display="none",document.getElementById("nav-search").style.color="black"),this.isShowSearch=!this.isShowSearch)},getRequest:function(){return{RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"UserId",SessionId:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),UserId:this.currentUser.UserId,StaticFields:"Description;"}},onUpdateMsCount:function(){var t=this,e={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"UserId",UserId:this.currentUser.UserId,StaticFields:"Description;"};this.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e,"Data.UserDS.User");var a=JSON.parse(e[0].Description);a.NotiCount&&t.mscount!==parseInt(a.NotiCount)&&(t.mscount=parseInt(a.NotiCount),t.playAudio().then(function(){}).catch(function(t){console.log("play audio error ",t)}))}),"isMobileApp"==this.$myDevice&&this.$cordovaPushV5.setBadgeNumber(this.mscount).then(function(t){},function(t){console.log(t)})},playAudio:function(){return new Audio("/"!=this.$appUri.BaseURL?[this.$appUri.BaseURL+"assets/alert.mp3"]:"assets/alert.mp3").play()},changeDeparment:function(){var t=this,e=this.ListProject.filter(function(e){return e.GroupId===t.valueGroup});e[0]&&this.changeProject(e[0])},searchDeparment:function(){var t=this,e=this.$Lodash.cloneDeep(this.$singleRequest);e.R1_RequestTemplate="tblGroup.Search",e.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",e.R1_RequestFields="GroupId;GroupName;GroupType;",e.R1_GroupType=1,e.Status=1,e.orderFields="GroupName ASC",e.RequestDataType="json",this.$isSystemAdmin()||this.$isMantisAdmin()||(e.R1_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId)),r.a.postCheckResult(e).then(function(e){if(t.ListProject=r.a.getDataWithRoot(e,"UserDS.Group"),r.a.isEmpty(t.user.Project))if(t.user.Project.GroupName)if(t.currentProject=t.user.Project,t.ListProject.length>0){var a=t.ListProject.filter(function(e){return e.GroupId===t.user.Project.GroupId});a.length>0?t.valueGroup=t.user.Project.GroupId:(t.currentProject=t.ListProject[0],t.valueGroup=t.currentProject.GroupId,t.changeProject(t.ListProject[0]))}else t.valueGroup={};else t.currentProject=t.ListProject[0],t.ListProject.length>0?(t.valueGroup=t.currentProject.GroupId,t.changeProject(t.ListProject[0])):t.valueGroup={};else t.ListProject.length>0?(t.valueGroup=t.ListProject[0].GroupId,t.changeProject(t.ListProject[0])):t.valueGroup={}})},changeProject:function(t){var e=this;this.currentProject=t,this.ProjectId=this.currentProject.GroupId,this.user.Project=t,this.$setItemLocalStorage(this.$localStorageConstant.LoggedOnUser,s()(this.user)),this.$rootScope.loggedOnUser=this.$Lodash.cloneDeep(this.user);var a={RequestClass:"BPM",RequestAction:"UpdateUser",DynamicFields:"Project",StaticFields:"UserId",UserId:this.currentUser.UserId,Project:s()(t)};r.a.post(a).then(function(t){!0===e.$isSafari||e.$isMobile.iOS()?window.location.reload(!0):e.$router.go(e.$router.currentRoute)})},changUser:function(t){var e={RequestClass:"BPM",RequestAction:"UpdateUser",DynamicFields:"Project",StaticFields:"UserId",UserId:this.user.UserId,Project:{Description:t.Description,GroupId:t.GroupId,GroupName:t.GroupName,GroupPath:t.GroupPath,Status:t.Status}};this.$Utils.post(e).then(function(t){t.success});var a={RequestClass:"BPM",RequestAction:"UpdateUser",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;Notification",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",UserId:this.user.UserId,GroupRoot:t.GroupId,GroupRootName:t.GroupName};this.$Utils.post(a).then(function(t){})},initialize:function(e,a,i){var o=this,n={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:!0,R1_Code:"PushServer"};this.$Utils.post(n).then(function(n){if(o.$Utils.isEmpty(n)){n=o.$Utils.getDataWithRoot(n.R1,"Data.DynamicDS.Setting");var l=void 0===n[0]?"http://hub.mn.com.vn/":n[0].Value;o.$hub.connection=t.hubConnection(l+"signalr",{useDefaultPath:!1}),o.$hub.connection.qs={url:e,soa:a,user:i},o.$hub.proxy=o.$hub.connection.createHubProxy("Messenger");var r=[];t.each(o.user.Groups,function(t,e){e&&r.push(e.GroupId)}),o.$hub.proxy.on("updateNotificationCountNumber",function(t){o.mscount=t,"isMobileApp"===o.$myDevice&&o.$cordovaPushV5.setBadgeNumber(o.mscount).then(function(t){},function(t){})}),o.$hub.proxy.on("updateSystemNotification",function(t,e){o.itemlist=[],o.reloadNotification(),o.onUpdateMsCount()}),o.$hub.proxy.on("updateGroupNotification",function(t,e){o.itemlist=[],o.reloadNotification(),o.onUpdateMsCount()}),o.$hub.proxy.on("updateIndividualNotification",function(t,e){var a=JSON.parse(e),i=JSON.parse(a.c).id;-1===s()(o.itemlist).indexOf(i)&&(o.itemlist=[],o.reloadNotification(),o.onUpdateMsCount())}),o.$hub.connection.start().done(function(){console.log("connected success!"),o.$hub.proxy.invoke("joinGroup",e),t.each(r,function(t,a){var i=e+"/"+a;o.$hub.proxy.invoke("joinGroup",i)})}).fail(function(t){console.log(t),console.log("error !!!!!"+t)})}else console.log("no hub no connect")})},addNewUser:function(t){this.$hub.$emit("set-modal-data","Tạo người dùng","80%",!0,"center",c.a,!0,"",{action:"insert",scope:null})},getDayAgo:function(t){if(void 0!=t){if(this.$Utils.formatDateTime(Date.Now,"DD/MM/YYYY")===this.$Utils.formatDateTime(t,"DD/MM/YYYY")){var e=new Date,a=new Date(t),i=e-a;return Math.round(i/60/60/1e3)>0?Math.round(i/60/60/1e3)+" giờ trước ":Math.round(i/60/1e3)<=0?"Vừa xong":Math.round(i/60/1e3)+" phút trước"}return Math.round(Math.abs((new Date-new Date(t))/864e5))+" ngày trước"}return""},addNewTask:function(t){this.$router.push("/dynamic/task-report-page")},sidebarToggle:function(t){t.preventDefault(),document.body.classList.toggle("sidebar-hidden")},sidebarMinimize:function(t){t.preventDefault(),document.body.classList.toggle("sidebar-minimized")},mobileSidebarToggle:function(t){t.preventDefault(),document.body.classList.toggle("sidebar-mobile-show")},asideToggle:function(t){t.preventDefault(),document.body.classList.toggle("aside-menu-hidden")},loadAll:function(){return[]},loadAvatar:function(t){return void 0==t&&(t="assets/images/avatars/profile.png"),t=t.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===t?this.$appUri.BaseURL+t:this.$appUri.BaseURL+t.replace("/","")+"&Height=50&Width=50"},querySearchAsync:function(t,e){if(""!==t&&t.length>4){var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Search",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;Index;Name;",R1_RequestOrderFields:"Created DESC",R1_AssignedUser:this.sessionId,R1_Keyword:t,R1_StartIndex:1,R1_EndIndex:10};this.$Utils.post(a).then(function(t){if(t.success){var a=t.R1.Data.TasksDS.Task;if(a){var i=a.map(function(t,e){return{value:t.Name,index:t.Index}});e(i)}}})}},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){this.$router.push("/dynamic/view/Index="+t.index),this.keyword="",this.toggleSearchContent()},onDeviceReady:function(){var t=this,e=this,a={android:{icon:"icon",senderID:"68497599090"},ios:{alert:"true",badge:"true",sound:"true"},windows:{}};this.addWindowListenerIfNone("pause",function(){},!1),this.addWindowListenerIfNone("resume",function(){t.$cordovaPushV5.initialize(a).then(function(){t.$cordovaPushV5.onNotification(),t.$cordovaPushV5.onError()}),e.$hub.connection&&4===e.$hub.connection.state&&e.initialize(e.baseURL,e.SOA,e.sender),r.a.post(e.getRequest()).then(function(e){e=r.a.getDataWithRoot(e,"Data.UserDS.User");var a=JSON.parse(e[0].Description);t.mscount=parseInt(a.NotiCount),t.$cordovaPushV5.setBadgeNumber(t.mscount).then(function(t){},function(t){})}),t.reloadNotification()},!1)},reloadNotification:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SendMessage.Search",R1_Receiver:this.currentUser.UserId,R1_StartIndex:this.start,R1_EndIndex:this.end,R1_Name:"InstantMessage",R1_RequestOrderFields:"Created DESC"};this.$Utils.post(e).then(function(e){e.success&&e.R1.success&&(t.itemlist=t.$Utils.getDataWithRoot(e.R1,"Data.ConversationDS.Message"))})},reloadSignalR:function(){var e=this,a="/"!==this.$appUri.BaseURL?this.$appUri.BaseURL.substring(0,this.$appUri.BaseURL.length-1):window.origin,i=[];t.each(this.user.Groups,function(t,e){e&&i.push(e.GroupId)}),this.$hub.connection.start().done(function(){console.log("Reconnedted success!"),e.$hub.proxy.invoke("joinGroup",a),t.each(i,function(t,i){var s=a+"/"+i;e.$hub.proxy.invoke("joinGroup",s)})}).fail(function(t){console.log("error !!!!!"+t)})},addWindowListenerIfNone:function(t,e,a){this.$rootScope.addedListeners[t]||(this.$rootScope.addedListeners[t]=!0,this.$forceUpdate(),document.addEventListener(t,e,a))}},destroyed:function(){this.$hub.$off("update-task-callback"),this.$hub.$off("$cordovaPushV5:notificationReceived"),this.$hub.$off("$cordovaPushV5:errorOcurred")},mounted:function(){var e=this;if(this.$rootScope.addedListeners||(this.$rootScope.addedListeners={}),this.myDevice=this.$myDevice,this.isHome="/my-view-page"===this.$router.currentRoute.path,this.$hub.$on("$cordovaPushV5:notificationReceived",function(t){t.additionalData&&0==t.additionalData.foreground&&t.additionalData.link&&e.$router.push("/"+t.additionalData.link),"isMobileApp"===e.myDevice&&t.count&&e.$cordovaPushV5.setBadgeNumber(t.count),"isMobileApp"===e.myDevice&&e.$cordovaPushV5.finish()}),this.isMobile){var a=this;t(document).ready(function(){setTimeout(function(){t("#searchContent").find("input").on("focus",function(){if(console.log("focus"),a.$isMobile.iOS()&&"isMobileApp"===a.myDevice){t("body").addClass("fixfixed")}t("#nav-label").toggle(),t("#searchContent").css("width","100%")})},100),setTimeout(function(){t("#searchContent").find("input").on("blur",function(){if(a.$isMobile.iOS()&&"isMobileApp"===a.myDevice){t("body").removeClass("fixfixed")}t("#searchContent").css("width","32px"),setTimeout(function(){t("#nav-label").toggle()},600)})},100)})}"isMobileApp"===this.myDevice&&this.addWindowListenerIfNone("deviceready",this.onDeviceReady,!1),this.$hub.$on("$cordovaPushV5:errorOcurred",function(t){console.log(t)}),this.$nextTick(function(){this.$hub.$on("update-task-callback",function(t){}),this.$hub.$on("$cordovaPushV5:notificationReceived",function(t){}),this.$hub.$on("$cordovaPushV5:errorOcurred",function(t){})}.bind(this)),this.links=this.loadAll(),this.sessionId=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),this.reloadNotification(),this.$hub.$on("notification",function(t){e.proxy.invoke()});var i=JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser)),o=this.$getItemLocalStorage(this.$localStorageConstant.Notification);if(o&&o.constructor===String)var n="/"!==this.$appUri.BaseURL?this.$appUri.BaseURL.substring(0,this.$appUri.BaseURL.length-1):window.origin,l=JSON.parse(o).Port,r=n+":"+l;else var n="/"!==this.$appUri.BaseURL?this.$appUri.BaseURL.substring(0,this.$appUri.BaseURL.length-1):window.origin,r="http://localhost:8080";this.sender=s()({i:i.UserId,a:i.LoginName,n:i.Username,g:"",p:this.$Utils.isEmpty(l)?l:"",c:"10",e:n}),"assets/images/avatars/profile.png"===i.Avatar?this.isAvatar=!1:this.isAvatar=!0,this.baseURL=n,this.SOA=r,this.initialize(n,r,this.sender),this.onUpdateMsCount(),this.isMobile=this.$isMobileDevice},computed:{getCount:function(){return isNaN(this.mscount)?0:this.mscount}},watch:{$route:function(t,e){this.isHome="/my-view-page"===t.path},itemlist:function(e){var a=this;this.activities=[],t.each(e,function(t,e){if(e){var i=a.$Utils.jsonParse(e.Body);if(r.a.isEmpty(i)){var o={};if(o.Name=i.Name,a.$Utils.isEmpty(i,"Content"))var n=i.Content;var l=JSON.parse(e.Description);l.avatar=l.avatar.replace("profile.jpg","profile.png");var c="assets/images/avatars/profile.png"===l.avatar?l.avatar:l.avatar.replace("/","")+"&Height=50&Width=50",d={Id:i.id,Name:e.From,Task:o,Date:a.getDayAgo(e.Date),Active:"",Action:a.lstAction[i.action],ActionClass:i.action,Index:i.index,Avatar:a.$appUri.BaseURL+c,type:i.action,IdMessage:e.Id};"DocumentInsert"!==i.action&&"DocumentUpdate"!==i.action||(d.DocumentId=i.DocumentId),r.a.isEmpty(n)&&(d.Content=n);-1===s()(a.activities).indexOf(d.Id)&&(4==e.State?d.Active="":d.Active="isActive",a.activities.push(d))}}})}}}}).call(e,a(2))},function(t,e,a){"use strict";var i=a(883),s=a(884),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";(function(t){var i=(a(3),a(58));a(7);e.a={components:{UserInfo:i.a},data:function(){return{userModel:{},isManage:!1,isMobile:!1,myDevice:"",curAvatar:""}},methods:{addNewTask:function(t){this.$router.push("/dynamic/task-report-page")},addNewUser:function(t){this.$hub.$emit("set-modal-data","Tạo người dùng","80%",!0,"center",i.a,!0,"",{action:"insert",scope:null})}},mounted:function(){this.isMobile=this.$isMobileDevice,this.myDevice=this.$myDevice,this.isManage=this.$isSystemAdmin()||this.$isMantisAdmin();var e=t(".addnewdropdown"),a=e.find('a[class="nav-link"]');a.attr("href","javascript:void(0)"),e.parent().attr("href","javascript:void(0)"),a.attr("href","javascript:void(0)")},created:function(){}}}).call(e,a(2))},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addnewdropdown"},[a("b-nav-item-dropdown",{attrs:{right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"fa-lg icon-plus"})]),t._v(" "),a("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"},on:{click:function(t){t.stopPropagation()}}},[a("strong",[t._v("Thêm mới")])]),t._v(" "),a("b-dropdown-item",{on:{click:function(e){t.addNewTask()}}},[a("i",{staticClass:"fa-lg icon-plus"}),t._v("Công việc")]),t._v(" "),t.isManage?a("b-dropdown-item",{on:{click:t.addNewUser}},[a("i",{staticClass:"fa-lg icon-user-follow"}),t._v("Người dùng")]):t._e()],2)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticClass:"app-header navbar",style:t.$isMobile.iOS()&&t.$Utils.getIOSversion()<11?"padding-top: 10px;":""},[a("button",{staticClass:"navbar-toggler mobile-sidebar-toggler d-lg-none",staticStyle:{padding:"0.25rem 0.75rem"},attrs:{type:"button"},on:{click:t.mobileSidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),t._v(" "),a("b-link",{staticClass:"navbar-brand d-md-down-none",attrs:{to:"/"}}),t._v(" "),a("button",{staticClass:"navbar-toggler sidebar-toggler d-md-down-none",attrs:{type:"button"},on:{click:t.sidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),t._v(" "),a("span",{staticClass:"d-md-down-none"},[t._v("Task & Projects Management")]),t._v(" "),a("b-nav",{class:t.isMobile?"":"ml-auto",attrs:{"is-nav-bar":""}},[a("b-nav-item",{staticClass:"d-md-down-none"},[a("el-autocomplete",{attrs:{"auto-complete":"on","fetch-suggestions":t.querySearchAsync,placeholder:"Nhập tên công việc","trigger-on-focus":!1},on:{select:t.handleSelect},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[a("i",{staticClass:"icon icon-magnifier font-xl",attrs:{slot:"suffix"},slot:"suffix"})])],1),t._v(" "),a("span",{staticClass:"navbar-toggler mobile-sidebar-toggler d-lg-none navbar-brand ",attrs:{id:"nav-label"}},[a("span",{staticClass:"app-label"},[t._v("   Task")]),t._v(" "),a("span",{staticClass:"app-label-lg"},[t._v("& Projects Management")])]),t._v(" "),t.isMobile?t._e():a("div",{staticClass:"row addnew-web"},[a("b-nav-item",{staticClass:"col-md-6",on:{click:t.addNewTask}},[t.$isMobile?a("i",{staticClass:"fa-lg icon-plus"}):a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Thêm công việc",placement:"top"}},[a("i",{staticClass:"fa-lg icon-plus"})])],1),t._v(" "),t.isManage?a("b-nav-item",{staticClass:"col-md-6",on:{click:t.addNewUser}},[t.$isMobile?a("i",{staticClass:"fa-lg icon-user-follow"}):a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Thêm người dùng",placement:"top"}},[a("i",{staticClass:"fa-lg icon-user-follow"})])],1):t._e()],1),t._v(" "),t.isMobile?a("b-nav-item",{staticClass:"d-md-down"},[a("div",{staticClass:"navbar-collapse",staticStyle:{display:"none"},attrs:{id:"searchContent"}},[a("div",{staticClass:"flex search-content__wrapper"},[a("el-autocomplete",{attrs:{"auto-complete":"on","fetch-suggestions":t.querySearchAsync,placeholder:t.isMobile?"":"Nhập từ khóa tìm kiếm","trigger-on-focus":!1},on:{select:t.handleSelect},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)])]):t._e(),t._v(" "),t.isMobile?a("b-nav-item",[a("i",{staticClass:"icon-magnifier icons font-xl mgr10",attrs:{id:"nav-search"},on:{click:t.toggleSearchContent}})]):t._e(),t._v(" "),t.isMobile?a("b-nav-item",[a("AddNewDropdown")],1):t._e(),t._v(" "),a("b-nav-item",[a("UserDropdown",{attrs:{loggedUser:t.user}})],1),t._v(" "),a("b-nav-item",{class:t.isMobile?"pr-2":""},[a("ActivityDropdown",{attrs:{datasource:t.activities,unread:t.getCount}})],1)],1)],1)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(887),a(888)}var s=a(889),o=a(915),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e){},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__SidebarFooter__=__webpack_require__(890),__WEBPACK_IMPORTED_MODULE_1__SidebarForm__=__webpack_require__(893),__WEBPACK_IMPORTED_MODULE_2__SidebarHeader__=__webpack_require__(896),__WEBPACK_IMPORTED_MODULE_3__SidebarMinimizer__=__webpack_require__(899),__WEBPACK_IMPORTED_MODULE_4__SidebarNavDropdown__=__webpack_require__(902),__WEBPACK_IMPORTED_MODULE_5__SidebarNavLink__=__webpack_require__(906),__WEBPACK_IMPORTED_MODULE_6__SidebarNavTitle__=__webpack_require__(909),__WEBPACK_IMPORTED_MODULE_7__SidebarNavItem__=__webpack_require__(912);__webpack_exports__.a={name:"sidebar",props:{navItems:{type:Array,required:!0,default:function(){return[]}}},components:{SidebarFooter:__WEBPACK_IMPORTED_MODULE_0__SidebarFooter__.a,SidebarForm:__WEBPACK_IMPORTED_MODULE_1__SidebarForm__.a,SidebarHeader:__WEBPACK_IMPORTED_MODULE_2__SidebarHeader__.a,SidebarMinimizer:__WEBPACK_IMPORTED_MODULE_3__SidebarMinimizer__.a,SidebarNavDropdown:__WEBPACK_IMPORTED_MODULE_4__SidebarNavDropdown__.a,SidebarNavLink:__WEBPACK_IMPORTED_MODULE_5__SidebarNavLink__.a,SidebarNavTitle:__WEBPACK_IMPORTED_MODULE_6__SidebarNavTitle__.a,SidebarNavItem:__WEBPACK_IMPORTED_MODULE_7__SidebarNavItem__.a},data:function(){return{customStyle:""}},methods:{checkVersion:function checkVersion(){if(this.$isMobile.iOS()&&this.$Utils.getIOSversion()&&eval(this.$Utils.getIOSversion()<11))return"sidebar-old"}},created:function(){this.$Utils.getIOSversion()}}},function(t,e,a){"use strict";var i=a(891),s=a(892),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";e.a={name:"sidebar-footer"}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(894),s=a(895),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";e.a={name:"sidebar-form"}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(897),s=a(898),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";e.a={name:"sidebar-header"}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(900),s=a(901),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";e.a={name:"sidebar-minimizer",methods:{sidebarMinimize:function(){document.body.classList.toggle("sidebar-minimized")},brandMinimize:function(){document.body.classList.toggle("brand-minimized")}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"sidebar-minimizer",attrs:{type:"button"},on:{click:function(e){t.sidebarMinimize(),t.brandMinimize()}}})},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(903)}var s=a(904),o=a(905),n=a(0),l=i,r=n(s.a,o.a,!1,l,null,null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={props:{name:{type:String,default:""},url:{type:String,default:""},icon:{type:String,default:""},children:{type:Array,default:[]},defaultOpenTree:{type:String}},methods:{handleClick:function(t){t.preventDefault(),t.target.parentElement.classList.toggle("open")}},computed:{mainUrl:function(){var t=this,e=this.children.reduce(function(e,a){return a.url===t.$route.fullPath?(e.push(a),e):a.children?e=e.concat(a.children.filter(function(e){return e.url===t.$route.fullPath})):e},[])[0];return e?e.url:"#"}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.url?a("router-link",{staticClass:"nav-item nav-dropdown",class:"true"==t.defaultOpenTree?"open":"",attrs:{tag:"li",to:t.mainUrl,exact:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle"},[a("i",{class:t.icon}),t._v(" "+t._s(t.name))]),t._v(" "),a("div",{staticClass:"b-toggle nav-link nav-dropdown-toggle",on:{click:t.handleClick}}),t._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[t._t("default")],2)]):a("router-link",{staticClass:"nav-item nav-dropdown",class:"true"==t.defaultOpenTree?"open":"",attrs:{tag:"li",to:t.mainUrl,disabled:"",exact:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:t.handleClick}},[a("i",{class:t.icon}),t._v(" "+t._s(t.name))]),t._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[t._t("default")],2)])},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(907),s=a(908),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";e.a={name:"sidebar-nav-link",props:{name:{type:String,default:""},url:{type:String,default:""},icon:{type:String,default:""},badge:{type:Object,default:function(){}},variant:{type:String,default:""}},computed:{classList:function(){return["nav-link",this.linkVariant]},linkVariant:function(){return this.variant?"nav-link-"+this.variant:""},isExternalLink:function(){return"http"===this.url.substring(0,4)}},methods:{clickHandler:function(t){this.$isMobileDevice&&document.body.classList.toggle("sidebar-mobile-show")}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isExternalLink?a("div",[a("router-link",{class:t.classList,attrs:{tag:"a",to:t.url,exact:""}},[a("i",{class:t.icon}),t._v(" "+t._s(t.name)+"\n    "),t.badge&&t.badge.text?a("b-badge",{attrs:{variant:t.badge.variant}},[t._v(t._s(t.badge.text))]):t._e()],1)],1):a("div",[a("router-link",{class:t.classList,attrs:{tag:"a",to:t.url,exact:""},nativeOn:{click:function(e){t.clickHandler(e)}}},[a("i",{class:t.icon}),t._v(" "+t._s(t.name)+"\n    "),t.badge&&t.badge.text?a("b-badge",{attrs:{variant:t.badge.variant}},[t._v(t._s(t.badge.text))]):t._e()],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(910),s=a(911),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(68),s=a.n(i);e.a={props:{name:{type:String,default:""},classes:{type:String,default:""},wrapper:{type:Object,default:function(){}}},computed:{classList:function(){return["nav-title"].concat(s()(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:t.classList},[t.wrapper&&t.wrapper.element?[a(t.wrapper.element,t._b({tag:"component"},"component",t.wrapper.attributes,!1),[t._v("\n      "+t._s(t.name)+"\n    ")])]:[t._v("\n    "+t._s(t.name)+"\n  ")]],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=a(913),s=a(914),o=a(0),n=o(i.a,s.a,!1,null,null,null);e.a=n.exports},function(t,e,a){"use strict";var i=a(68),s=a.n(i);e.a={name:"sidebar-nav-item",props:{classes:{type:String,default:""}},computed:{classList:function(){return["nav-item"].concat(s()(this.itemClasses))},itemClasses:function(){return this.classes?this.classes.split(" "):""}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("li",{class:t.classList},[t._t("default")],2)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar",class:"sidebar "+t.checkVersion()},[a("SidebarHeader"),t._v(" "),a("SidebarForm"),t._v(" "),a("nav",{staticClass:"sidebar-nav"},[a("div",{attrs:{slot:"header"},slot:"header"}),t._v(" "),a("ul",{staticClass:"nav"},[t._l(t.navItems,function(e,i){return[e.title?[a("SidebarNavTitle",{attrs:{name:e.name,classes:e.class,wrapper:e.wrapper}})]:e.divider?[a("li",{staticClass:"divider"})]:[e.children?[a("SidebarNavDropdown",{staticClass:"nav-dropdown-lv1",attrs:{name:e.name,url:"Empty"==e.Description.PageLink?void 0:e.url,icon:e.icon,children:e.children,defaultOpenTree:e.Description.DefaultOpenTree}},[t._l(e.children,function(i,s){return[i.children?[a("SidebarNavDropdown",{staticClass:"nav-dropdown-lv2",attrs:{name:i.name,url:"Empty"==i.Description.PageLink?void 0:i.url,icon:i.icon,children:i.children,defaultOpenTree:i.Description.DefaultOpenTree}},t._l(i.children,function(t,i){return a("li",{staticClass:"nav-item"},[a("SidebarNavLink",{attrs:{name:t.name,url:"Empty"==t.Description.PageLink?void 0:t.url,icon:t.icon,badge:t.badge,variant:e.variant}})],1)}))]:[a("SidebarNavItem",{attrs:{classes:e.class}},[a("SidebarNavLink",{attrs:{name:i.name,url:"Empty"==i.Description.PageLink?void 0:i.url,icon:i.icon,badge:i.badge,variant:e.variant}})],1)]]})],2)]:[a("SidebarNavItem",{attrs:{classes:e.class}},[a("SidebarNavLink",{attrs:{name:e.name,url:"Empty"==e.Description.PageLink?void 0:e.url,icon:e.icon,badge:e.badge,variant:e.variant}})],1)]]]})],2),t._v(" "),t._t("default")],2),t._v(" "),a("SidebarFooter"),t._v(" "),a("SidebarMinimizer")],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-lg-3"},[a("b-card",{staticClass:"bg-primary",attrs:{"no-body":!0}},[a("div",{staticClass:"card-body pb-0"},[a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-settings"})]),t._v(" "),a("b-dropdown-item",[t._v("Action")]),t._v(" "),a("b-dropdown-item",[t._v("Another action")]),t._v(" "),a("b-dropdown-item",[t._v("Something else here...")]),t._v(" "),a("b-dropdown-item",{attrs:{disabled:""}},[t._v("Disabled action")])],2),t._v(" "),a("h4",{staticClass:"mb-0"},[t._v("9.823")]),t._v(" "),a("p",[t._v("Members online")])],1),t._v(" "),a("card-line1-chart-example",{staticClass:"chart-wrapper px-3",staticStyle:{height:"70px"},attrs:{height:"70"}})],1)],1),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-3"},[a("b-card",{staticClass:"bg-info",attrs:{"no-body":!0}},[a("div",{staticClass:"card-body pb-0"},[a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-location-pin"})]),t._v(" "),a("b-dropdown-item",[t._v("Action")]),t._v(" "),a("b-dropdown-item",[t._v("Another action")]),t._v(" "),a("b-dropdown-item",[t._v("Something else here...")]),t._v(" "),a("b-dropdown-item",{attrs:{disabled:""}},[t._v("Disabled action")])],2),t._v(" "),a("h4",{staticClass:"mb-0"},[t._v("9.823")]),t._v(" "),a("p",[t._v("Members online")])],1),t._v(" "),a("card-line2-chart-example",{staticClass:"chart-wrapper px-3",staticStyle:{height:"70px"},attrs:{height:"70"}})],1)],1),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-3"},[a("b-card",{staticClass:"bg-warning",attrs:{"no-body":!0}},[a("div",{staticClass:"card-body pb-0"},[a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-settings"})]),t._v(" "),a("b-dropdown-item",[t._v("Action")]),t._v(" "),a("b-dropdown-item",[t._v("Another action")]),t._v(" "),a("b-dropdown-item",[t._v("Something else here...")]),t._v(" "),a("b-dropdown-item",{attrs:{disabled:""}},[t._v("Disabled action")])],2),t._v(" "),a("h4",{staticClass:"mb-0"},[t._v("9.823")]),t._v(" "),a("p",[t._v("Members online")])],1),t._v(" "),a("card-line3-chart-example",{staticClass:"chart-wrapper",staticStyle:{height:"70px"},attrs:{height:"70"}})],1)],1),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-3"},[a("b-card",{staticClass:"bg-danger",attrs:{"no-body":!0}},[a("div",{staticClass:"card-body pb-0"},[a("b-dropdown",{staticClass:"float-right",attrs:{variant:"transparent p-0",right:""}},[a("template",{slot:"button-content"},[a("i",{staticClass:"icon-settings"})]),t._v(" "),a("b-dropdown-item",[t._v("Action")]),t._v(" "),a("b-dropdown-item",[t._v("Another action")]),t._v(" "),a("b-dropdown-item",[t._v("Something else here...")]),t._v(" "),a("b-dropdown-item",{attrs:{disabled:""}},[t._v("Disabled action")])],2),t._v(" "),a("h4",{staticClass:"mb-0"},[t._v("9.823")]),t._v(" "),a("p",[t._v("Members online")])],1),t._v(" "),a("card-bar-chart-example",{staticClass:"chart-wrapper px-3",staticStyle:{height:"70px"},attrs:{height:"70"}})],1)],1)]),t._v(" "),a("b-card",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("h4",{staticClass:"card-title mb-0"},[t._v("Traffic")]),t._v(" "),a("div",{staticClass:"small text-muted"},[t._v("November 2016")])]),t._v(" "),a("div",{staticClass:"col-sm-7 d-none d-md-block"},[a("b-button",{staticClass:"float-right",attrs:{type:"button",variant:"primary"}},[a("i",{staticClass:"icon-cloud-download"})]),t._v(" "),a("b-button-toolbar",{staticClass:"float-right",attrs:{"aria-label":"Toolbar with button groups"}},[a("b-button-group",{staticClass:"mr-3",attrs:{"aria-label":"First group"}},[a("b-button",{attrs:{variant:"outline-secondary"}},[t._v("Day")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary",pressed:!0}},[t._v("Month")]),t._v(" "),a("b-button",{attrs:{variant:"outline-secondary"}},[t._v("Year")])],1)],1)],1)]),t._v(" "),a("main-chart-example",{staticClass:"chart-wrapper",staticStyle:{height:"300px","margin-top":"40px"},attrs:{height:"300"}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("ul",[a("li",[a("div",{staticClass:"text-muted"},[t._v("Visits")]),t._v(" "),a("strong",[t._v("29.703 Users (40%)")]),t._v(" "),a("b-progress",{staticClass:"progress-xs mt-2",attrs:{precision:1,variant:"success",value:40}})],1),t._v(" "),a("li",{staticClass:"d-none d-md-table-cell"},[a("div",{staticClass:"text-muted"},[t._v("Unique")]),t._v(" "),a("strong",[t._v("24.093 Users (20%)")]),t._v(" "),a("b-progress",{staticClass:"progress-xs mt-2",attrs:{precision:1,variant:"info",value:20}})],1),t._v(" "),a("li",[a("div",{staticClass:"text-muted"},[t._v("Pageviews")]),t._v(" "),a("strong",[t._v("78.706 Views (60%)")]),t._v(" "),a("b-progress",{staticClass:"progress-xs mt-2",attrs:{precision:1,variant:"warning",value:60}})],1),t._v(" "),a("li",{staticClass:"d-none d-md-table-cell"},[a("div",{staticClass:"text-muted"},[t._v("New Users")]),t._v(" "),a("strong",[t._v("22.123 Users (80%)")]),t._v(" "),a("b-progress",{staticClass:"progress-xs mt-2",attrs:{precision:1,variant:"danger",value:80}})],1),t._v(" "),a("li",{staticClass:"d-none d-md-table-cell"},[a("div",{staticClass:"text-muted"},[t._v("Bounce Rate")]),t._v(" "),a("strong",[t._v("40.15%")]),t._v(" "),a("b-progress",{staticClass:"progress-xs mt-2",attrs:{precision:1,value:40}})],1)])])],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-lg-3"},[a("div",{staticClass:"social-box facebook"},[a("i",{staticClass:"fa fa-facebook"}),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("social-box-chart-example",{attrs:{data:[65,59,84,84,51,55,40],height:"90"}})],1),t._v(" "),t._m(0,!1,!1)])]),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-3"},[a("div",{staticClass:"social-box twitter"},[a("i",{staticClass:"fa fa-twitter"}),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("social-box-chart-example",{attrs:{data:[1,13,9,17,34,41,38],height:"90"}})],1),t._v(" "),t._m(1,!1,!1)])]),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-3"},[a("div",{staticClass:"social-box linkedin"},[a("i",{staticClass:"fa fa-linkedin"}),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("social-box-chart-example",{attrs:{data:[78,81,80,45,34,12,40],height:"90"}})],1),t._v(" "),t._m(2,!1,!1)])]),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-3"},[a("div",{staticClass:"social-box google-plus"},[a("i",{staticClass:"fa fa-google-plus"}),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("social-box-chart-example",{attrs:{data:[35,23,56,22,97,23,64],height:"90"}})],1),t._v(" "),t._m(3,!1,!1)])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-card",{attrs:{header:"Traffic & Sales"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-lg-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("Callout",{attrs:{variant:"info"}},[a("small",{staticClass:"text-muted"},[t._v("New Clients")]),a("br"),t._v(" "),a("strong",{staticClass:"h4"},[t._v("9,123")]),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("callout-chart-example",{attrs:{data:[35,23,56,22,97,23,64],variant:"#20a8d8",width:"80",height:"30"}})],1)])],1),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("Callout",{attrs:{variant:"danger"}},[a("small",{staticClass:"text-muted"},[t._v("Recurring Clients")]),a("br"),t._v(" "),a("strong",{staticClass:"h4"},[t._v("22,643")]),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("callout-chart-example",{attrs:{data:[65,59,84,84,51,55,40],variant:"#f86c6b",width:"80",height:"30"}})],1)])],1)]),t._v(" "),a("hr",{staticClass:"mt-0"}),t._v(" "),a("ul",{staticClass:"horizontal-bars"},[a("li",[a("div",{staticClass:"title"},[t._v("\n                  Monday\n                ")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:34,variant:"info"}}),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{value:78,variant:"danger"}})],1)]),t._v(" "),a("li",[a("div",{staticClass:"title"},[t._v("\n                  Tuesday\n                ")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:56,variant:"info"}}),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{value:94,variant:"danger"}})],1)]),t._v(" "),a("li",[a("div",{staticClass:"title"},[t._v("\n                  Wednesday\n                ")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:12,variant:"info"}}),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{value:67,variant:"danger"}})],1)]),t._v(" "),a("li",[a("div",{staticClass:"title"},[t._v("\n                  Thursday\n                ")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:43,variant:"info"}}),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{value:91,variant:"danger"}})],1)]),t._v(" "),a("li",[a("div",{staticClass:"title"},[t._v("\n                  Friday\n                ")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:22,variant:"info"}}),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{value:73,variant:"danger"}})],1)]),t._v(" "),a("li",[a("div",{staticClass:"title"},[t._v("\n                  Saturday\n                ")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:53,variant:"info"}}),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{value:82,variant:"danger"}})],1)]),t._v(" "),a("li",[a("div",{staticClass:"title"},[t._v("\n                  Sunday\n                ")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:9,variant:"info"}}),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{value:69,variant:"danger"}})],1)]),t._v(" "),a("li",{staticClass:"legend"},[a("b-badge",{attrs:{pill:"",variant:"info"}}),t._v(" "),a("small",[t._v("New clients")]),t._v("   "),a("b-badge",{attrs:{pill:"",variant:"danger"}}),t._v(" "),a("small",[t._v("Recurring clients")])],1)])]),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("Callout",{attrs:{variant:"warning"}},[a("small",{staticClass:"text-muted"},[t._v("Pageviews")]),a("br"),t._v(" "),a("strong",{staticClass:"h4"},[t._v("78,623")]),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("callout-chart-example",{attrs:{data:[35,23,56,22,97,23,64],variant:"#f8cb00",width:"80",height:"30"}})],1)])],1),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("Callout",{attrs:{variant:"success"}},[a("small",{staticClass:"text-muted"},[t._v("Organic")]),a("br"),t._v(" "),a("strong",{staticClass:"h4"},[t._v("49,123")]),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("callout-chart-example",{attrs:{data:[65,59,84,84,51,55,40],variant:"#4dbd74",width:"80px",height:"30"}})],1)])],1)]),t._v(" "),a("hr",{staticClass:"mt-0"}),t._v(" "),a("ul",{staticClass:"horizontal-bars type-2"},[a("li",[a("i",{staticClass:"icon-user"}),t._v(" "),a("span",{staticClass:"title"},[t._v("Male")]),t._v(" "),a("span",{staticClass:"value"},[t._v("43%")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:43,variant:"warning"}})],1)]),t._v(" "),a("li",[a("i",{staticClass:"icon-user-female"}),t._v(" "),a("span",{staticClass:"title"},[t._v("Female")]),t._v(" "),a("span",{staticClass:"value"},[t._v("37%")]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:37,variant:"warning"}})],1)]),t._v(" "),a("li",{staticClass:"divider"}),t._v(" "),a("li",[a("i",{staticClass:"icon-globe"}),t._v(" "),a("span",{staticClass:"title"},[t._v("Organic Search")]),t._v(" "),a("span",{staticClass:"value"},[t._v("191,235 "),a("span",{staticClass:"text-muted small"},[t._v("(56%)")])]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:56,variant:"success"}})],1)]),t._v(" "),a("li",[a("i",{staticClass:"icon-social-facebook"}),t._v(" "),a("span",{staticClass:"title"},[t._v("Facebook")]),t._v(" "),a("span",{staticClass:"value"},[t._v("51,223 "),a("span",{staticClass:"text-muted small"},[t._v("(15%)")])]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:15,variant:"success"}})],1)]),t._v(" "),a("li",[a("i",{staticClass:"icon-social-twitter"}),t._v(" "),a("span",{staticClass:"title"},[t._v("Twitter")]),t._v(" "),a("span",{staticClass:"value"},[t._v("37,564 "),a("span",{staticClass:"text-muted small"},[t._v("(11%)")])]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:11,variant:"success"}})],1)]),t._v(" "),a("li",[a("i",{staticClass:"icon-social-linkedin"}),t._v(" "),a("span",{staticClass:"title"},[t._v("LinkedIn")]),t._v(" "),a("span",{staticClass:"value"},[t._v("27,319 "),a("span",{staticClass:"text-muted small"},[t._v("(8%)")])]),t._v(" "),a("div",{staticClass:"bars"},[a("b-progress",{staticClass:"progress-xs",attrs:{value:8,variant:"success"}})],1)]),t._v(" "),a("li",{staticClass:"divider text-center"},[a("button",{staticClass:"btn btn-sm btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-options"})])])])]),t._v(" "),a("div",{staticClass:"col-sm-6 col-lg-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("Callout",[a("small",{staticClass:"text-muted"},[t._v("CTR")]),a("br"),t._v(" "),a("strong",{staticClass:"h4"},[t._v("23%")]),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("callout-chart-example",{attrs:{data:[78,81,80,45,34,12,40],width:"80px",height:"30"}})],1)])],1),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("Callout",{attrs:{variant:"primary"}},[a("small",{staticClass:"text-muted"},[t._v("Bounce Rate")]),a("br"),t._v(" "),a("strong",{staticClass:"h4"},[t._v("5%")]),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("callout-chart-example",{attrs:{data:[35,23,56,22,97,23,64],variant:"#20a8d8",width:"80px",height:"30"}})],1)])],1)]),t._v(" "),a("hr",{staticClass:"mt-0"}),t._v(" "),a("ul",{staticClass:"icons-list"},[a("li",[a("i",{staticClass:"icon-screen-desktop bg-primary"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"title"},[t._v("iMac 4k")]),t._v(" "),a("small",[t._v("Lorem ipsum dolor sit amet")])]),t._v(" "),a("div",{staticClass:"value"},[a("div",{staticClass:"small text-muted"},[t._v("Sold this week")]),t._v(" "),a("strong",[t._v("1.924")])]),t._v(" "),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-settings"})])])]),t._v(" "),a("li",[a("i",{staticClass:"icon-screen-smartphone bg-info"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"title"},[t._v("Samsung Galaxy Edge")]),t._v(" "),a("small",[t._v("Lorem ipsum dolor sit amet")])]),t._v(" "),a("div",{staticClass:"value"},[a("div",{staticClass:"small text-muted"},[t._v("Sold this week")]),t._v(" "),a("strong",[t._v("1.224")])]),t._v(" "),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-settings"})])])]),t._v(" "),a("li",[a("i",{staticClass:"icon-screen-smartphone bg-warning"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"title"},[t._v("iPhone 6S")]),t._v(" "),a("small",[t._v("Lorem ipsum dolor sit amet")])]),t._v(" "),a("div",{staticClass:"value"},[a("div",{staticClass:"small text-muted"},[t._v("Sold this week")]),t._v(" "),a("strong",[t._v("1.163")])]),t._v(" "),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-settings"})])])]),t._v(" "),a("li",[a("i",{staticClass:"icon-user bg-danger"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"title"},[t._v("Premium accounts")]),t._v(" "),a("small",[t._v("Lorem ipsum dolor sit amet")])]),t._v(" "),a("div",{staticClass:"value"},[a("div",{staticClass:"small text-muted"},[t._v("Sold this week")]),t._v(" "),a("strong",[t._v("928")])]),t._v(" "),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-settings"})])])]),t._v(" "),a("li",[a("i",{staticClass:"icon-social-spotify bg-success"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"title"},[t._v("Spotify Subscriptions")]),t._v(" "),a("small",[t._v("Lorem ipsum dolor sit amet")])]),t._v(" "),a("div",{staticClass:"value"},[a("div",{staticClass:"small text-muted"},[t._v("Sold this week")]),t._v(" "),a("strong",[t._v("893")])]),t._v(" "),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-settings"})])])]),t._v(" "),a("li",[a("i",{staticClass:"icon-cloud-download bg-danger"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"title"},[t._v("Ebook")]),t._v(" "),a("small",[t._v("Lorem ipsum dolor sit amet")])]),t._v(" "),a("div",{staticClass:"value"},[a("div",{staticClass:"small text-muted"},[t._v("Downloads")]),t._v(" "),a("strong",[t._v("121.924")])]),t._v(" "),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-settings"})])])]),t._v(" "),a("li",[a("i",{staticClass:"icon-camera bg-warning"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"title"},[t._v("Photos")]),t._v(" "),a("small",[t._v("Lorem ipsum dolor sit amet")])]),t._v(" "),a("div",{staticClass:"value"},[a("div",{staticClass:"small text-muted"},[t._v("Uploaded")]),t._v(" "),a("strong",[t._v("12.125")])]),t._v(" "),a("div",{staticClass:"actions"},[a("button",{staticClass:"btn btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-settings"})])])]),t._v(" "),a("li",{staticClass:"divider text-center"},[a("button",{staticClass:"btn btn-sm btn-link text-muted",attrs:{type:"button"}},[a("i",{staticClass:"icon-options"})])])])])]),t._v(" "),a("br"),t._v(" "),a("b-table",{staticClass:"table-outline table-responsive-sm b-0",attrs:{hover:"",items:t.tableItems,fields:t.tableFields,"head-variant":"light"},scopedSlots:t._u([{key:"avatar",fn:function(e){return a("div",{staticClass:"avatar"},[a("img",{staticClass:"img-avatar",attrs:{src:e.value.url,alt:""}}),t._v(" "),a("span",{staticClass:"avatar-status",class:{"bg-success":"success"==e.value.status,"bg-warning":"warning"==e.value.status,"bg-danger":"danger"==e.value.status,"bg-secondary":""==e.value.status}})])}},{key:"user",fn:function(e){return a("div",{},[a("div",[t._v(t._s(e.value.name))]),t._v(" "),a("div",{staticClass:"small text-muted"},[a("span",[e.value.new?[t._v("New")]:[t._v("Recurring")]],2),t._v(" | Registered: "+t._s(e.value.registered)+"\n            ")])])}},{key:"country",fn:function(t){return a("img",{staticStyle:{height:"24px"},attrs:{src:t.value.flag,alt:t.value.name}})}},{key:"usage",fn:function(e){return a("div",{},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"float-left"},[a("strong",[t._v(t._s(e.value.value)+"%")])]),t._v(" "),a("div",{staticClass:"float-right"},[a("small",{staticClass:"text-muted"},[t._v(t._s(e.value.period))])])]),t._v(" "),a("b-progress",{staticClass:"progress-xs",attrs:{variant:t.variant(e.value.value)},model:{value:e.value.value,callback:function(a){t.$set(e.value,"value",a)},expression:"item.value.value"}})],1)}},{key:"payment",fn:function(t){return a("i",{class:t.value.icon,staticStyle:{"font-size":"24px"}})}},{key:"activity",fn:function(e){return a("div",{},[a("div",{staticClass:"small text-muted"},[t._v("Last login")]),t._v(" "),a("strong",[t._v(t._s(e.value))])])}}])})],1)],1)])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("strong",[t._v("89k")]),t._v(" "),a("span",[t._v("friends")])]),t._v(" "),a("li",[a("strong",[t._v("459")]),t._v(" "),a("span",[t._v("feeds")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("strong",[t._v("973k")]),t._v(" "),a("span",[t._v("followers")])]),t._v(" "),a("li",[a("strong",[t._v("1.792")]),t._v(" "),a("span",[t._v("tweets")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("strong",[t._v("500+")]),t._v(" "),a("span",[t._v("contacts")])]),t._v(" "),a("li",[a("strong",[t._v("292")]),t._v(" "),a("span",[t._v("feeds")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("strong",[t._v("894")]),t._v(" "),a("span",[t._v("followers")])]),t._v(" "),a("li",[a("strong",[t._v("92")]),t._v(" "),a("span",[t._v("circles")])])])}],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t){a(918)}var s=a(919),o=a(924),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-3df49875",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";(function(t){var i=a(104),s=a.n(i),o=a(920);e.a={inject:["loadAvatar"],name:"TaskSummaryTable",components:{CustomizableTable:o.a},methods:{getWarningConfig:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:!1,R1_ParentCode:"xSetting.Project.Parameter.TaskSummaryTable.Status"};this.$Utils.postCheckResult(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting"),t.warning=t.$Lodash.keyBy(e,"Value")})},getDeptEmpTableData:function(){var t=this;this.signal=0;var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Search",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;Status;Deadline;Project;ProjectName;Worker;WorkerName",R1_Project:this.currentDept,R1_DeadlineStartValue:"2017-01-01T00:00:00",R1_DeadlineEndValue:this.$Utils.formatDateTime(this.$rootScope.dateFilter[0]),R1_Status:"db8e700c-78c6-4f35-9477-36e0335888f5;fab4fa55-cf1d-4625-8f65-8b43e832061b;05625d94-3884-4f00-9918-254c1216c6cd;5756c3d9-37a8-4032-bd6c-2a01161b73c7;bbc399a9-a2b4-45ad-b948-32e5623dc021"};this.$Utils.post(e).then(function(e){t.$Utils.getDataWithRoot(e,"R1.Data.TasksDS.Task").forEach(function(e){t.tasksObjectR1[e.Project]||(t.tasksObjectR1[e.Project]={Category:e.Project,Lead:e.ProjectName,LeadAuthor:e.ProjectName,TotalAttachments:0,TotalComments:0,TotalDownloads:0,TotalPages:0,TotalRatingPoints:0,TotalRatings:0,BeforeTotalPages:0,TotalReadingTimes:0,Priority:0,State:0}),t.tasksObjectR1[e.Project+";"+e.Worker]||(t.tasksObjectR1[e.Project+";"+e.Worker]={Category:e.Project,Lead:e.ProjectName,DisplayImage:e.Worker,Author:e.WorkerName,LeadAuthor:e.WorkerName,TotalAttachments:0,TotalComments:0,TotalDownloads:0,TotalPages:0,TotalRatingPoints:0,TotalRatings:0,BeforeTotalPages:0,TotalReadingTimes:0,Priority:0,State:1,Avatar:t.loadAvatar(t.userAvatars[e.Worker].Avatar)}),t.tasksObjectR1[e.Project].BeforeTotalPages++,t.tasksObjectR1[e.Project+";"+e.Worker].BeforeTotalPages++}),t.signal++});var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xDocument_Document.Search",R1_RequestDataGroup:"DataGroup.tasksummary.0d2g9",R1_Code:"TaskSummary",R1_RequestFields:"Id;Category;Code;Lead;TotalAttachments;TotalComments;TotalDownloads;TotalPages;TotalRatingPoints;TotalRatings;DisplayDate;State;TotalReadingTimes;Priority;DisplayImage;Author",R1_DisplayDateStartValue:this.$Utils.formatDateTime(this.$rootScope.dateFilter[0]),R1_DisplayDateEndValue:this.$Utils.formatDateTime(this.$rootScope.dateFilter[1])};this.tasksObjectR2={},this.$Utils.post(a).then(function(e){t.$Utils.getDataWithRoot(e.R1,"Data.DocumentDS.Document").forEach(function(e){"0"===e.State?(t.tasksObjectR2[e.Category]||(t.tasksObjectR2[e.Category]={OrderByKey:e.Category,Category:e.Category,Lead:e.Lead,LeadAuthor:e.Lead,TotalAttachments:0,TotalComments:0,TotalDownloads:0,TotalPages:0,TotalRatingPoints:0,TotalRatings:0,BeforeTotalPages:0,TotalReadingTimes:0,Priority:0,State:0}),t.tasksObjectR2[e.Category].TotalAttachments+=isNaN(parseInt(e.TotalAttachments))?0:parseInt(e.TotalAttachments),t.tasksObjectR2[e.Category].TotalComments+=isNaN(parseInt(e.TotalComments))?0:parseInt(e.TotalComments),t.tasksObjectR2[e.Category].TotalDownloads+=isNaN(parseInt(e.TotalDownloads))?0:parseInt(e.TotalDownloads),t.tasksObjectR2[e.Category].TotalPages+=isNaN(parseInt(e.TotalPages))?0:parseInt(e.TotalPages),t.tasksObjectR2[e.Category].TotalRatingPoints+=isNaN(parseInt(e.TotalRatingPoints))?0:parseInt(e.TotalRatingPoints),t.tasksObjectR2[e.Category].TotalRatings+=isNaN(parseInt(e.TotalRatings))?0:parseInt(e.TotalRatings),t.tasksObjectR2[e.Category].TotalReadingTimes+=isNaN(parseInt(e.TotalReadingTimes))?0:parseInt(e.TotalReadingTimes),t.tasksObjectR2[e.Category].Priority+=isNaN(parseInt(e.Priority))?0:parseInt(e.Priority)):"1"===e.State&&(t.tasksObjectR2[e.Category+";"+e.DisplayImage]||(t.tasksObjectR2[e.Category+";"+e.DisplayImage]={OrderByKey:e.Category+";"+e.DisplayImage,Category:e.Category,Lead:e.Lead,Author:e.Author,LeadAuthor:e.Author,DisplayImage:e.DisplayImage,TotalAttachments:0,TotalComments:0,TotalDownloads:0,TotalPages:0,TotalRatingPoints:0,TotalRatings:0,BeforeTotalPages:0,TotalReadingTimes:0,Priority:0,State:1,Avatar:t.loadAvatar(t.userAvatars[e.DisplayImage].Avatar)}),t.tasksObjectR2[e.Category+";"+e.DisplayImage].TotalAttachments+=isNaN(parseInt(e.TotalAttachments))?0:parseInt(e.TotalAttachments),t.tasksObjectR2[e.Category+";"+e.DisplayImage].TotalComments+=isNaN(parseInt(e.TotalComments))?0:parseInt(e.TotalComments),t.tasksObjectR2[e.Category+";"+e.DisplayImage].TotalDownloads+=isNaN(parseInt(e.TotalDownloads))?0:parseInt(e.TotalDownloads),t.tasksObjectR2[e.Category+";"+e.DisplayImage].TotalPages+=isNaN(parseInt(e.TotalPages))?0:parseInt(e.TotalPages),t.tasksObjectR2[e.Category+";"+e.DisplayImage].TotalRatingPoints+=isNaN(parseInt(e.TotalRatingPoints))?0:parseInt(e.TotalRatingPoints),t.tasksObjectR2[e.Category+";"+e.DisplayImage].TotalRatings+=isNaN(parseInt(e.TotalRatings))?0:parseInt(e.TotalRatings),t.tasksObjectR2[e.Category+";"+e.DisplayImage].TotalReadingTimes+=isNaN(parseInt(e.TotalReadingTimes))?0:parseInt(e.TotalReadingTimes),t.tasksObjectR2[e.Category+";"+e.DisplayImage].Priority+=isNaN(parseInt(e.Priority))?0:parseInt(e.Priority))}),t.signal++})},getColorSettings:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"SettingNew.SearchSetting",R1_IncludedNestedSetParent:!1,R1_ParentCode:"xSetting.Project.Parameter.TaskSummaryTable.Color"};this.$Utils.postCheckResult(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting");var a=t.$Utils.treeify(e,"Id","ParentId");t.colors=t.$Utils.rotateDementionArr(a,"Code"),t.colorLoaded=!0})},colorifyText:function(e,a){var i=this;try{var s="",o=this.colors["TaskSummaryTable.Color."+a.name];return void 0==o?"":(t.each(o.children,function(t,o){var n=o.Code.split("to");if(parseInt(n[0])<=e[a.name]&&e[a.name]<=parseInt(n[1]))return s=i.warning[o.Value].Color,!1}),s)}catch(t){return""}},rowColorify:function(t){var e=t.row;t.rowIndex;return 0==e.State?{"background-color":"#dadada","font-weight":"bold"}:""},getAvatar:function(){var t=this,e={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",StaticFields:"UserId;",DynamicFields:"Avatar;"};this.$Utils.post(e).then(function(e){e=t.$Utils.getDataWithRoot(e,"Data.UserDS.User"),e=t.$Lodash.filter(e,function(t){return"superadmin"!=t.LoginName}),t.userAvatars=t.$Lodash.keyBy(e,"UserId"),t.avatarLoaded=!0})},buildTableData:function(){var e=this;this.avatarLoaded&&2==this.signal&&(t.each(this.tasksObjectR2,function(t,a){a.BeforeTotalPages=e.tasksObjectR1[t]?e.tasksObjectR1[t].BeforeTotalPages:0}),this.cachedTableData=this.$Lodash.orderBy(s()(this.tasksObjectR2),["OrderByKey"],["asc"]),this.tableData.cellData=this.$Lodash.cloneDeep(this.cachedTableData))}},watch:{signal:function(t){this.buildTableData()},avatarLoaded:function(t){this.buildTableData()}},created:function(){var t=this;if(this.getWarningConfig(),this.getAvatar(),this.currentDept=this.$rootScope.selectedGroupId,this.getColorSettings(),this.$isMantisAdmin()||this.$isSystemAdmin())this.currentUser.departments="",this.currentDept=this.$rootScope.selectedGroupId?this.$rootScope.selectedGroupId:"",this.getDeptEmpTableData();else{var e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"tblGroup.Search",R1_RequestDataGroup:"DataGroup.quan-ly-du-an.053gf",R1_RequestFields:"GroupId;GroupName;GroupType;Status",R1_GroupType:1,R1_Status:1,R1_AssignedUser:this.$getItemLocalStorage(this.$localStorageConstant.SessionId)};this.$Utils.postCheckResult(e).then(function(e){e=t.$Utils.getDataWithRoot(e.R1,"Data.UserDS.Group"),t.currentUser.departments="",e.forEach(function(e){t.currentUser.departments+=e.GroupId+";"}),t.currentDept=t.currentDept&&""!=t.currentDept?t.currentDept:t.currentUser.departments,t.getDeptEmpTableData()})}this.$hub.$on("groupPicked",function(e){t.currentDept=e,!e||0==e.length||1==e.length&&e[0].indexOf(";")>-1?t.tableData.cellData=t.cachedTableData:t.tableData.cellData=t.cachedTableData.filter(function(t){return t.OrderByKey.indexOf(e)>-1})}),this.currentWeek.monday=this.$rootScope.dateFilter[0],this.currentWeek.sunday=this.$rootScope.dateFilter[1],this.$hub.$on("datePicked",function(e){void 0!==t.currentDept&&(t.$Utils.formatDateTime(e[0],"YYYYMMDD")==t.$Utils.formatDateTime(t.currentWeek.monday,"YYYYMMDD")&&t.$Utils.formatDateTime(e[1],"YYYYMMDD")==t.$Utils.formatDateTime(t.currentWeek.sunday,"YYYYMMDD")?(t.tableData.columns.forEach(function(t){if("TotalPages"==t.name)return t.label="Quá hạn trong tuần",!1}),t.tableData.columns.forEach(function(t){if("TotalPages"==t.name)return t.label="Quá hạn trong tuần",!1})):(t.tableData.columns.forEach(function(t){if("TotalPages"==t.name)return t.label="Quá hạn trong thời gian lọc",!1}),t.tableData.columns.forEach(function(t){if("TotalPages"==t.name)return t.label="Quá hạn trong thời gian lọc",!1})),t.getDeptEmpTableData())})},destroyed:function(){this.$hub.$off("groupPicked"),this.$hub.$off("workerPicked"),this.$hub.$off("datePicked")},data:function(){return{warning:{},avatarLoaded:!1,signal:0,userAvatars:{},tasksObjectR1:{},tasksObjectR2:{},currentWeek:{monday:"",sunday:""},cachedTableData:[],colorLoaded:!1,isShowEmpTable:!1,currentUser:JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.LoggedOnUser)),selectedGroupIds:"",listDepartments:[],currentDept:void 0,tableData:{tblName:"deptEmpTbl",rowColorify:this.rowColorify,colorifyText:this.colorifyText,hasMultiSelect:!1,stripe:!1,hasIndex:!1,border:!0,fit:!1,width:"100%",cellData:[],columns:[{label:"Phòng ban/ Nhân sự",name:"LeadAuthor",fixed:!1,width:180,img:"Avatar",imgStyle:"width:42px; height:42px; border-radius: 50em;"},{label:"Xem",name:"Priority",fixed:!1,width:"auto"},{label:"Bình luận",name:"TotalRatingPoints",fixed:!1,width:"auto"},{label:"Trao đổi",name:"TotalReadingTimes",fixed:!1,width:"auto"},{label:"Cập nhật",name:"TotalRatings",fixed:!1,width:"auto"},{label:"Tạo mới",name:"TotalAttachments",fixed:!1,width:"auto"},{label:"Hoàn thành",name:"TotalComments",fixed:!1,width:"auto"},{label:"Chuyển trạng thái",name:"TotalDownloads",fixed:!1,width:"auto"},{label:"Quá hạn trong tuần",name:"TotalPages",fixed:!1,width:"auto"},{label:"Quá hạn từ trước",name:"BeforeTotalPages",fixed:!1,width:"auto"}]},colors:{}}}}}).call(e,a(2))},function(t,e,a){"use strict";function i(t){a(921)}var s=a(922),o=a(923),n=a(0),l=i,r=n(s.a,o.a,!1,l,"data-v-46048279",null);e.a=r.exports},function(t,e){},function(t,e,a){"use strict";e.a={name:"CustomizableTable",props:["tblData"],data:function(){return{tableData:this.tblData}},watch:{},methods:{handleSelectionChange:function(t){this.$hub.$emit("rowsSelected",{data:t,name:this.tableData.tblName})},emitEvent:function(t){this.$hub.$emit("columnClicked",t)}}}},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tblData.rowColorify?a("el-table",{style:"width:"+t.tableData.width,attrs:{data:t.tableData.cellData,stripe:t.tableData.stripe,border:t.tableData.border,"empty-text":t.tableData.emptyText,"highlight-current-row":"","row-style":t.tblData.rowColorify},on:{"selection-change":t.handleSelectionChange}},[t.tableData.hasMultiSelect?a("el-table-column",{attrs:{type:"selection",width:"50"}}):t._e(),t._v(" "),t.tableData.hasIndex?a("el-table-column",{attrs:{type:"index",width:"50"}}):t._e(),t._v(" "),t._l(t.tableData.columns,function(e){return a("el-table-column",{attrs:{label:e.label,type:e.type,fixed:e.fixed,width:e.width},scopedSlots:t._u([{key:"default",fn:function(i){return[a("div",{style:t.tblData.rowColorify},["link"===e.clickableType?a("div",{style:e.style,on:{click:function(a){t.emitEvent([i.row,e,i.$index])}}},[e.class?a("i",{class:e.class}):t._e(),t._v(" "),e.img&&i.row[e.img]?a("img",{style:e.imgStyle,attrs:{src:i.row[e.img]}}):t._e(),t._v(" "),e.name?a("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(i.row[e.name]))]):t._e()]):"tool"===e.clickableType?a("div",{style:e.style},t._l(e.icons,function(s){return s.isClickable?a("i",{class:s.class,staticStyle:{cursor:"pointer"},on:{click:function(a){t.emitEvent([i.$index,e,s])}}}):t._e()})):a("div",{style:e.style+" ;color:"+t.tblData.colorifyText(i.row,e)},[e.img&&i.row[e.img]?a("img",{style:e.imgStyle,attrs:{src:i.row[e.img]}}):t._e(),t._v("\n          "+t._s(i.row[e.name]))])])]}}])})})],2):t._e()},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{attrs:{direction:"vertical"}},[a("el-row",[a("span",[a("b",[t._v("Chuyên cần ")])]),t._v(" "),t._l(t.warning,function(e){return a("i",{key:e.Value,staticClass:"fa fa-square ml-3",style:"color:"+e.Color},[t._v(t._s(e.Caption))])}),t._v(" \n    ")],2),t._v(" "),a("el-row",[t.colorLoaded?a("CustomizableTable",{attrs:{tblData:t.tableData}}):t._e()],1)],1)],1)},s=[],o={render:i,staticRenderFns:s};e.a=o},function(t,e,a){"use strict";function i(t,e,a){s.a.checkSession().then(function(e){e.success?a():a({path:"/login",query:{redirect:t.fullPath}})})}e.a=i;var s=(a(3),a(7))},,function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,a){"use strict";var i=a(3),s=a(272);i.default.use(s.a);var o={data:"",arr:[],statusRequest:{RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBase",R1_ParentCode:"xSystem.Setting.xTask.Status"},priorityRequest:{RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xEdu.TaskPriority",R1_Code:"TaskPriority"}},n={getData:function(t){return t.data},getArr:function(t){return t.arr}},l={addData:function(t,e){t.arr=e}},r={addData:function(t){t.commit("addData")}};e.a=new s.a.Store({state:o,getters:n,mutations:l,actions:r})},function(t,e){t.exports={UploadFile:{message:{tip:"upload files with a size less than 20Mb"}}}},function(t,e){t.exports={UploadFile:{message:{tip:"File đính kèm không được quá 20Mb"}}}},,,,,,,,,,,,function(t,e){t.exports="../../static/img/logo.9ba9289.png"}],[298]);
//# sourceMappingURL=app.5141035b58cba0d975f7.js.map