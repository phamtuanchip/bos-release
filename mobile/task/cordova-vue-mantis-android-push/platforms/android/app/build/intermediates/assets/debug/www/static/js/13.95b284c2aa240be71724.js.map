{"version":3,"sources":["webpack:///static/js/13.95b284c2aa240be71724.js","webpack:///./src/components/static/POS/POSes.vue?bd96","webpack:///./src/components/static/POS/POSes.vue?c5cf","webpack:///src/components/static/POS/POSes.vue","webpack:///./src/components/static/POS/POS.vue","webpack:///./src/components/static/POS/POS.vue?af26","webpack:///./src/components/static/POS/POS.vue?3630","webpack:///src/components/static/POS/POS.vue","webpack:///./src/components/static/POS/POS.vue?b13c","webpack:///./src/components/static/POS/POSes.vue?a89b","webpack:///./src/components/static/POS/POSes.vue","webpack:///(webpack)/buildin/harmony-module.js"],"names":["webpackJsonp","1233","module","exports","__webpack_require__","content","i","locals","1234","push","version","sources","names","mappings","file","sourceRoot","1235","__webpack_exports__","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1__POS__","name","components","POS","data","model","editableTabsValue","editableTabs","title","tabIndex","savedPos","this","$getItemLocalStorage","JSON","parse","length","methods","handleTabsEdit","targetName","action","_this","newTabName","$confirm","cancelButtonText","confirmButtonText","type","then","$hub","$emit","catch","returnProductsToWH","_this2","list","idsToDel","orderId","whReq","RequestClass","RequestAction","TotalRequests","filter","v","k","OrderPartId","Id","Quantity","formSetting","changed","ColumnCaption","ColumnName","OldDisplayValue","OldValue","NewDisplayValue","NewValue","BillCode","$Utils","postCheckResult","whRes","success","delReq","each","index","val","delRes","tabs","activeName","forEach","tab","nextTab","$setItemLocalStorage","created","_this3","$on","destroyed","$off","call","1236","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_POS_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b12ec40_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_POS_vue__","normalizeComponent","__vue_styles__","Component","1237","1238","sourcesContent","1239","props","newModel","disabled","contact","lead","order","orderPart","warehouse","posModel","seller","localStorage","getItem","UserId","Name","Username","LoginName","pos","paymentModel","sum_of_payment","cash","change","customerCard","bankMoney","gaveMoney","contactModel","CustomerCode","Source","Birthday","Address","CampaignCode","Location","Gender","OfficialNumber","orderModel","Created","formatDateTime","Date","TimeFrame","Warehouse","Phone","MetaDescription","IsProcessing","contact_search_keyword","barcode_search_keyword","showEditProductModal","productEditing","cart","params","genders","campaignCodes","timeFrameNames","provinces","poses","users","customers","warehouses","contactRules","required","message","trigger","orderRules","min","max","posRules","paymentRules","cachedContact","contactFields","Caption","IdentityCode","LeadSource","leadFields","Store","CreatedBy","ModifiedBy","Author","orderFields","orderPartFields","ProductCode","ProductType","ProductPrice","Price","ProductColor","ProductSize","Category","DiscountMoney","DiscountPercent","ProductCount","Total","Status","DeliveryStatus","PaymentStatus","ProductUnit","ProductShopCode","MetaKeywords","fieldMappingPrinter","Barcode","TotalPages","TotalComments","TotalDownloads","TotalRatingPoints","TotalRatings","DataGroup.pointofsales.09egb.Description","User.LoginName","passedItem","item","campaignId","undefined","loadResources","requestWH","R1_RequestDataGroup","R1_RequestFields","R1_Code","R1_RequestTemplate","post","response","getDataWithRoot","R1","request","value","parameter","ConditionFields","StaticFields","DynamicFields","StructFields","R1_ParentCode","isMobile","$isMobileDevice","handleUpdateProduct","$set","findIndex","product","handleCloseEditProductModal","handleEditProduct","handleDeleteProduct","row","cached","$Lodash","cloneDeep","sourceData","sourceSetting","replacePermission","$message","R1_Id","error","computeTotalMoney","parseInt","saveSingleOrderPart","OrderId","isUpdate","_this4","orderPartRequest","Promulgator","Categories","CategoriesName","ProductColorName","Size","SizeName","isNaN","SourceUrl","MetaDescriptionName","Data","handleBarcodeSearchConfirm","_this5","equals","center","$refs","validate","valid1","valid2","valid3","valid4","barcodeEntered","reqCheckBillCode","R1_BillCode","resCheckBillCode","listOrders","R1_MetaKeywords","R1_Status","productLst","Priority","R1_UpdateWarehouse","R1_Priority","R1_FormSetting","existed","x","orderRequest","R1_CreatedBy","R1_CreatedByName","R1_ModifiedBy","R1_ModifiedByName","R1_GroupId","R1_Store","R1_StoreName","R1_StatusName","R1_Name","R1_Phone","R1_CampaignCode","R1_CampaignCodeName","R1_CustomerCode","R1_Author","R1_AuthorName","R1_OfficialNumber","format_currency","a","replaceAll","replace","onCustomerCashChange","total","returnCash","getFormSetting","formCode","_this6","req","$singleRequest","refModule","Description","isEmpty","Fields","FCount","Code","DataGroup","Value","ModuleType","functions","onFilter","key","element","ElementType","treeData","Permissions","stringToObject","LeadershipDynamicOrganization","arrDP","DynamicPermissions","split","FormCode","StatusDisplay","calculateOrderCash","productList","_this7","tmp","querySearch","queryString","cb","_this8","R1_StartIndex","R1_EndIndex","R1_Keyword","handleSelect","LeadSourceName","LocationName","GenderName","TimeFrameName","save","_this9","orderDate","getHours","console","log","checkExistedReq","R2_RequestDataGroup","R2_RequestFields","R2_Code","R2_RequestTemplate","R2_BillCode","R3_RequestFields","R3_RequestDataGroup","R3_Code","R3_RequestTemplate","R3_IdentityCode","checkExistedRes","msg","leads","R2","R3","substring","contactRequest","R1_Birthday","R1_Gender","R1_GenderName","R1_LeadSource","R1_LeadSourceName","R1_Location","R1_LocationName","R1_Address","R1_IdentityCode","contactChanged","R1_Changed","sourceData1","sourceSetting1","leadRequest","R1_TimeFrame","R1_TimeFrameName","R1_Source","R1_SourceName","leadChanged","sourceData2","sourceSetting2","orderChanged","R1_TotalComments","R1_TotalDownloads","R1_TotalPages","R1_TotalRatingPoints","R1_TotalRatings","R1_MetaDescription","R1_PaymentStatus","R1_PaymentStatusName","sourceData3","sourceSetting3","orderPartChanged","contactResponse","R1_DocumentForm","leadResponse","R1_DocumentField","orderPartRes","orderResponse","getValueFromVariable","root","returnVal","constructor","String","lst","print","_this10","ctrl","htmlTemplate","decodeHtmlEntities","json","loops","loop","loopVal","k1","v1","loopValTmp","k2","v2","indexOf","allVariables","mywindow","window","open","paper","document","write","setTimeout","close","focus","e","changeCampaign","_this11","_this12","watch","model.orderModel.Warehouse","newVal","_this13","model.productEditing.DiscountMoney","model.productEditing.DiscountPercent","model.paymentModel.cash","model.paymentModel.customerCard","model.paymentModel.bankMoney","model.cart","handler","deep","1240","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","label","_v","value-key","placeholder","filterable","callback","$$v","expression","_l","suffix-icon","nativeOn","keyup","$event","_k","keyCode","staticStyle","width","empty-text","border","align","header-align","prop","scopedSlots","_u","fn","scope","_s","hidden","_e","fixed","on","click","margin","visible","before-close","update:visible","ref","label-width","label-position","padding-top","auto-complete","fetch-suggestions","select","padding","inline","rules","clearable","format","rows","slot","staticRenderFns","esExports","1241","editable","edit","965","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_POSes_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_748bdd8e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_POSes_vue__","984","originalModule","webpackPolyfill","create","children","enumerable","get","l"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAASC,GCAjC,GAAAC,GAAAD,EAAA,KACA,iBAAAC,SAAAH,EAAAI,EAAAD,EAAA,MACAA,EAAAE,SAAAL,EAAAC,QAAAE,EAAAE,OAEAH,GAAA,gBAAAC,GAAA,IDSMG,KACA,SAAUN,EAAQC,EAASC,GEjBjCD,EAAAD,EAAAC,QAAAC,EAAA,SAKAD,EAAAM,MAAAP,EAAAI,EAAA,OAAkCI,QAAA,EAAAC,WAAAC,SAAAC,SAAA,GAAAC,KAAA,YAAAC,WAAA,OF0B5BC,KACA,SAAUd,EAAQe,EAAqBb,GAE7C,cAC4B,SAASc,GAAyB,GAAIC,GAAqEf,EAAoB,GAClIgB,EAA6EhB,EAAoBiB,EAAEF,GACnGG,EAAqClB,EAAoB,KG3BlFa,GAAA,GHiCEM,KG/BF,QHgCEC,YG/BFC,IAAAH,EAAA,GHgCEI,KAAM,WACJ,GAAIC,IACFC,kBG/BN,IHgCMC,eACEC,MG/BR,YHgCQP,KG9BR,MHgCMQ,SG9BN,GHgCQC,EAAWC,KAAKC,qBG/BxB,MHoCI,OAJIF,IAAwB,aAAZA,GAA2BG,KAAKC,MAAMJ,GAAUH,aAAaQ,OAAS,IACpFV,EAAQQ,KAAKC,MG/BnBJ,KHmCML,MG9BNA,IHkCEW,SACEC,eAAgB,SAAwBC,EAAYC,GGhCxD,GAAAC,GAAAT,IHmCM,IAAe,QAAXQ,EGlCV,CHmCQ,GAAIE,KAAeV,KAAKN,MAAMI,SGlCtC,EHmCQE,MAAKN,MAAME,aAAapB,MACtBqB,MAAO,WGlCjBa,EHmCUpB,KGjCVoB,IHmCQV,KAAKN,MAAMC,kBGlCnBe,EHoCqB,WAAXF,GACFR,KAAKW,SAAS,iDAAkD,WAC9DC,iBGlCV,QHmCUC,kBGlCV,KHmCUC,KGlCV,YAHAC,KAAA,WHuCUN,EAAMO,KAAKC,MAAM,WGlC3BV,KHmCWW,MAAM,eAGbC,mBAAoB,SAA4B1B,GG7BpD,GAAA2B,GAAApB,IHgCM,IAAIP,EAAK4B,KG/Bf,CHgCQ,GAAIC,KACJA,GAAS9C,KAAKiB,EG/BtB8B,QHgCQ,IAAIC,IACFC,aG/BV,QHgCUC,cG/BV,UHgCUC,cAAelC,EAAK4B,KG9B9BjB,OHgCQX,GAAK4B,KAAKO,OAAO,SAAUC,EAAGC,GAC5BR,EAAS9C,KAAKiB,EAAK4B,KAAKS,GG/BlCC,aHgCUP,EAAM,KAAOM,EAAI,GAAK,kBG/BhC,uDHgCUN,EAAM,KAAOM,EAAI,GAAK,SG/BhC,YHgCUN,EAAM,KAAOM,EAAI,GAAK,oBG/BhC,4BHgCUN,EAAM,KAAOM,EAAI,GAAK,qBG/BhC,4BHgCUN,EAAM,KAAOM,EAAI,GAAK,qBG/BhC,EHgCUN,EAAM,KAAOM,EAAI,GAAK,OAASD,EG/BzCG,GHgCUR,EAAM,KAAOM,EAAI,GAAK,aAAeD,EG/B/CI,SHgCUT,EAAM,KAAOM,EAAI,GAAK,gBAAkBrC,EG9BlDyC,WHgCU,IAAIC,KACFC,cG/BZ,wBHgCYC,WG/BZ,WHgCYC,gBG/BZ,GHgCYC,SG/BZ,GHgCYC,gBAAmBX,EAAEI,SG/BjC,GHgCYQ,SAAYZ,EAAEI,SG/B1B,KHiCYG,cG/BZ,aHgCYC,WG/BZ,cHgCYC,gBG/BZ,GHgCYC,SG/BZ,GHgCYC,gBAAmB/C,EG/B/BiD,SHgCYD,SG9BZ,IHgCUjB,GAAM,KAAOM,EAAI,GAAK,YAAc3C,IG/B9CgD,KHiCQnC,KAAK2C,OAAOC,gBAAgBpB,GAAOT,KAAK,SAAU8B,GAChD,GAAIA,EAAMC,QG/BpB,CHgCY,GAAIC,IACFtB,aG/Bd,QHgCcC,cG/Bd,UHgCcC,cAAeL,EG9B7BlB,OHgCYnB,GAAE+D,KAAK1B,EAAU,SAAU2B,EAAOC,GAChCH,EAAO,KAAOE,EAAQ,GAAK,oBG/BzC,4BHgCcF,EAAO,KAAOE,EAAQ,GAAK,OG/BzCC,IHiCY9B,EAAOuB,OAAOC,gBAAgBG,GAAQhC,KAAK,SAAUoC,GACnD,GAAIA,EAAOL,QG/BzB,CHgCgB,GAAIM,GAAOhC,EAAO1B,MG/BlCE,aHgCoByD,EAAajC,EAAO1B,MG/BxCC,iBHgCoB0D,KAAe5D,EAAKc,YACtB6C,EAAKE,QAAQ,SAAUC,EAAKN,GAC1B,GAAIM,EAAIjE,OAASG,EAAKc,WG/B1C,CHgCsB,GAAIiD,GAAUJ,EAAKH,EAAQ,IAAMG,EAAKH,EG/B5D,EHgC0BO,KACFH,EAAaG,EG/BrClE,SHoCgB8B,EAAO1B,MAAMC,kBG/B7B0D,EHgCgBjC,EAAO1B,MAAME,aAAewD,EAAKxB,OAAO,SAAU2B,GAChD,MAAOA,GAAIjE,OAASG,EGhCtCc,aHkCgBa,EAAOqC,qBAAqB,MAAOtE,IAA6EiC,EGjChI1B,OHkCgB,IAAIgB,KAAeU,EAAO1B,MAAMI,SGjChD,EHkCgBsB,GAAO1B,MAAME,aAAapB,MACxBqB,MAAO,WGjCzBa,EHkCkBpB,KGjClBoB,EHkCkBtC,QGhClB,oBHkCgBgD,EAAO1B,MAAMC,kBGjC7Be,YAOA,CHiCQ,GAAI0C,GAAOpD,KAAKN,MGhCxBE,aHiCYyD,EAAarD,KAAKN,MGhC9BC,iBHiDQ,IAhBI0D,IAAe5D,EAAKc,YACtB6C,EAAKE,QAAQ,SAAUC,EAAKN,GAC1B,GAAIM,EAAIjE,OAASG,EAAKc,WGhClC,CHiCc,GAAIiD,GAAUJ,EAAKH,EAAQ,IAAMG,EAAKH,EGhCpD,EHiCkBO,KACFH,EAAaG,EGhC7BlE,SHqCQU,KAAKN,MAAMC,kBGhCnB0D,EHiCQrD,KAAKN,MAAME,aAAewD,EAAKxB,OAAO,SAAU2B,GAC9C,MAAOA,GAAIjE,OAASG,EGjC9Bc,aHmCQP,KAAKyD,qBAAqB,MAAOtE,IAA6Ea,KGjCtHN,QHmC8C,GAAlCM,KAAKN,MAAME,aAAaQ,OGlCpC,CHmCU,GAAIM,KAAeV,KAAKN,MAAMI,SGlCxC,EHmCUE,MAAKN,MAAME,aAAapB,MACtBqB,MAAO,WGlCnBa,EHmCYpB,KGlCZoB,EHmCYtC,QGjCZ,oBHmCU4B,KAAKN,MAAMC,kBGlCrBe,MHuCEgD,QAAS,WGlCX,GAAAC,GAAA3D,IHqCIA,MAAKgB,KAAK4C,IAAI,cAAe,SAAUnE,GACrCkE,EAAOxC,mBGpCb1B,KHuCIO,KAAKgB,KAAK4C,IAAI,qBAAsB,WAClCD,EAAOF,qBAAqB,MAAOtE,IAA6EwE,EGpCtHjE,WHuCEmE,UAAW,WACT7D,KAAKgB,KAAK8C,KGpCd,eHqCI9D,KAAKgB,KAAK8C,KGpCd,sBHqCI9D,KAAKgB,KAAK8C,KGpCd,gBHuC6BC,KAAK/E,EAAqBb,EAAoB,KAIrE6F,KACA,SAAU/F,EAAQe,EAAqBb,GAE7C,YI9NA,SAAA8F,GAAAC,GACA/F,EAAA,MJ8NqB,GAAIgG,GAA+GhG,EAAoB,MI/N5JiG,EAAAjG,EAAA,MAGAkG,EAAAlG,EAAA,GAQAmG,EAAAL,EAKAM,EAAAF,EACAF,EAAA,EACAC,EAAA,GATA,EAWAE,EAPA,KAEA,KAUAtF,GAAA,EAAAuF,EAAA,SJsOMC,KACA,SAAUvG,EAAQC,EAASC,GK7PjC,GAAAC,GAAAD,EAAA,KACA,iBAAAC,SAAAH,EAAAI,EAAAD,EAAA,MACAA,EAAAE,SAAAL,EAAAC,QAAAE,EAAAE,OAEAH,GAAA,gBAAAC,GAAA,ILsQMqG,KACA,SAAUxG,EAAQC,EAASC,GM9QjCD,EAAAD,EAAAC,QAAAC,EAAA,SAKAD,EAAAM,MAAAP,EAAAI,EAAA,wqCAAqsC,IAAQI,QAAA,EAAAC,SAAA,wEAAAC,SAAAC,SAAA,ijBAAAC,KAAA,UAAA6F,gBAAA,w9CAAkqE5F,WAAA,ONuRz2G6F,KACA,SAAU1G,EAAQe,EAAqBb,GAE7C,cAC4B,SAASc,EAAGhB,GAA8B,GAAIiB,GAAqEf,EAAoB,GAC1IgB,EAA6EhB,EAAoBiB,EAAEF,EOzR5HF,GAAA,GP+REM,KO7RF,MP8REC,cACAqF,OO5RF,QP6REnF,KAAM,WAEJ,GAAIoF,IACFC,UOvQN,EPwQM5C,aACE6C,QOvQR,GPwQQC,KOvQR,GPwQQC,MOvQR,GPwQQC,UOvQR,GPwQQC,UOtQR,IPwQMC,UACEC,QACErD,GAAI9B,KAAKC,MAAMmF,aAAaC,QAAQ,iBOvQ9CC,OPwQUC,KAAMvF,KAAKC,MAAMmF,aAAaC,QAAQ,iBOvQhDG,SPwQUC,UAAWzF,KAAKC,MAAMmF,aAAaC,QAAQ,iBOtQrDI,WPwQQC,IOtQR,IPwQMC,cACEC,eOvQR,IPwQQC,KOvQR,IPwQQC,OOvQR,IPwQQC,aOvQR,IPwQQC,UOvQR,IPwQQC,UOtQR,KPwQMC,cACEpE,GOvQR,GPwQQqE,aOvQR,GPwQQC,UACAC,SOvQR,GPwQQC,QOvQR,GPwQQC,gBACAC,YACAC,UACAC,eOtQR,IPwQMC,YACE7E,GOvQR,GPwQQ8E,QAAS9G,KAAK2C,OAAOoE,eAAe,GOvQ5CC,OPwQQC,aACAvE,SOvQR,GPwQQwE,aACAzB,KOvQR,GPwQQ0B,MOvQR,GPwQQC,gBOvQR,GPwQQC,cOtQR,GPwQMC,uBOvQN,GPwQMC,uBOvQN,GPwQMC,sBOvQN,EPwQMC,kBACAC,QACAC,QACEjJ,WACAkJ,WACAC,iBACAC,kBACAC,aACAC,SACAC,SACAC,aACAC,eAEFC,cACE/B,eOvQRgC,UAAA,EAAAC,QAAA,WAAAC,QAEA,SPsQQ9B,eOpQR4B,UAAA,EAAAC,QAAA,WAAAC,QAOA,WP8PQ3B,iBO7PRyB,UAAA,EAAAC,QAAA,WAAAC,QAGA,UP4PMC,YACE/C,OO3PR4C,UAAA,EAAAC,QAAA,WAAAC,QACA,SAAAE,IAAA,EAAAC,IAAA,GAAAJ,QAAA,gCAAAC,QAEA,SPyPQpB,QOxPRkB,UAAA,EAAAC,QAAA,WAAAC,QACA,SAAAE,IAAA,GAAAC,IAAA,GAAAJ,QAAA,kCAAAC,QAEA,SPsPQzB,UOrPRuB,UAAA,EAAAC,QAAA,WAAAC,QAEA,SPoPQtB,YOnPRoB,UAAA,EAAAC,QAAA,WAAAC,QAEA,WPkPQ7F,WOjPR2F,UAAA,EAAAC,QAAA,WAAAC,QAGA,UPgPMI,UACE/C,MO/ORyC,UAAA,EAAAC,QAAA,WAAAC,QAEA,WP8OQlD,SO7ORgD,UAAA,EAAAC,QAAA,WAAAC,QAGA,YP4OMK,gBACAC,iBACAC,eACErD,MAAQsD,QOvOhB,kBPwOQC,cAAgBD,QOvOxB,iBPwOQE,YAAcF,QOvOtB,oBPwOQ5B,OAAS4B,QOvOjB,YPwOQxC,UAAYwC,QOvOpB,YPwOQrC,UAAYqC,QOvOpB,cPwOQpC,QAAUoC,QOtOlB,cPwOMG,YACEC,OAAWJ,QOvOnB,YPwOQK,WAAeL,QOvOvB,aPwOQM,YAAgBN,QOvOxB,aPwOQtD,MAAUsD,QOvOlB,kBPwOQ5B,OAAW4B,QOvOnB,WPwOQ9B,WAAe8B,QOvOvB,aPwOQnC,gBAAoBmC,QOvO5B,mBPwOQO,QAAYP,QOvOpB,sBPwOQzC,QAAYyC,QOvOpB,oBPwOQtC,cAAkBsC,QOvO1B,iBPwOQ1C,cAAkB0C,QOtO1B,kBPwOMQ,aACEH,WAAeL,QOvOvB,aPwOQM,YAAgBN,QOvOxB,aPwOQI,OAAWJ,QOvOnB,YPwOQtD,MAAQsD,QOvOhB,kBPwOQxC,UAAYwC,QOvOpB,YPwOQ5B,OAAW4B,QOvOnB,WPwOQ9B,WAAe8B,QOvOvB,aPwOQrG,UAAcqG,QOvOtB,cPwOQnC,gBAAoBmC,QOvO5B,mBPwOQO,QAAYP,QOvOpB,sBPwOQzC,QAAYyC,QOvOpB,oBPwOQtC,cAAkBsC,QOvO1B,iBPwOQ1C,cAAkB0C,QOvO1B,iBPwOQrC,UAAYqC,QOtOpB,ePwOMS,iBACEJ,WAAeL,QOvOvB,aPwOQM,YAAgBN,QOvOxB,aPwOQI,OAAWJ,QOvOnB,YPwOQtD,MAAUsD,QOvOlB,kBPwOQxC,UAAcwC,QOvOtB,YPwOQ5B,OAAW4B,QOvOnB,WPwOQ9B,WAAe8B,QOvOvB,aPwOQrG,UAAcqG,QOvOtB,cPwOQnC,gBAAoBmC,QOvO5B,mBPwOQO,QAAYP,QOvOpB,sBPwOQzC,QAAYyC,QOvOpB,oBPwOQtC,cAAkBsC,QOvO1B,iBPwOQ1C,cAAkB0C,QOvO1B,iBPwOQU,aAAiBV,QOvOzB,ePwOQW,aAAiBX,QOvOzB,iBPwOQY,cAAkBZ,QOvO1B,WPwOQa,OAAWb,QOvOnB,oBPwOQc,cAAkBd,QOvO1B,WPwOQe,aAAiBf,QOvOzB,QPwOQgB,UAAchB,QOvOtB,ePwOQrC,UAAcqC,QOvOtB,cPwOQiB,eAAmBjB,QOvO3B,uCPwOQkB,iBAAqBlB,QOvO7B,iCPwOQmB,cAAkBnB,QOvO1B,YPwOQoB,OAAWpB,QOvOnB,mBPwOQqB,QAAYrB,QOvOpB,4BPwOQsB,gBAAoBtB,QOvO5B,sBPwOQuB,eAAmBvB,QOvO3B,yBPwOQwB,aAAiBxB,QOvOzB,ePwOQyB,iBAAqBzB,QOvO7B,WPwOQ0B,cAAkB1B,QOtO1B,YPwOM2B,qBACEhI,SOvOR,4BPwOQ+C,KOvOR,wBPwOQ0B,MOvOR,yBPwOQX,QOvOR,6BPwOQmE,QOvOR,uBPwOQlB,YOvOR,sBPwOQS,aOvOR,mBPwOQC,MOvOR,gBPwOQS,WOvOR,kCPwOQjB,aOvOR,qBPwOQkB,cOvOR,+BPwOQC,eOv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","file":"static/js/13.95b284c2aa240be71724.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 1233:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1234);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(932)(\"32f52c9d\", content, true);\n\n/***/ }),\n\n/***/ 1234:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(931)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"POSes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1235:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__POS__ = __webpack_require__(1236);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"POSes\",\n  components: { POS: __WEBPACK_IMPORTED_MODULE_1__POS__[\"a\" /* default */] },\n  data: function data() {\n    var model = {\n      editableTabsValue: '1',\n      editableTabs: [{\n        title: 'Hoá đơn 1',\n        name: '1'\n      }],\n      tabIndex: 1\n    };\n    var savedPos = this.$getItemLocalStorage('POS');\n    if (savedPos && savedPos != 'undefined' && JSON.parse(savedPos).editableTabs.length > 0) {\n      model = JSON.parse(savedPos);\n    }\n\n    return {\n      model: model\n    };\n  },\n\n  methods: {\n    handleTabsEdit: function handleTabsEdit(targetName, action) {\n      var _this = this;\n\n      if (action === 'add') {\n        var newTabName = ++this.model.tabIndex + '';\n        this.model.editableTabs.push({\n          title: 'Hoá đơn ' + newTabName,\n          name: newTabName\n        });\n        this.model.editableTabsValue = newTabName;\n      }\n      if (action === 'remove') {\n        this.$confirm('Bạn muốn đóng, dữ liệu chưa lưu có thể bị hủy?', 'Warning', {\n          cancelButtonText: 'Không',\n          confirmButtonText: 'Có',\n          type: 'warning'\n        }).then(function () {\n          _this.$hub.$emit('closeTab', targetName);\n        }).catch(function () {});\n      }\n    },\n    returnProductsToWH: function returnProductsToWH(data) {\n      var _this2 = this;\n\n      if (data.list) {\n        var idsToDel = [];\n        idsToDel.push(data.orderId);\n        var whReq = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: data.list.length\n        };\n        data.list.filter(function (v, k) {\n          idsToDel.push(data.list[k].OrderPartId);\n          whReq['R' + (k + 1) + '_RequestFields'] = 'Id;Code;Priority;UpdateWarehouse;FormSetting;Changed';\n          whReq['R' + (k + 1) + '_Code'] = 'Warehouse';\n          whReq['R' + (k + 1) + '_RequestTemplate'] = 'xDocument_Document.Update';\n          whReq['R' + (k + 1) + '_RequestDataGroup'] = 'DataGroup.warehouse.0fd40';\n          whReq['R' + (k + 1) + '_UpdateWarehouse'] = true;\n          whReq['R' + (k + 1) + '_Id'] = v.Id;\n          whReq['R' + (k + 1) + '_Priority'] = v.Quantity;\n          whReq['R' + (k + 1) + '_FormSetting'] = data.formSetting;\n\n          var changed = [{\n            \"ColumnCaption\": \"Số lượng( Tồn sẵn có)\",\n            \"ColumnName\": \"Priority\",\n            \"OldDisplayValue\": \"\",\n            \"OldValue\": \"\",\n            \"NewDisplayValue\": v.Quantity + \"\",\n            \"NewValue\": v.Quantity + \"\"\n          }, {\n            \"ColumnCaption\": \"Mã hoá đơn\",\n            \"ColumnName\": \"FriendlyUrl\",\n            \"OldDisplayValue\": \"\",\n            \"OldValue\": \"\",\n            \"NewDisplayValue\": data.BillCode,\n            \"NewValue\": \"\"\n          }];\n          whReq['R' + (k + 1) + '_Changed'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changed);\n        });\n        this.$Utils.postCheckResult(whReq).then(function (whRes) {\n          if (whRes.success) {\n            var delReq = {\n              RequestClass: 'xBase',\n              RequestAction: 'Request',\n              TotalRequests: idsToDel.length\n            };\n            $.each(idsToDel, function (index, val) {\n              delReq['R' + (index + 1) + '_RequestTemplate'] = \"xDocument_Document.Delete\";\n              delReq['R' + (index + 1) + '_Id'] = val;\n            });\n            _this2.$Utils.postCheckResult(delReq).then(function (delRes) {\n              if (delRes.success) {\n                var tabs = _this2.model.editableTabs;\n                var activeName = _this2.model.editableTabsValue;\n                if (activeName === data.targetName) {\n                  tabs.forEach(function (tab, index) {\n                    if (tab.name === data.targetName) {\n                      var nextTab = tabs[index + 1] || tabs[index - 1];\n                      if (nextTab) {\n                        activeName = nextTab.name;\n                      }\n                    }\n                  });\n                }\n                _this2.model.editableTabsValue = activeName;\n                _this2.model.editableTabs = tabs.filter(function (tab) {\n                  return tab.name !== data.targetName;\n                });\n                _this2.$setItemLocalStorage(\"POS\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this2.model));\n                var newTabName = ++_this2.model.tabIndex + '';\n                _this2.model.editableTabs.push({\n                  title: 'Hoá đơn ' + newTabName,\n                  name: newTabName,\n                  content: 'New Tab content'\n                });\n                _this2.model.editableTabsValue = newTabName;\n              }\n            });\n          }\n        });\n      } else {\n\n        var tabs = this.model.editableTabs;\n        var activeName = this.model.editableTabsValue;\n        if (activeName === data.targetName) {\n          tabs.forEach(function (tab, index) {\n            if (tab.name === data.targetName) {\n              var nextTab = tabs[index + 1] || tabs[index - 1];\n              if (nextTab) {\n                activeName = nextTab.name;\n              }\n            }\n          });\n        }\n        this.model.editableTabsValue = activeName;\n        this.model.editableTabs = tabs.filter(function (tab) {\n          return tab.name !== data.targetName;\n        });\n        this.$setItemLocalStorage(\"POS\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.model));\n\n        if (this.model.editableTabs.length == 0) {\n          var newTabName = ++this.model.tabIndex + '';\n          this.model.editableTabs.push({\n            title: 'Hoá đơn ' + newTabName,\n            name: newTabName,\n            content: 'New Tab content'\n          });\n          this.model.editableTabsValue = newTabName;\n        }\n      }\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.$hub.$on('deleteOrder', function (data) {\n      _this3.returnProductsToWH(data);\n    });\n\n    this.$hub.$on('saveToLocalStorage', function () {\n      _this3.$setItemLocalStorage(\"POS\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this3.model));\n    });\n  },\n  destroyed: function destroyed() {\n    this.$hub.$off('deleteOrder');\n    this.$hub.$off('saveToLocalStorage');\n    this.$hub.$off('closeTab');\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2)))\n\n/***/ }),\n\n/***/ 1236:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_POS_vue__ = __webpack_require__(1239);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b12ec40_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_POS_vue__ = __webpack_require__(1240);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1237)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_POS_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4b12ec40_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_POS_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 1237:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1238);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(932)(\"7c79f7b4\", content, true);\n\n/***/ }),\n\n/***/ 1238:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(931)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".el-select{display:block}.el-tabs__new-tab{margin-right:20px}.el-date-editor.el-input,.el-date-editor.el-input__inner{width:100%}.Store__ROOT{background:#fff;min-height:\\\"~calc(100vh - 100px)\\\"}.Store__ROOT .col-lg-3,.Store__ROOT .col-lg-4,.Store__ROOT .col-lg-6,.Store__ROOT .col-lg-8,.Store__ROOT .col-lg-9{float:left}.Store__ROOT .block__label{padding:10px;border:1px solid #eee;border-left:0;border-right:0;font-weight:600;background:#f5f7ff}.Store__ROOT .block__wrapper{padding:10px}.Store__ROOT .step__wrapper{padding-top:10px}.Store__ROOT .el-form-item__label{margin-bottom:0;padding-bottom:0}.Store__ROOT .el-step__title{font-size:13px}.Store__ROOT .el-step__icon{font-size:12px;width:18px;height:18px}.Payment__ROOT{border-left:1px solid #999;padding-bottom:20px}.Contact__ROOT .contact__header,.Order__ROOT .contact__header{padding:3px 3px 3px 10px;line-height:27px;background:#f5f7fe}.Contact__ROOT .contact__header .el-input__inner,.Order__ROOT .contact__header .el-input__inner{border:none;background:\\\"#00000008\\\"}.Cart__ROOT .cart__header{padding:3px 3px 3px 10px;line-height:27px;background:#f5f7fe}.Cart__ROOT .cart__header .el-input__inner{border:none;background:\\\"#00000008\\\"}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/vue-crm2/src/components/static/POS/POS.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,aAAe,CAChB,AACD,kBACE,iBAAmB,CACpB,AACD,yDACE,UAAY,CACb,AACD,aACE,gBAAiB,AACjB,iCAAmC,CACpC,AACD,mHACI,UAAY,CACf,AACD,2BACI,aAAc,AACd,sBAAuB,AACvB,cAAe,AACf,eAAgB,AAChB,gBAAiB,AACjB,kBAAoB,CACvB,AACD,6BACI,YAAc,CACjB,AACD,4BACI,gBAAkB,CACrB,AACD,kCACI,gBAAiB,AACjB,gBAAkB,CACrB,AACD,6BACI,cAAgB,CACnB,AACD,4BACI,eAAgB,AAChB,WAAY,AACZ,WAAa,CAChB,AACD,eACE,2BAA4B,AAC5B,mBAAqB,CACtB,AACD,8DACE,yBAA0B,AAC1B,iBAAkB,AAClB,kBAAoB,CACrB,AACD,gGACI,YAAa,AACb,sBAAwB,CAC3B,AACD,0BACE,yBAA0B,AAC1B,iBAAkB,AAClB,kBAAoB,CACrB,AACD,2CACI,YAAa,AACb,sBAAwB,CAC3B\",\"file\":\"POS.vue\",\"sourcesContent\":[\"\\n.el-select {\\n  display: block;\\n}\\n.el-tabs__new-tab {\\n  margin-right: 20px;\\n}\\n.el-date-editor.el-input, .el-date-editor.el-input__inner {\\n  width: 100%;\\n}\\n.Store__ROOT {\\n  background: #fff;\\n  min-height: \\\"~calc(100vh - 100px)\\\";\\n}\\n.Store__ROOT .col-lg-8, .Store__ROOT .col-lg-4, .Store__ROOT .col-lg-6, .Store__ROOT .col-lg-9, .Store__ROOT .col-lg-3 {\\n    float: left;\\n}\\n.Store__ROOT .block__label {\\n    padding: 10px;\\n    border: solid 1px #eee;\\n    border-left: 0;\\n    border-right: 0;\\n    font-weight: 600;\\n    background: #f5f7ff;\\n}\\n.Store__ROOT .block__wrapper {\\n    padding: 10px;\\n}\\n.Store__ROOT .step__wrapper {\\n    padding-top: 10px;\\n}\\n.Store__ROOT .el-form-item__label {\\n    margin-bottom: 0;\\n    padding-bottom: 0;\\n}\\n.Store__ROOT .el-step__title {\\n    font-size: 13px;\\n}\\n.Store__ROOT .el-step__icon {\\n    font-size: 12px;\\n    width: 18px;\\n    height: 18px;\\n}\\n.Payment__ROOT {\\n  border-left: solid 1px #999;\\n  padding-bottom: 20px;\\n}\\n.Contact__ROOT .contact__header, .Order__ROOT .contact__header {\\n  padding: 3px 3px 3px 10px;\\n  line-height: 27px;\\n  background: #f5f7fe;\\n}\\n.Contact__ROOT .contact__header .el-input__inner, .Order__ROOT .contact__header .el-input__inner {\\n    border: none;\\n    background: \\\"#00000008\\\";\\n}\\n.Cart__ROOT .cart__header {\\n  padding: 3px 3px 3px 10px;\\n  line-height: 27px;\\n  background: #f5f7fe;\\n}\\n.Cart__ROOT .cart__header .el-input__inner {\\n    border: none;\\n    background: \\\"#00000008\\\";\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1239:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($, module) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n\n\nvar POS_PREFIX = 'BILL';\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'POS',\n  components: {},\n  props: ['item'],\n  data: function data() {\n\n    var newModel = {\n      disabled: false,\n      formSetting: {\n        contact: '',\n        lead: '',\n        order: '',\n        orderPart: '',\n        warehouse: ''\n      },\n      posModel: {\n        seller: {\n          Id: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n          Name: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n          LoginName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).LoginName\n        },\n        pos: ''\n      },\n      paymentModel: {\n        sum_of_payment: '0',\n        cash: '0',\n        change: '0',\n        customerCard: '0',\n        bankMoney: '0',\n        gaveMoney: '0'\n      },\n      contactModel: {\n        Id: '',\n        CustomerCode: '',\n        Source: {},\n        Birthday: '',\n        Address: '',\n        CampaignCode: {},\n        Location: {},\n        Gender: {},\n        OfficialNumber: ''\n      },\n      orderModel: {\n        Id: '',\n        Created: this.$Utils.formatDateTime(new Date()),\n        TimeFrame: {},\n        BillCode: '',\n        Warehouse: {},\n        Name: '',\n        Phone: '',\n        MetaDescription: '',\n        IsProcessing: false\n      },\n      contact_search_keyword: '',\n      barcode_search_keyword: '',\n      showEditProductModal: false,\n      productEditing: {},\n      cart: [],\n      params: {\n        'sources': [],\n        'genders': [],\n        'campaignCodes': [],\n        'timeFrameNames': [],\n        'provinces': [],\n        'poses': [],\n        'users': [],\n        'customers': [],\n        'warehouses': []\n      },\n      contactRules: {\n        CustomerCode: [{ required: true, message: 'Bắt buộc', trigger: 'blur' }],\n        CampaignCode: [{ required: true, message: 'Bắt buộc', trigger: 'change' }],\n        OfficialNumber: [{ required: true, message: 'Bắt buộc', trigger: 'blur' }]\n      },\n      orderRules: {\n        Name: [{ required: true, message: 'Bắt buộc', trigger: 'blur' }, { min: 5, max: 50, message: 'Độ dài phải từ 5 đến 50 kí tự', trigger: 'blur' }],\n        Phone: [{ required: true, message: 'Bắt buộc', trigger: 'blur' }, { min: 10, max: 11, message: 'Độ dài phải là 10 hoặc 11 kí tự', trigger: 'blur' }],\n        Created: [{ required: true, message: 'Bắt buộc', trigger: 'blur' }],\n        TimeFrame: [{ required: true, message: 'Bắt buộc', trigger: 'change' }],\n        BillCode: [{ required: true, message: 'Bắt buộc', trigger: 'blur' }]\n      },\n      posRules: {\n        pos: [{ required: true, message: 'Bắt buộc', trigger: 'change' }],\n        seller: [{ required: true, message: 'Bắt buộc', trigger: 'change' }]\n      },\n      paymentRules: {},\n      cachedContact: {},\n      contactFields: {\n        Name: { Caption: 'Tên khách hàng' },\n        IdentityCode: { Caption: 'Mã khách hàng' },\n        LeadSource: { Caption: 'Nguồn khách hàng' },\n        Phone: { Caption: 'SĐT KH 1' },\n        Birthday: { Caption: 'Năm sinh' },\n        Location: { Caption: 'Tỉnh thành' },\n        Gender: { Caption: 'Giới tính' }\n      },\n      leadFields: {\n        'Store': { Caption: 'Cửa hàng' },\n        'CreatedBy': { Caption: 'Người tạo' },\n        'ModifiedBy': { Caption: 'Người sửa' },\n        'Name': { Caption: 'Tên khách hàng' },\n        'Phone': { Caption: 'SĐT KH1' },\n        'TimeFrame': { Caption: 'Khung giờ' },\n        'OfficialNumber': { Caption: 'Mã lượt liên hệ' },\n        'Author': { Caption: 'Nhân viên bán hàng' },\n        'Source': { Caption: 'Nguồn khách hàng' },\n        'CampaignCode': { Caption: 'Mã chiến dịch' },\n        'CustomerCode': { Caption: 'Mã khách hàng' }\n      },\n      orderFields: {\n        'CreatedBy': { Caption: 'Người tạo' },\n        'ModifiedBy': { Caption: 'Người sửa' },\n        'Store': { Caption: 'Cửa hàng' },\n        Name: { Caption: 'Tên khách hàng' },\n        Birthday: { Caption: 'Năm sinh' },\n        'Phone': { Caption: 'SĐT KH1' },\n        'TimeFrame': { Caption: 'Khung giờ' },\n        'BillCode': { Caption: 'Mã hoá đơn' },\n        'OfficialNumber': { Caption: 'Mã lượt liên hệ' },\n        'Author': { Caption: 'Nhân viên bán hàng' },\n        'Source': { Caption: 'Nguồn khách hàng' },\n        'CampaignCode': { Caption: 'Mã chiến dịch' },\n        'CustomerCode': { Caption: 'Mã khách hàng' },\n        Location: { Caption: 'Tỉnh thành' }\n      },\n      orderPartFields: {\n        'CreatedBy': { Caption: 'Người tạo' },\n        'ModifiedBy': { Caption: 'Người sửa' },\n        'Store': { Caption: 'Cửa hàng' },\n        'Name': { Caption: 'Tên khách hàng' },\n        'Birthday': { Caption: 'Năm sinh' },\n        'Phone': { Caption: 'SĐT KH1' },\n        'TimeFrame': { Caption: 'Khung giờ' },\n        'BillCode': { Caption: 'Mã hoá đơn' },\n        'OfficialNumber': { Caption: 'Mã lượt liên hệ' },\n        'Author': { Caption: 'Nhân viên bán hàng' },\n        'Source': { Caption: 'Nguồn khách hàng' },\n        'CampaignCode': { Caption: 'Mã chiến dịch' },\n        'CustomerCode': { Caption: 'Mã khách hàng' },\n        'ProductCode': { Caption: 'Mã Sản phẩm' },\n        'ProductType': { Caption: 'Dòng Sản phẩm' },\n        'ProductPrice': { Caption: 'Đơn giá' },\n        'Price': { Caption: 'Giá trị đơn hàng' },\n        'ProductColor': { Caption: 'Màu sắc' },\n        'ProductSize': { Caption: 'Size' },\n        'Category': { Caption: 'Xuất từ kho' },\n        'Location': { Caption: 'Tỉnh thành' },\n        'DiscountMoney': { Caption: 'Chiết khấu (bằng hình thức số tiền)' },\n        'DiscountPercent': { Caption: 'Chiết khấu (bằng hình thức %)' },\n        'ProductCount': { Caption: 'Số lượng' },\n        'Total': { Caption: 'Tổng thanh toán' },\n        'Status': { Caption: 'Loại đơn hàng (Bán/ Đổi)' },\n        'DeliveryStatus': { Caption: 'Tình trạng vận đơn' },\n        'PaymentStatus': { Caption: 'Tình trạng thanh toán' },\n        'ProductUnit': { Caption: 'Đơn vị tính' },\n        'ProductShopCode': { Caption: 'Mã hàng' },\n        'MetaKeywords': { Caption: 'Barcode' }\n      },\n      fieldMappingPrinter: {\n        'BillCode': 'model.orderModel.BillCode',\n        'Name': 'model.orderModel.Name',\n        'Phone': 'model.orderModel.Phone',\n        'Address': 'model.contactModel.Address',\n        'Barcode': 'MetaKeywords.loopVal',\n        'ProductCode': 'ProductCode.loopVal',\n        'ProductCount': 'Quantity.loopVal',\n        'Total': 'Total.loopVal',\n        'TotalPages': 'model.paymentModel.customerCard',\n        'ProductPrice': 'TotalPages.loopVal',\n        'TotalComments': 'model.paymentModel.gaveMoney',\n        'TotalDownloads': 'model.paymentModel.cash',\n        'TotalRatingPoints': 'model.paymentModel.bankMoney',\n        'TotalRatings': 'model.paymentModel.change',\n        'DiscountPercent': 'DiscountPercent.loopVal',\n        'DiscountMoney': 'DiscountMoney.loopVal',\n        'Price': 'model.paymentModel.sum_of_payment',\n        'DataGroup.pointofsales.09egb.Description': 'model.posModel.pos.Description',\n        'Created': 'model.orderModel.Created',\n        'User.LoginName': 'model.posModel.seller.LoginName'\n      },\n      passedItem: this.item,\n      campaignId: undefined\n    };\n    var model = this.$getItemLocalStorage(POS_PREFIX + this.item.name) && this.$getItemLocalStorage(POS_PREFIX + this.item.name) != 'undefined' ? JSON.parse(this.$getItemLocalStorage(POS_PREFIX + this.item.name)) : newModel;\n    return {\n      model: model\n    };\n  },\n\n  methods: {\n    loadResources: function loadResources() {\n      var _this = this;\n\n      var requestWH = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestDataGroup: \"DataGroup.warehouses.01dh7\",\n        R1_RequestFields: \"Id;Code;Name;\",\n        R1_Code: \"Warehouses\",\n        R1_RequestTemplate: \"xDocument_Document.Search\"\n      };\n      this.$Utils.post(requestWH).then(function (response) {\n        _this.model.params.warehouses = _this.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n\n        var request = {\n          RequestClass: \"xBase\",\n          RequestAction: \"Request\",\n          TotalRequests: 1,\n          R1_RequestDataGroup: \"DataGroup.pointofsales.09egb\",\n          R1_RequestFields: \"Id;Code;Promulgator;Name;Category;Type;Description\",\n          R1_Code: \"POS\",\n          R1_RequestTemplate: \"xDocument_Document.Search\"\n        };\n        _this.$Utils.post(request).then(function (response) {\n          _this.model.params.poses = _this.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n          $.each(_this.model.params.warehouses, function (k, value) {\n            if (value.Id == _this.model.params.poses[0].Category) {\n              _this.model.orderModel.Warehouse = value;\n              return false;\n            }\n          });\n        });\n      });\n\n      var parameter = {\n        RequestAction: 'SearchUsers',\n        RequestClass: 'BPM',\n        ConditionFields: 'IncludedGroupManager;Group;Status;LoginName;UserId,Status',\n        StaticFields: 'UserId;Username;Description;Status;LoginName',\n        DynamicFields: 'Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone',\n        StructFields: 'GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRootName;GroupManage;Notification',\n        Status: 1\n      };\n      this.$Utils.post(parameter).then(function (data) {\n        _this.model.params.users = [];\n        data = _this.$Utils.getDataWithRoot(data, 'Data.UserDS.User');\n        $.each(data, function (k, value) {\n          if (value.LoginName !== 'superadmin') {\n            _this.model.params.users.push({\n              Id: value.UserId,\n              Name: value.LoginName\n            });\n          }\n        });\n      });\n\n      var request = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'Setting.SearchBase',\n        R1_ParentCode: 'xSetting.Project.Parameter.CRM.Customer.Source'\n      };\n      this.isMobile = this.$isMobileDevice;\n      this.$Utils.post(request).then(function (response) {\n        _this.model.params.sources = _this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n      });\n\n      var request = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'xDocument_Document.Search',\n        R1_RequestDataGroup: 'DataGroup.campaign.0d1gf',\n        R1_RequestFields: 'Id;Code;Name;',\n        R1_Code: 'Campaign'\n      };\n      this.isMobile = this.$isMobileDevice;\n      this.$Utils.post(request).then(function (response) {\n        _this.model.params.campaignCodes = _this.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n        _this.model.campaignId = _this.model.params.campaignCodes[0].Id;\n      });\n\n      var request = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'Setting.SearchBase',\n        R1_ParentCode: 'xSetting.Project.Parameter.CRM.Activity.TimeFrame'\n      };\n      this.isMobile = this.$isMobileDevice;\n      this.$Utils.post(request).then(function (response) {\n        _this.model.params.timeFrameNames = _this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n      });\n\n      var request = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'Setting.SearchBase',\n        R1_ParentCode: 'xSetting.Project.Parameter.CRM.Customer.Gender'\n      };\n      this.isMobile = this.$isMobileDevice;\n      this.$Utils.post(request).then(function (response) {\n        _this.model.params.genders = _this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n      });\n\n      var request = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1,\n        R1_RequestTemplate: 'Setting.SearchBase',\n        R1_ParentCode: 'xSetting.Project.Parameter.CRM.Lead.Province'\n      };\n      this.isMobile = this.$isMobileDevice;\n      this.$Utils.post(request).then(function (response) {\n        _this.model.params.provinces = _this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n      });\n    },\n    handleUpdateProduct: function handleUpdateProduct() {\n      var _this2 = this;\n\n      this.$set(this.model.cart, this.model.cart.findIndex(function (product) {\n        return product.Id === _this2.model.productEditing.Id;\n      }), this.model.productEditing);\n      this.handleCloseEditProductModal();\n    },\n    handleEditProduct: function handleEditProduct(Id) {\n      this.model.productEditing = this.model.cart.filter(function (product) {\n        return product.Id === Id;\n      })[0];\n      this.model.productEditing = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.model.productEditing));\n      this.model.showEditProductModal = true;\n    },\n    handleDeleteProduct: function handleDeleteProduct(Id, row) {\n      var _this3 = this;\n\n      var cached = this.$Lodash.cloneDeep(this.model.cart);\n      this.model.cart = this.model.cart.filter(function (product) {\n        return product.Id !== Id;\n      });\n\n      var whReq = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: 1\n      };\n      var sourceData = {};\n      var sourceSetting = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.warehouse));\n      this.$Utils.replacePermission(sourceSetting, sourceData);\n\n      whReq['R1_RequestFields'] = 'Id;Code;Priority;UpdateWarehouse;FormSetting;Changed';\n      whReq['R1_Code'] = 'Warehouse';\n      whReq['R1_RequestTemplate'] = 'xDocument_Document.Update';\n      whReq['R1_RequestDataGroup'] = 'DataGroup.warehouse.0fd40';\n      whReq['R1_UpdateWarehouse'] = true;\n      whReq['R1_Id'] = row.Id;\n      whReq['R1_Priority'] = row.Quantity;\n      whReq['R1_FormSetting'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting);\n\n      var changed = [{\n        \"ColumnCaption\": \"Số lượng( Tồn sẵn có)\",\n        \"ColumnName\": \"Priority\",\n        \"OldDisplayValue\": \"\",\n        \"OldValue\": \"\",\n        \"NewDisplayValue\": row.Quantity + \"\",\n        \"NewValue\": row.Quantity + \"\"\n      }, {\n        \"ColumnCaption\": \"Mã hoá đơn\",\n        \"ColumnName\": \"FriendlyUrl\",\n        \"OldDisplayValue\": \"\",\n        \"OldValue\": \"\",\n        \"NewDisplayValue\": this.model.orderModel.BillCode,\n        \"NewValue\": \"\"\n      }];\n      whReq['R1_Changed'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changed);\n\n      this.$Utils.postCheckResult(whReq).then(function (whRes) {\n        if (whRes.success) {\n          _this3.$message.success(\"Trả tồn thành công\");\n          var delReq = {\n            RequestClass: 'xBase',\n            RequestAction: 'Request',\n            TotalRequests: 1,\n            R1_RequestTemplate: \"xDocument_Document.Delete\",\n            R1_Id: row.OrderPartId\n          };\n          _this3.$Utils.postCheckResult(delReq).then(function (delRes) {\n            if (delRes.success) {\n              _this3.$message.success(\"Xoá thành công\");\n              _this3.$setItemLocalStorage(POS_PREFIX + _this3.item.name, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this3.model));\n            } else {\n              _this3.$message.error(\"Có lỗi, không xoá được\");\n            }\n          });\n        } else {\n          _this3.$message.error(\"Có lỗi, không trả tồn\");\n          _this3.model.cart = cached;\n        }\n      });\n    },\n    handleCloseEditProductModal: function handleCloseEditProductModal() {\n      this.model.productEditing = {};\n      this.model.showEditProductModal = false;\n    },\n    computeTotalMoney: function computeTotalMoney() {\n      this.model.productEditing.Total = parseInt((this.model.productEditing.ProductPrice - (this.model.productEditing.DiscountMoney || 0)) * (100 - (this.model.productEditing.DiscountPercent || 0)) / 100) * (this.model.productEditing.Quantity || 1);\n    },\n    saveSingleOrderPart: function saveSingleOrderPart(OrderId, product, isUpdate) {\n      var _this4 = this;\n\n      var orderPartRequest = {\n        RequestClass: 'xBase',\n        RequestAction: 'Request',\n        TotalRequests: this.model.cart.length\n      };\n      orderPartRequest['R1_RequestFields'] = 'Id;Code;CreatedByName;ModifiedByName;Code;Store;StoreName;Name;Birthday;Phone;TimeFrame;TimeFrameName;' + 'BillCode;OfficialNumber;Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;ProductCode;Parent;OrderId;ProductType;' + 'ProductTypeName;ProductPrice;Price;ProductColor;ProductColorName;ProductSize;ProductSizeName;Category;CategoryName;ProductCount;Total;Priority;Status;' + 'MetaDescription;DeliveryStatus;DeliveryStatusName;PaymentStatus;PaymentStatusName;ProductUnit;ProductShopCode;Barcode;LocationName;DiscountMoney;' + 'DiscountPercent;Address;GroupId;FormSetting;Changed;';\n      orderPartRequest['R1_RequestDataGroup'] = 'DataGroup.orderpart.82fjy';\n      if (isUpdate) {\n        orderPartRequest['R1_RequestTemplate'] = 'xDocument_Document.Update';\n        orderPartRequest['R1_Id'] = product.OrderPartId;\n      } else {\n        orderPartRequest['R1_RequestTemplate'] = 'xDocument_Document.Insert';\n      }\n      orderPartRequest['R1_CreatedBy'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n      orderPartRequest['R1_CreatedByName'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n      orderPartRequest['R1_ModifiedBy'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n      orderPartRequest['R1_ModifiedByName'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n      orderPartRequest['R1_Code'] = 'OrderPart';\n      orderPartRequest['R1_GroupId'] = this.model.posModel.pos.Promulgator;\n      orderPartRequest['R1_Store'] = this.model.posModel.pos.Id;\n      orderPartRequest['R1_StoreName'] = this.model.posModel.pos.Name;\n      orderPartRequest['R1_Author'] = this.model.posModel.seller.Id;\n      orderPartRequest['R1_AuthorName'] = this.model.posModel.seller.Name;\n      orderPartRequest['R1_ProductCode'] = product.ProductCode;\n      orderPartRequest['R1_Parent'] = OrderId;\n      orderPartRequest['R1_OrderId'] = OrderId;\n      orderPartRequest['R1_ProductType'] = product.Categories;\n      orderPartRequest['R1_ProductTypeName'] = product.CategoriesName;\n      orderPartRequest['R1_ProductPrice'] = product.TotalPages;\n\n      orderPartRequest['R1_ProductColor'] = product.ProductColor;\n      orderPartRequest['R1_ProductColorName'] = product.ProductColorName;\n      orderPartRequest['R1_ProductSize'] = product.Size;\n      orderPartRequest['R1_ProductSizeName'] = product.SizeName;\n      orderPartRequest['R1_Category'] = this.model.orderModel.Warehouse.Id;\n      orderPartRequest['R1_CategoryName'] = this.model.orderModel.Warehouse.Name;\n      orderPartRequest['R1_LocationName'] = this.model.contactModel.Location.Name;\n      orderPartRequest['R1_Address'] = this.model.contactModel.Address;\n      orderPartRequest['R1_DiscountMoney'] = product.DiscountMoney;\n      orderPartRequest['R1_DiscountPercent'] = product.DiscountPercent;\n      orderPartRequest['R1_Gender'] = this.model.contactModel.Gender.Id;\n      orderPartRequest['R1_GenderName'] = this.model.contactModel.Gender.Name;\n\n      orderPartRequest['R1_ProductCount'] = product.Quantity;\n      orderPartRequest['R1_Total'] = (parseInt(product.TotalPages) - (isNaN(parseInt(product.DiscountMoney)) ? 0 : parseInt(product.DiscountMoney)) - (isNaN(parseInt(product.DiscountPercent)) ? 0 : parseInt(product.DiscountPercent) / 100 * parseInt(product.TotalPages))) * parseInt(product.Quantity);\n      orderPartRequest['R1_Priority'] = 0;\n      orderPartRequest['R1_Status'] = 'be311afe-985d-4f79-8e89-c895a4ff0694';\n      orderPartRequest['R1_ProductUnit'] = product.SourceUrl;\n      orderPartRequest['R1_ProductShopCode'] = product.MetaDescriptionName;\n      orderPartRequest['R1_Barcode'] = product.MetaKeywords;\n      orderPartRequest['R1_Name'] = this.model.orderModel.Name;\n      orderPartRequest['R1_Phone'] = this.model.orderModel.Phone;\n      orderPartRequest['R1_BillCode'] = this.model.orderModel.BillCode;\n      orderPartRequest['R1_OfficialNumber'] = this.model.contactModel.OfficialNumber;\n      orderPartRequest['R1_CampaignCode'] = this.model.contactModel.CampaignCode.Id;\n      orderPartRequest['R1_CampaignCodeName'] = this.model.contactModel.CampaignCode.Name;\n\n      this.$Utils.post(orderPartRequest).then(function (response) {\n        if (response.success) {\n          product.OrderPartId = response.R1.Data;\n          _this4.$setItemLocalStorage(POS_PREFIX + _this4.item.name, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this4.model));\n          _this4.$hub.$emit('saveToLocalStorage');\n        }\n      });\n    },\n    handleBarcodeSearchConfirm: function handleBarcodeSearchConfirm() {\n      var _this5 = this;\n\n      if (this.$Utils.equals(this.model.orderModel.Warehouse, {})) {\n        this.$message({ message: 'Phải chọn kho hàng trước', center: true, type: 'error' });\n      } else if (this.model.barcode_search_keyword == '') {} else {\n\n        this.$refs['contactForm'].validate(function (valid1) {\n          _this5.$refs['orderForm'].validate(function (valid2) {\n            _this5.$refs['posForm'].validate(function (valid3) {\n              _this5.$refs['paymentForm'].validate(function (valid4) {\n                if (valid1 && valid2 && valid3 && valid4) {\n                  var barcodeEntered = _this5.$Lodash.cloneDeep(_this5.model.barcode_search_keyword);\n                  _this5.model.barcode_search_keyword = '';\n                  var reqCheckBillCode = {\n                    RequestClass: \"xBase\",\n                    RequestAction: \"Request\",\n                    TotalRequests: 1,\n                    R1_RequestDataGroup: \"DataGroup.order.9ejnl\",\n                    R1_RequestFields: \"Id;Name;BillCode;\",\n                    R1_Code: \"Order\",\n                    R1_RequestTemplate: \"xDocument_Document.Search\",\n                    R1_BillCode: _this5.model.orderModel.BillCode\n                  };\n                  _this5.$Utils.post(reqCheckBillCode).then(function (resCheckBillCode) {\n                    if (resCheckBillCode.success) {\n                      var listOrders = _this5.$Utils.getDataWithRoot(resCheckBillCode.R1, 'Data.DocumentDS.Document');\n                      if (listOrders.length > 1 || _this5.model.orderModel.Id == '' && listOrders.length == 1 || _this5.model.orderModel.Id != '' && listOrders.length == 1 && listOrders[0].Id != _this5.model.orderModel.Id) {\n                        _this5.$message.error('Mã hoá đơn đã tồn tại');\n                      } else {\n                        var request = {\n                          RequestClass: \"xBase\",\n                          RequestAction: \"Request\",\n                          TotalRequests: 1,\n                          R1_RequestDataGroup: \"DataGroup.warehouse.0fd40\",\n                          R1_RequestFields: \"Id;Name;MetaDescription;MetaDescriptionName;Priority;ProductCode;OfficialNumber;ProductColor;Size;Style;ProductColorName;SizeName;MetaKeywords;CodeName;TotalPages;Category;CategoryName;Unit;FullCodeName;ProductShopCode;ProductCode;Status;Categories;CategoriesName\",\n                          R1_Code: \"Warehouse\",\n                          R1_MetaKeywords: barcodeEntered,\n                          R1_Status: _this5.model.orderModel.Warehouse.Id,\n                          R1_RequestTemplate: \"xDocument_Document.Search\"\n                        };\n                        _this5.$Utils.post(request).then(function (response) {\n                          debugger;\n                          var productLst = _this5.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n                          if (productLst && productLst.length == 1) {\n                            if (productLst[0].Priority > 0) {\n                              var sourceData = {};\n                              var sourceSetting = _this5.$Lodash.cloneDeep(JSON.parse(_this5.model.formSetting.warehouse));\n                              _this5.$Utils.replacePermission(sourceSetting, sourceData);\n                              var whReq = {\n                                RequestClass: 'xBase',\n                                RequestAction: 'Request',\n                                TotalRequests: 1,\n                                R1_RequestFields: 'Id;Code;TotalAttachments;Priority;UpdateWarehouse;FormSetting;Changed',\n                                R1_Code: 'Warehouse',\n                                R1_RequestTemplate: 'xDocument_Document.Update',\n                                R1_RequestDataGroup: 'DataGroup.warehouse.0fd40',\n                                R1_UpdateWarehouse: true,\n                                R1_Id: productLst[0].Id,\n                                R1_Priority: -1,\n                                R1_FormSetting: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting) };\n\n                              var changed = [{\n                                \"ColumnCaption\": \"Số lượng( Tồn sẵn có)\",\n                                \"ColumnName\": \"Priority\",\n                                \"OldDisplayValue\": \"\",\n                                \"OldValue\": \"\",\n                                \"NewDisplayValue\": -1,\n                                \"NewValue\": -1\n                              }, {\n                                \"ColumnCaption\": \"Mã hoá đơn\",\n                                \"ColumnName\": \"FriendlyUrl\",\n                                \"OldDisplayValue\": \"\",\n                                \"OldValue\": \"\",\n                                \"NewDisplayValue\": _this5.model.orderModel.BillCode,\n                                \"NewValue\": \"\"\n                              }];\n                              whReq['R1_Changed'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changed);\n\n                              _this5.$Utils.postCheckResult(whReq).then(function (whRes) {\n                                if (whRes.R1.success == true) {\n                                  var existed = false;\n                                  _this5.model.cart.forEach(function (item) {\n                                    if (item.MetaKeywords == productLst[0].MetaKeywords) {\n                                      existed = true;\n\n                                      item.Quantity = parseInt(item.Quantity) + 1;\n\n                                      _this5.saveSingleOrderPart(_this5.model.orderModel.Id, item, true);\n\n                                      return false;\n                                    }\n                                  });\n                                  if (!existed) {\n                                    var x = productLst[0];\n                                    x.Quantity = 1;\n                                    _this5.model.cart.push(x);\n\n                                    if (_this5.model.orderModel.Id == '') {\n                                      var orderRequest = {\n                                        RequestClass: 'xBase',\n                                        RequestAction: 'Request',\n                                        TotalRequests: 1,\n                                        R1_RequestFields: 'Id;Code;CreatedByName;Phone;ModifiedByName;Code;Store;StoreName;Name;TimeFrame;TimeFrameName;BillCode;OfficialNumber;' + 'Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;Birthday;MetaDescription;Location;LocationName;TotalComments;TotalDownloads;TotalPages;' + 'TotalRatingPoints;TotalRatings;Status;StatusName;MetaDescription;PaymentStatus;PaymentStatusName;Address;Priority;GroupId;FormSetting;Changed;',\n                                        R1_RequestDataGroup: 'DataGroup.order.9ejnl',\n                                        R1_RequestTemplate: 'xDocument_Document.Insert',\n                                        R1_CreatedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                                        R1_CreatedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                                        R1_ModifiedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                                        R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                                        R1_Code: 'Order',\n                                        R1_GroupId: _this5.model.posModel.pos.Promulgator,\n                                        R1_Store: _this5.model.posModel.pos.Id,\n                                        R1_StoreName: _this5.model.posModel.pos.Name,\n                                        R1_Status: 'be311afe-985d-4f79-8e89-c895a4ff0694',\n                                        R1_StatusName: 'Bán',\n                                        R1_Name: _this5.model.orderModel.Name,\n                                        R1_Phone: _this5.model.orderModel.Phone,\n                                        R1_BillCode: _this5.model.orderModel.BillCode,\n                                        R1_CampaignCode: _this5.model.contactModel.CampaignCode.Id,\n                                        R1_CampaignCodeName: _this5.model.contactModel.CampaignCode.Name,\n                                        R1_CustomerCode: _this5.model.contactModel.CustomerCode,\n                                        R1_Author: _this5.model.posModel.seller.Id,\n                                        R1_AuthorName: _this5.model.posModel.seller.Name,\n                                        R1_OfficialNumber: _this5.model.contactModel.OfficialNumber,\n                                        R1_Priority: 1\n                                      };\n                                      _this5.$Utils.post(orderRequest).then(function (response) {\n                                        _this5.model.orderModel.Id = response.R1.Data;\n                                        _this5.saveSingleOrderPart(_this5.model.orderModel.Id, x);\n                                      });\n                                    } else {\n                                      _this5.saveSingleOrderPart(_this5.model.orderModel.Id, x);\n                                    }\n                                  }\n                                } else {\n                                  _this5.$message({ message: 'Xin hãy kiểm tra số lượng tồn trong hệ thống', center: true, type: 'error' });\n                                }\n                              });\n                            } else {\n                              _this5.$message({ message: 'Hết hàng', center: true, type: 'warning' });\n                            }\n                          } else if (productLst && productLst.length == 0) {\n                            _this5.$message({ message: 'Không có barcode này', type: 'warning', center: true });\n                          } else {\n                            _this5.$message({\n                              message: 'Lỗi hệ thống, liên hệ quản trị viên để xử lý',\n                              center: true,\n                              type: 'error'\n                            });\n                          }\n                        });\n                      }\n                    }\n                  });\n                } else {\n                  return;\n                }\n              });\n            });\n          });\n        });\n      }\n    },\n    format_currency: function format_currency(a) {\n      if (a == undefined) return 0;\n      if (isNaN(parseInt(a))) return '0';else {\n        a = ('' + a).replaceAll('.', '');\n        a = parseInt(a);\n        return (a + '').replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\n      }\n    },\n    onCustomerCashChange: function onCustomerCashChange() {\n      var cash = parseInt((this.model.paymentModel.gaveMoney + '').replaceAll('.', ''));\n      var total = parseInt((parseInt((this.model.paymentModel.sum_of_payment + '').replaceAll('.', '')) + '').replaceAll('.', ''));\n      if (isNaN(cash) || isNaN(total)) {\n        this.model.paymentModel.change = '0';\n      } else {\n        var returnCash = cash - total;\n        this.model.paymentModel.change = this.format_currency(returnCash);\n      }\n    },\n    getFormSetting: function getFormSetting(type, formCode) {\n      var _this6 = this;\n\n      var req = this.$Lodash.cloneDeep(this.$singleRequest);\n      req.R1_RequestTemplate = 'SettingNew.SearchSetting';\n      req.R1_Code = formCode;\n      this.$Utils.post(req).then(function (response) {\n        response = _this6.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n        for (var i = 0; i < response.length; i++) {\n          var refModule = response[i];\n          refModule.Description = refModule.Description ? JSON.parse(refModule.Description) : \"\";\n          if (_this6.$Utils.isEmpty(refModule, \"F1\")) {\n            refModule.Description.Fields = '';\n            for (var i = 1; i <= refModule.Description.FCount; i++) {\n              if (refModule['F' + i] != undefined) {\n                refModule.Description.Fields += refModule['F' + i];\n                delete refModule['F' + i];\n              }\n            }\n            refModule.Description.Fields = typeof refModule.Description.Fields === 'string' ? JSON.parse(refModule.Description.Fields) : [];\n          }\n          refModule.Description.Code = refModule.Code;\n          refModule.Description.DataGroup = refModule.Name;\n          refModule.Description.Value = refModule.Value;\n          refModule.Description.ModuleType = module.ModuleType;\n          if (module.ModuleType == \"Filter\") {\n            if (!refModule.Description.functions) {\n              refModule.Description.functions = {};\n            }\n            refModule.Description.functions.onFilter = _this6.model.onFilter;\n          }\n        }\n\n        var sourceSetting = _this6.$Lodash.cloneDeep(response);\n        $.each(sourceSetting.Fields, function (key, element) {\n          if (element.ElementType === 'Select' || element.ElementType === 'Multi' || element.ElementType === 'Radio' || element.ElementType === 'Tree' || element.ElementType === 'MultiTree' || element.ElementType === 'Autocomplete') {\n            delete element.Data;\n            delete element.treeData;\n            delete element.sourceData;\n          }\n        });\n        $.each(sourceSetting.Permissions, function (key, value) {\n          if (_this6.$Utils.isEmpty(value.Permissions)) {\n            sourceSetting.Permissions[key].Permissions = _this6.$Utils.stringToObject(value.Permissions);\n            if (value.Name != 'Script' && value.Name != 'Static') {\n              var i = 1;\n              while (_this6.$Utils.isEmpty(value.Permissions['Value' + i])) {\n                sourceSetting.Permissions[key].Permissions['Value' + i] = sourceData[value.Permissions['Value' + i]];\n                i++;\n              }\n            } else if (value.Name == 'Script') {\n              sourceSetting.Permissions[key].LeadershipDynamicOrganization = sourceData[sourceSetting.Permissions[key].LeadershipDynamicOrganization];\n            }\n          } else if (value.Name == 'Replica') {\n            var arrDP = _this6.$Lodash.cloneDeep(sourceSetting.Permissions[key].DynamicPermissions.split(';'));\n            sourceSetting.Permissions[key].DynamicPermissions = '';\n            $.each(arrDP, function (k, val) {\n              if (val != '' && _this6.$Utils.isEmpty(sourceData[val])) {\n                sourceSetting.Permissions[key].DynamicPermissions += sourceData[val] + ';';\n              }\n            });\n            if (_this6.$Utils.isEmpty(sourceSetting.Permissions[key].FormCode) && _this6.$Utils.isEmpty(sourceData.StatusDisplay)) {\n              sourceSetting.Permissions[key].StatusDisplay = sourceData.StatusDisplay;\n            }\n          }\n        });\n        _this6.model.formSetting[type] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting[0].Description);\n      });\n    },\n    calculateOrderCash: function calculateOrderCash(productList) {\n      var _this7 = this;\n\n      var tmp = 0;\n      if (productList.length == 0) {\n        this.model.paymentModel.sum_of_payment = 0;\n        this.onCustomerCashChange();\n      } else {\n        $.each(productList, function (k, v) {\n          var cash = '';\n          if (v.TotalPages == undefined || isNaN(parseInt(v.TotalPages))) cash = 0;else cash = (parseInt(v.TotalPages) - (isNaN(parseInt(v.DiscountMoney)) ? 0 : parseInt(v.DiscountMoney)) - (isNaN(parseInt(v.DiscountPercent)) ? 0 : parseInt(v.DiscountPercent) / 100 * parseInt(v.TotalPages))) * parseInt(v.Quantity);\n          tmp += cash;\n          _this7.model.paymentModel.sum_of_payment = _this7.format_currency(tmp);\n          _this7.onCustomerCashChange();\n        });\n      }\n    },\n    querySearch: function querySearch(queryString, cb) {\n      var _this8 = this;\n\n      var request = {\n        RequestClass: \"xBase\",\n        RequestAction: \"Request\",\n        TotalRequests: 1,\n        R1_RequestDataGroup: \"DataGroup.contact.82fhd\",\n        R1_RequestFields: 'Id;Code;CreatedByName;ModifiedByName;IdentityCode;Name;TimeFrame;TimeFrameName;LeadSource;LeadSourceName;Phone;Birthday;Keyword;;Location;LocationName;Gender;GenderName;Birthday;',\n        R1_Code: \"Contact\",\n        R1_RequestTemplate: \"xProfile_Profile.Search\",\n        R1_StartIndex: 0,\n        R1_EndIndex: 20,\n        R1_Keyword: this.model.contact_search_keyword\n      };\n      this.$Utils.post(request).then(function (response) {\n        response = _this8.$Utils.getDataWithRoot(response.R1, 'Data.ProfileDS.Profile');\n        cb(response);\n      });\n    },\n    handleSelect: function handleSelect(item) {\n      this.model.contactModel.Id = item.Id;\n      this.model.orderModel.Name = item.Name;\n      this.model.contactModel.CustomerCode = item.IdentityCode;\n      this.model.contactModel.Source = { Id: item.LeadSource, Name: item.LeadSourceName };\n      this.model.orderModel.Phone = item.Phone;\n      this.model.contactModel.Birthday = item.Birthday;\n      this.model.contactModel.Location = { Id: item.Location, Name: item.LocationName };\n      this.model.contactModel.Gender = { Id: item.Gender, Name: item.GenderName };\n\n      this.model.orderModel.TimeFrame = { Id: item.TimeFrame, Name: item.TimeFrameName };\n\n      var tmp = {\n        Id: item.Id,\n        Name: item.Name,\n        IdentityCode: item.IdentityCode,\n        LeadSource: item.LeadSource,\n        LeadSourceName: item.LeadSourceName,\n        Phone: item.Phone,\n        Birthday: item.Birthday,\n        Location: item.Location,\n        LocationName: item.LocationName,\n        Gender: item.Gender,\n        GenderName: item.GenderName,\n        TimeFrame: item.TimeFrame,\n        TimeFrameName: item.TimeFrameName\n      };\n      this.model.cachedContact = this.$Lodash.cloneDeep(tmp);\n    },\n    save: function save() {\n      var _this9 = this;\n\n      this.model.orderModel.Created = this.$Utils.formatDateTime(new Date());\n\n      var orderDate = new Date(this.model.orderModel.Created).getHours();\n      $.each(this.model.params.timeFrameNames, function (k, v) {\n        var tmp = v.Name.split(' - ');\n        if (parseInt(tmp[0]) < orderDate && parseInt(tmp[1]) > orderDate) {\n          _this9.model.orderModel.TimeFrame = v;\n          return false;\n        }\n      });\n\n      this.$refs['contactForm'].validate(function (valid1) {\n        _this9.$refs['orderForm'].validate(function (valid2) {\n          _this9.$refs['posForm'].validate(function (valid3) {\n            _this9.$refs['paymentForm'].validate(function (valid4) {\n              if (_this9.model.cart.length == 0) {\n                _this9.$message.error('Giỏ hàng trống');\n                return false;\n              }\n              if (_this9.model.paymentModel.change < 0) {\n                _this9.$message.error('Tiền trả lại không đúng');\n                return false;\n              }\n              if (valid4 && valid3 && valid2 && valid1) {\n                var checkExistedReq = {\n                  RequestClass: 'xBase',\n                  RequestAction: 'Request',\n                  TotalRequests: 2,\n                  R1_RequestDataGroup: \"DataGroup.lead.9jwnc\",\n                  R1_RequestFields: \"Id;Name;OfficialNumber;\",\n                  R1_Code: \"Lead\",\n                  R1_RequestTemplate: \"xDocument_Document.Search\",\n                  R1_OfficialNumber: _this9.model.contactModel.OfficialNumber,\n\n                  R2_RequestDataGroup: \"DataGroup.order.9ejnl\",\n                  R2_RequestFields: \"Id;Name;BillCode;\",\n                  R2_Code: \"Order\",\n                  R2_RequestTemplate: \"xDocument_Document.Search\",\n                  R2_BillCode: _this9.model.orderModel.BillCode\n                };\n                if (_this9.model.contactModel.Id == '') {\n                  checkExistedReq.TotalRequests = 3;\n                  checkExistedReq.R3_RequestFields = 'Id;Code;IdentityCode;';\n                  checkExistedReq.R3_RequestDataGroup = 'DataGroup.contact.82fhd';\n                  checkExistedReq.R3_Code = 'Contact';\n                  checkExistedReq.R3_RequestTemplate = 'xProfile_Profile.Search';\n                  checkExistedReq.R3_IdentityCode = _this9.model.contactModel.CustomerCode;\n                }\n\n                _this9.$Utils.post(checkExistedReq).then(function (checkExistedRes) {\n                  var msg = '';\n                  var leads = _this9.$Utils.getDataWithRoot(checkExistedRes.R1, 'Data.DocumentDS.Document');\n                  var order = _this9.$Utils.getDataWithRoot(checkExistedRes.R2, 'Data.DocumentDS.Document');\n                  if (checkExistedReq.TotalRequests == 3) {\n                    var contacts = _this9.$Utils.getDataWithRoot(checkExistedRes.R3, 'Data.ProfileDS.Profile');\n                    if (contacts.length > 0) {\n                      msg += 'mã khách hàng,';\n                    }\n                  }\n                  if (leads.length > 0) {\n                    msg += ' mã lượt liên hệ,';\n                  }\n                  if (order.length > 1) {\n                    msg += ' mã hoá đơn,';\n                  }\n                  if (msg != '') {\n                    msg = msg.substring(0, msg.length - 1) + ' đã tồn tại';\n                    _this9.$message.error(msg);\n                  } else {\n                    var whReq = {\n                      RequestClass: 'xBase',\n                      RequestAction: 'Request',\n                      TotalRequests: _this9.model.cart.length\n                    };\n                    var sourceData = {};\n                    var sourceSetting = _this9.$Lodash.cloneDeep(JSON.parse(_this9.model.formSetting.warehouse));\n                    _this9.$Utils.replacePermission(sourceSetting, sourceData);\n                    $.each(_this9.model.cart, function (k, v) {\n                      whReq['R' + (k + 1) + '_RequestFields'] = 'Id;Code;TotalAttachments;Priority;UpdateWarehouse;FormSetting;Changed';\n                      whReq['R' + (k + 1) + '_Code'] = 'Warehouse';\n                      whReq['R' + (k + 1) + '_RequestTemplate'] = 'xDocument_Document.Update';\n                      whReq['R' + (k + 1) + '_RequestDataGroup'] = 'DataGroup.warehouse.0fd40';\n                      whReq['R' + (k + 1) + '_UpdateWarehouse'] = true;\n                      whReq['R' + (k + 1) + '_Id'] = v.Id;\n                      whReq['R' + (k + 1) + '_TotalAttachments'] = -v.Quantity;\n\n                      whReq['R' + (k + 1) + '_FormSetting'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting);\n\n                      var changed = [{\n                        \"ColumnCaption\": \"Số lượng (Tồn thực thế)\",\n                        \"ColumnName\": \"TotalAttachments\",\n                        \"OldDisplayValue\": \"\",\n                        \"OldValue\": \"\",\n                        \"NewDisplayValue\": -v.Quantity + \"\",\n                        \"NewValue\": -v.Quantity + \"\"\n                      }, {\n                        \"ColumnCaption\": \"Mã hoá đơn\",\n                        \"ColumnName\": \"FriendlyUrl\",\n                        \"OldDisplayValue\": \"\",\n                        \"OldValue\": \"\",\n                        \"NewDisplayValue\": _this9.model.orderModel.BillCode,\n                        \"NewValue\": \"\" }];\n                      whReq['R' + (k + 1) + '_Changed'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changed);\n                    });\n                    _this9.$Utils.post(whReq).then(function (whRes) {});\n\n                    var sourceData = {};\n                    var sourceSetting = _this9.$Lodash.cloneDeep(JSON.parse(_this9.model.formSetting.contact));\n                    _this9.$Utils.replacePermission(sourceSetting, sourceData);\n                    var contactRequest = {\n                      RequestClass: 'xBase',\n                      RequestAction: 'Request',\n                      TotalRequests: 1,\n                      R1_RequestFields: 'Id;Code;Address;CreatedByName;ModifiedByName;IdentityCode;Name;Gender;GenderName;Phone;LeadSource;LeadSourceName;Location;LocationName;Birthday;FormSetting;Changed;',\n                      R1_RequestDataGroup: 'DataGroup.contact.82fhd',\n                      R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                      R1_Code: 'Contact',\n                      R1_Name: _this9.model.orderModel.Name,\n                      R1_Birthday: _this9.$Utils.formatDateTime(_this9.model.contactModel.Birthday),\n                      R1_Phone: _this9.model.orderModel.Phone,\n                      R1_Gender: _this9.model.contactModel.Gender.Id,\n                      R1_GenderName: _this9.model.contactModel.Gender.Name,\n                      R1_LeadSource: _this9.model.contactModel.Source.Id,\n                      R1_LeadSourceName: _this9.model.contactModel.Source.Name,\n                      R1_Location: _this9.model.contactModel.Location.Id,\n                      R1_LocationName: _this9.model.contactModel.Location.Name,\n                      R1_Address: _this9.model.contactModel.Address,\n                      R1_IdentityCode: _this9.model.contactModel.CustomerCode,\n                      R1_FormSetting: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting) };\n                    if (_this9.model.contactModel.Id == '') {\n                      contactRequest.R1_RequestTemplate = 'xProfile_Profile.Insert';\n                      contactRequest.R1_CreatedByName = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n                    } else {\n                      contactRequest.R1_RequestTemplate = 'xProfile_Profile.Update';\n                      contactRequest.R1_Id = _this9.model.contactModel.Id;\n                    }\n                    var contactChanged = [];\n\n                    $.each(_this9.model.contactFields, function (k, v) {\n                      var tmp = {\n                        \"ColumnCaption\": v.Caption,\n                        \"ColumnName\": k,\n                        \"OldDisplayValue\": _this9.model.cachedContact[k + 'Name'] ? _this9.model.cachedContact[k + 'Name'] : _this9.model.cachedContact[k],\n                        \"OldValue\": _this9.model.cachedContact[k],\n                        \"NewDisplayValue\": contactRequest['R1_' + k + 'Name'] ? contactRequest['R1_' + k + 'Name'] : contactRequest['R1_' + k],\n                        \"NewValue\": contactRequest['R1_' + k]\n                      };\n                      contactChanged.push(tmp);\n                    });\n                    contactRequest.R1_Changed = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(contactChanged);\n                    var sourceData1 = {};\n                    var sourceSetting1 = _this9.$Lodash.cloneDeep(JSON.parse(_this9.model.formSetting.lead));\n                    _this9.$Utils.replacePermission(sourceSetting1, sourceData1);\n\n                    var leadRequest = {\n                      RequestClass: 'xBase',\n                      RequestAction: 'Request',\n                      TotalRequests: 1,\n                      R1_RequestFields: 'Id;Code;CreatedByName;ModifiedByName;Version;Code;Store;StoreName;Name;TimeFrame;TimeFrameName;BillCode;OfficialNumber;' + 'Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;DocumentForm;GroupId;FormSetting;Changed;',\n                      R1_RequestDataGroup: 'DataGroup.lead.9jwnc',\n                      R1_RequestTemplate: 'xDocument_Document.Insert',\n                      R1_CreatedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                      R1_CreatedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                      R1_ModifiedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                      R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                      R1_Code: 'Lead',\n                      R1_GroupId: _this9.model.posModel.pos.Promulgator,\n                      R1_Store: _this9.model.posModel.pos.Id,\n                      R1_StoreName: _this9.model.posModel.pos.Name,\n                      R1_Name: _this9.model.orderModel.Name,\n                      R1_Phone: _this9.model.orderModel.Phone,\n                      R1_TimeFrame: _this9.model.orderModel.TimeFrame.Id,\n                      R1_TimeFrameName: _this9.model.orderModel.TimeFrame.Name,\n                      R1_OfficialNumber: _this9.model.contactModel.OfficialNumber,\n                      R1_Author: _this9.model.posModel.seller.Id,\n                      R1_AuthorName: _this9.model.posModel.seller.Name,\n                      R1_Source: _this9.model.contactModel.Source.Id,\n                      R1_SourceName: _this9.model.contactModel.Source.Name,\n                      R1_CampaignCode: _this9.model.contactModel.CampaignCode.Id,\n                      R1_CampaignCodeName: _this9.model.contactModel.CampaignCode.Name,\n                      R1_Gender: _this9.model.contactModel.Gender.Id,\n                      R1_GenderName: _this9.model.contactModel.Gender.Name,\n                      R1_CustomerCode: _this9.model.contactModel.CustomerCode,\n                      R1_FormSetting: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting1) };\n\n                    var leadChanged = [];\n                    $.each(_this9.model.leadFields, function (k, v) {\n                      var tmp = {\n                        \"ColumnCaption\": v.Caption,\n                        \"ColumnName\": k,\n                        \"OldDisplayValue\": '',\n                        \"OldValue\": '',\n                        \"NewDisplayValue\": leadRequest['R1_' + k + 'Name'] ? leadRequest['R1_' + k + 'Name'] : leadRequest['R1_' + k],\n                        \"NewValue\": leadRequest['R1_' + k]\n                      };\n                      leadChanged.push(tmp);\n                    });\n                    var sourceData2 = {};\n                    var sourceSetting2 = _this9.$Lodash.cloneDeep(JSON.parse(_this9.model.formSetting.order));\n                    _this9.$Utils.replacePermission(sourceSetting2, sourceData2);\n\n                    leadRequest.R1_Changed = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(leadChanged);\n                    var orderChanged = [];\n                    var orderRequest = {\n                      RequestClass: 'xBase',\n                      RequestAction: 'Request',\n                      TotalRequests: 1,\n                      R1_RequestFields: 'Id;Code;CreatedByName;Phone;ModifiedByName;Code;Store;StoreName;Name;TimeFrame;TimeFrameName;BillCode;OfficialNumber;' + 'Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;Birthday;MetaDescription;Location;LocationName;TotalComments;TotalDownloads;TotalPages;' + 'TotalRatingPoints;TotalRatings;Status;StatusName;MetaDescription;PaymentStatus;PaymentStatusName;Address;Priority;DocumentForm;DocumentField;GroupId;FormSetting;Changed;',\n                      R1_RequestDataGroup: 'DataGroup.order.9ejnl',\n                      R1_RequestTemplate: 'xDocument_Document.Update',\n                      R1_CreatedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                      R1_CreatedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                      R1_ModifiedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                      R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                      R1_Code: 'Order',\n                      R1_Id: _this9.model.orderModel.Id,\n                      R1_Gender: _this9.model.contactModel.Gender.Id,\n                      R1_GenderName: _this9.model.contactModel.Gender.Name,\n                      R1_GroupId: _this9.model.posModel.pos.Promulgator,\n                      R1_Store: _this9.model.posModel.pos.Id,\n                      R1_StoreName: _this9.model.posModel.pos.Name,\n                      R1_Name: _this9.model.orderModel.Name,\n                      R1_Birthday: _this9.$Utils.formatDateTime(_this9.model.contactModel.Birthday),\n                      R1_Phone: _this9.model.orderModel.Phone,\n                      R1_TimeFrame: _this9.model.orderModel.TimeFrame.Id,\n                      R1_TimeFrameName: _this9.model.orderModel.TimeFrame.Name,\n                      R1_BillCode: _this9.model.orderModel.BillCode,\n                      R1_OfficialNumber: _this9.model.contactModel.OfficialNumber,\n                      R1_Author: _this9.model.posModel.seller.Id,\n                      R1_AuthorName: _this9.model.posModel.seller.Name,\n                      R1_Source: _this9.model.contactModel.Source.Id,\n                      R1_SourceName: _this9.model.contactModel.Source.Name,\n                      R1_CampaignCode: _this9.model.contactModel.CampaignCode.Id,\n                      R1_CampaignCodeName: _this9.model.contactModel.CampaignCode.Name,\n                      R1_CustomerCode: _this9.model.contactModel.CustomerCode,\n                      R1_Address: _this9.model.contactModel.Address,\n                      R1_Location: _this9.model.contactModel.Location.Id,\n                      R1_LocationName: _this9.model.contactModel.Location.Name,\n                      R1_TotalComments: _this9.model.paymentModel.gaveMoney,\n                      R1_TotalDownloads: parseInt(_this9.model.paymentModel.cash.replaceAll('.', '')),\n                      R1_TotalPages: parseInt(_this9.model.paymentModel.customerCard.replaceAll('.', '')),\n                      R1_TotalRatingPoints: parseInt(_this9.model.paymentModel.bankMoney.replaceAll('.', '')),\n                      R1_TotalRatings: _this9.model.paymentModel.change,\n                      R1_Priority: 0,\n                      R1_Status: 'be311afe-985d-4f79-8e89-c895a4ff0694',\n                      R1_StatusName: 'Bán',\n                      R1_MetaDescription: '39636d3b-705b-4b51-91c9-67afda36c62e',\n                      R1_PaymentStatus: '9e4461ea-b25a-46e0-bf5f-db5bfabf2ba4',\n                      R1_PaymentStatusName: 'Đã thanh toán tại cửa hàng',\n                      R1_FormSetting: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting2) };\n                    $.each(_this9.model.orderFields, function (k, v) {\n                      var tmp = {\n                        \"ColumnCaption\": v.Caption,\n                        \"ColumnName\": k,\n                        \"OldDisplayValue\": '',\n                        \"OldValue\": '',\n                        \"NewDisplayValue\": orderRequest['R1_' + k + 'Name'] ? orderRequest['R1_' + k + 'Name'] : orderRequest['R1_' + k],\n                        \"NewValue\": orderRequest['R1_' + k]\n                      };\n                      orderChanged.push(tmp);\n                    });\n                    orderRequest.R1_Changed = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(orderChanged);\n\n                    var sourceData3 = {};\n                    var sourceSetting3 = _this9.$Lodash.cloneDeep(JSON.parse(_this9.model.formSetting.orderPart));\n                    _this9.$Utils.replacePermission(sourceSetting3, sourceData3);\n\n                    var orderPartRequest = {\n                      RequestClass: 'xBase',\n                      RequestAction: 'Request',\n                      TotalRequests: _this9.model.cart.length\n                    };\n                    $.each(_this9.model.cart, function (k, v) {\n                      orderPartRequest['R' + (k + 1) + '_RequestFields'] = 'Id;Code;CreatedByName;ModifiedByName;Code;Store;StoreName;Name;Birthday;Phone;TimeFrame;TimeFrameName;' + 'BillCode;OfficialNumber;Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;ProductCode;Parent;OrderId;ProductType;' + 'ProductTypeName;ProductPrice;Price;ProductColor;ProductColorName;ProductSize;ProductSizeName;Category;CategoryName;ProductCount;Total;Priority;Status;' + 'MetaDescription;DeliveryStatus;DeliveryStatusName;PaymentStatus;PaymentStatusName;ProductUnit;ProductShopCode;Barcode;LocationName;DiscountMoney;' + 'DiscountPercent;Address;Banked;;DocumentForm;DocumentField;GroupId;FormSetting;Changed;';\n                      orderPartRequest['R' + (k + 1) + '_RequestDataGroup'] = 'DataGroup.orderpart.82fjy';\n                      orderPartRequest['R' + (k + 1) + '_RequestTemplate'] = 'xDocument_Document.Update';\n                      orderPartRequest['R' + (k + 1) + '_CreatedBy'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n                      orderPartRequest['R' + (k + 1) + '_CreatedByName'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n                      orderPartRequest['R' + (k + 1) + '_ModifiedBy'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n                      orderPartRequest['R' + (k + 1) + '_ModifiedByName'] = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n                      orderPartRequest['R' + (k + 1) + '_Code'] = 'OrderPart';\n                      orderPartRequest['R' + (k + 1) + '_Id'] = v.OrderPartId;\n                      orderPartRequest['R' + (k + 1) + '_GroupId'] = _this9.model.posModel.pos.Promulgator;\n                      orderPartRequest['R' + (k + 1) + '_Store'] = _this9.model.posModel.pos.Id;\n                      orderPartRequest['R' + (k + 1) + '_StoreName'] = _this9.model.posModel.pos.Name;\n                      orderPartRequest['R' + (k + 1) + '_Name'] = _this9.model.orderModel.Name;\n                      orderPartRequest['R' + (k + 1) + '_Birthday'] = _this9.$Utils.formatDateTime(_this9.model.contactModel.Birthday);\n                      orderPartRequest['R' + (k + 1) + '_Phone'] = _this9.model.orderModel.Phone;\n                      orderPartRequest['R' + (k + 1) + '_TimeFrame'] = _this9.model.orderModel.TimeFrame.Id;\n                      orderPartRequest['R' + (k + 1) + '_TimeFrameName'] = _this9.model.orderModel.TimeFrame.Name;\n                      orderPartRequest['R' + (k + 1) + '_BillCode'] = _this9.model.orderModel.BillCode;\n                      orderPartRequest['R' + (k + 1) + '_OfficialNumber'] = _this9.model.contactModel.OfficialNumber;\n                      orderPartRequest['R' + (k + 1) + '_Author'] = _this9.model.posModel.seller.Id;\n                      orderPartRequest['R' + (k + 1) + '_AuthorName'] = _this9.model.posModel.seller.Name;\n                      orderPartRequest['R' + (k + 1) + '_Source'] = _this9.model.contactModel.Source.Id;\n                      orderPartRequest['R' + (k + 1) + '_SourceName'] = _this9.model.contactModel.Source.Name;\n                      orderPartRequest['R' + (k + 1) + '_CampaignCode'] = _this9.model.contactModel.CampaignCode.Id;\n                      orderPartRequest['R' + (k + 1) + '_CampaignCodeName'] = _this9.model.contactModel.CampaignCode.Name;\n                      orderPartRequest['R' + (k + 1) + '_CustomerCode'] = _this9.model.contactModel.CustomerCode;\n                      orderPartRequest['R' + (k + 1) + '_FormSetting'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(sourceSetting3);\n                      orderPartRequest['R' + (k + 1) + '_ProductCode'] = v.ProductCode;\n                      orderPartRequest['R' + (k + 1) + '_ProductType'] = v.Categories;\n                      orderPartRequest['R' + (k + 1) + '_ProductTypeName'] = v.CategoriesName;\n                      orderPartRequest['R' + (k + 1) + '_ProductPrice'] = v.TotalPages;\n                      orderPartRequest['R' + (k + 1) + '_Price'] = _this9.model.paymentModel.sum_of_payment;\n                      orderPartRequest['R' + (k + 1) + '_ProductColor'] = v.ProductColor;\n                      orderPartRequest['R' + (k + 1) + '_ProductColorName'] = v.ProductColorName;\n                      orderPartRequest['R' + (k + 1) + '_ProductSize'] = v.Size;\n                      orderPartRequest['R' + (k + 1) + '_ProductSizeName'] = v.SizeName;\n                      orderPartRequest['R' + (k + 1) + '_Category'] = _this9.model.orderModel.Warehouse.Id;\n                      orderPartRequest['R' + (k + 1) + '_CategoryName'] = _this9.model.orderModel.Warehouse.Name;\n                      orderPartRequest['R' + (k + 1) + '_LocationName'] = _this9.model.contactModel.Location.Name;\n                      orderPartRequest['R' + (k + 1) + '_Address'] = _this9.model.contactModel.Address;\n                      orderPartRequest['R' + (k + 1) + '_DiscountMoney'] = v.DiscountMoney;\n                      orderPartRequest['R' + (k + 1) + '_DiscountPercent'] = v.DiscountPercent;\n                      orderPartRequest['R' + (k + 1) + '_Gender'] = _this9.model.contactModel.Gender.Id;\n                      orderPartRequest['R' + (k + 1) + '_GenderName'] = _this9.model.contactModel.Gender.Name;\n\n                      orderPartRequest['R' + (k + 1) + '_ProductCount'] = v.Quantity;\n                      orderPartRequest['R' + (k + 1) + '_Banked'] = v.Quantity;\n                      orderPartRequest['R' + (k + 1) + '_Total'] = (parseInt(v.TotalPages) - (isNaN(parseInt(v.DiscountMoney)) ? 0 : parseInt(v.DiscountMoney)) - (isNaN(parseInt(v.DiscountPercent)) ? 0 : parseInt(v.DiscountPercent) / 100 * parseInt(v.TotalPages))) * parseInt(v.Quantity);\n                      orderPartRequest['R' + (k + 1) + '_Priority'] = 0;\n                      orderPartRequest['R' + (k + 1) + '_Status'] = 'be311afe-985d-4f79-8e89-c895a4ff0694';\n                      orderPartRequest['R' + (k + 1) + '_MetaDescription'] = '39636d3b-705b-4b51-91c9-67afda36c62e';\n                      orderPartRequest['R' + (k + 1) + '_DeliveryStatus'] = '93bfb67d-e659-48a5-9236-f727312cd2e2';\n                      orderPartRequest['R' + (k + 1) + '_DeliveryStatusName'] = 'Khách đã nhận';\n                      orderPartRequest['R' + (k + 1) + '_PaymentStatus'] = '9e4461ea-b25a-46e0-bf5f-db5bfabf2ba4';\n                      orderPartRequest['R' + (k + 1) + '_PaymentStatusName'] = 'Đã thanh toán tại cửa hàng';\n                      orderPartRequest['R' + (k + 1) + '_ProductUnit'] = v.SourceUrl;\n                      orderPartRequest['R' + (k + 1) + '_ProductShopCode'] = v.MetaDescriptionName;\n                      orderPartRequest['R' + (k + 1) + '_Barcode'] = v.MetaKeywords;\n\n                      var orderPartChanged = [];\n\n                      $.each(_this9.orderPartFields, function (key, val) {\n                        var tmp = {\n                          \"ColumnCaption\": val.Caption,\n                          \"ColumnName\": k,\n                          \"OldDisplayValue\": '',\n                          \"OldValue\": '',\n                          \"NewDisplayValue\": orderPartRequest['R' + (k + 1) + '_' + key + 'Name'] ? orderPartRequest['R' + (k + 1) + '_' + key + 'Name'] : orderPartRequest['R' + (k + 1) + '_' + key],\n                          \"NewValue\": orderPartRequest['R' + (k + 1) + '_' + key]\n                        };\n                        orderPartChanged.push(tmp);\n                      });\n                      orderPartRequest['R' + (k + 1) + '_Changed'] = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(orderPartChanged);\n                    });\n\n                    _this9.$Utils.post(contactRequest).then(function (contactResponse) {\n                      if (contactResponse.success) {\n                        leadRequest.R1_DocumentForm = contactResponse.R1.Data;\n                        orderRequest.R1_DocumentForm = contactResponse.R1.Data;\n\n                        _this9.$Utils.post(leadRequest).then(function (leadResponse) {\n                          if (leadResponse.success) {\n                            orderRequest.R1_DocumentField = leadResponse.R1.Data;\n                            for (var i = 1; i <= orderPartRequest.TotalRequests; i++) {\n                              orderPartRequest['R' + i + '_DocumentForm'] = contactResponse.R1.Data;\n                              orderPartRequest['R' + i + '_DocumentField'] = leadResponse.R1.Data;\n                            }\n                            _this9.$Utils.post(orderPartRequest).then(function (orderPartRes) {});\n\n                            _this9.$Utils.postCheckResult(orderRequest).then(function (orderResponse) {\n                              if (orderResponse.success) {\n                                _this9.model.orderModel.MetaDescription = orderRequest.R1_MetaDescription;\n                                _this9.model.disabled = true;\n                                _this9.$setItemLocalStorage(POS_PREFIX + _this9.item.name, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(_this9.model));\n\n                                _this9.$message.success('Đơn hàng đã lưu');\n                              }\n                            });\n                          }\n                        });\n                      }\n                    });\n                  }\n                });\n              } else {\n                console.log('error submit!!');\n                return false;\n              }\n            });\n          });\n        });\n      });\n    },\n    getValueFromVariable: function getValueFromVariable(key, root) {\n      var returnVal = '';\n      if (key && key.constructor == String) {\n        var lst = key.split('.');\n        var tmp = root;\n        $.each(lst, function (k, v) {\n          if (tmp == undefined) {\n            returnVal = '';\n            return false;\n          }\n          tmp = tmp[v];\n          returnVal = tmp;\n        });\n      }\n      return returnVal;\n    },\n    print: function print() {\n      var _this10 = this;\n\n      var ctrl = this;\n      var request = this.$Lodash.cloneDeep(this.$singleRequest);\n      request.TotalRequests = 1;\n      request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n      request.R1_Code = \"xSetting.Project.Parameter.CRM2.Order.OrderTemplatePrint\";\n      this.$Utils.post(request).then(function (response) {\n        var response = _this10.$Utils.getDataWithRoot(response.R1, \"Data.DynamicDS.Setting\")[0];\n\n        var htmlTemplate = ctrl.$Utils.decodeHtmlEntities(response.Description);\n        var json = JSON.parse(response.Value);\n\n        try {\n          if (json.loops) {\n            $.each(json.loops, function (k, v) {\n              var loop = \"\";\n              var tmp = htmlTemplate + \"\";\n              tmp = tmp.split('<' + k + '>');\n              loop = tmp[1].split('</' + k + '>')[0];\n              var loopVal = \"\";\n\n              $.each(ctrl.model.cart, function (k1, v1) {\n                var loopValTmp = loop + \"\";\n                $.each(_this10.model.fieldMappingPrinter, function (k2, v2) {\n                  if (v2.indexOf('.loopVal') > 0) loopValTmp = loopValTmp.replaceAll('{{' + k2 + '}}', (ctrl.getValueFromVariable((v2 + '').replaceAll('.loopVal', ''), v1) + '').replaceAll('.00', ''));\n                });\n                loopVal += loopValTmp;\n              });\n\n              htmlTemplate = htmlTemplate.replaceAll(loop, loopVal);\n            });\n          }\n\n          $.each(ctrl.model.fieldMappingPrinter, function (k, v) {\n            htmlTemplate = htmlTemplate.replaceAll('{{' + k + '}}', ctrl.getValueFromVariable(v, ctrl) + '');\n          });\n\n          $.each(json.allVariables, function (index, val) {\n            if (htmlTemplate.indexOf('{{' + val + '}}') > -1) {\n              htmlTemplate = htmlTemplate.replaceAll('{{' + val + '}}', '');\n            }\n          });\n          htmlTemplate = htmlTemplate.replaceAll('undefined', '');\n          var mywindow = window.open('', 'PRINT', json.paper);\n          mywindow.document.write(htmlTemplate);\n          setTimeout(function () {\n            mywindow.document.close();\n            mywindow.focus();\n            mywindow.print();\n            mywindow.close();\n          }, 250);\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    },\n    changeCampaign: function changeCampaign(Id) {\n      var _this11 = this;\n\n      $.each(this.model.params.campaignCodes, function (k, v) {\n        if (Id == v.Id) {\n          _this11.model.contactModel.CampaignCode = v;\n          return false;\n        }\n      });\n    }\n  },\n  created: function created() {\n    var _this12 = this;\n\n    this.loadResources();\n    this.getFormSetting('contact', 'Form.contact.0094e');\n    this.getFormSetting('order', 'Form.order.0f1d6');\n    this.getFormSetting('orderPart', 'Form.hoa-don.0fbh5');\n    this.getFormSetting('lead', 'Form.lead.0d8cb');\n    this.getFormSetting('warehouse', 'Form.chinh-sua-du-lieu-ton-kho.0c240');\n    this.onCustomerCashChange();\n    this.calculateOrderCash(this.model.cart);\n    this.$hub.$on('closeTab', function (targetName) {\n      if (targetName === _this12.item.name) {\n        if (_this12.model.orderModel.MetaDescription != '' || _this12.model.orderModel.Id == '') {\n          _this12.$hub.$emit('deleteOrder', { list: undefined, targetName: targetName });\n        } else {\n          _this12.$hub.$emit('deleteOrder', {\n            list: _this12.model.cart,\n            targetName: targetName,\n            formSetting: _this12.model.formSetting.warehouse,\n            orderId: _this12.model.orderModel.Id\n          });\n        }\n\n        delete localStorage[POS_PREFIX + _this12.item.name];\n      }\n    });\n  },\n  watch: {\n    'model.orderModel.Warehouse': function modelOrderModelWarehouse(newVal) {\n      var _this13 = this;\n\n      $.each(this.model.params.poses, function (k, val) {\n        if (val.Category.indexOf(newVal.Id) > -1) {\n          _this13.model.posModel.pos = val;\n          return false;\n        }\n      });\n    },\n    'model.productEditing.DiscountMoney': function modelProductEditingDiscountMoney() {\n      this.computeTotalMoney();\n    },\n    'model.productEditing.DiscountPercent': function modelProductEditingDiscountPercent() {\n      this.computeTotalMoney();\n    },\n\n    'model.paymentModel.cash': function modelPaymentModelCash(newVal) {\n      this.model.paymentModel.cash = this.format_currency(newVal);\n      this.model.paymentModel.gaveMoney = parseInt(this.model.paymentModel.cash.replaceAll('.', '')) + parseInt(this.model.paymentModel.customerCard.replaceAll('.', '')) + parseInt(this.model.paymentModel.bankMoney.replaceAll('.', ''));\n      this.onCustomerCashChange();\n    },\n    'model.paymentModel.customerCard': function modelPaymentModelCustomerCard(newVal) {\n      this.model.paymentModel.customerCard = this.format_currency(newVal);\n      this.model.paymentModel.gaveMoney = parseInt(this.model.paymentModel.cash.replaceAll('.', '')) + parseInt(this.model.paymentModel.customerCard.replaceAll('.', '')) + parseInt(this.model.paymentModel.bankMoney.replaceAll('.', ''));\n      this.onCustomerCashChange();\n    },\n    'model.paymentModel.bankMoney': function modelPaymentModelBankMoney(newVal) {\n      this.model.paymentModel.bankMoney = this.format_currency(newVal);\n      this.model.paymentModel.gaveMoney = parseInt(this.model.paymentModel.cash.replaceAll('.', '')) + parseInt(this.model.paymentModel.customerCard.replaceAll('.', '')) + parseInt(this.model.paymentModel.bankMoney.replaceAll('.', ''));\n      this.onCustomerCashChange();\n    },\n    'model.cart': {\n      handler: function handler(newVal) {\n        this.calculateOrderCash(newVal);\n      },\n      deep: true\n    }\n  },\n  destroyed: function destroyed() {}\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(2), __webpack_require__(984)(module)))\n\n/***/ }),\n\n/***/ 1240:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Store__ROOT\"},[_c('div',{staticClass:\"col-lg-8\"},[_c('div',{staticClass:\"step__wrapper\"},[_c('el-card',{attrs:{\"label\":\"Giỏ hàng\"}},[_c('div',{staticClass:\"Cart__ROOT\"},[_c('div',{staticClass:\"cart__header\"},[_c('div',{staticClass:\"col-lg-6 pd0\"},[_c('strong',[_vm._v(\"Giỏ hàng\")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-6 pd0\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-5\"},[_c('el-select',{attrs:{\"disabled\":_vm.model.disabled,\"value-key\":\"Id\",\"placeholder\":\"Chọn kho hàng (bắt buộc)\",\"filterable\":\"\"},model:{value:(_vm.model.orderModel.Warehouse),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"Warehouse\", $$v)},expression:\"model.orderModel.Warehouse\"}},_vm._l((_vm.model.params.warehouses),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-7\"},[_c('el-input',{attrs:{\"disabled\":_vm.model.disabled,\"placeholder\":\"Nhập Barcode và Enter\",\"suffix-icon\":\"el-icon-search\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.handleBarcodeSearchConfirm($event)}},model:{value:(_vm.model.barcode_search_keyword),callback:function ($$v) {_vm.$set(_vm.model, \"barcode_search_keyword\", $$v)},expression:\"model.barcode_search_keyword\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"})]),_vm._v(\" \"),_c('div',{staticClass:\"cart__content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.model.cart,\"empty-text\":\"Không có dữ liệu\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"40\",\"align\":\"center\",\"header-align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"MetaKeywords\",\"width\":\"75\",\"label\":\"Barcode\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ProductCode\",\"width\":\"200\",\"label\":\"Mã sản phẩm\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"TotalPages\",\"label\":\"Đơn giá\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_vm._v(\"\\n                      \"+_vm._s(_vm.format_currency(parseInt(scope.row.TotalPages))+' đ')+\"\\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Số lượng\",\"prop\":\"Quantity\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Chiết khấu tiền\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_vm._v(\"\\n                      \"+_vm._s(_vm.format_currency(scope.row.DiscountMoney)+' đ')+\"\\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Chiết khấu %\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_vm._v(\"\\n                      \"+_vm._s(scope.row.DiscountPercent?(scope.row.DiscountPercent+' %'):'0%')+\"\\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Total\",\"label\":\"Thành tiền\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_c('a',{attrs:{\"hidden\":\"\"}},[_vm._v(_vm._s(scope.row.Total = (parseInt(scope.row.TotalPages) - (isNaN(parseInt(scope.row.DiscountMoney))?0:parseInt(scope.row.DiscountMoney)) - (isNaN(parseInt(scope.row.DiscountPercent))?0:(parseInt(scope.row.DiscountPercent)/100*parseInt(scope.row.TotalPages))))* parseInt(scope.row.Quantity)))]),_vm._v(\"\\n                      \"+_vm._s(_vm.format_currency(scope.row.Total) + ' đ')+\"\\n                      \")])]}}])}),_vm._v(\" \"),(!_vm.model.disabled)?_c('el-table-column',{attrs:{\"label\":\"Hành động\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{on:{\"click\":function($event){_vm.handleEditProduct(scope.row.Id)}}},[_c('i',{staticClass:\"fa fa-pencil\"})]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin\":\"3px 0\"},attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDeleteProduct(scope.row.Id,scope.row)}}},[_c('i',{staticClass:\"fa fa-trash\"})])]}}])}):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"modal__wrapper\"},[_c('el-dialog',{attrs:{\"title\":\"Chỉnh sửa thông tin sản phẩm\",\"visible\":_vm.model.showEditProductModal,\"before-close\":_vm.handleCloseEditProductModal},on:{\"update:visible\":function($event){_vm.$set(_vm.model, \"showEditProductModal\", $event)}}},[_c('el-form',{ref:\"productEditing\",attrs:{\"disabled\":_vm.model.disabled,\"model\":_vm.model.productEditing,\"label-width\":\"150px\",\"label-position\":_vm.$isMobileDevice ? 'top' : 'right'}},[_c('el-form-item',{attrs:{\"label\":\"Barcode\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.TotalPages),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"TotalPages\", $$v)},expression:\"model.productEditing.TotalPages\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Mã hàng\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.ProductCode),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"ProductCode\", $$v)},expression:\"model.productEditing.ProductCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Size\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.SizeName),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"SizeName\", $$v)},expression:\"model.productEditing.SizeName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Màu sắc\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.ProductColorName),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"ProductColorName\", $$v)},expression:\"model.productEditing.ProductColorName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Kho\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.CategoryName),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"CategoryName\", $$v)},expression:\"model.productEditing.CategoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Số lượng\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.Quantity),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"Quantity\", $$v)},expression:\"model.productEditing.Quantity\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Đơn giá\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.TotalPages),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"TotalPages\", $$v)},expression:\"model.productEditing.TotalPages\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Chiết khấu (bằng hình thức số tiền)\"}},[_c('el-input',{model:{value:(_vm.model.productEditing.DiscountMoney),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"DiscountMoney\", $$v)},expression:\"model.productEditing.DiscountMoney\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Chiết khấu (bằng hình thức %)\"}},[_c('el-input',{model:{value:(_vm.model.productEditing.DiscountPercent),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"DiscountPercent\", $$v)},expression:\"model.productEditing.DiscountPercent\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('div',{staticClass:\"group-button tac\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpdateProduct}},[_vm._v(\"\\n                        Cập nhật\\n                      \")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.handleCloseEditProductModal}},[_vm._v(\"Hủy\")])],1)])],1)],1)],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"step-content__wrapper\",staticStyle:{\"padding-top\":\"20px\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-4 pd0\"},[_c('el-card',[_c('el-tabs',[_c('el-tab-pane',{attrs:{\"label\":\"Đơn hàng\"}},[_c('div',{attrs:{\"label\":\"Đơn hàng\"}},[_c('div',{staticClass:\"Order__ROOT\"},[_c('div',{staticClass:\"contact__header\"},[_c('div',{staticClass:\"col-lg-12 pd0\"},[_c('el-autocomplete',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":_vm.model.disabled,\"auto-complete\":\"on\",\"fetch-suggestions\":_vm.querySearch,\"placeholder\":\"Tìm khách hàng\",\"suffix-icon\":\"el-icon-search\"},on:{\"select\":_vm.handleSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(props.item.Name!=='')?_c('span',[_c('b',[_vm._v(\"Tên:\")]),_vm._v(\" \"+_vm._s(props.item.Name))]):_vm._e(),_vm._v(\" \"),(props.item.IdentityCode && props.item.IdentityCode!=='')?_c('span',[_vm._v(\"-  \"),_c('b',[_vm._v(\"Mã khách:\")]),_vm._v(\" \"+_vm._s(props.item.IdentityCode))]):_vm._e(),_vm._v(\" \"),(props.item.Phone && props.item.Phone!=='')?_c('span',[_vm._v(\"-  \"),_c('b',[_vm._v(\"SĐT:\")]),_vm._v(\" \"+_vm._s(props.item.Phone))]):_vm._e()]}}]),model:{value:(_vm.model.contact_search_keyword),callback:function ($$v) {_vm.$set(_vm.model, \"contact_search_keyword\", $$v)},expression:\"model.contact_search_keyword\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"})]),_vm._v(\" \"),_c('div',{staticClass:\"contact__content\",staticStyle:{\"padding\":\"10px\"}},[_c('el-form',{ref:\"orderForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.model.orderModel,\"inline\":false,\"rules\":_vm.model.orderRules}},[_c('el-form-item',{attrs:{\"label\":\"Tên KH\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Nguyễn Văn A\"},model:{value:(_vm.model.orderModel.Name),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"Name\", $$v)},expression:\"model.orderModel.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Điện thoại\",\"prop\":\"Phone\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"01234567890\"},model:{value:(_vm.model.orderModel.Phone),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"Phone\", $$v)},expression:\"model.orderModel.Phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Mã hóa đơn\",\"prop\":\"BillCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"Mã hóa đơn\"},model:{value:(_vm.model.orderModel.BillCode),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"BillCode\", $$v)},expression:\"model.orderModel.BillCode\"}})],1)],1)],1)])])]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Thông tin\"}},[_c('div',{attrs:{\"label\":\"Khách hàng\"}},[_c('div',{staticClass:\"Contact__ROOT\"},[_c('div',{staticClass:\"contact__content\",staticStyle:{\"padding\":\"10px\"}},[_c('el-form',{ref:\"contactForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.model.contactModel,\"inline\":false,\"rules\":_vm.model.contactRules}},[_c('el-form-item',{attrs:{\"label\":\"Mã KH\",\"prop\":\"CustomerCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"MA.0001\"},model:{value:(_vm.model.contactModel.CustomerCode),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"CustomerCode\", $$v)},expression:\"model.contactModel.CustomerCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Mã liên hệ\",\"prop\":\"OfficialNumber\"}},[_c('el-input',{attrs:{\"placeholder\":\"Mã liên hệ\"},model:{value:(_vm.model.contactModel.OfficialNumber),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"OfficialNumber\", $$v)},expression:\"model.contactModel.OfficialNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Chiến dịch\",\"prop\":\"CampaignCode\"}},[_c('el-select',{attrs:{\"filterable\":\"\"},on:{\"change\":_vm.changeCampaign},model:{value:(_vm.model.campaignId),callback:function ($$v) {_vm.$set(_vm.model, \"campaignId\", $$v)},expression:\"model.campaignId\"}},_vm._l((_vm.model.params.campaignCodes),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item.Id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Giới tính\",\"prop\":\"Gender\"}},[_c('el-select',{attrs:{\"value-key\":\"Id\"},model:{value:(_vm.model.contactModel.Gender),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Gender\", $$v)},expression:\"model.contactModel.Gender\"}},_vm._l((_vm.model.params.genders),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Nguồn KH\",\"prop\":\"Source\"}},[_c('el-select',{attrs:{\"value-key\":\"Id\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.model.contactModel.Source),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Source\", $$v)},expression:\"model.contactModel.Source\"}},_vm._l((_vm.model.params.sources),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Ngày sinh\",\"prop\":\"Birthday\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"format\":\"dd/MM/yyyy\",\"placeholder\":\"01/01/1990\"},model:{value:(_vm.model.contactModel.Birthday),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Birthday\", $$v)},expression:\"model.contactModel.Birthday\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Tỉnh thành\",\"prop\":\"Location\"}},[_c('el-select',{attrs:{\"value-key\":\"Id\",\"placeholder\":\"Hà Nội\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.model.contactModel.Location),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Location\", $$v)},expression:\"model.contactModel.Location\"}},_vm._l((_vm.model.params.provinces),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Địa chỉ\",\"prop\":\"Address\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.model.contactModel.Address),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Address\", $$v)},expression:\"model.contactModel.Address\"}})],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"pos-info__wrapper\"},[_c('div',{staticClass:\"block__label\"},[_vm._v(\"\\n                Thông tin cửa hàng\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"block__wrapper\"},[_c('el-form',{ref:\"posForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"110px\",\"rules\":_vm.model.posRules,\"model\":_vm.model.posModel}},[_c('el-form-item',{attrs:{\"label\":\"Cửa hàng\",\"prop\":\"pos\"}},[_c('el-select',{attrs:{\"placeholder\":\"Chọn cửa hàng\",\"value-key\":\"Id\",\"filterable\":\"\"},model:{value:(_vm.model.posModel.pos),callback:function ($$v) {_vm.$set(_vm.model.posModel, \"pos\", $$v)},expression:\"model.posModel.pos\"}},_vm._l((_vm.model.params.poses),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"NV Bán hàng\",\"prop\":\"seller\"}},[_c('el-select',{attrs:{\"placeholder\":\"Chọn NV bán hàng\",\"value-key\":\"Id\",\"filterable\":\"\"},model:{value:(_vm.model.posModel.seller),callback:function ($$v) {_vm.$set(_vm.model.posModel, \"seller\", $$v)},expression:\"model.posModel.seller\"}},_vm._l((_vm.model.params.users),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1)],1)],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"payment__wrapper\"},[_c('div',{staticClass:\"block__label\"},[_vm._v(\"\\n          Thông tin thanh toán\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"block__wrapper\"},[_c('el-form',{ref:\"paymentForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"120px\",\"rules\":_vm.model.paymentRules,\"model\":_vm.model.paymentModel}},[_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('b',[_vm._v(\"Tổng:\")])]),_vm._v(\" \"),_c('h2',[_c('strong',[_vm._v(\"\\n                    \"+_vm._s(_vm.format_currency(_vm.model.paymentModel.sum_of_payment))+\" đ\\n                  \")])])]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('b',[_vm._v(\"Tiền khách trả:\")])]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.format_currency(_vm.model.paymentModel.gaveMoney))+\" đ\")])]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"      Tiền mặt:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"1000000\"},model:{value:(_vm.model.paymentModel.cash),callback:function ($$v) {_vm.$set(_vm.model.paymentModel, \"cash\", $$v)},expression:\"model.paymentModel.cash\"}})]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"      Hội viên:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"1000000\"},model:{value:(_vm.model.paymentModel.customerCard),callback:function ($$v) {_vm.$set(_vm.model.paymentModel, \"customerCard\", $$v)},expression:\"model.paymentModel.customerCard\"}})]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"      Quẹt thẻ:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"1000000\"},model:{value:(_vm.model.paymentModel.bankMoney),callback:function ($$v) {_vm.$set(_vm.model.paymentModel, \"bankMoney\", $$v)},expression:\"model.paymentModel.bankMoney\"}})]],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"change\"}},[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('b',[_vm._v(\"Tiền trả lại:\")])]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.model.paymentModel.change)+\" đ\")])]],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"label-width\":\"0px\"}},[_c('br'),_vm._v(\" \"),(_vm.model.orderModel.MetaDescription=='')?_c('el-button',{staticClass:\"btn btn-block \",attrs:{\"type\":\"danger\"},on:{\"click\":_vm.save}},[_vm._v(\"Thanh toán\")]):_vm._e(),_vm._v(\" \"),(_vm.model.orderModel.MetaDescription!='')?_c('el-button',{staticClass:\"btn btn-block fa fa-print\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.print}},[_vm._v(\"In\")]):_vm._e()],1)],1)],1)])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 1241:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{attrs:{\"type\":\"border-card\",\"editable\":\"\"},on:{\"edit\":_vm.handleTabsEdit},model:{value:(_vm.model.editableTabsValue),callback:function ($$v) {_vm.$set(_vm.model, \"editableTabsValue\", $$v)},expression:\"model.editableTabsValue\"}},_vm._l((_vm.model.editableTabs),function(item,index){return _c('el-tab-pane',{key:item.name,attrs:{\"label\":item.title,\"name\":item.name}},[_c('POS',{attrs:{\"item\":item}})],1)}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 965:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_POSes_vue__ = __webpack_require__(1235);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_748bdd8e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_POSes_vue__ = __webpack_require__(1241);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1233)\n}\nvar normalizeComponent = __webpack_require__(0)\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-748bdd8e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_POSes_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_748bdd8e_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_POSes_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 984:\n/***/ (function(module, exports) {\n\nmodule.exports = function(originalModule) {\n\tif(!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true,\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/13.95b284c2aa240be71724.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-748bdd8e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./POSes.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"32f52c9d\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-748bdd8e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/POS/POSes.vue\n// module id = 1233\n// module chunks = 13","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"POSes.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-748bdd8e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/POS/POSes.vue\n// module id = 1234\n// module chunks = 13","<template>\n  <el-tabs v-model=\"model.editableTabsValue\" type=\"border-card\" editable @edit=\"handleTabsEdit\">\n    <el-tab-pane v-for=\"(item, index) in model.editableTabs\" :key=\"item.name\" :label=\"item.title\" :name=\"item.name\">\n      <POS :item=\"item\"></POS>\n    </el-tab-pane>\n  </el-tabs>\n</template>\n\n<script>\n    import POS from \"./POS\";\n    export default {\n        name: \"POSes\",\n      components: {POS},\n      data(){\n          var model = {\n            editableTabsValue: '1',\n            editableTabs: [{\n              title: 'Hoá đơn 1',\n              name: '1',\n            }],\n            tabIndex: 1\n          }\n          var savedPos = this.$getItemLocalStorage('POS');\n          if(savedPos && savedPos!= 'undefined' && JSON.parse(savedPos).editableTabs.length>0){\n            model =  JSON.parse(savedPos);\n          }\n\n        return {\n          model: model,\n        }\n      },\n      methods: {\n        handleTabsEdit(targetName, action) {\n          if (action === 'add') {\n            let newTabName = ++this.model.tabIndex + '';\n            this.model.editableTabs.push({\n              title: 'Hoá đơn '+ newTabName,\n              name: newTabName,\n            });\n            this.model.editableTabsValue = newTabName;\n          }\n          if (action === 'remove') {\n              this.$confirm('Bạn muốn đóng, dữ liệu chưa lưu có thể bị hủy?', 'Warning', {\n                cancelButtonText: 'Không',\n                confirmButtonText: 'Có',\n                type: 'warning'\n              }).then(() => {\n              this.$hub.$emit('closeTab', targetName);\n              }).catch(() => {\n                // this.$message({\n                //   type: 'info',\n                //   message: 'Delete canceled'\n                // });\n              });\n          }\n        },\n        returnProductsToWH (data) {\n          if(data.list){\n            var idsToDel = [];\n            idsToDel.push(data.orderId)\n            var whReq = {\n              RequestClass: 'xBase',\n              RequestAction: 'Request',\n              TotalRequests: data.list.length,\n            }\n            data.list.filter((v,k)=>{\n              idsToDel.push(data.list[k].OrderPartId)\n              whReq['R'+(k+1)+'_RequestFields'] ='Id;Code;Priority;UpdateWarehouse;FormSetting;Changed';\n              whReq['R'+(k+1)+'_Code']= 'Warehouse';\n              whReq['R'+(k+1)+'_RequestTemplate']= 'xDocument_Document.Update';\n              whReq['R'+(k+1)+'_RequestDataGroup']= 'DataGroup.warehouse.0fd40';\n              whReq['R'+(k+1)+'_UpdateWarehouse']= true;\n              whReq['R'+(k+1)+'_Id']= v.Id;\n              whReq['R'+(k+1)+'_Priority']= v.Quantity;\n              whReq['R'+(k+1)+'_FormSetting']= data.formSetting;\n\n              var changed = [{\n                \"ColumnCaption\": \"Số lượng( Tồn sẵn có)\",\n                \"ColumnName\": \"Priority\",\n                \"OldDisplayValue\": \"\",\n                \"OldValue\": \"\",\n                \"NewDisplayValue\": v.Quantity + \"\",\n                \"NewValue\": v.Quantity + \"\"\n              },{\n                \"ColumnCaption\": \"Mã hoá đơn\",\n                \"ColumnName\": \"FriendlyUrl\",\n                \"OldDisplayValue\": \"\",\n                \"OldValue\": \"\",\n                \"NewDisplayValue\": data.BillCode,\n                \"NewValue\": \"\"\n              },];\n              whReq['R'+(k+1)+'_Changed']= JSON.stringify(changed);\n            });\n            this.$Utils.postCheckResult(whReq).then((whRes)=>{\n              if(whRes.success){\n                var delReq = {\n                  RequestClass: 'xBase',\n                  RequestAction: 'Request',\n                  TotalRequests: idsToDel.length,\n                }\n                $.each(idsToDel, (index,val)=>{\n                  delReq['R'+(index+1)+'_RequestTemplate'] = \"xDocument_Document.Delete\";\n                  delReq['R'+(index+1)+'_Id'] = val;\n                })\n                this.$Utils.postCheckResult(delReq).then((delRes)=>{\n                  if(delRes.success){\n                    let tabs = this.model.editableTabs;\n                    let activeName = this.model.editableTabsValue;\n                    if (activeName === data.targetName) {\n                      tabs.forEach((tab, index) => {\n                        if (tab.name === data.targetName) {\n                          let nextTab = tabs[index + 1] || tabs[index - 1];\n                          if (nextTab) {\n                            activeName = nextTab.name;\n                          }\n                        }\n                      });\n                    }\n                    this.model.editableTabsValue = activeName;\n                    this.model.editableTabs = tabs.filter(tab => tab.name !== data.targetName);\n                    this.$setItemLocalStorage(\"POS\", JSON.stringify(this.model));\n                    let newTabName = ++this.model.tabIndex + '';\n                    this.model.editableTabs.push({\n                      title: 'Hoá đơn '+ newTabName,\n                      name: newTabName,\n                      content: 'New Tab content'\n                    });\n                    this.model.editableTabsValue = newTabName;\n                  }\n                });\n              }\n            });\n\n          }else{\n\n            let tabs = this.model.editableTabs;\n            let activeName = this.model.editableTabsValue;\n            if (activeName === data.targetName) {\n              tabs.forEach((tab, index) => {\n                if (tab.name === data.targetName) {\n                  let nextTab = tabs[index + 1] || tabs[index - 1];\n                  if (nextTab) {\n                    activeName = nextTab.name;\n                  }\n                }\n              });\n            }\n            this.model.editableTabsValue = activeName;\n            this.model.editableTabs = tabs.filter(tab => tab.name !== data.targetName);\n            this.$setItemLocalStorage(\"POS\", JSON.stringify(this.model));\n\n            if(this.model.editableTabs.length == 0) {\n             let newTabName = ++this.model.tabIndex + '';\n              this.model.editableTabs.push({\n                title: 'Hoá đơn '+ newTabName,\n                name: newTabName,\n                content: 'New Tab content'\n              });\n              this.model.editableTabsValue = newTabName;\n            }\n          }\n        }\n      },\n      created (){\n        this.$hub.$on('deleteOrder', (data)=> {\n          this.returnProductsToWH(data);\n        });\n\n        this.$hub.$on('saveToLocalStorage', ()=> {\n          this.$setItemLocalStorage(\"POS\", JSON.stringify(this.model));\n        });\n      },\n      destroyed (){\n          this.$hub.$off('deleteOrder');\n          this.$hub.$off('saveToLocalStorage');\n          this.$hub.$off('closeTab');\n      }\n    }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/POS/POSes.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b12ec40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./POS.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./POS.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b12ec40\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./POS.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/POS/POS.vue\n// module id = 1236\n// module chunks = 13","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b12ec40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./POS.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7c79f7b4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4b12ec40\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/POS/POS.vue\n// module id = 1237\n// module chunks = 13","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".el-select{display:block}.el-tabs__new-tab{margin-right:20px}.el-date-editor.el-input,.el-date-editor.el-input__inner{width:100%}.Store__ROOT{background:#fff;min-height:\\\"~calc(100vh - 100px)\\\"}.Store__ROOT .col-lg-3,.Store__ROOT .col-lg-4,.Store__ROOT .col-lg-6,.Store__ROOT .col-lg-8,.Store__ROOT .col-lg-9{float:left}.Store__ROOT .block__label{padding:10px;border:1px solid #eee;border-left:0;border-right:0;font-weight:600;background:#f5f7ff}.Store__ROOT .block__wrapper{padding:10px}.Store__ROOT .step__wrapper{padding-top:10px}.Store__ROOT .el-form-item__label{margin-bottom:0;padding-bottom:0}.Store__ROOT .el-step__title{font-size:13px}.Store__ROOT .el-step__icon{font-size:12px;width:18px;height:18px}.Payment__ROOT{border-left:1px solid #999;padding-bottom:20px}.Contact__ROOT .contact__header,.Order__ROOT .contact__header{padding:3px 3px 3px 10px;line-height:27px;background:#f5f7fe}.Contact__ROOT .contact__header .el-input__inner,.Order__ROOT .contact__header .el-input__inner{border:none;background:\\\"#00000008\\\"}.Cart__ROOT .cart__header{padding:3px 3px 3px 10px;line-height:27px;background:#f5f7fe}.Cart__ROOT .cart__header .el-input__inner{border:none;background:\\\"#00000008\\\"}\", \"\", {\"version\":3,\"sources\":[\"/Users/yuukininomae/Sites/vue-crm2/src/components/static/POS/POS.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,aAAe,CAChB,AACD,kBACE,iBAAmB,CACpB,AACD,yDACE,UAAY,CACb,AACD,aACE,gBAAiB,AACjB,iCAAmC,CACpC,AACD,mHACI,UAAY,CACf,AACD,2BACI,aAAc,AACd,sBAAuB,AACvB,cAAe,AACf,eAAgB,AAChB,gBAAiB,AACjB,kBAAoB,CACvB,AACD,6BACI,YAAc,CACjB,AACD,4BACI,gBAAkB,CACrB,AACD,kCACI,gBAAiB,AACjB,gBAAkB,CACrB,AACD,6BACI,cAAgB,CACnB,AACD,4BACI,eAAgB,AAChB,WAAY,AACZ,WAAa,CAChB,AACD,eACE,2BAA4B,AAC5B,mBAAqB,CACtB,AACD,8DACE,yBAA0B,AAC1B,iBAAkB,AAClB,kBAAoB,CACrB,AACD,gGACI,YAAa,AACb,sBAAwB,CAC3B,AACD,0BACE,yBAA0B,AAC1B,iBAAkB,AAClB,kBAAoB,CACrB,AACD,2CACI,YAAa,AACb,sBAAwB,CAC3B\",\"file\":\"POS.vue\",\"sourcesContent\":[\"\\n.el-select {\\n  display: block;\\n}\\n.el-tabs__new-tab {\\n  margin-right: 20px;\\n}\\n.el-date-editor.el-input, .el-date-editor.el-input__inner {\\n  width: 100%;\\n}\\n.Store__ROOT {\\n  background: #fff;\\n  min-height: \\\"~calc(100vh - 100px)\\\";\\n}\\n.Store__ROOT .col-lg-8, .Store__ROOT .col-lg-4, .Store__ROOT .col-lg-6, .Store__ROOT .col-lg-9, .Store__ROOT .col-lg-3 {\\n    float: left;\\n}\\n.Store__ROOT .block__label {\\n    padding: 10px;\\n    border: solid 1px #eee;\\n    border-left: 0;\\n    border-right: 0;\\n    font-weight: 600;\\n    background: #f5f7ff;\\n}\\n.Store__ROOT .block__wrapper {\\n    padding: 10px;\\n}\\n.Store__ROOT .step__wrapper {\\n    padding-top: 10px;\\n}\\n.Store__ROOT .el-form-item__label {\\n    margin-bottom: 0;\\n    padding-bottom: 0;\\n}\\n.Store__ROOT .el-step__title {\\n    font-size: 13px;\\n}\\n.Store__ROOT .el-step__icon {\\n    font-size: 12px;\\n    width: 18px;\\n    height: 18px;\\n}\\n.Payment__ROOT {\\n  border-left: solid 1px #999;\\n  padding-bottom: 20px;\\n}\\n.Contact__ROOT .contact__header, .Order__ROOT .contact__header {\\n  padding: 3px 3px 3px 10px;\\n  line-height: 27px;\\n  background: #f5f7fe;\\n}\\n.Contact__ROOT .contact__header .el-input__inner, .Order__ROOT .contact__header .el-input__inner {\\n    border: none;\\n    background: \\\"#00000008\\\";\\n}\\n.Cart__ROOT .cart__header {\\n  padding: 3px 3px 3px 10px;\\n  line-height: 27px;\\n  background: #f5f7fe;\\n}\\n.Cart__ROOT .cart__header .el-input__inner {\\n    border: none;\\n    background: \\\"#00000008\\\";\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true,\"alias\":{\"../img\":\"../static/img\"}}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4b12ec40\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/static/POS/POS.vue\n// module id = 1238\n// module chunks = 13","/**\n* Store Component\n*\n* Created by dbinh on 30/03/2018.\n*/\n\n<script>\n  const POS_PREFIX = 'BILL';\n  export default {\n    name: 'POS',\n    components: {\n    },\n    props: ['item'],\n    data () {\n      // var validatePayment = (rule, value, callback) => {\n      //   if(parseInt(value.toString().replaceAll('.',''))<0){\n      //     callback(new Error('Tiền trả lại không hợp lệ'));\n      //   } else {\n      //     callback()\n      //   }\n      // };\n      /*var validateGender = (rule, value, callback) => {\n        if(this.$Utils.equals(value, {}))\n          callback(new Error('Bắt buộc'));\n        else {\n          callback()\n        }\n      };*/\n      /*var validateCampaign = (rule, value, callback) => {\n        if(this.$Utils.equals(value, {}))\n          callback(new Error('Bắt buộc'));\n        else {\n          callback()\n        }\n      };*/\n\n      var newModel =  {\n        disabled: false,\n        formSetting: {\n          contact: '',\n          lead: '',\n          order: '',\n          orderPart: '',\n          warehouse: '',\n        },\n        posModel: {\n          seller: {\n            Id: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n            Name: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n            LoginName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).LoginName,\n          },\n          pos: '',\n        },\n        paymentModel: {\n          sum_of_payment: '0',\n          cash: '0',\n          change: '0',\n          customerCard: '0',\n          bankMoney: '0',\n          gaveMoney: '0',\n        },\n        contactModel: {\n          Id: '',\n          CustomerCode: '',\n          Source: {},\n          Birthday: '',\n          Address: '',\n          CampaignCode: {},\n          Location: {},\n          Gender: {},\n          OfficialNumber: '',\n        },\n        orderModel: {\n          Id: '',\n          Created: this.$Utils.formatDateTime(new Date()),\n          TimeFrame: {},\n          BillCode: '',\n          Warehouse: {},\n          Name: '',\n          Phone: '',\n          MetaDescription: '',\n          IsProcessing: false\n        },\n        contact_search_keyword: '',\n        barcode_search_keyword: '',\n        showEditProductModal: false,\n        productEditing: {},\n        cart: [],\n        params: {\n          'sources': [],\n          'genders': [],\n          'campaignCodes': [],\n          'timeFrameNames': [],\n          'provinces': [],\n          'poses': [],\n          'users': [],\n          'customers': [],\n          'warehouses': [],\n        },\n        contactRules: {\n          CustomerCode: [\n            {required: true, message: 'Bắt buộc', trigger: 'blur'},\n          ],\n          CampaignCode: [\n            // {validator: validateCampaign, trigger: 'change'},\n            { required: true, message: 'Bắt buộc', trigger: 'change'},\n            // { type: 'object', required: true, message: 'Please select at least one activity type', trigger: 'change' }\n          // ]\n          // , Gender: [\n          //   {validator: validateGender, trigger: 'blur'},\n          //   {required: true, message: 'Bắt buộc'},\n          ],\n          OfficialNumber: [\n            {required: true, message: 'Bắt buộc', trigger: 'blur'},\n          ],\n        },\n        orderRules: {\n          Name: [\n            {required: true, message: 'Bắt buộc', trigger: 'blur'},\n            {min: 5, max: 50, message: 'Độ dài phải từ 5 đến 50 kí tự', trigger: 'blur'}\n          ],\n          Phone: [\n            {required: true, message: 'Bắt buộc', trigger: 'blur'},\n            {min: 10, max: 11, message: 'Độ dài phải là 10 hoặc 11 kí tự', trigger: 'blur'}\n          ],\n          Created: [\n            {required: true, message: 'Bắt buộc', trigger: 'blur'},\n          ],\n          TimeFrame: [\n            {required: true, message: 'Bắt buộc', trigger: 'change'},\n          ],\n          BillCode: [\n            {required: true, message: 'Bắt buộc', trigger: 'blur'},\n          ],\n        },\n        posRules: {\n          pos: [\n            {required: true, message: 'Bắt buộc', trigger: 'change'},\n          ],\n          seller: [\n            {required: true, message: 'Bắt buộc', trigger: 'change'},\n          ],\n        },\n        paymentRules: {\n          // change: [\n          //   {validator: validatePayment, trigger: 'blur'}\n          // ],\n        },\n        cachedContact: {},\n        contactFields: {\n          Name: {Caption: 'Tên khách hàng'},\n          IdentityCode: {Caption: 'Mã khách hàng'},\n          LeadSource: {Caption: 'Nguồn khách hàng'},\n          Phone: {Caption: 'SĐT KH 1'},\n          Birthday: {Caption: 'Năm sinh'},\n          Location: {Caption: 'Tỉnh thành'},\n          Gender: {Caption: 'Giới tính'},\n        },\n        leadFields: {\n          'Store': {Caption: 'Cửa hàng'},\n          'CreatedBy': {Caption: 'Người tạo'},\n          'ModifiedBy': {Caption: 'Người sửa'},\n          'Name': {Caption: 'Tên khách hàng'},\n          'Phone': {Caption: 'SĐT KH1'},\n          'TimeFrame': {Caption: 'Khung giờ'},\n          'OfficialNumber': {Caption: 'Mã lượt liên hệ'},\n          'Author': {Caption: 'Nhân viên bán hàng'},\n          'Source': {Caption: 'Nguồn khách hàng'},\n          'CampaignCode': {Caption: 'Mã chiến dịch'},\n          'CustomerCode': {Caption: 'Mã khách hàng'},\n        },\n        orderFields: {\n          'CreatedBy': {Caption: 'Người tạo'},\n          'ModifiedBy': {Caption: 'Người sửa'},\n          'Store': {Caption: 'Cửa hàng'},\n          Name: {Caption: 'Tên khách hàng'},\n          Birthday: {Caption: 'Năm sinh'},\n          'Phone': {Caption: 'SĐT KH1'},\n          'TimeFrame': {Caption: 'Khung giờ'},\n          'BillCode': {Caption: 'Mã hoá đơn'},\n          'OfficialNumber': {Caption: 'Mã lượt liên hệ'},\n          'Author': {Caption: 'Nhân viên bán hàng'},\n          'Source': {Caption: 'Nguồn khách hàng'},\n          'CampaignCode': {Caption: 'Mã chiến dịch'},\n          'CustomerCode': {Caption: 'Mã khách hàng'},\n          Location: {Caption: 'Tỉnh thành'},\n        },\n        orderPartFields: {\n          'CreatedBy': {Caption: 'Người tạo'},\n          'ModifiedBy': {Caption: 'Người sửa'},\n          'Store': {Caption: 'Cửa hàng'},\n          'Name': {Caption: 'Tên khách hàng'},\n          'Birthday': {Caption: 'Năm sinh'},\n          'Phone': {Caption: 'SĐT KH1'},\n          'TimeFrame': {Caption: 'Khung giờ'},\n          'BillCode': {Caption: 'Mã hoá đơn'},\n          'OfficialNumber': {Caption: 'Mã lượt liên hệ'},\n          'Author': {Caption: 'Nhân viên bán hàng'},\n          'Source': {Caption: 'Nguồn khách hàng'},\n          'CampaignCode': {Caption: 'Mã chiến dịch'},\n          'CustomerCode': {Caption: 'Mã khách hàng'},\n          'ProductCode': {Caption: 'Mã Sản phẩm'},\n          'ProductType': {Caption: 'Dòng Sản phẩm'},\n          'ProductPrice': {Caption: 'Đơn giá'},\n          'Price': {Caption: 'Giá trị đơn hàng'},\n          'ProductColor': {Caption: 'Màu sắc'},\n          'ProductSize': {Caption: 'Size'},\n          'Category': {Caption: 'Xuất từ kho'},\n          'Location': {Caption: 'Tỉnh thành'},\n          'DiscountMoney': {Caption: 'Chiết khấu (bằng hình thức số tiền)'},\n          'DiscountPercent': {Caption: 'Chiết khấu (bằng hình thức %)'},\n          'ProductCount': {Caption: 'Số lượng'},\n          'Total': {Caption: 'Tổng thanh toán'},\n          'Status': {Caption: 'Loại đơn hàng (Bán/ Đổi)'},\n          'DeliveryStatus': {Caption: 'Tình trạng vận đơn'},\n          'PaymentStatus': {Caption: 'Tình trạng thanh toán'},\n          'ProductUnit': {Caption: 'Đơn vị tính'},\n          'ProductShopCode': {Caption: 'Mã hàng'},\n          'MetaKeywords': {Caption: 'Barcode'},\n        },\n        fieldMappingPrinter: {\n          'BillCode': 'model.orderModel.BillCode',\n          'Name': 'model.orderModel.Name',\n          'Phone': 'model.orderModel.Phone',\n          'Address': 'model.contactModel.Address',\n          'Barcode': 'MetaKeywords.loopVal',\n          'ProductCode': 'ProductCode.loopVal',\n          'ProductCount': 'Quantity.loopVal',\n          'Total': 'Total.loopVal',\n          'TotalPages': 'model.paymentModel.customerCard',\n          'ProductPrice': 'TotalPages.loopVal',\n          'TotalComments': 'model.paymentModel.gaveMoney',\n          'TotalDownloads': 'model.paymentModel.cash',\n          'TotalRatingPoints': 'model.paymentModel.bankMoney',\n          'TotalRatings': 'model.paymentModel.change',\n          'DiscountPercent': 'DiscountPercent.loopVal',\n          'DiscountMoney': 'DiscountMoney.loopVal',\n          'Price': 'model.paymentModel.sum_of_payment',\n          'DataGroup.pointofsales.09egb.Description': 'model.posModel.pos.Description',\n          'Created': 'model.orderModel.Created',\n          'User.LoginName': 'model.posModel.seller.LoginName',\n        },\n        passedItem: this.item,\n        campaignId: undefined,\n      }\n      var model =  this.$getItemLocalStorage(POS_PREFIX + this.item.name)&& this.$getItemLocalStorage(POS_PREFIX + this.item.name)!= 'undefined'?JSON.parse(this.$getItemLocalStorage(POS_PREFIX + this.item.name)):newModel;\n      return {\n        model:model,\n      }\n    },\n    methods: {\n      loadResources(){\n        //load warehouse: params.warehouses\n        var requestWH = {\n          RequestClass: \"xBase\",\n          RequestAction: \"Request\",\n          TotalRequests: 1,\n          R1_RequestDataGroup: \"DataGroup.warehouses.01dh7\",\n          R1_RequestFields: \"Id;Code;Name;\",\n          R1_Code: \"Warehouses\",\n          R1_RequestTemplate: \"xDocument_Document.Search\"\n        };\n        this.$Utils.post(requestWH).then(response => {\n          this.model.params.warehouses = this.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n          //load stores: params.poses\n          var request = {\n            RequestClass: \"xBase\",\n            RequestAction: \"Request\",\n            TotalRequests: 1,\n            R1_RequestDataGroup: \"DataGroup.pointofsales.09egb\",\n            R1_RequestFields: \"Id;Code;Promulgator;Name;Category;Type;Description\",\n            R1_Code: \"POS\",\n            R1_RequestTemplate: \"xDocument_Document.Search\"\n          };\n          this.$Utils.post(request).then(response => {\n            this.model.params.poses = this.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n            $.each(this.model.params.warehouses, (k,value)=> {\n              if(value.Id == this.model.params.poses[0].Category){\n                this.model.orderModel.Warehouse = value;\n                return false;\n              }\n            });\n          });\n        });\n\n\n        //load users: params.users\n        var parameter = {\n          RequestAction: 'SearchUsers',\n          RequestClass: 'BPM',\n          ConditionFields: 'IncludedGroupManager;Group;Status;LoginName;UserId,Status',\n          StaticFields: 'UserId;Username;Description;Status;LoginName',\n          DynamicFields: 'Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone',\n          StructFields: 'GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRootName;GroupManage;Notification',\n          Status: 1\n        };\n        this.$Utils.post(parameter).then((data) => {\n          this.model.params.users = [];\n          data = this.$Utils.getDataWithRoot(data, 'Data.UserDS.User');\n          $.each(data, (k, value) => {\n            if (value.LoginName !== 'superadmin') {\n              this.model.params.users.push({\n                Id: value.UserId,\n                Name: value.LoginName,\n                // LoginName: value.LoginName\n              })\n            }\n          });\n        });\n\n        //load sources: params.sources\n        var request = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: 1,\n          R1_RequestTemplate: 'Setting.SearchBase',\n          R1_ParentCode: 'xSetting.Project.Parameter.CRM.Customer.Source'\n        };\n        this.isMobile = this.$isMobileDevice;\n        this.$Utils.post(request).then(response => {\n         this.model.params.sources = this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n        })\n\n        //load campaigns: params.campaignCodes\n        var request = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: 1,\n          R1_RequestTemplate: 'xDocument_Document.Search',\n          R1_RequestDataGroup: 'DataGroup.campaign.0d1gf',\n          R1_RequestFields: 'Id;Code;Name;',\n          R1_Code: 'Campaign'\n        };\n        this.isMobile = this.$isMobileDevice;\n        this.$Utils.post(request).then(response => {\n          this.model.params.campaignCodes = this.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n          this.model.campaignId = this.model.params.campaignCodes[0].Id;\n        })\n\n        //load time period: params.timeFrameNames\n        var request = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: 1,\n          R1_RequestTemplate: 'Setting.SearchBase',\n          R1_ParentCode: 'xSetting.Project.Parameter.CRM.Activity.TimeFrame'\n        };\n        this.isMobile = this.$isMobileDevice;\n        this.$Utils.post(request).then(response => {\n          this.model.params.timeFrameNames = this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n        })\n\n        //load time period: params.genders\n        var request = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: 1,\n          R1_RequestTemplate: 'Setting.SearchBase',\n          R1_ParentCode: 'xSetting.Project.Parameter.CRM.Customer.Gender'\n        };\n        this.isMobile = this.$isMobileDevice;\n        this.$Utils.post(request).then(response => {\n          this.model.params.genders = this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n        })\n\n        //load time period: params.provinces\n        var request = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: 1,\n          R1_RequestTemplate: 'Setting.SearchBase',\n          R1_ParentCode: 'xSetting.Project.Parameter.CRM.Lead.Province'\n        };\n        this.isMobile = this.$isMobileDevice;\n        this.$Utils.post(request).then(response => {\n          this.model.params.provinces = this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n        })\n\n\n      },\n      handleUpdateProduct () {\n        this.$set(this.model.cart, this.model.cart.findIndex(product => product.Id === this.model.productEditing.Id), this.model.productEditing)\n        this.handleCloseEditProductModal()\n      },\n      handleEditProduct (Id) {\n        this.model.productEditing = this.model.cart.filter(product => product.Id === Id)[0]\n        this.model.productEditing = JSON.parse(JSON.stringify(this.model.productEditing))\n        this.model.showEditProductModal = true\n      },\n      handleDeleteProduct (Id, row) {\n        var cached = this.$Lodash.cloneDeep(this.model.cart);\n        this.model.cart = this.model.cart.filter(product => product.Id !== Id);\n\n        var whReq = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: 1,\n        }\n        var sourceData = {};\n        var sourceSetting = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.warehouse));\n        this.$Utils.replacePermission(sourceSetting, sourceData)\n\n        whReq['R1_RequestFields'] ='Id;Code;Priority;UpdateWarehouse;FormSetting;Changed';\n        whReq['R1_Code']= 'Warehouse';\n        whReq['R1_RequestTemplate']= 'xDocument_Document.Update';\n        whReq['R1_RequestDataGroup']= 'DataGroup.warehouse.0fd40';\n        whReq['R1_UpdateWarehouse']= true;\n        whReq['R1_Id']= row.Id;\n        whReq['R1_Priority']= row.Quantity;\n        whReq['R1_FormSetting']= JSON.stringify(sourceSetting);//this.model.formSetting.warehouse;\n\n        var changed = [{\n          \"ColumnCaption\": \"Số lượng( Tồn sẵn có)\",\n          \"ColumnName\": \"Priority\",\n          \"OldDisplayValue\": \"\",\n          \"OldValue\": \"\",\n          \"NewDisplayValue\": row.Quantity + \"\",\n          \"NewValue\": row.Quantity + \"\"\n        },{\n          \"ColumnCaption\": \"Mã hoá đơn\",\n          \"ColumnName\": \"FriendlyUrl\",\n          \"OldDisplayValue\": \"\",\n          \"OldValue\": \"\",\n          \"NewDisplayValue\": this.model.orderModel.BillCode,\n          \"NewValue\": \"\"\n        },];\n        whReq['R1_Changed']= JSON.stringify(changed);\n\n        this.$Utils.postCheckResult(whReq).then((whRes)=>{\n          if(whRes.success){\n            this.$message.success(\"Trả tồn thành công\");\n            var delReq = {\n              RequestClass: 'xBase',\n              RequestAction: 'Request',\n              TotalRequests: 1,\n              R1_RequestTemplate : \"xDocument_Document.Delete\",\n              R1_Id : row.OrderPartId,\n            }\n            this.$Utils.postCheckResult(delReq).then((delRes)=>{\n              if(delRes.success){\n                this.$message.success(\"Xoá thành công\");\n                  this.$setItemLocalStorage(POS_PREFIX + this.item.name, JSON.stringify(this.model));\n                  //this.$hub.$emit('saveToLocalStorage');\n              }else {\n                this.$message.error(\"Có lỗi, không xoá được\");\n              }\n            });\n          }else{\n            this.$message.error(\"Có lỗi, không trả tồn\");\n            this.model.cart = cached;\n          }\n        });\n      },\n      handleCloseEditProductModal () {\n        this.model.productEditing = {}\n        this.model.showEditProductModal = false\n      },\n      computeTotalMoney () {\n        this.model.productEditing.Total = parseInt((this.model.productEditing.ProductPrice - (this.model.productEditing.DiscountMoney || 0)) * (100 - (this.model.productEditing.DiscountPercent || 0)) / 100) * (this.model.productEditing.Quantity || 1)\n      },\n      saveSingleOrderPart(OrderId, product, isUpdate){\n        var orderPartRequest = {\n          RequestClass: 'xBase',\n          RequestAction: 'Request',\n          TotalRequests: this.model.cart.length,\n        }\n        orderPartRequest['R1_RequestFields']= 'Id;Code;CreatedByName;ModifiedByName;Code;Store;StoreName;Name;Birthday;Phone;TimeFrame;TimeFrameName;' +\n          'BillCode;OfficialNumber;Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;ProductCode;Parent;OrderId;ProductType;' +\n          'ProductTypeName;ProductPrice;Price;ProductColor;ProductColorName;ProductSize;ProductSizeName;Category;CategoryName;ProductCount;Total;Priority;Status;' +\n          'MetaDescription;DeliveryStatus;DeliveryStatusName;PaymentStatus;PaymentStatusName;ProductUnit;ProductShopCode;Barcode;LocationName;DiscountMoney;' +\n          'DiscountPercent;Address;GroupId;FormSetting;Changed;';\n        orderPartRequest['R1_RequestDataGroup']= 'DataGroup.orderpart.82fjy';\n        if(isUpdate){\n          orderPartRequest['R1_RequestTemplate']= 'xDocument_Document.Update';\n          orderPartRequest['R1_Id']= product.OrderPartId;\n        }else{\n          orderPartRequest['R1_RequestTemplate']= 'xDocument_Document.Insert';\n        }\n        orderPartRequest['R1_CreatedBy']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n        orderPartRequest['R1_CreatedByName']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n        orderPartRequest['R1_ModifiedBy']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n        orderPartRequest['R1_ModifiedByName']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n        orderPartRequest['R1_Code']= 'OrderPart';\n        orderPartRequest['R1_GroupId']= this.model.posModel.pos.Promulgator;\n        orderPartRequest['R1_Store']= this.model.posModel.pos.Id;\n        orderPartRequest['R1_StoreName']= this.model.posModel.pos.Name;\n        orderPartRequest['R1_Author']= this.model.posModel.seller.Id;\n        orderPartRequest['R1_AuthorName']= this.model.posModel.seller.Name;\n        orderPartRequest['R1_ProductCode'] = product.ProductCode;\n        orderPartRequest['R1_Parent'] = OrderId;\n        orderPartRequest['R1_OrderId'] = OrderId;\n        orderPartRequest['R1_ProductType'] = product.Categories;\n        orderPartRequest['R1_ProductTypeName'] = product.CategoriesName;\n        orderPartRequest['R1_ProductPrice'] = product.TotalPages;\n        // orderPartRequest['R1_Price'] = this.model.paymentModel.sum_of_payment;\n        orderPartRequest['R1_ProductColor'] = product.ProductColor;\n        orderPartRequest['R1_ProductColorName'] = product.ProductColorName;\n        orderPartRequest['R1_ProductSize']= product.Size;\n        orderPartRequest['R1_ProductSizeName']= product.SizeName;\n        orderPartRequest['R1_Category']= this.model.orderModel.Warehouse.Id;\n        orderPartRequest['R1_CategoryName']= this.model.orderModel.Warehouse.Name;\n        orderPartRequest['R1_LocationName']= this.model.contactModel.Location.Name;\n        orderPartRequest['R1_Address']= this.model.contactModel.Address;\n        orderPartRequest['R1_DiscountMoney']= product.DiscountMoney;\n        orderPartRequest['R1_DiscountPercent']= product.DiscountPercent;\n        orderPartRequest['R1_Gender']= this.model.contactModel.Gender.Id;\n        orderPartRequest['R1_GenderName']= this.model.contactModel.Gender.Name;\n\n        orderPartRequest['R1_ProductCount'] = product.Quantity;\n        orderPartRequest['R1_Total'] = (parseInt(product.TotalPages) - (isNaN(parseInt(product.DiscountMoney))?0:parseInt(product.DiscountMoney)) - (isNaN(parseInt(product.DiscountPercent))?0:(parseInt(product.DiscountPercent)/100*parseInt(product.TotalPages))))* parseInt(product.Quantity);\n        orderPartRequest['R1_Priority'] = 0;\n        orderPartRequest['R1_Status'] = 'be311afe-985d-4f79-8e89-c895a4ff0694';// đơn hàng bán\n        // orderPartRequest['R1_MetaDescription'] = '39636d3b-705b-4b51-91c9-67afda36c62e';// đã xuất bán\n        // orderPartRequest['R1_DeliveryStatus'] = '93bfb67d-e659-48a5-9236-f727312cd2e2';// khách đã nhận\n        // orderPartRequest['R1_DeliveryStatusName'] = 'Khách đã nhận';// khách đã nhận\n        // orderPartRequest['R1_PaymentStatus'] = '9e4461ea-b25a-46e0-bf5f-db5bfabf2ba4';// đã thanh toán tại cửa hàng\n        // orderPartRequest['R1_PaymentStatusName'] = 'Đã thanh toán tại cửa hàng';// đã thanh toán tại cửa hàng\n        orderPartRequest['R1_ProductUnit'] = product.SourceUrl;// đơn vị tính\n        orderPartRequest['R1_ProductShopCode'] = product.MetaDescriptionName;// Mã hàng\n        orderPartRequest['R1_Barcode']= product.MetaKeywords;\n        orderPartRequest['R1_Name']= this.model.orderModel.Name;\n        orderPartRequest['R1_Phone']= this.model.orderModel.Phone;\n        orderPartRequest['R1_BillCode']= this.model.orderModel.BillCode;\n        orderPartRequest['R1_OfficialNumber']= this.model.contactModel.OfficialNumber;\n        orderPartRequest['R1_CampaignCode']= this.model.contactModel.CampaignCode.Id;\n        orderPartRequest['R1_CampaignCodeName'] = this.model.contactModel.CampaignCode.Name;\n\n\n\n\n\n        this.$Utils.post(orderPartRequest).then(response => {\n          if(response.success){\n            product.OrderPartId = response.R1.Data;\n            this.$setItemLocalStorage(POS_PREFIX + this.item.name, JSON.stringify(this.model));\n            this.$hub.$emit('saveToLocalStorage');\n          }\n        });\n\n\n      },\n      handleBarcodeSearchConfirm () {\n\n        if(this.$Utils.equals(this.model.orderModel.Warehouse,{})){\n          this.$message({message: 'Phải chọn kho hàng trước',center: true,type: 'error'});\n        }else if(this.model.barcode_search_keyword == ''){\n\n        }else {\n\n          this.$refs['contactForm'].validate((valid1) => {\n            this.$refs['orderForm'].validate((valid2) => {\n              this.$refs['posForm'].validate((valid3) => {\n                this.$refs['paymentForm'].validate((valid4) => {\n                    if(valid1 && valid2 && valid3 && valid4){\n                      var barcodeEntered = this.$Lodash.cloneDeep(this.model.barcode_search_keyword);\n                      this.model.barcode_search_keyword = '';\n                      var reqCheckBillCode = {\n                        RequestClass: \"xBase\",\n                        RequestAction: \"Request\",\n                        TotalRequests: 1,\n                        R1_RequestDataGroup: \"DataGroup.order.9ejnl\",\n                        R1_RequestFields: \"Id;Name;BillCode;\",\n                        R1_Code: \"Order\",\n                        R1_RequestTemplate: \"xDocument_Document.Search\",\n                        R1_BillCode: this.model.orderModel.BillCode,\n                      }\n                      this.$Utils.post(reqCheckBillCode).then(resCheckBillCode => {\n                        if(resCheckBillCode.success){\n                          var listOrders = this.$Utils.getDataWithRoot(resCheckBillCode.R1, 'Data.DocumentDS.Document');\n                          if(listOrders.length >1\n                          || (this.model.orderModel.Id == '' && listOrders.length ==1)\n                            || (this.model.orderModel.Id != '' && listOrders.length ==1 && listOrders[0].Id != this.model.orderModel.Id)){\n                            this.$message.error('Mã hoá đơn đã tồn tại');\n                          }else{\n                            var request = {\n                              RequestClass: \"xBase\",\n                              RequestAction: \"Request\",\n                              TotalRequests: 1,\n                              R1_RequestDataGroup: \"DataGroup.warehouse.0fd40\",\n                              R1_RequestFields: \"Id;Name;MetaDescription;MetaDescriptionName;Priority;ProductCode;OfficialNumber;ProductColor;Size;Style;ProductColorName;SizeName;MetaKeywords;CodeName;TotalPages;Category;CategoryName;Unit;FullCodeName;ProductShopCode;ProductCode;Status;Categories;CategoriesName\",\n                              R1_Code: \"Warehouse\",\n                              R1_MetaKeywords: barcodeEntered,\n                              R1_Status: this.model.orderModel.Warehouse.Id,\n                              R1_RequestTemplate: \"xDocument_Document.Search\"\n                            };\n                            this.$Utils.post(request).then(response => {\n                              debugger\n                              var productLst = this.$Utils.getDataWithRoot(response.R1, 'Data.DocumentDS.Document');\n                              if(productLst && productLst.length ==1){\n                                if(productLst[0].Priority >0){\n                                  //trừ tồn sẵn có\n                                  var sourceData = {};\n                                  var sourceSetting = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.warehouse));\n                                  this.$Utils.replacePermission(sourceSetting, sourceData)\n                                  var whReq = {\n                                    RequestClass: 'xBase',\n                                    RequestAction: 'Request',\n                                    TotalRequests: 1,\n                                    R1_RequestFields : 'Id;Code;TotalAttachments;Priority;UpdateWarehouse;FormSetting;Changed',\n                                    R1_Code : 'Warehouse',\n                                    R1_RequestTemplate: 'xDocument_Document.Update',\n                                    R1_RequestDataGroup : 'DataGroup.warehouse.0fd40',\n                                    R1_UpdateWarehouse: true,\n                                    R1_Id : productLst[0].Id,\n                                    R1_Priority :  -1,\n                                    R1_FormSetting : JSON.stringify(sourceSetting) //this.model.formSetting.warehouse,\n                                  }\n\n                                  var changed = [{\n                                    \"ColumnCaption\": \"Số lượng( Tồn sẵn có)\",\n                                    \"ColumnName\": \"Priority\",\n                                    \"OldDisplayValue\": \"\",\n                                    \"OldValue\": \"\",\n                                    \"NewDisplayValue\": -1,\n                                    \"NewValue\": -1,\n                                  },\n                                    {\n                                      \"ColumnCaption\": \"Mã hoá đơn\",\n                                      \"ColumnName\": \"FriendlyUrl\",\n                                      \"OldDisplayValue\": \"\",\n                                      \"OldValue\": \"\",\n                                      \"NewDisplayValue\": this.model.orderModel.BillCode,\n                                      \"NewValue\": \"\"\n                                    }];\n                                  whReq['R1_Changed']= JSON.stringify(changed);\n\n                                  this.$Utils.postCheckResult(whReq).then((whRes)=>{\n                                    if(whRes.R1.success==true){\n                                      var existed = false;\n                                      this.model.cart.forEach((item)=>{\n                                        if(item.MetaKeywords == productLst[0].MetaKeywords){\n                                          existed = true;\n                                          // if((parseInt(item.Quantity)+1 <=  productLst[0].Priority)){\n                                            item.Quantity = parseInt(item.Quantity)+1;\n                                            //update orderPart\n                                            this.saveSingleOrderPart(this.model.orderModel.Id, item, true);\n                                          // }else{\n                                          //   this.$message({message: 'Hết hàng', center: true, type: 'warning'});\n                                          // }\n                                          return false;\n                                        }\n                                      });\n                                      if(!existed){\n                                        var x = productLst[0];\n                                        x.Quantity = 1;\n                                        this.model.cart.push(x);\n                                        //if order is new, create one and return Id to model\n                                        if(this.model.orderModel.Id ==''){\n                                          var orderRequest = {\n                                            RequestClass: 'xBase',\n                                            RequestAction: 'Request',\n                                            TotalRequests: 1,\n                                            R1_RequestFields: 'Id;Code;CreatedByName;Phone;ModifiedByName;Code;Store;StoreName;Name;TimeFrame;TimeFrameName;BillCode;OfficialNumber;' +\n                                            'Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;Birthday;MetaDescription;Location;LocationName;TotalComments;TotalDownloads;TotalPages;' +\n                                            'TotalRatingPoints;TotalRatings;Status;StatusName;MetaDescription;PaymentStatus;PaymentStatusName;Address;Priority;GroupId;FormSetting;Changed;',\n                                            R1_RequestDataGroup: 'DataGroup.order.9ejnl',\n                                            R1_RequestTemplate: 'xDocument_Document.Insert',\n                                            R1_CreatedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                                            R1_CreatedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                                            R1_ModifiedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                                            R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                                            R1_Code: 'Order',\n                                            R1_GroupId: this.model.posModel.pos.Promulgator,\n                                            R1_Store: this.model.posModel.pos.Id,\n                                            R1_StoreName: this.model.posModel.pos.Name,\n                                            R1_Status : 'be311afe-985d-4f79-8e89-c895a4ff0694',// đơn hàng bán\n                                            R1_StatusName : 'Bán',// đơn hàng bán\n                                            R1_Name: this.model.orderModel.Name,\n                                            R1_Phone: this.model.orderModel.Phone,\n                                            R1_BillCode: this.model.orderModel.BillCode,\n                                            R1_CampaignCode: this.model.contactModel.CampaignCode.Id,\n                                            R1_CampaignCodeName: this.model.contactModel.CampaignCode.Name,\n                                            R1_CustomerCode: this.model.contactModel.CustomerCode,\n                                            R1_Author: this.model.posModel.seller.Id,\n                                            R1_AuthorName : this.model.posModel.seller.Name,\n                                            R1_OfficialNumber : this.model.contactModel.OfficialNumber,\n                                            R1_Priority: 1,\n                                          }\n                                          this.$Utils.post(orderRequest).then((response)=>{\n                                            this.model.orderModel.Id = response.R1.Data;\n                                            this.saveSingleOrderPart(this.model.orderModel.Id, x);\n                                          });\n                                        }else{\n                                          this.saveSingleOrderPart(this.model.orderModel.Id, x);\n                                        }\n                                      }\n                                    }else{\n                                      this.$message({message: 'Xin hãy kiểm tra số lượng tồn trong hệ thống', center: true, type: 'error'});\n                                    }\n                                  });\n                                }else{\n                                  this.$message({message: 'Hết hàng', center: true, type: 'warning'});\n                                }\n                              }else if(productLst && productLst.length ==0){\n                                this.$message({message: 'Không có barcode này',type: 'warning', center: true});\n                              }else{\n                                this.$message({\n                                  message: 'Lỗi hệ thống, liên hệ quản trị viên để xử lý',\n                                  center: true,\n                                  type: 'error'\n                                });\n                              }\n                            });\n                          }\n                        }\n                      })\n                    }else{\n                      return;\n                    }\n                })\n              })\n            })\n          })\n\n        }\n\n      },\n      format_currency(a) {\n        if(a ==undefined)\n          return 0;\n        if(isNaN(parseInt(a)))\n          return '0';\n        else {\n          a = (''+ a).replaceAll('.','');\n          a = parseInt(a);\n          return (a + '').replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1.\");\n        }\n      },\n      onCustomerCashChange(){\n        var cash = parseInt((this.model.paymentModel.gaveMoney+'').replaceAll('.',''));\n        var total = parseInt((parseInt((this.model.paymentModel.sum_of_payment+'').replaceAll('.',''))+'').replaceAll('.',''));\n        if(isNaN(cash) || isNaN(total)){\n          this.model.paymentModel.change= '0';\n        }else{\n          var returnCash = cash - total;\n          this.model.paymentModel.change = this.format_currency(returnCash);\n        }\n      },\n      getFormSetting(type, formCode){\n        var req = this.$Lodash.cloneDeep(this.$singleRequest);\n        req.R1_RequestTemplate = 'SettingNew.SearchSetting';\n        req.R1_Code = formCode;\n        this.$Utils.post(req).then((response)=>{\n          response = this.$Utils.getDataWithRoot(response.R1, 'Data.DynamicDS.Setting');\n          for (var i = 0; i < response.length; i++) {\n                var refModule = response[i];\n                refModule.Description = refModule.Description ? JSON.parse(refModule.Description) : \"\";\n                if (this.$Utils.isEmpty(refModule, \"F1\")) {\n                  refModule.Description.Fields = '';\n                  for (var i = 1; i <= refModule.Description.FCount; i++) {\n                    if (refModule['F' + i] != undefined) {\n                      refModule.Description.Fields += refModule['F' + i];\n                      delete refModule['F' + i];\n                    }\n                  }\n                  refModule.Description.Fields = typeof refModule.Description.Fields ==='string' ? JSON.parse(refModule.Description.Fields) : [];\n                }\n                refModule.Description.Code = refModule.Code;\n                refModule.Description.DataGroup = refModule.Name;\n                refModule.Description.Value = refModule.Value;\n                refModule.Description.ModuleType = module.ModuleType;\n                if (module.ModuleType == \"Filter\") {\n                  if(!refModule.Description.functions){\n                    refModule.Description.functions = {};\n                  }\n                  refModule.Description.functions.onFilter = this.model.onFilter;\n                }\n          }\n\n          var sourceSetting = this.$Lodash.cloneDeep(response)\n          $.each(sourceSetting.Fields, (key, element) => {\n            if (\n              element.ElementType === 'Select' ||\n              element.ElementType === 'Multi' ||\n              element.ElementType === 'Radio' ||\n              element.ElementType === 'Tree' ||\n              element.ElementType === 'MultiTree' ||\n              element.ElementType === 'Autocomplete'\n            ) {\n              delete element.Data\n              delete element.treeData\n              delete element.sourceData\n            }\n          })\n          $.each(sourceSetting.Permissions, (key, value) => {\n            if (this.$Utils.isEmpty(value.Permissions)) {\n              sourceSetting.Permissions[\n                key\n                ].Permissions = this.$Utils.stringToObject(value.Permissions)\n              if (value.Name != 'Script' && value.Name != 'Static') {\n                var i = 1\n                while (this.$Utils.isEmpty(value.Permissions['Value' + i])) {\n                  sourceSetting.Permissions[key].Permissions['Value' + i] =\n                    sourceData[value.Permissions['Value' + i]]\n                  i++\n                }\n              } else if (value.Name == 'Script') {\n                sourceSetting.Permissions[key].LeadershipDynamicOrganization =\n                  sourceData[\n                    sourceSetting.Permissions[key].LeadershipDynamicOrganization\n                    ]\n              }\n            } else if (value.Name == 'Replica') {\n              var arrDP = this.$Lodash.cloneDeep(\n                sourceSetting.Permissions[key].DynamicPermissions.split(';')\n              )\n              sourceSetting.Permissions[key].DynamicPermissions = ''\n              $.each(arrDP, (k, val) => {\n                if (val != '' && this.$Utils.isEmpty(sourceData[val])) {\n                  sourceSetting.Permissions[key].DynamicPermissions +=\n                    sourceData[val] + ';'\n                }\n              })\n              if (\n                this.$Utils.isEmpty(sourceSetting.Permissions[key].FormCode) &&\n                this.$Utils.isEmpty(sourceData.StatusDisplay)\n              ) {\n                sourceSetting.Permissions[key].StatusDisplay =\n                  sourceData.StatusDisplay\n              }\n            }\n          })\n          this.model.formSetting[type] = JSON.stringify(sourceSetting[0].Description);\n        });\n      },\n      calculateOrderCash (productList) {\n        var tmp = 0;\n        if(productList.length==0){\n          this.model.paymentModel.sum_of_payment =0;\n          this.onCustomerCashChange();\n        }else {\n          $.each(productList, (k, v)=>{\n            var cash ='';\n            if(v.TotalPages ==undefined || isNaN(parseInt(v.TotalPages)))\n              cash = 0;\n            else\n              cash = (parseInt(v.TotalPages) - (isNaN(parseInt(v.DiscountMoney))?0:parseInt(v.DiscountMoney)) - (isNaN(parseInt(v.DiscountPercent))?0:(parseInt(v.DiscountPercent)/100*parseInt(v.TotalPages))))* parseInt(v.Quantity);\n            tmp+=cash;\n            this.model.paymentModel.sum_of_payment = this.format_currency(tmp);\n            this.onCustomerCashChange();\n          });\n        }\n      },\n      querySearch(queryString, cb) {\n        var request = {\n          RequestClass: \"xBase\",\n          RequestAction: \"Request\",\n          TotalRequests: 1,\n          R1_RequestDataGroup: \"DataGroup.contact.82fhd\",\n          R1_RequestFields: 'Id;Code;CreatedByName;ModifiedByName;IdentityCode;Name;TimeFrame;TimeFrameName;LeadSource;LeadSourceName;Phone;Birthday;Keyword;;Location;LocationName;Gender;GenderName;Birthday;',\n          R1_Code: \"Contact\",\n          R1_RequestTemplate: \"xProfile_Profile.Search\",\n          R1_StartIndex:0,\n          R1_EndIndex:20,\n          R1_Keyword: this.model.contact_search_keyword\n        };\n        this.$Utils.post(request).then(response => {\n          response = this.$Utils.getDataWithRoot(response.R1, 'Data.ProfileDS.Profile');\n          cb(response);\n        });\n\n      },\n      handleSelect(item) {\n        this.model.contactModel.Id=item.Id;\n        this.model.orderModel.Name=item.Name;\n        this.model.contactModel.CustomerCode=item.IdentityCode;\n        this.model.contactModel.Source={Id: item.LeadSource, Name: item.LeadSourceName};\n        this.model.orderModel.Phone=item.Phone;\n        this.model.contactModel.Birthday=item.Birthday;\n        this.model.contactModel.Location={Id: item.Location, Name:item.LocationName};\n        this.model.contactModel.Gender={Id: item.Gender, Name:item.GenderName};\n        //\n        this.model.orderModel.TimeFrame={Id: item.TimeFrame, Name:item.TimeFrameName};\n\n\n        var tmp={\n          Id:item.Id,\n          Name:item.Name,\n          IdentityCode:item.IdentityCode,\n          LeadSource:item.LeadSource,\n          LeadSourceName:item.LeadSourceName,\n          Phone:item.Phone,\n          Birthday:item.Birthday,\n          Location: item.Location,\n          LocationName: item.LocationName,\n          Gender:item.Gender,\n          GenderName:item.GenderName,\n          TimeFrame: item.TimeFrame,\n          TimeFrameName:item.TimeFrameName,\n        }\n        this.model.cachedContact = this.$Lodash.cloneDeep(tmp);\n      },\n      save () {\n        this.model.orderModel.Created = this.$Utils.formatDateTime(new Date());\n        // orderModel.TimeFrame\n        var orderDate= new Date(this.model.orderModel.Created).getHours();\n        $.each(this.model.params.timeFrameNames, (k,v)=> {\n          var tmp = v.Name.split(' - ');\n          if(parseInt(tmp[0])< orderDate && parseInt(tmp[1])> orderDate){\n            this.model.orderModel.TimeFrame = v;\n            return false;\n          }\n        });\n\n        this.$refs['contactForm'].validate((valid1) => {\n          this.$refs['orderForm'].validate((valid2) => {\n            this.$refs['posForm'].validate((valid3) => {\n              this.$refs['paymentForm'].validate((valid4) => {\n                if(this.model.cart.length==0){\n                  this.$message.error('Giỏ hàng trống');\n                  return false;\n                }\n                if(this.model.paymentModel.change <0){\n                  this.$message.error('Tiền trả lại không đúng');\n                  return false;\n                }\n                if(valid4 && valid3 && valid2 && valid1){\n                  //validate existed lead or contact\n                  var checkExistedReq = {\n                    RequestClass: 'xBase',\n                    RequestAction: 'Request',\n                    TotalRequests: 2,\n                    R1_RequestDataGroup: \"DataGroup.lead.9jwnc\",\n                    R1_RequestFields: \"Id;Name;OfficialNumber;\",\n                    R1_Code: \"Lead\",\n                    R1_RequestTemplate: \"xDocument_Document.Search\",\n                    R1_OfficialNumber: this.model.contactModel.OfficialNumber,\n\n                    R2_RequestDataGroup: \"DataGroup.order.9ejnl\",\n                    R2_RequestFields: \"Id;Name;BillCode;\",\n                    R2_Code: \"Order\",\n                    R2_RequestTemplate: \"xDocument_Document.Search\",\n                    R2_BillCode: this.model.orderModel.BillCode,\n                  }\n                  if(this.model.contactModel.Id ==''){\n                    checkExistedReq.TotalRequests= 3;\n                    checkExistedReq.R3_RequestFields= 'Id;Code;IdentityCode;';\n                    checkExistedReq.R3_RequestDataGroup= 'DataGroup.contact.82fhd';\n                    checkExistedReq.R3_Code= 'Contact';\n                    checkExistedReq.R3_RequestTemplate = 'xProfile_Profile.Search';\n                    checkExistedReq.R3_IdentityCode = this.model.contactModel.CustomerCode;\n                  }\n\n                  this.$Utils.post(checkExistedReq).then(checkExistedRes=>{\n                    var msg = ''\n                    var leads = this.$Utils.getDataWithRoot(checkExistedRes.R1, 'Data.DocumentDS.Document');\n                    var order = this.$Utils.getDataWithRoot(checkExistedRes.R2, 'Data.DocumentDS.Document');\n                    if(checkExistedReq.TotalRequests ==3){\n                      var contacts = this.$Utils.getDataWithRoot(checkExistedRes.R3, 'Data.ProfileDS.Profile');\n                      if(contacts.length>0){\n                        msg += 'mã khách hàng,'\n                      }\n                    }\n                    if(leads.length>0){\n                      msg += ' mã lượt liên hệ,'\n                    }\n                    if(order.length>1){\n                      msg += ' mã hoá đơn,'\n                    }\n                    if(msg != ''){\n                      msg = msg.substring(0, msg.length-1) + ' đã tồn tại';\n                      this.$message.error(msg);\n                    }else{\n                      // trừ tồn\n                      var whReq = {\n                        RequestClass: 'xBase',\n                        RequestAction: 'Request',\n                        TotalRequests: this.model.cart.length,\n                      }\n                      var sourceData = {};\n                       var sourceSetting = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.warehouse));\n                      this.$Utils.replacePermission(sourceSetting, sourceData)\n                      $.each(this.model.cart, (k, v)=>{\n                        whReq['R'+(k+1)+'_RequestFields'] ='Id;Code;TotalAttachments;Priority;UpdateWarehouse;FormSetting;Changed';\n                        whReq['R'+(k+1)+'_Code']= 'Warehouse';\n                        whReq['R'+(k+1)+'_RequestTemplate']= 'xDocument_Document.Update';\n                        whReq['R'+(k+1)+'_RequestDataGroup']= 'DataGroup.warehouse.0fd40';\n                        whReq['R'+(k+1)+'_UpdateWarehouse']= true;\n                        whReq['R'+(k+1)+'_Id']= v.Id;\n                        whReq['R'+(k+1)+'_TotalAttachments']= -v.Quantity;\n\n                        whReq['R'+(k+1)+'_FormSetting']= JSON.stringify(sourceSetting);///this.model.formSetting.warehouse;\n\n                        var changed = [{\n                          \"ColumnCaption\": \"Số lượng (Tồn thực thế)\",\n                          \"ColumnName\": \"TotalAttachments\",\n                          \"OldDisplayValue\": \"\",\n                          \"OldValue\": \"\",\n                          \"NewDisplayValue\": -v.Quantity + \"\",\n                          \"NewValue\": -v.Quantity + \"\"\n                        },{\n                          \"ColumnCaption\": \"Mã hoá đơn\",\n                          \"ColumnName\": \"FriendlyUrl\",\n                          \"OldDisplayValue\": \"\",\n                          \"OldValue\": \"\",\n                          \"NewDisplayValue\": this.model.orderModel.BillCode,\n                          \"NewValue\": \"\"},\n                        ];\n                        whReq['R'+(k+1)+'_Changed']= JSON.stringify(changed);\n                      });\n                      this.$Utils.post(whReq).then((whRes)=>{\n                      });\n                      //save contact\n                      var sourceData = {};\n                      var sourceSetting = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.contact));\n                      this.$Utils.replacePermission(sourceSetting, sourceData)\n                      var contactRequest = {\n                        RequestClass: 'xBase',\n                        RequestAction: 'Request',\n                        TotalRequests: 1,\n                        R1_RequestFields: 'Id;Code;Address;CreatedByName;ModifiedByName;IdentityCode;Name;Gender;GenderName;Phone;LeadSource;LeadSourceName;Location;LocationName;Birthday;FormSetting;Changed;',\n                        R1_RequestDataGroup: 'DataGroup.contact.82fhd',\n                        R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                        R1_Code: 'Contact',\n                        R1_Name: this.model.orderModel.Name,\n                        R1_Birthday: this.$Utils.formatDateTime(this.model.contactModel.Birthday),\n                        R1_Phone: this.model.orderModel.Phone,\n                        R1_Gender: this.model.contactModel.Gender.Id,\n                        R1_GenderName: this.model.contactModel.Gender.Name,\n                        R1_LeadSource: this.model.contactModel.Source.Id,\n                        R1_LeadSourceName: this.model.contactModel.Source.Name,\n                        R1_Location: this.model.contactModel.Location.Id,\n                        R1_LocationName: this.model.contactModel.Location.Name,\n                        R1_Address: this.model.contactModel.Address,\n                        R1_IdentityCode: this.model.contactModel.CustomerCode,\n                        R1_FormSetting: JSON.stringify(sourceSetting) ////this.model.formSetting.contact,\n                      }\n                      if(this.model.contactModel.Id == ''){\n                        contactRequest.R1_RequestTemplate= 'xProfile_Profile.Insert';\n                        contactRequest.R1_CreatedByName = JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n                      }else {\n                        contactRequest.R1_RequestTemplate= 'xProfile_Profile.Update';\n                        contactRequest.R1_Id= this.model.contactModel.Id;\n                      }\n                      var contactChanged = [];\n\n                      $.each(this.model.contactFields,(k,v)=>{\n                        var tmp = {\n                          \"ColumnCaption\": v.Caption,\n                          \"ColumnName\": k,\n                          \"OldDisplayValue\": this.model.cachedContact[k+'Name']?this.model.cachedContact[k+'Name']: this.model.cachedContact[k],\n                          \"OldValue\": this.model.cachedContact[k],\n                          \"NewDisplayValue\": contactRequest['R1_'+k+'Name']?contactRequest['R1_'+k+'Name']: contactRequest['R1_'+k],\n                          \"NewValue\": contactRequest['R1_'+k],\n                        }\n                        contactChanged.push(tmp);\n                      });\n                      contactRequest.R1_Changed=JSON.stringify(contactChanged);\n                      var sourceData1 = {};\n                      var sourceSetting1 = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.lead));\n                      this.$Utils.replacePermission(sourceSetting1, sourceData1)\n\n                      var leadRequest = {\n                        RequestClass: 'xBase',\n                        RequestAction: 'Request',\n                        TotalRequests: 1,\n                        R1_RequestFields: 'Id;Code;CreatedByName;ModifiedByName;Version;Code;Store;StoreName;Name;TimeFrame;TimeFrameName;BillCode;OfficialNumber;' +\n                        'Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;DocumentForm;GroupId;FormSetting;Changed;',\n                        R1_RequestDataGroup: 'DataGroup.lead.9jwnc',\n                        R1_RequestTemplate: 'xDocument_Document.Insert',\n                        R1_CreatedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                        R1_CreatedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                        R1_ModifiedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                        R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                        R1_Code: 'Lead',\n                        R1_GroupId: this.model.posModel.pos.Promulgator,\n                        R1_Store: this.model.posModel.pos.Id,\n                        R1_StoreName: this.model.posModel.pos.Name,\n                        R1_Name: this.model.orderModel.Name,\n                        R1_Phone: this.model.orderModel.Phone,\n                        R1_TimeFrame: this.model.orderModel.TimeFrame.Id,\n                        R1_TimeFrameName: this.model.orderModel.TimeFrame.Name,\n                        R1_OfficialNumber: this.model.contactModel.OfficialNumber,\n                        R1_Author: this.model.posModel.seller.Id,\n                        R1_AuthorName: this.model.posModel.seller.Name,\n                        R1_Source: this.model.contactModel.Source.Id,\n                        R1_SourceName: this.model.contactModel.Source.Name,\n                        R1_CampaignCode: this.model.contactModel.CampaignCode.Id,\n                        R1_CampaignCodeName: this.model.contactModel.CampaignCode.Name,\n                        R1_Gender: this.model.contactModel.Gender.Id,\n                        R1_GenderName: this.model.contactModel.Gender.Name,\n                        R1_CustomerCode: this.model.contactModel.CustomerCode,\n                        R1_FormSetting: JSON.stringify(sourceSetting1) //this.model.formSetting.lead,\n                      }\n\n                      var leadChanged = [];\n                      $.each(this.model.leadFields, (k,v)=>{\n                        var tmp = {\n                          \"ColumnCaption\": v.Caption,\n                          \"ColumnName\": k,\n                          \"OldDisplayValue\": '',\n                          \"OldValue\": '',\n                          \"NewDisplayValue\": leadRequest['R1_'+k+'Name']?leadRequest['R1_'+k+'Name']: leadRequest['R1_'+k],\n                          \"NewValue\": leadRequest['R1_'+k],\n                        }\n                        leadChanged.push(tmp);\n                      });\n                      var sourceData2 = {};\n                      var sourceSetting2 = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.order));\n                      this.$Utils.replacePermission(sourceSetting2, sourceData2)\n\n                      leadRequest.R1_Changed=JSON.stringify(leadChanged);\n                      var orderChanged = [];\n                      var orderRequest = {\n                        RequestClass: 'xBase',\n                        RequestAction: 'Request',\n                        TotalRequests: 1,\n                        R1_RequestFields: 'Id;Code;CreatedByName;Phone;ModifiedByName;Code;Store;StoreName;Name;TimeFrame;TimeFrameName;BillCode;OfficialNumber;' +\n                        'Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;Birthday;MetaDescription;Location;LocationName;TotalComments;TotalDownloads;TotalPages;' +\n                        'TotalRatingPoints;TotalRatings;Status;StatusName;MetaDescription;PaymentStatus;PaymentStatusName;Address;Priority;DocumentForm;DocumentField;GroupId;FormSetting;Changed;',\n                        R1_RequestDataGroup: 'DataGroup.order.9ejnl',\n                        R1_RequestTemplate: 'xDocument_Document.Update',\n                        R1_CreatedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                        R1_CreatedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                        R1_ModifiedBy: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId,\n                        R1_ModifiedByName: JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username,\n                        R1_Code: 'Order',\n                        R1_Id: this.model.orderModel.Id,\n                        R1_Gender: this.model.contactModel.Gender.Id,\n                        R1_GenderName: this.model.contactModel.Gender.Name,\n                        R1_GroupId: this.model.posModel.pos.Promulgator,\n                        R1_Store: this.model.posModel.pos.Id,\n                        R1_StoreName: this.model.posModel.pos.Name,\n                        R1_Name: this.model.orderModel.Name,\n                        R1_Birthday: this.$Utils.formatDateTime(this.model.contactModel.Birthday),\n                        R1_Phone: this.model.orderModel.Phone,\n                        R1_TimeFrame: this.model.orderModel.TimeFrame.Id,\n                        R1_TimeFrameName: this.model.orderModel.TimeFrame.Name,\n                        R1_BillCode: this.model.orderModel.BillCode,\n                        R1_OfficialNumber: this.model.contactModel.OfficialNumber,\n                        R1_Author: this.model.posModel.seller.Id,\n                        R1_AuthorName: this.model.posModel.seller.Name,\n                        R1_Source: this.model.contactModel.Source.Id,\n                        R1_SourceName: this.model.contactModel.Source.Name,\n                        R1_CampaignCode: this.model.contactModel.CampaignCode.Id,\n                        R1_CampaignCodeName: this.model.contactModel.CampaignCode.Name,\n                        R1_CustomerCode: this.model.contactModel.CustomerCode,\n                        R1_Address: this.model.contactModel.Address,\n                        R1_Location: this.model.contactModel.Location.Id,\n                        R1_LocationName: this.model.contactModel.Location.Name,\n                        R1_TotalComments: this.model.paymentModel.gaveMoney,\n                        R1_TotalDownloads: parseInt(this.model.paymentModel.cash.replaceAll('.','')),\n                        R1_TotalPages: parseInt(this.model.paymentModel.customerCard.replaceAll('.','')),\n                        R1_TotalRatingPoints: parseInt(this.model.paymentModel.bankMoney.replaceAll('.','')),\n                        R1_TotalRatings: this.model.paymentModel.change,\n                        R1_Priority: 0,\n                        R1_Status : 'be311afe-985d-4f79-8e89-c895a4ff0694',// đơn hàng bán\n                        R1_StatusName : 'Bán',// đơn hàng bán\n                        R1_MetaDescription :'39636d3b-705b-4b51-91c9-67afda36c62e',// đã xuất bán\n                        R1_PaymentStatus: '9e4461ea-b25a-46e0-bf5f-db5bfabf2ba4',// đã thanh toán tại cửa hàng\n                        R1_PaymentStatusName :'Đã thanh toán tại cửa hàng',// đã thanh toán tại cửa hàng\n                        R1_FormSetting: JSON.stringify(sourceSetting2)//this.model.formSetting.order,\n                      }\n                      $.each(this.model.orderFields, (k,v)=>{\n                        var tmp = {\n                          \"ColumnCaption\": v.Caption,\n                          \"ColumnName\": k,\n                          \"OldDisplayValue\": '',\n                          \"OldValue\": '',\n                          \"NewDisplayValue\": orderRequest['R1_'+k+'Name']?orderRequest['R1_'+k+'Name']: orderRequest['R1_'+k],\n                          \"NewValue\": orderRequest['R1_'+k],\n                        }\n                        orderChanged.push(tmp);\n                      });\n                      orderRequest.R1_Changed=JSON.stringify(orderChanged);\n\n\n\n                      //save orderPart\n                      var sourceData3 = {};\n                      var sourceSetting3 = this.$Lodash.cloneDeep(JSON.parse(this.model.formSetting.orderPart));\n                      this.$Utils.replacePermission(sourceSetting3, sourceData3)\n\n                      var orderPartRequest = {\n                        RequestClass: 'xBase',\n                        RequestAction: 'Request',\n                        TotalRequests: this.model.cart.length,\n                      }\n                      $.each(this.model.cart, (k, v)=>{\n                        orderPartRequest['R'+(k+1)+'_RequestFields']= 'Id;Code;CreatedByName;ModifiedByName;Code;Store;StoreName;Name;Birthday;Phone;TimeFrame;TimeFrameName;' +\n                          'BillCode;OfficialNumber;Author;AuthorName;Source;SourceName;CampaignCode;CampaignCodeName;CustomerCode;ProductCode;Parent;OrderId;ProductType;' +\n                          'ProductTypeName;ProductPrice;Price;ProductColor;ProductColorName;ProductSize;ProductSizeName;Category;CategoryName;ProductCount;Total;Priority;Status;' +\n                          'MetaDescription;DeliveryStatus;DeliveryStatusName;PaymentStatus;PaymentStatusName;ProductUnit;ProductShopCode;Barcode;LocationName;DiscountMoney;' +\n                          'DiscountPercent;Address;Banked;;DocumentForm;DocumentField;GroupId;FormSetting;Changed;';\n                        orderPartRequest['R'+(k+1)+'_RequestDataGroup']= 'DataGroup.orderpart.82fjy';\n                        orderPartRequest['R'+(k+1)+'_RequestTemplate']= 'xDocument_Document.Update';\n                        orderPartRequest['R'+(k+1)+'_CreatedBy']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n                        orderPartRequest['R'+(k+1)+'_CreatedByName']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n                        orderPartRequest['R'+(k+1)+'_ModifiedBy']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).UserId;\n                        orderPartRequest['R'+(k+1)+'_ModifiedByName']= JSON.parse(localStorage.getItem(\"LoggedOnUser\")).Username;\n                        orderPartRequest['R'+(k+1)+'_Code']= 'OrderPart';\n                        orderPartRequest['R'+(k+1)+'_Id']= v.OrderPartId;\n                        orderPartRequest['R'+(k+1)+'_GroupId']= this.model.posModel.pos.Promulgator;\n                        orderPartRequest['R'+(k+1)+'_Store']= this.model.posModel.pos.Id;\n                        orderPartRequest['R'+(k+1)+'_StoreName']= this.model.posModel.pos.Name;\n                        orderPartRequest['R'+(k+1)+'_Name']= this.model.orderModel.Name;\n                        orderPartRequest['R'+(k+1)+'_Birthday']= this.$Utils.formatDateTime(this.model.contactModel.Birthday);\n                        orderPartRequest['R'+(k+1)+'_Phone']= this.model.orderModel.Phone;\n                        orderPartRequest['R'+(k+1)+'_TimeFrame']= this.model.orderModel.TimeFrame.Id;\n                        orderPartRequest['R'+(k+1)+'_TimeFrameName']= this.model.orderModel.TimeFrame.Name;\n                        orderPartRequest['R'+(k+1)+'_BillCode']= this.model.orderModel.BillCode;\n                        orderPartRequest['R'+(k+1)+'_OfficialNumber']= this.model.contactModel.OfficialNumber;\n                        orderPartRequest['R'+(k+1)+'_Author']= this.model.posModel.seller.Id;\n                        orderPartRequest['R'+(k+1)+'_AuthorName']= this.model.posModel.seller.Name;\n                        orderPartRequest['R'+(k+1)+'_Source'] = this.model.contactModel.Source.Id;\n                        orderPartRequest['R'+(k+1)+'_SourceName']= this.model.contactModel.Source.Name;\n                        orderPartRequest['R'+(k+1)+'_CampaignCode']= this.model.contactModel.CampaignCode.Id;\n                        orderPartRequest['R'+(k+1)+'_CampaignCodeName'] = this.model.contactModel.CampaignCode.Name;\n                        orderPartRequest['R'+(k+1)+'_CustomerCode'] = this.model.contactModel.CustomerCode;\n                        orderPartRequest['R'+(k+1)+'_FormSetting'] = JSON.stringify(sourceSetting3); //this.model.formSetting.orderPart;\n                        orderPartRequest['R'+(k+1)+'_ProductCode'] = v.ProductCode;\n                        orderPartRequest['R'+(k+1)+'_ProductType'] = v.Categories;\n                        orderPartRequest['R'+(k+1)+'_ProductTypeName'] = v.CategoriesName;\n                        orderPartRequest['R'+(k+1)+'_ProductPrice'] = v.TotalPages;\n                        orderPartRequest['R'+(k+1)+'_Price'] = this.model.paymentModel.sum_of_payment;\n                        orderPartRequest['R'+(k+1)+'_ProductColor'] = v.ProductColor;\n                        orderPartRequest['R'+(k+1)+'_ProductColorName'] = v.ProductColorName;\n                        orderPartRequest['R'+(k+1)+'_ProductSize']= v.Size;\n                        orderPartRequest['R'+(k+1)+'_ProductSizeName']= v.SizeName;\n                        orderPartRequest['R'+(k+1)+'_Category']= this.model.orderModel.Warehouse.Id;\n                        orderPartRequest['R'+(k+1)+'_CategoryName']= this.model.orderModel.Warehouse.Name;\n                        orderPartRequest['R'+(k+1)+'_LocationName']= this.model.contactModel.Location.Name;\n                        orderPartRequest['R'+(k+1)+'_Address']= this.model.contactModel.Address;\n                        orderPartRequest['R'+(k+1)+'_DiscountMoney']= v.DiscountMoney;\n                        orderPartRequest['R'+(k+1)+'_DiscountPercent']= v.DiscountPercent;\n                        orderPartRequest['R'+(k+1)+'_Gender']= this.model.contactModel.Gender.Id;\n                        orderPartRequest['R'+(k+1)+'_GenderName']= this.model.contactModel.Gender.Name;\n\n                        orderPartRequest['R'+(k+1)+'_ProductCount'] = v.Quantity;\n                        orderPartRequest['R'+(k+1)+'_Banked'] = v.Quantity;\n                        orderPartRequest['R'+(k+1)+'_Total'] = (parseInt(v.TotalPages) - (isNaN(parseInt(v.DiscountMoney))?0:parseInt(v.DiscountMoney)) - (isNaN(parseInt(v.DiscountPercent))?0:(parseInt(v.DiscountPercent)/100*parseInt(v.TotalPages))))* parseInt(v.Quantity);\n                        orderPartRequest['R'+(k+1)+'_Priority'] = 0;\n                        orderPartRequest['R'+(k+1)+'_Status'] = 'be311afe-985d-4f79-8e89-c895a4ff0694';// đơn hàng bán\n                        orderPartRequest['R'+(k+1)+'_MetaDescription'] = '39636d3b-705b-4b51-91c9-67afda36c62e';// đã xuất bán\n                        orderPartRequest['R'+(k+1)+'_DeliveryStatus'] = '93bfb67d-e659-48a5-9236-f727312cd2e2';// khách đã nhận\n                        orderPartRequest['R'+(k+1)+'_DeliveryStatusName'] = 'Khách đã nhận';// khách đã nhận\n                        orderPartRequest['R'+(k+1)+'_PaymentStatus'] = '9e4461ea-b25a-46e0-bf5f-db5bfabf2ba4';// đã thanh toán tại cửa hàng\n                        orderPartRequest['R'+(k+1)+'_PaymentStatusName'] = 'Đã thanh toán tại cửa hàng';// đã thanh toán tại cửa hàng\n                        orderPartRequest['R'+(k+1)+'_ProductUnit'] = v.SourceUrl;// đơn vị tính\n                        orderPartRequest['R'+(k+1)+'_ProductShopCode'] = v.MetaDescriptionName;// Mã hàng\n                        orderPartRequest['R'+(k+1)+'_Barcode']= v.MetaKeywords;\n\n                        var orderPartChanged =[]\n\n\n                        $.each(this.orderPartFields, (key,val)=>{\n                          var tmp = {\n                            \"ColumnCaption\": val.Caption,\n                            \"ColumnName\": k,\n                            \"OldDisplayValue\": '',\n                            \"OldValue\": '',\n                            \"NewDisplayValue\": (orderPartRequest['R'+(k+1)+'_'+key+'Name']?orderPartRequest['R'+(k+1)+'_'+key+'Name']: orderPartRequest['R'+(k+1)+'_'+key]),\n                            \"NewValue\": orderPartRequest['R'+(k+1)+'_'+key],\n                          }\n                          orderPartChanged.push(tmp);\n                        });\n                        orderPartRequest['R'+(k+1)+'_Changed']= JSON.stringify(orderPartChanged);\n                      });\n\n                      this.$Utils.post(contactRequest).then((contactResponse)=>{\n                        if(contactResponse.success){\n                          leadRequest.R1_DocumentForm = contactResponse.R1.Data;\n                          orderRequest.R1_DocumentForm = contactResponse.R1.Data;\n                          //save lead\n                          this.$Utils.post(leadRequest).then((leadResponse)=>{\n                            if(leadResponse.success){\n                              orderRequest.R1_DocumentField = leadResponse.R1.Data;\n                              for(var i =1; i<= orderPartRequest.TotalRequests; i++){\n                                orderPartRequest['R'+i+'_DocumentForm'] = contactResponse.R1.Data;\n                                orderPartRequest['R'+i+'_DocumentField'] = leadResponse.R1.Data;\n                              }\n                              this.$Utils.post(orderPartRequest).then((orderPartRes)=>{});\n                              //save order\n                              this.$Utils.postCheckResult(orderRequest).then((orderResponse)=>{\n                                if(orderResponse.success){\n                                  this.model.orderModel.MetaDescription = orderRequest.R1_MetaDescription;\n                                  this.model.disabled = true;\n                                  this.$setItemLocalStorage(POS_PREFIX + this.item.name, JSON.stringify(this.model));\n                                  // delete localStorage[this.item.name];\n                                  // this.$hub.$emit('saveToLocalStorage');\n                                  this.$message.success('Đơn hàng đã lưu')\n                                }\n                              });\n                            }\n                          });\n                        }\n                      });\n                    }\n                  });\n                }else {\n                  console.log('error submit!!');\n                  return false;\n                }\n              });\n            });\n          });\n        });\n      },\n      getValueFromVariable(key, root){\n        var returnVal = '';\n        if(key && key.constructor==String){\n          var lst = key.split('.');\n          var tmp = root;\n          $.each(lst, (k,v)=>{\n            if(tmp==undefined){\n              returnVal = ''\n              return false\n            }\n            tmp=tmp[v];\n            returnVal=tmp;\n          });\n        }\n         return returnVal;\n      },\n      print(){\n        var ctrl = this;\n        var request = this.$Lodash.cloneDeep(this.$singleRequest);\n        request.TotalRequests = 1;\n        request.R1_RequestTemplate = \"SettingNew.SearchSetting\";\n        request.R1_Code = \"xSetting.Project.Parameter.CRM2.Order.OrderTemplatePrint\";\n        this.$Utils.post(request).then(response => {\n          var response = this.$Utils.getDataWithRoot(\n            response.R1,\n            \"Data.DynamicDS.Setting\"\n          )[0];\n\n\n          var htmlTemplate = ctrl.$Utils.decodeHtmlEntities(response.Description);\n          var json = JSON.parse(response.Value);\n\n          try{\n            if(json.loops){\n              // var autoGenVal = 0;\n              $.each(json.loops,(k, v)=>{\n                // var sum = 0;\n                var loop = \"\";\n                var tmp = htmlTemplate + \"\";\n                tmp = tmp.split('<'+k+'>');\n                loop = tmp[1].split('</'+k+'>')[0];\n                var loopVal =\"\";\n\n\n                $.each(ctrl.model.cart, (k1,v1)=> {\n                  var loopValTmp = loop+ \"\";\n                  $.each(this.model.fieldMappingPrinter, (k2,v2)=>{\n                    if(v2.indexOf('.loopVal')>0)\n                      loopValTmp = loopValTmp.replaceAll('{{' + k2 + '}}', (ctrl.getValueFromVariable((v2+'').replaceAll( '.loopVal',''), v1)+'').replaceAll('.00',''));\n                  });\n                  loopVal +=loopValTmp;\n                });\n\n                htmlTemplate = htmlTemplate.replaceAll(loop, loopVal);\n              });\n            }\n\n            $.each(ctrl.model.fieldMappingPrinter, (k,v)=>{\n                htmlTemplate = htmlTemplate.replaceAll('{{'+k+'}}', ctrl.getValueFromVariable(v, ctrl)+'');\n            })\n\n            $.each(json.allVariables, (index, val)=>{\n              if(htmlTemplate.indexOf('{{'+val+'}}')>-1){\n                htmlTemplate = htmlTemplate.replaceAll('{{'+val+'}}', '');\n              }\n            })\n            htmlTemplate = htmlTemplate.replaceAll('undefined', '');\n            var mywindow = window.open('', 'PRINT', json.paper);\n            mywindow.document.write(htmlTemplate);\n            setTimeout(function() {\n              // wait until all resources loaded\n              mywindow.document.close();\n              mywindow.focus();\n              mywindow.print();\n              mywindow.close();\n            }, 250);\n          }catch(e){\n            console.log(e)\n          }\n        });\n      },\n      changeCampaign(Id){\n        $.each(this.model.params.campaignCodes, (k,v)=>{\n          if(Id == v.Id){\n            this.model.contactModel.CampaignCode = v;\n            return false;\n          }\n        })\n      }\n    },\n    created: function () {\n      this.loadResources();\n      this.getFormSetting('contact', 'Form.contact.0094e');\n      this.getFormSetting('order', 'Form.order.0f1d6');\n      this.getFormSetting('orderPart', 'Form.hoa-don.0fbh5');\n      this.getFormSetting('lead', 'Form.lead.0d8cb');\n      this.getFormSetting('warehouse', 'Form.chinh-sua-du-lieu-ton-kho.0c240');\n      this.onCustomerCashChange();\n      this.calculateOrderCash(this.model.cart);\n      this.$hub.$on('closeTab', (targetName)=> {\n        if(targetName===this.item.name){\n          if(this.model.orderModel.MetaDescription !='' || this.model.orderModel.Id =='') {\n            this.$hub.$emit('deleteOrder', {list: undefined,targetName: targetName});\n          }else{\n            this.$hub.$emit('deleteOrder', {\n              list: this.model.cart,\n              targetName: targetName,\n              formSetting: this.model.formSetting.warehouse,\n              orderId: this.model.orderModel.Id\n            });\n          }\n          // this.$setItemLocalStorage(this.item.name, 'undefined');\n          delete localStorage[POS_PREFIX + this.item.name]\n        }\n      });\n    },\n    watch: {\n      'model.orderModel.Warehouse': function (newVal) {\n        $.each(this.model.params.poses, (k, val)=>{\n          if(val.Category.indexOf(newVal.Id)>-1){\n            this.model.posModel.pos= val;\n            return false;\n          }\n        });\n      },\n      'model.productEditing.DiscountMoney': function () {\n        this.computeTotalMoney()\n      },\n      'model.productEditing.DiscountPercent': function () {\n        this.computeTotalMoney()\n      },\n      /*'model.contact_search_keyword': function (newVal) {\n        // console.log(this.format_currency(newVal));\n      },\n      'model.barcode_search_keyword': function (newVal) {\n        // console.log(this.format_currency(newVal));\n      },*/\n      'model.paymentModel.cash': function (newVal) {\n        this.model.paymentModel.cash = this.format_currency(newVal);\n        this.model.paymentModel.gaveMoney = parseInt(this.model.paymentModel.cash.replaceAll('.','')) + parseInt(this.model.paymentModel.customerCard.replaceAll('.','')) + parseInt(this.model.paymentModel.bankMoney.replaceAll('.',''));\n        this.onCustomerCashChange();\n      },\n      'model.paymentModel.customerCard': function (newVal) {\n        this.model.paymentModel.customerCard = this.format_currency(newVal);\n        this.model.paymentModel.gaveMoney = parseInt(this.model.paymentModel.cash.replaceAll('.','')) + parseInt(this.model.paymentModel.customerCard.replaceAll('.','')) + parseInt(this.model.paymentModel.bankMoney.replaceAll('.',''));\n        this.onCustomerCashChange();\n      },\n      'model.paymentModel.bankMoney': function (newVal) {\n        this.model.paymentModel.bankMoney = this.format_currency(newVal);\n        this.model.paymentModel.gaveMoney = parseInt(this.model.paymentModel.cash.replaceAll('.','')) + parseInt(this.model.paymentModel.customerCard.replaceAll('.','')) + parseInt(this.model.paymentModel.bankMoney.replaceAll('.',''));\n        this.onCustomerCashChange();\n      },\n      'model.cart': {\n        handler: function(newVal) {\n          this.calculateOrderCash(newVal);\n        },\n        deep: true\n      }\n    },\n    destroyed: function () {\n      //TODO dont off global event\n      //this.$hub.$off('closeTab')\n    }\n  }\n</script>\n\n<template>\n    <div class=\"Store__ROOT\">\n      <div class=\"col-lg-8\">\n        <div class=\"step__wrapper\">\n            <el-card label=\"Giỏ hàng\">\n                <div class=\"Cart__ROOT\">\n                <div class=\"cart__header\">\n                  <div class=\"col-lg-6 pd0\">\n                    <strong>Giỏ hàng</strong>\n                  </div>\n                  <div class=\"col-lg-6 pd0\">\n                    <div class=\"row\">\n                      <div class=\"col-lg-5\">\n                          <el-select :disabled=\"model.disabled\" v-model=\"model.orderModel.Warehouse\" value-key=\"Id\" placeholder=\"Chọn kho hàng (bắt buộc)\" filterable>\n                            <el-option v-for=\"item in model.params.warehouses\" :key=\"item.Id\" :label=\"item.Name\" :value=\"item\"></el-option>\n                          </el-select>\n                      </div>\n                    <div class=\"col-lg-7\"><el-input :disabled=\"model.disabled\" placeholder=\"Nhập Barcode và Enter\" suffix-icon=\"el-icon-search\" v-model=\"model.barcode_search_keyword\" @keyup.enter.native=\"handleBarcodeSearchConfirm\"></el-input>\n                    </div>\n                    </div>\n                  </div>\n                  <div class=\"clearfix\"></div>\n                </div>\n                <div class=\"cart__content\">\n                  <el-table :data=\"model.cart\" empty-text\t=\"Không có dữ liệu\" style=\"width: 100%\" border>\n                    <el-table-column type=\"index\" width=\"40\" align=\"center\" header-align=\"center\"></el-table-column>\n                    <el-table-column prop=\"MetaKeywords\" width=\"75\" label=\"Barcode\"></el-table-column>\n                    <el-table-column prop=\"ProductCode\" width=\"200\" label=\"Mã sản phẩm\"></el-table-column>\n                    <el-table-column prop=\"TotalPages\" label=\"Đơn giá\">\n                      <template slot-scope=\"scope\">\n                        <div class=\"ovf-elipsis\">\n                          {{format_currency(parseInt(scope.row.TotalPages))+' đ'}}\n                        </div>\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"Số lượng\" prop=\"Quantity\">\n                    </el-table-column>\n                    <el-table-column label=\"Chiết khấu tiền\">\n                      <template slot-scope=\"scope\">\n                        <div class=\"ovf-elipsis\">\n                          {{format_currency(scope.row.DiscountMoney)+' đ'}}\n                        </div>\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"Chiết khấu %\">\n                      <template slot-scope=\"scope\">\n                        <div class=\"ovf-elipsis\">\n                          {{scope.row.DiscountPercent?(scope.row.DiscountPercent+' %'):'0%'}}\n                        </div>\n                      </template>\n                    </el-table-column>\n                    <el-table-column prop=\"Total\" label=\"Thành tiền\">\n                      <template slot-scope=\"scope\">\n                        <div class=\"ovf-elipsis\">\n                          <a hidden>{{scope.row.Total = (parseInt(scope.row.TotalPages) - (isNaN(parseInt(scope.row.DiscountMoney))?0:parseInt(scope.row.DiscountMoney)) - (isNaN(parseInt(scope.row.DiscountPercent))?0:(parseInt(scope.row.DiscountPercent)/100*parseInt(scope.row.TotalPages))))* parseInt(scope.row.Quantity)}}</a>\n                          {{format_currency(scope.row.Total) + ' đ'}}\n                          <!--{{format_currency((parseInt(scope.row.TotalPages) - (isNaN(parseInt(scope.row.DiscountMoney))?0:parseInt(scope.row.DiscountMoney)) - (isNaN(parseInt(scope.row.DiscountPercent))?0:(parseInt(scope.row.DiscountPercent)/100*parseInt(scope.row.TotalPages))))* parseInt(scope.row.Quantity))+' đ'}}-->\n                        </div>\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"Hành động\" fixed=\"right\" v-if=\"!model.disabled\">\n                      <template slot-scope=\"scope\">\n                        <el-button @click=\"handleEditProduct(scope.row.Id)\">\n                          <i class=\"fa fa-pencil\"></i>\n                        </el-button>\n                        <el-button type=\"danger\" style=\"margin: 3px 0;\" @click=\"handleDeleteProduct(scope.row.Id,scope.row)\">\n                          <i class=\"fa fa-trash\"></i>\n                        </el-button>\n                      </template>\n                    </el-table-column>\n                  </el-table>\n                </div>\n                <div class=\"modal__wrapper\">\n                  <el-dialog\n                    title=\"Chỉnh sửa thông tin sản phẩm\"\n                    :visible.sync=\"model.showEditProductModal\"\n                    :before-close=\"handleCloseEditProductModal\"\n                  >\n                    <el-form :disabled=\"model.disabled\" :model=\"model.productEditing\" label-width=\"150px\" ref=\"productEditing\" :label-position=\"$isMobileDevice ? 'top' : 'right'\">\n                      <el-form-item label=\"Barcode\">\n                        <el-input\n                          v-model=\"model.productEditing.TotalPages\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Mã hàng\">\n                        <el-input\n                          v-model=\"model.productEditing.ProductCode\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Size\">\n                        <el-input\n                          v-model=\"model.productEditing.SizeName\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Màu sắc\">\n                        <el-input\n                          v-model=\"model.productEditing.ProductColorName\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Kho\">\n                        <el-input\n                          v-model=\"model.productEditing.CategoryName\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Số lượng\">\n                        <el-input\n                          v-model=\"model.productEditing.Quantity\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Đơn giá\">\n                        <el-input\n                          v-model=\"model.productEditing.TotalPages\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Chiết khấu (bằng hình thức số tiền)\">\n                        <el-input\n                          v-model=\"model.productEditing.DiscountMoney\"\n                        ></el-input>\n                      </el-form-item>\n\n                      <el-form-item label=\"Chiết khấu (bằng hình thức %)\">\n                        <el-input\n                          v-model=\"model.productEditing.DiscountPercent\"\n                        ></el-input>\n                      </el-form-item>\n\n                      <!--<el-form-item label=\"Thành tiền\">\n                        <el-input\n                          v-model=\"model.productEditing.Total\"\n                          disabled\n                        ></el-input>\n                      </el-form-item>-->\n\n\n                      <el-form-item>\n                        <div class=\"group-button tac\">\n                          <el-button\n                            type=\"primary\"\n                            @click=\"handleUpdateProduct\"\n                          >\n                            Cập nhật\n                          </el-button>\n                          <el-button @click=\"handleCloseEditProductModal\">Hủy</el-button>\n                        </div>\n                      </el-form-item>\n                    </el-form>\n                  </el-dialog>\n                </div>\n              </div>\n            </el-card>\n        </div>\n        <div class=\"step-content__wrapper\" style=\"padding-top: 20px;\"></div>\n      </div>\n      <div class=\"col-lg-4 pd0\">\n        <el-card>\n          <el-tabs>\n            <el-tab-pane label=\"Đơn hàng\">\n              <div label=\"Đơn hàng\">\n                <div class=\"Order__ROOT\">\n                  <div class=\"contact__header\">\n\n                    <div class=\"col-lg-12 pd0\">\n                      <el-autocomplete :disabled=\"model.disabled\" auto-complete=\"on\" style=\"width: 100%\" v-model=\"model.contact_search_keyword\"\n                                       :fetch-suggestions=\"querySearch\" placeholder=\"Tìm khách hàng\" @select=\"handleSelect\" suffix-icon=\"el-icon-search\">\n                        <template slot-scope=\"props\">\n                          <span v-if=\"props.item.Name!==''\"><b>Tên:</b> {{ props.item.Name }}</span>\n                          <span v-if=\"props.item.IdentityCode && props.item.IdentityCode!==''\">-  <b>Mã khách:</b> {{ props.item.IdentityCode }}</span>\n                          <span v-if=\"props.item.Phone && props.item.Phone!==''\">-  <b>SĐT:</b> {{ props.item.Phone }}</span>\n                        </template>\n                      </el-autocomplete>\n                    </div>\n                    <div class=\"clearfix\"></div>\n                  </div>\n                  <div class=\"contact__content\" style=\"padding: 10px;\">\n\n                    <el-form :disabled=\"model.disabled\" label-position=\"left\" label-width=\"100px\" :model=\"model.orderModel\" ref=\"orderForm\" :inline=\"false\" :rules=\"model.orderRules\">\n                      <el-form-item label=\"Tên KH\" prop=\"Name\">\n                        <el-input placeholder=\"Nguyễn Văn A\" v-model=\"model.orderModel.Name\"></el-input>\n                      </el-form-item>\n                      <el-form-item label=\"Điện thoại\" prop=\"Phone\">\n                        <el-input type=\"number\" placeholder=\"01234567890\" v-model=\"model.orderModel.Phone\"></el-input>\n                      </el-form-item>\n                      <el-form-item label=\"Mã hóa đơn\" prop=\"BillCode\">\n                        <el-input placeholder=\"Mã hóa đơn\" v-model=\"model.orderModel.BillCode\"></el-input>\n                      </el-form-item>\n                    </el-form>\n                  </div>\n                </div>\n              </div>\n            </el-tab-pane>\n            <el-tab-pane label=\"Thông tin\">\n              <div label=\"Khách hàng\">\n                <div class=\"Contact__ROOT\">\n                  <div class=\"contact__content\" style=\"padding: 10px;\">\n                    <el-form :disabled=\"model.disabled\" label-position=\"left\" label-width=\"100px\" :model=\"model.contactModel\" ref=\"contactForm\" :inline=\"false\" :rules=\"model.contactRules\" >\n                      <el-form-item label=\"Mã KH\" prop=\"CustomerCode\">\n                        <el-input placeholder=\"MA.0001\" v-model=\"model.contactModel.CustomerCode\"></el-input>\n                      </el-form-item>\n                      <el-form-item label=\"Mã liên hệ\" prop=\"OfficialNumber\">\n                        <el-input placeholder=\"Mã liên hệ\" v-model=\"model.contactModel.OfficialNumber\"></el-input>\n                      </el-form-item>\n                      <!--<el-form-item label=\"Chiến dịch\" prop=\"CampaignCode\">-->\n                        <!--<el-select v-model=\"model.contactModel.CampaignCode\" value-key=\"Id\" filterable >-->\n                          <!--<el-option v-for=\"item in model.params.campaignCodes\" :key=\"item.Id\" :label=\"item.Name\" :value=\"item\"></el-option>-->\n                        <!--</el-select>-->\n                      <!--</el-form-item>-->\n                      <el-form-item label=\"Chiến dịch\" prop=\"CampaignCode\">\n                        <el-select v-model=\"model.campaignId\" @change=\"changeCampaign\" filterable >\n                          <el-option v-for=\"item in model.params.campaignCodes\" :key=\"item.Id\" :label=\"item.Name\" :value=\"item.Id\"></el-option>\n                        </el-select>\n                      </el-form-item>\n                      <el-form-item label=\"Giới tính\" prop=\"Gender\">\n                        <el-select v-model=\"model.contactModel.Gender\" value-key=\"Id\">\n                          <el-option v-for=\"item in model.params.genders\" :key=\"item.Id\" :label=\"item.Name\" :value=\"item\"></el-option>\n                        </el-select>\n                      </el-form-item>\n\n                      <el-form-item label=\"Nguồn KH\" prop=\"Source\">\n                        <el-select v-model=\"model.contactModel.Source\" value-key=\"Id\" filterable clearable>\n                          <el-option v-for=\"item in model.params.sources\" :key=\"item.Id\" :label=\"item.Name\" :value=\"item\"></el-option>\n                        </el-select>\n                      </el-form-item>\n                      <el-form-item label=\"Ngày sinh\" prop=\"Birthday\">\n                        <el-date-picker v-model=\"model.contactModel.Birthday\" type=\"date\" format=\"dd/MM/yyyy\" placeholder=\"01/01/1990\">\n                        </el-date-picker>\n                      </el-form-item>\n                      <el-form-item label=\"Tỉnh thành\" prop=\"Location\" >\n                        <el-select v-model=\"model.contactModel.Location\" value-key=\"Id\" placeholder=\"Hà Nội\" filterable clearable>\n                          <el-option v-for=\"item in model.params.provinces\" :key=\"item.Id\" :label=\"item.Name\" :value=\"item\">\n                          </el-option>\n                        </el-select>\n                      </el-form-item>\n                      <el-form-item label=\"Địa chỉ\" prop=\"Address\" >\n                        <el-input type=\"textarea\" :rows=\"3\" v-model=\"model.contactModel.Address\"></el-input>\n                      </el-form-item>\n                    </el-form>\n                  </div>\n                </div>\n              </div>\n                <div class=\"pos-info__wrapper\">\n                  <div class=\"block__label\">\n                    Thông tin cửa hàng\n                  </div>\n                  <div class=\"block__wrapper\">\n                    <el-form :disabled=\"model.disabled\" label-position=\"left\" label-width=\"110px\" ref=\"posForm\" :rules=\"model.posRules\" :model=\"model.posModel\">\n                      <el-form-item label=\"Cửa hàng\" prop=\"pos\">\n                        <el-select v-model=\"model.posModel.pos\" placeholder=\"Chọn cửa hàng\" value-key=\"Id\" filterable>\n                          <el-option\n                            v-for=\"item in model.params.poses\"\n                            :key=\"item.Id\"\n                            :label=\"item.Name\"\n                            :value=\"item\">\n                          </el-option>\n                        </el-select>\n                      </el-form-item>\n                      <el-form-item label=\"NV Bán hàng\" prop=\"seller\">\n                        <el-select v-model=\"model.posModel.seller\" placeholder=\"Chọn NV bán hàng\" value-key=\"Id\" filterable>\n                          <el-option\n                            v-for=\"item in model.params.users\"\n                            :key=\"item.Id\"\n                            :label=\"item.Name\"\n                            :value=\"item\">\n                          </el-option>\n                        </el-select>\n                      </el-form-item>\n                    </el-form>\n                  </div>\n                </div>\n            </el-tab-pane>\n\n          </el-tabs>\n          <div class=\"payment__wrapper\">\n            <div class=\"block__label\">\n              Thông tin thanh toán\n            </div>\n            <div class=\"block__wrapper\">\n              <el-form :disabled=\"model.disabled\" label-position=\"left\" label-width=\"120px\" ref=\"paymentForm\" :rules=\"model.paymentRules\" :model=\"model.paymentModel\">\n                <el-form-item>\n                  <template>\n                    <span slot=\"label\"><b>Tổng:</b></span>\n                    <h2>\n                      <strong>\n                        {{format_currency(model.paymentModel.sum_of_payment)}} đ\n                      </strong>\n                    </h2>\n                  </template>\n                </el-form-item>\n                <el-form-item>\n                  <template>\n                    <span slot=\"label\"><b>Tiền khách trả:</b></span>\n                    <span> {{format_currency(model.paymentModel.gaveMoney)}} đ</span>\n                  </template>\n                </el-form-item>\n                <el-form-item>\n                  <template>\n                    <span slot=\"label\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tiền mặt:</span>\n                    <el-input placeholder=\"1000000\" v-model=\"model.paymentModel.cash\"></el-input>\n                  </template>\n                </el-form-item>\n                <el-form-item>\n                  <template>\n                    <span slot=\"label\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Hội viên:</span>\n                    <el-input placeholder=\"1000000\" v-model=\"model.paymentModel.customerCard\"></el-input>\n                  </template>\n                </el-form-item>\n                <el-form-item>\n                  <template>\n                    <span slot=\"label\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Quẹt thẻ:</span>\n                    <el-input placeholder=\"1000000\" v-model=\"model.paymentModel.bankMoney\"></el-input>\n                  </template>\n                </el-form-item>\n                <el-form-item prop=\"change\">\n                  <template>\n                    <span slot=\"label\"> <b>Tiền trả lại:</b></span>\n                    <span>{{model.paymentModel.change}} đ</span>\n                  </template>\n                </el-form-item>\n                <el-form-item label=\"\" label-width=\"0px\">\n                  <br/>\n                  <el-button type=\"danger\" class=\"btn btn-block \" v-if=\"model.orderModel.MetaDescription==''\" @click=\"save\">Thanh toán</el-button>\n                  <el-button  type=\"info\" class=\"btn btn-block fa fa-print\" v-if=\"model.orderModel.MetaDescription!=''\"  @click=\"print\">In</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n          </div>\n        </el-card>\n      </div>\n      <div class=\"clearfix\"></div>\n    </div>\n</template>\n\n<style lang=\"scss\">\n\n  .el-select {\n    display: block;\n  }\n  .el-tabs__new-tab {\n    margin-right: 20px;\n  }\n  .el-date-editor.el-input, .el-date-editor.el-input__inner {\n    width: 100%;\n  }\n  .Store__ROOT {\n    background: #fff;\n    min-height: \"~calc(100vh - 100px)\";\n    .col-lg-8, .col-lg-4, .col-lg-6, .col-lg-9, .col-lg-3 {\n      float: left;\n    }\n    .block__label {\n      padding: 10px;\n      border: solid 1px #eee;\n      border-left: 0;\n      border-right: 0;\n      font-weight: 600;\n      background: #f5f7ff;\n    }\n    .block__wrapper {\n      padding: 10px;\n    }\n    .step__wrapper {\n      padding-top: 10px;\n    }\n    .el-form-item__label{\n      margin-bottom: 0;\n      padding-bottom: 0;\n    }\n\n    .el-step__title {\n      font-size: 13px;\n    }\n    .el-step__icon {\n      font-size: 12px;\n      width: 18px;\n      height: 18px;\n    }\n  }\n  .Payment__ROOT {\n    border-left: solid 1px #999;\n    padding-bottom: 20px;\n  }\n  .Contact__ROOT,.Order__ROOT {\n    .contact__header {\n      padding: 3px 3px 3px 10px;\n      line-height: 27px;\n      background: #f5f7fe;\n      .el-input__inner {\n        border: none;\n        background: \"#00000008\";\n      }\n    }\n  }\n  .Cart__ROOT {\n    .cart__header {\n      padding: 3px 3px 3px 10px;\n      line-height: 27px;\n      background: #f5f7fe;\n      .el-input__inner {\n        border: none;\n        background: \"#00000008\";\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/static/POS/POS.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Store__ROOT\"},[_c('div',{staticClass:\"col-lg-8\"},[_c('div',{staticClass:\"step__wrapper\"},[_c('el-card',{attrs:{\"label\":\"Giỏ hàng\"}},[_c('div',{staticClass:\"Cart__ROOT\"},[_c('div',{staticClass:\"cart__header\"},[_c('div',{staticClass:\"col-lg-6 pd0\"},[_c('strong',[_vm._v(\"Giỏ hàng\")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-6 pd0\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-5\"},[_c('el-select',{attrs:{\"disabled\":_vm.model.disabled,\"value-key\":\"Id\",\"placeholder\":\"Chọn kho hàng (bắt buộc)\",\"filterable\":\"\"},model:{value:(_vm.model.orderModel.Warehouse),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"Warehouse\", $$v)},expression:\"model.orderModel.Warehouse\"}},_vm._l((_vm.model.params.warehouses),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-7\"},[_c('el-input',{attrs:{\"disabled\":_vm.model.disabled,\"placeholder\":\"Nhập Barcode và Enter\",\"suffix-icon\":\"el-icon-search\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.handleBarcodeSearchConfirm($event)}},model:{value:(_vm.model.barcode_search_keyword),callback:function ($$v) {_vm.$set(_vm.model, \"barcode_search_keyword\", $$v)},expression:\"model.barcode_search_keyword\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"})]),_vm._v(\" \"),_c('div',{staticClass:\"cart__content\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.model.cart,\"empty-text\":\"Không có dữ liệu\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"40\",\"align\":\"center\",\"header-align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"MetaKeywords\",\"width\":\"75\",\"label\":\"Barcode\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ProductCode\",\"width\":\"200\",\"label\":\"Mã sản phẩm\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"TotalPages\",\"label\":\"Đơn giá\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_vm._v(\"\\n                      \"+_vm._s(_vm.format_currency(parseInt(scope.row.TotalPages))+' đ')+\"\\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Số lượng\",\"prop\":\"Quantity\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Chiết khấu tiền\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_vm._v(\"\\n                      \"+_vm._s(_vm.format_currency(scope.row.DiscountMoney)+' đ')+\"\\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"Chiết khấu %\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_vm._v(\"\\n                      \"+_vm._s(scope.row.DiscountPercent?(scope.row.DiscountPercent+' %'):'0%')+\"\\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Total\",\"label\":\"Thành tiền\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ovf-elipsis\"},[_c('a',{attrs:{\"hidden\":\"\"}},[_vm._v(_vm._s(scope.row.Total = (parseInt(scope.row.TotalPages) - (isNaN(parseInt(scope.row.DiscountMoney))?0:parseInt(scope.row.DiscountMoney)) - (isNaN(parseInt(scope.row.DiscountPercent))?0:(parseInt(scope.row.DiscountPercent)/100*parseInt(scope.row.TotalPages))))* parseInt(scope.row.Quantity)))]),_vm._v(\"\\n                      \"+_vm._s(_vm.format_currency(scope.row.Total) + ' đ')+\"\\n                      \")])]}}])}),_vm._v(\" \"),(!_vm.model.disabled)?_c('el-table-column',{attrs:{\"label\":\"Hành động\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{on:{\"click\":function($event){_vm.handleEditProduct(scope.row.Id)}}},[_c('i',{staticClass:\"fa fa-pencil\"})]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin\":\"3px 0\"},attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDeleteProduct(scope.row.Id,scope.row)}}},[_c('i',{staticClass:\"fa fa-trash\"})])]}}])}):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"modal__wrapper\"},[_c('el-dialog',{attrs:{\"title\":\"Chỉnh sửa thông tin sản phẩm\",\"visible\":_vm.model.showEditProductModal,\"before-close\":_vm.handleCloseEditProductModal},on:{\"update:visible\":function($event){_vm.$set(_vm.model, \"showEditProductModal\", $event)}}},[_c('el-form',{ref:\"productEditing\",attrs:{\"disabled\":_vm.model.disabled,\"model\":_vm.model.productEditing,\"label-width\":\"150px\",\"label-position\":_vm.$isMobileDevice ? 'top' : 'right'}},[_c('el-form-item',{attrs:{\"label\":\"Barcode\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.TotalPages),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"TotalPages\", $$v)},expression:\"model.productEditing.TotalPages\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Mã hàng\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.ProductCode),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"ProductCode\", $$v)},expression:\"model.productEditing.ProductCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Size\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.SizeName),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"SizeName\", $$v)},expression:\"model.productEditing.SizeName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Màu sắc\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.ProductColorName),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"ProductColorName\", $$v)},expression:\"model.productEditing.ProductColorName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Kho\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.CategoryName),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"CategoryName\", $$v)},expression:\"model.productEditing.CategoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Số lượng\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.Quantity),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"Quantity\", $$v)},expression:\"model.productEditing.Quantity\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Đơn giá\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.model.productEditing.TotalPages),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"TotalPages\", $$v)},expression:\"model.productEditing.TotalPages\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Chiết khấu (bằng hình thức số tiền)\"}},[_c('el-input',{model:{value:(_vm.model.productEditing.DiscountMoney),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"DiscountMoney\", $$v)},expression:\"model.productEditing.DiscountMoney\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Chiết khấu (bằng hình thức %)\"}},[_c('el-input',{model:{value:(_vm.model.productEditing.DiscountPercent),callback:function ($$v) {_vm.$set(_vm.model.productEditing, \"DiscountPercent\", $$v)},expression:\"model.productEditing.DiscountPercent\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('div',{staticClass:\"group-button tac\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpdateProduct}},[_vm._v(\"\\n                        Cập nhật\\n                      \")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.handleCloseEditProductModal}},[_vm._v(\"Hủy\")])],1)])],1)],1)],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"step-content__wrapper\",staticStyle:{\"padding-top\":\"20px\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"col-lg-4 pd0\"},[_c('el-card',[_c('el-tabs',[_c('el-tab-pane',{attrs:{\"label\":\"Đơn hàng\"}},[_c('div',{attrs:{\"label\":\"Đơn hàng\"}},[_c('div',{staticClass:\"Order__ROOT\"},[_c('div',{staticClass:\"contact__header\"},[_c('div',{staticClass:\"col-lg-12 pd0\"},[_c('el-autocomplete',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":_vm.model.disabled,\"auto-complete\":\"on\",\"fetch-suggestions\":_vm.querySearch,\"placeholder\":\"Tìm khách hàng\",\"suffix-icon\":\"el-icon-search\"},on:{\"select\":_vm.handleSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(props.item.Name!=='')?_c('span',[_c('b',[_vm._v(\"Tên:\")]),_vm._v(\" \"+_vm._s(props.item.Name))]):_vm._e(),_vm._v(\" \"),(props.item.IdentityCode && props.item.IdentityCode!=='')?_c('span',[_vm._v(\"-  \"),_c('b',[_vm._v(\"Mã khách:\")]),_vm._v(\" \"+_vm._s(props.item.IdentityCode))]):_vm._e(),_vm._v(\" \"),(props.item.Phone && props.item.Phone!=='')?_c('span',[_vm._v(\"-  \"),_c('b',[_vm._v(\"SĐT:\")]),_vm._v(\" \"+_vm._s(props.item.Phone))]):_vm._e()]}}]),model:{value:(_vm.model.contact_search_keyword),callback:function ($$v) {_vm.$set(_vm.model, \"contact_search_keyword\", $$v)},expression:\"model.contact_search_keyword\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"})]),_vm._v(\" \"),_c('div',{staticClass:\"contact__content\",staticStyle:{\"padding\":\"10px\"}},[_c('el-form',{ref:\"orderForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.model.orderModel,\"inline\":false,\"rules\":_vm.model.orderRules}},[_c('el-form-item',{attrs:{\"label\":\"Tên KH\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"Nguyễn Văn A\"},model:{value:(_vm.model.orderModel.Name),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"Name\", $$v)},expression:\"model.orderModel.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Điện thoại\",\"prop\":\"Phone\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"01234567890\"},model:{value:(_vm.model.orderModel.Phone),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"Phone\", $$v)},expression:\"model.orderModel.Phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Mã hóa đơn\",\"prop\":\"BillCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"Mã hóa đơn\"},model:{value:(_vm.model.orderModel.BillCode),callback:function ($$v) {_vm.$set(_vm.model.orderModel, \"BillCode\", $$v)},expression:\"model.orderModel.BillCode\"}})],1)],1)],1)])])]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"Thông tin\"}},[_c('div',{attrs:{\"label\":\"Khách hàng\"}},[_c('div',{staticClass:\"Contact__ROOT\"},[_c('div',{staticClass:\"contact__content\",staticStyle:{\"padding\":\"10px\"}},[_c('el-form',{ref:\"contactForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"100px\",\"model\":_vm.model.contactModel,\"inline\":false,\"rules\":_vm.model.contactRules}},[_c('el-form-item',{attrs:{\"label\":\"Mã KH\",\"prop\":\"CustomerCode\"}},[_c('el-input',{attrs:{\"placeholder\":\"MA.0001\"},model:{value:(_vm.model.contactModel.CustomerCode),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"CustomerCode\", $$v)},expression:\"model.contactModel.CustomerCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Mã liên hệ\",\"prop\":\"OfficialNumber\"}},[_c('el-input',{attrs:{\"placeholder\":\"Mã liên hệ\"},model:{value:(_vm.model.contactModel.OfficialNumber),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"OfficialNumber\", $$v)},expression:\"model.contactModel.OfficialNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Chiến dịch\",\"prop\":\"CampaignCode\"}},[_c('el-select',{attrs:{\"filterable\":\"\"},on:{\"change\":_vm.changeCampaign},model:{value:(_vm.model.campaignId),callback:function ($$v) {_vm.$set(_vm.model, \"campaignId\", $$v)},expression:\"model.campaignId\"}},_vm._l((_vm.model.params.campaignCodes),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item.Id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Giới tính\",\"prop\":\"Gender\"}},[_c('el-select',{attrs:{\"value-key\":\"Id\"},model:{value:(_vm.model.contactModel.Gender),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Gender\", $$v)},expression:\"model.contactModel.Gender\"}},_vm._l((_vm.model.params.genders),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Nguồn KH\",\"prop\":\"Source\"}},[_c('el-select',{attrs:{\"value-key\":\"Id\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.model.contactModel.Source),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Source\", $$v)},expression:\"model.contactModel.Source\"}},_vm._l((_vm.model.params.sources),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Ngày sinh\",\"prop\":\"Birthday\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"format\":\"dd/MM/yyyy\",\"placeholder\":\"01/01/1990\"},model:{value:(_vm.model.contactModel.Birthday),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Birthday\", $$v)},expression:\"model.contactModel.Birthday\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Tỉnh thành\",\"prop\":\"Location\"}},[_c('el-select',{attrs:{\"value-key\":\"Id\",\"placeholder\":\"Hà Nội\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.model.contactModel.Location),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Location\", $$v)},expression:\"model.contactModel.Location\"}},_vm._l((_vm.model.params.provinces),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Địa chỉ\",\"prop\":\"Address\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.model.contactModel.Address),callback:function ($$v) {_vm.$set(_vm.model.contactModel, \"Address\", $$v)},expression:\"model.contactModel.Address\"}})],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"pos-info__wrapper\"},[_c('div',{staticClass:\"block__label\"},[_vm._v(\"\\n                Thông tin cửa hàng\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"block__wrapper\"},[_c('el-form',{ref:\"posForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"110px\",\"rules\":_vm.model.posRules,\"model\":_vm.model.posModel}},[_c('el-form-item',{attrs:{\"label\":\"Cửa hàng\",\"prop\":\"pos\"}},[_c('el-select',{attrs:{\"placeholder\":\"Chọn cửa hàng\",\"value-key\":\"Id\",\"filterable\":\"\"},model:{value:(_vm.model.posModel.pos),callback:function ($$v) {_vm.$set(_vm.model.posModel, \"pos\", $$v)},expression:\"model.posModel.pos\"}},_vm._l((_vm.model.params.poses),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"NV Bán hàng\",\"prop\":\"seller\"}},[_c('el-select',{attrs:{\"placeholder\":\"Chọn NV bán hàng\",\"value-key\":\"Id\",\"filterable\":\"\"},model:{value:(_vm.model.posModel.seller),callback:function ($$v) {_vm.$set(_vm.model.posModel, \"seller\", $$v)},expression:\"model.posModel.seller\"}},_vm._l((_vm.model.params.users),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item}})}))],1)],1)],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"payment__wrapper\"},[_c('div',{staticClass:\"block__label\"},[_vm._v(\"\\n          Thông tin thanh toán\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"block__wrapper\"},[_c('el-form',{ref:\"paymentForm\",attrs:{\"disabled\":_vm.model.disabled,\"label-position\":\"left\",\"label-width\":\"120px\",\"rules\":_vm.model.paymentRules,\"model\":_vm.model.paymentModel}},[_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('b',[_vm._v(\"Tổng:\")])]),_vm._v(\" \"),_c('h2',[_c('strong',[_vm._v(\"\\n                    \"+_vm._s(_vm.format_currency(_vm.model.paymentModel.sum_of_payment))+\" đ\\n                  \")])])]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('b',[_vm._v(\"Tiền khách trả:\")])]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.format_currency(_vm.model.paymentModel.gaveMoney))+\" đ\")])]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"      Tiền mặt:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"1000000\"},model:{value:(_vm.model.paymentModel.cash),callback:function ($$v) {_vm.$set(_vm.model.paymentModel, \"cash\", $$v)},expression:\"model.paymentModel.cash\"}})]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"      Hội viên:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"1000000\"},model:{value:(_vm.model.paymentModel.customerCard),callback:function ($$v) {_vm.$set(_vm.model.paymentModel, \"customerCard\", $$v)},expression:\"model.paymentModel.customerCard\"}})]],2),_vm._v(\" \"),_c('el-form-item',[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"      Quẹt thẻ:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"1000000\"},model:{value:(_vm.model.paymentModel.bankMoney),callback:function ($$v) {_vm.$set(_vm.model.paymentModel, \"bankMoney\", $$v)},expression:\"model.paymentModel.bankMoney\"}})]],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"change\"}},[[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('b',[_vm._v(\"Tiền trả lại:\")])]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.model.paymentModel.change)+\" đ\")])]],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\",\"label-width\":\"0px\"}},[_c('br'),_vm._v(\" \"),(_vm.model.orderModel.MetaDescription=='')?_c('el-button',{staticClass:\"btn btn-block \",attrs:{\"type\":\"danger\"},on:{\"click\":_vm.save}},[_vm._v(\"Thanh toán\")]):_vm._e(),_vm._v(\" \"),(_vm.model.orderModel.MetaDescription!='')?_c('el-button',{staticClass:\"btn btn-block fa fa-print\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.print}},[_vm._v(\"In\")]):_vm._e()],1)],1)],1)])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b12ec40\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/POS/POS.vue\n// module id = 1240\n// module chunks = 13","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{attrs:{\"type\":\"border-card\",\"editable\":\"\"},on:{\"edit\":_vm.handleTabsEdit},model:{value:(_vm.model.editableTabsValue),callback:function ($$v) {_vm.$set(_vm.model, \"editableTabsValue\", $$v)},expression:\"model.editableTabsValue\"}},_vm._l((_vm.model.editableTabs),function(item,index){return _c('el-tab-pane',{key:item.name,attrs:{\"label\":item.title,\"name\":item.name}},[_c('POS',{attrs:{\"item\":item}})],1)}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-748bdd8e\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/static/POS/POSes.vue\n// module id = 1241\n// module chunks = 13","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true,\\\"alias\\\":{\\\"../img\\\":\\\"../static/img\\\"}}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-748bdd8e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./POSes.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./POSes.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-748bdd8e\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./POSes.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-748bdd8e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/static/POS/POSes.vue\n// module id = 965\n// module chunks = 13","module.exports = function(originalModule) {\n\tif(!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true,\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = 984\n// module chunks = 13 14 20"],"sourceRoot":""}