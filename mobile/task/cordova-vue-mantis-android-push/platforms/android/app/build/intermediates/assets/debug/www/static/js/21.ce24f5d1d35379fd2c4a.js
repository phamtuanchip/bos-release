webpackJsonp([21],{1096:function(e,t,s){var i=s(1097);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s(932)("6dfa2ed6",i,!0)},1097:function(e,t,s){t=e.exports=s(931)(!0),t.push([e.i,".container-fluid{padding:0 3px!important}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm2/src/components/Home.vue"],names:[],mappings:"AACA,iBACE,uBAA4B,CAC7B",file:"Home.vue",sourcesContent:["\n.container-fluid {\n  padding: 0px 3px !important;\n}\n"],sourceRoot:""}])},1098:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__),__WEBPACK_IMPORTED_MODULE_2__nav__=__webpack_require__(1099),__WEBPACK_IMPORTED_MODULE_3_vue__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_4__components___=__webpack_require__(296);__webpack_exports__.a={provide:function(){return{loadAvatar:this.loadAvatar,taskDone:this.taskDone,notDone:this.notDone,loggedUser:this.loggedUser,statusColors:JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.settingColor)),listStatus:this.listStatus,listPriority:this.listPriority,priorityColors:JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.arrPriorityColor)),formatDate:this.formatDate,overHours:this.overHours,SessionId:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),subscribeMe:this.subscribe,getDayName:this.getDayName}},name:"Home",components:{AppHeader:__WEBPACK_IMPORTED_MODULE_4__components___.e,Sidebar:__WEBPACK_IMPORTED_MODULE_4__components___.f,AppAside:__WEBPACK_IMPORTED_MODULE_4__components___.a,AppFooter:__WEBPACK_IMPORTED_MODULE_4__components___.d,Breadcrumb:__WEBPACK_IMPORTED_MODULE_4__components___.b},data:function(){return{nav:[],loggedUser:JSON.parse(localStorage.getItem("LoggedOnUser")),taskDone:["532e9f1e-f5dc-4e75-b7c9-2bd785bbda67","53cc3819-c019-4749-b0e4-52213438049b"]}},computed:{listStatus:function(){return this.$Lodash.chain(JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.listStatus))).keyBy("Id").value()},listPriority:function(){return this.$Lodash.chain(JSON.parse(this.$getItemLocalStorage(this.$localStorageConstant.listPriority))).keyBy("Id").value()},notDone:function(){return this.$Lodash.difference(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.listStatus),this.taskDone)},name:function(){return this.$route.name},list:function(){return this.$route.matched}},methods:{loadAvatar:function(e){return void 0==e&&(e="assets/images/avatars/profile.png"),e=e.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===e?this.$appUri.BaseURL+e:this.$appUri.BaseURL+e.replace("/","")+"&Height=50&Width=50"},getDayName:function(e,t){var s=t?__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(e,t):__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(e),i=__WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(Date.Now);if(s.locale("vi"),i.locale("vi"),this.$Utils.formatDateTime(Date.Now,"DD/MM/YYYY")===this.$Utils.formatDateTime(e,"DD/MM/YYYY"))return s.from(i)+" ngày "+s.format("l");var a=this.$Utils.formatDateTime(new Date((new Date).getTime()-864e5),"DD/MM/YYYY");return this.$Utils.formatDateTime(e,"DD/MM/YYYY")===a?s.calendar()+" ngày "+s.format("l"):s.format("LLLL")},subscribe:function(e,t){var s=this;if(e.Subscribe,e.Subscribe=t?e.Subscribe.split(";").filter(function(e){return e!=s.$Utils.getUserInfo("UserId")}).join(";")+";":(e.Subscribe?e.Subscribe:"")+this.$Utils.getUserInfo("UserId"),t){var i={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;Code;Child",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:e.Id,Child:this.$Utils.getUserInfo("UserId"),Code:"Subscribe;Email"};this.$Utils.post(i).then(function(e){var t=1==e.TotalCount?[e.Data.DataDS.Linked]:e.Data.DataDS.Linked;if(void 0!=t){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:t.length,RequestTemplate:"Permission.Remove"};$.each(t,function(e,t){i["R"+(e+1)+"_Id"]=t.Id,i["R"+(e+1)+"_Parent"]=t.Parent,i["R"+(e+1)+"_Child"]=t.Child,i["R"+(e+1)+"_Code"]=t.Code}),s.$Utils.post(i).then(function(e){})}})}else{var a={RequestClass:"xBase",Parent:e.Id,Child:this.$Utils.getUserInfo("UserId"),Code:"Subscribe",Name:"Subscribe",RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser",RequestTemplate:"Permission.Insert"};this.$Utils.post(a).then(function(e){});var r={RequestClass:"xBase",Parent:e.Id,Child:this.$Utils.getUserInfo("UserId"),Code:"Email",Name:"Email",RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser",RequestTemplate:"Permission.Insert"};this.$Utils.post(r).then(function(e){})}var n={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;Subscribe",R1_Id:e.Id,R1_Subscribe:e.Subscribe};this.$Utils.post(n).then(function(i){s.$hub.$emit("subscribe",{task:e,isUnsubscribe:t})})},overHours:function overHours(item){var temp=this.$Utils.expressionToString(item,"{{Deadline|DateTime:toNows}}");return-1==this.taskDone.indexOf(item.Status)&&eval(new Date>new Date(item.PlanStartDate))?Math.round(10*parseFloat(temp))/10:"0.0"},formatDate:function(e){return __WEBPACK_IMPORTED_MODULE_3_vue__.default.moment(e).format("DD/MM/YYYY")},init:function(){var e=this,t=[];if(null==(t=this.$getItemLocalStorage(this.$localStorageConstant.ListPages))||""==this.$localStorageConstant.ListPages){var s=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{AssignedUser:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),RequestTemplate:"SettingNew.SearchSetting",ParentCode:"xSetting.Project.Page"});this.$Utils.post(s).then(function(s){t=e.$Utils.getDataWithRoot(s.R1,"Data.DynamicDS.Setting"),e.$setItemLocalStorage(e.$localStorageConstant.ListPages,__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t)),e.nav=e.buildMenu(!1,t)})}else this.nav=this.buildMenu(!0,t)},buildMenu:function(e,t){var s={};return s=e?JSON.parse(t):t,s=s.filter(function(e){return e.Description=JSON.parse(e.Description),e.Value=JSON.parse(e.Value),e.url=e.Description.UrlPage.replace("static/","/").replace("configuration/","/").replace("dynamic","/dynamic"),e.name=e.Description.Caption,e.icon=e.Description.MenuIcon,e.Description.IsShowOnMenu}),this.$Utils.createCustomTreeFromList(s,"Id","ParentId","children",{},{})}},created:function(){this.init()},mounted:function(){},watch:{"$route.fullPath":function(e){$("a[class~='router-link-exact-active']")[0]&&$("a[class~='router-link-exact-active']")[0].classList.remove("router-link-exact-active","open","active"),e.indexOf("dynamic/view-all-task-page?")>-1||e.indexOf("/scrumboard")>-1?$("a[href$='/timeline']")[0].classList.add("router-link-exact-active","open","active"):(e.indexOf("setting-users")>-1||e.indexOf("/setting-group-project")>-1||e.indexOf("/setting-ui")>-1)&&$("a[href$='/config']")[0].classList.add("router-link-exact-active","open","active")}}}}).call(__webpack_exports__,__webpack_require__(2))},1099:function(e,t,s){"use strict"},1100:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[s("AppHeader",{attrs:{currentUser:e.loggedUser}}),e._v(" "),s("div",{staticClass:"app-body",staticStyle:{"-webkit-overflow-scrolling":"touch"}},[s("Sidebar",{attrs:{navItems:e.nav}}),e._v(" "),s("main",{staticClass:"main"},[s("breadcrumb",{attrs:{list:e.list}}),e._v(" "),s("div",{staticClass:"container-fluid"},[s("router-view",{key:e.$route.fullPath})],1)],1),e._v(" "),s("AppAside")],1),e._v(" "),s("AppFooter")],1)},a=[],r={render:i,staticRenderFns:a};t.a=r},950:function(e,t,s){"use strict";function i(e){s(1096)}Object.defineProperty(t,"__esModule",{value:!0});var a=s(1098),r=s(1100),n=s(0),o=i,_=n(a.a,r.a,!1,o,null,null);t.default=_.exports}});
//# sourceMappingURL=21.ce24f5d1d35379fd2c4a.js.map