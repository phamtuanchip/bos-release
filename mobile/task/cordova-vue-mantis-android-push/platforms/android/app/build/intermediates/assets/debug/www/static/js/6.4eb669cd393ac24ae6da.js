webpackJsonp([6],{1018:function(t,e,a){var s=a(1019);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(932)("27332acc",s,!0)},1019:function(t,e,a){e=t.exports=a(931)(!0),e.push([t.i,".dailyTable .Unread{font-weight:700}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm2/src/components/DailyTable.vue"],names:[],mappings:"AAMA,oBACI,eAAkB,CACrB",file:"DailyTable.vue",sourcesContent:["\n.dailyTable {\n  /*    .el-table__body-wrapper {\n      max-height: 350px;\n    }*/\n}\n.dailyTable .Unread {\n    font-weight: bold;\n}\n"],sourceRoot:""}])},1020:function(t,e,a){"use strict";var s=a(3),i=a(967),o=a.n(i);s.default.use(o.a),s.default.use(a(40)),e.a={inject:["statusColors","priorityColors","taskDone","overHours","listPriority","loggedUser"],props:["tblData","id","isShowIndex","checkReadUnread","isHideSummary"],methods:{checkReadItem:function(t){return!(t.Marked||t.UserList&&-1!=t.UserList.indexOf(this.loggedUser.UserId))}}}},1021:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dailyTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",id:t.id,data:t.tblData,"show-summary":!t.isHideSummary,"sum-text":"Tổng","empty-text":"Không có dữ liệu"}},[t.isShowIndex?a("el-table-column",{attrs:{type:"index",label:"Stt"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"Index",label:"Mã",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:"/dynamic/view/Index="+e.row.Index}},[a("span",{style:"color:red;text-decoration:"+(t.taskDone.indexOf(e.row.Status)>-1?"line-through":"")},[t._v("\n         "+t._s(e.row.Index)+"\n         ")]),t._v(" "),e.row.PriorityId&&t.$isMobileDevice?a("i",{class:"fa "+t.listPriority[e.row.PriorityId].Value+" pl-2"}):t._e(),t._v(" "),t.$isMobileDevice?a("i",{staticClass:"fa fa-clock-o",style:"color:"+(parseFloat(t.overHours(e.row)+"")<0?"red":"blue")}):t._e(),t._v(" "),e.row.TotalDownload?a("i",{staticClass:"fa fa-paperclip"},[t._v(t._s(e.row.TotalDownload))]):t._e(),t._v(" "),e.row.TotalComment?a("i",{staticClass:"fa fa-comments-o"},[t._v(t._s(e.row.TotalComment))]):t._e(),t._v(" "),t.checkReadUnread&&t.checkReadItem(e.row)?a("i",{staticClass:"fa fa-envelope-o"}):t._e()])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Tên công việc","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:"/dynamic/view/Index="+e.row.Index}},[a("span",{class:t.checkReadUnread&&t.checkReadItem(e.row)?"Unread":"",style:"text-decoration:"+(t.taskDone.indexOf(e.row.Status)>-1?"line-through":"")},[t._v("\n          "+t._s(e.row.Name)+"\n        ")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Trạng thái"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-center",style:"margin:0px; background-color:"+t.statusColors[e.row.Status.toUpperCase()]},[t._v("\n        "+t._s(e.row.StatusName)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"PlanManHour",label:"Ước tính"}}),t._v(" "),a("el-table-column",{attrs:{prop:"RemainingManHour",label:"Thực tế"}}),t._v(" "),a("el-table-column",{attrs:{label:"Quá hạn"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"fa fa-clock-o",style:"color:"+(parseFloat(t.overHours(e.row)+"")<0?"red":"blue")}),t._v(" "),a("span",[t._v(" "+t._s(t.overHours(e.row)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Ngày thực hiện"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.$Utils.formatDateTime(e.row.PlanStartDate,"DD/MM/YYYY HH:mm"))+" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Ngày kết thúc"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.$Utils.formatDateTime(e.row.Deadline,"DD/MM/YYYY HH:mm"))+" ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Ưu tiên"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"text-center",style:"margin:0px; background-color:"+t.priorityColors[e.row.PriorityId.toUpperCase()]},[t._v("\n        "+t._s(e.row.PriorityIdName)+"\n      ")])]}}])}),t._v(" "),t.$isMantisAdmin()||t.$isSystemAdmin()?a("el-table-column",{attrs:{prop:"WorkerName",label:"Thực hiện"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"TypeName",label:"Tính chất"}})],1)],1)},i=[],o={render:s,staticRenderFns:i};e.a=o},1166:function(t,e,a){var s=a(1167);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(932)("b0391674",s,!0)},1167:function(t,e,a){e=t.exports=a(931)(!0),e.push([t.i,".dailyReport{width:100%;margin-top:5px}.dailyReport .parentTable{display:table;height:50px}.dailyReport .cellTable{display:table;vertical-align:middle;height:100%}.dailyReport .content{display:table-cell;vertical-align:middle;text-align:center;height:100%}.dailyReport label{margin-bottom:0}.dailyReport hr{margin-bottom:7px}.dailyReport .el-tabs__header{margin:0 0 5px}.dailyReport .toggleButton{padding:12px 0 0}.dailyReport .main .container-fluid{padding:0 17px!important}.dailyReport body{font-size:13px}.dailyReport .round-image{border-radius:50%;max-height:50px;display:block;margin:auto;padding-right:5px}.dailyReport .el-progress-bar__outer{height:20px!important}.dailyReport .el-input__inner{height:26px}.dailyReport .el-select{width:150px}.dailyReport .el-button{padding:5px}.dailyReport .el-footer,.dailyReport .el-header{height:auto!important;background-color:#f0f3f5;border:1px solid #c2cfd6;line-height:30px;padding:0 5px}.dailyReport .rightaligndiv{text-align:right;padding-right:5px}.dailyReport .el-aside{background-color:#d3dce6;color:#333}.dailyReport .el-main{background-color:#fff;color:#333;padding:5px 10px}.dailyReport .el-tabs__nav-scroll{padding:0 10px}.dailyReport body>.el-container{margin-bottom:40px;font-size:13px}.dailyReport .el-row{margin-bottom:5px}.dailyReport .el-row:last-child{margin-bottom:0}.dailyReport .el-table thead{padding:5px 0;font-size:14px}.dailyReport .el-table td{padding:5px 0}.dailyReport .el-col{border-radius:4px}.dailyReport .bg-purple-dark{background:#99a9bf}.dailyReport .bg-purple{background:#d3dce6}.dailyReport .bg-purple-light{background:#e5e9f2}.dailyReport .grid-content{border-radius:4px;min-height:36px}.dailyReport .row-bg{padding:10px 0;background-color:#f9fafc}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm2/src/components/DailyReport.vue"],names:[],mappings:"AACA,aACE,WAAY,AACZ,cAAgB,CACjB,AACD,0BACI,cAAe,AACf,WAAa,CAChB,AACD,wBACI,cAAe,AACf,sBAAuB,AACvB,WAAa,CAChB,AACD,sBACI,mBAAoB,AACpB,sBAAuB,AACvB,kBAAmB,AACnB,WAAa,CAChB,AACD,mBACI,eAAmB,CACtB,AACD,gBACI,iBAAmB,CACtB,AACD,8BACI,cAAgB,CACnB,AACD,2BACI,gBAAoB,CACvB,AACD,oCACI,wBAA6B,CAChC,AACD,kBACI,cAAgB,CACnB,AACD,0BACI,kBAAmB,AACnB,gBAAiB,AACjB,cAAe,AACf,YAAa,AACb,iBAAmB,CACtB,AACD,qCACI,qBAAwB,CAC3B,AACD,8BACI,WAAa,CAChB,AACD,wBACI,WAAa,CAChB,AACD,wBACI,WAAa,CAChB,AACD,gDAEI,sBAAwB,AACxB,yBAA0B,AAC1B,yBAA0B,AAC1B,iBAAkB,AAClB,aAAe,CAClB,AACD,4BACI,iBAAkB,AAClB,iBAAmB,CACtB,AACD,uBACI,yBAA0B,AAC1B,UAAY,CACf,AACD,sBACI,sBAAuB,AACvB,WAAY,AACZ,gBAA2B,CAC9B,AACD,kCACI,cAAuB,CAC1B,AACD,gCACI,mBAAoB,AACpB,cAAgB,CACnB,AACD,qBACI,iBAAmB,CACtB,AACD,gCACI,eAAiB,CACpB,AACD,6BACI,cAAiB,AACjB,cAAgB,CACnB,AACD,0BACI,aAAiB,CACpB,AACD,qBACI,iBAAmB,CACtB,AACD,6BACI,kBAAoB,CACvB,AACD,wBACI,kBAAoB,CACvB,AACD,8BACI,kBAAoB,CACvB,AACD,2BACI,kBAAmB,AACnB,eAAiB,CACpB,AACD,qBACI,eAAgB,AAChB,wBAA0B,CAC7B",file:"DailyReport.vue",sourcesContent:["\n.dailyReport {\n  width: 100%;\n  margin-top: 5px;\n}\n.dailyReport .parentTable {\n    display: table;\n    height: 50px;\n}\n.dailyReport .cellTable {\n    display: table;\n    vertical-align: middle;\n    height: 100%;\n}\n.dailyReport .content {\n    display: table-cell;\n    vertical-align: middle;\n    text-align: center;\n    height: 100%;\n}\n.dailyReport label {\n    margin-bottom: 0px;\n}\n.dailyReport hr {\n    margin-bottom: 7px;\n}\n.dailyReport .el-tabs__header {\n    margin: 0 0 5px;\n}\n.dailyReport .toggleButton {\n    padding: 12px 0 0 0;\n}\n.dailyReport .main .container-fluid {\n    padding: 0px 17px !important;\n}\n.dailyReport body {\n    font-size: 13px;\n}\n.dailyReport .round-image {\n    border-radius: 50%;\n    max-height: 50px;\n    display: block;\n    margin: auto;\n    padding-right: 5px;\n}\n.dailyReport .el-progress-bar__outer {\n    height: 20px !important;\n}\n.dailyReport .el-input__inner {\n    height: 26px;\n}\n.dailyReport .el-select {\n    width: 150px;\n}\n.dailyReport .el-button {\n    padding: 5px;\n}\n.dailyReport .el-header,\n  .dailyReport .el-footer {\n    height: auto !important;\n    background-color: #f0f3f5;\n    border: 1px solid #c2cfd6;\n    line-height: 30px;\n    padding: 0 5px;\n}\n.dailyReport .rightaligndiv {\n    text-align: right;\n    padding-right: 5px;\n}\n.dailyReport .el-aside {\n    background-color: #d3dce6;\n    color: #333;\n}\n.dailyReport .el-main {\n    background-color: #fff;\n    color: #333;\n    padding: 5px 10px 5px 10px;\n}\n.dailyReport .el-tabs__nav-scroll {\n    padding: 0 10px 0 10px;\n}\n.dailyReport body > .el-container {\n    margin-bottom: 40px;\n    font-size: 13px;\n}\n.dailyReport .el-row {\n    margin-bottom: 5px;\n}\n.dailyReport .el-row:last-child {\n    margin-bottom: 0;\n}\n.dailyReport .el-table thead {\n    padding: 5px 0px;\n    font-size: 14px;\n}\n.dailyReport .el-table td {\n    padding: 5px 0px;\n}\n.dailyReport .el-col {\n    border-radius: 4px;\n}\n.dailyReport .bg-purple-dark {\n    background: #99a9bf;\n}\n.dailyReport .bg-purple {\n    background: #d3dce6;\n}\n.dailyReport .bg-purple-light {\n    background: #e5e9f2;\n}\n.dailyReport .grid-content {\n    border-radius: 4px;\n    min-height: 36px;\n}\n.dailyReport .row-bg {\n    padding: 10px 0;\n    background-color: #f9fafc;\n}\n"],sourceRoot:""}])},1168:function(t,e,a){"use strict";(function(t){var s=a(4),i=a.n(s),o=a(3),n=a(1169),l=a(986),r=a(1174);o.default.use(a(40));var c="Id;Index;Name;StatusName;Status;PlanManHour;RemainingManHour;PlanStartDate;Deadline;PriorityId;PriorityIdName;TypeName;TotalDownload;TotalComment;WorkerName";e.a={inject:["taskDone","statusColors","priorityColors","overHours","listPriority"],components:{Vue:o.default,SendReport:n.a,DailyTable:l.a,ReportTable:r.a},data:function(){var t=this.$Utils.formatDateTime(new Date,"DD/MM/YYYY");return{activeCollapse:["1","2","3","4"],base:"/"===this.$appUri.BaseURL?"":this.$appUri.BaseURL,activeName:"worker",worker:[],listTask:[],listProgress:[],selectedDate:t,multipleSelection:[],listTaskToBuild:[],listTaskDone:[],ProjectlistTaskDone:[],listTaskNotDone:[],ProjectlistTaskNotDone:[],listTaskUnpredicted:[],ProjectlistTaskUnpredicted:[],listTaskNextDay:[],ProjectlistTaskNextDay:[],listReportSent:[],listReportReceived:[],loggedOnUser:JSON.parse(localStorage.getItem("LoggedOnUser")),listTaskDoneToSent:[],listTaskUnpredictedToSent:[],listTaskNotDoneToSent:[],listTaskNextDayToSent:[],dataListUser:[],dataLU:[],ListUserProgress:[],dataPr:[],viewModel:[],reload:!0,lastUserSearchRequest:{},lastGroupSearchRequest:{},selectedUser:"",DatePicker:new Date,start:"",end:"",nextStart:"",nextEnd:"",FieldsData:[],selectedProject:"",prName:"",isSystemAdmin:this.$isSystemAdmin(),isMantisAdmin:this.$isMantisAdmin(),searchType:"Day",tableHeader:{Index:"Mã",Name:"Tên công việc",StatusName:"Trạng thái",PlanManHour:"Ước tính",RemainingManHour:"Thực tế",PlanStartDate:"Ngày thực hiện",Deadline:"Ngày kết thúc",PriorityIdName:"Ưu tiên",TypeName:"Tính chất"},selectedTab:"",datetimeFormat:"DD/MM/YYYY",requestDatetimeFormat:"YYYY-MM-DDTHH:mm:ss",dateText:"TUẦN NÀY",nextdateText:"TUẦN SAU",viewModelGroup:[],userName:"",dayStart:"",dayEnd:"",selectedNextDate:"",tableHeight:7*window.innerHeight/10,fullHeight:window.innerHeight}},computed:{},methods:{loadSetting:function(){var t=this,e={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBase",R1_ParentCode:"xSystem.Setting.xTask.Status"};this.$Utils.post(e).then(function(e){t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting").map(function(e){t.statusColors[e.Id.toUpperCase()]=e.Color})});var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xEdu.TaskPriority",R1_Code:"TaskPriority"};this.$Utils.post(a).then(function(e){t.$Utils.getDataWithRoot(e.R1,"Data.DocumentDS.Document").map(function(e){t.priorityColors[e.Id.toUpperCase()]=e.Lead})})},handleSelectionChange:function(t){this.multipleSelection=t},toggleSelection:function(t){var e=this;this.multipleSelection.forEach(function(a){e.$refs[t].listTaskToSend.push(a)}),this.listTaskToBuild=this.$Lodash.difference(this.listTaskToBuild,this.multipleSelection)},deleteRow:function(t,e){e.splice(t,1),this.listTaskToBuild.push(t),this.$forceUpdate()},getSummaries:function(t){var e=t.columns,a=t.data,s=[];return e.forEach(function(t,e){if(0===e)return void(s[e]="Sum");var i=a.map(function(e){return Number(e[t.property])});i.every(function(t){return isNaN(t)})?s[e]="N/A":s[e]=i.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0)}),s},getReport:function(){var t=this,e=this.loggedOnUser.UserId,a={RequestAction:"SearchUser",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status;LoginName",StaticFields:"UserId;Status;LoginName;Username",DynamicFields:"Email;",Status:"1",UserId:e};this.$Utils.post(a).then(function(a){var s=t.$Utils.getDataWithRoot(a,"UserDS.User"),i=s[0].Email,o={RequestClass:"xBase",RequestAction:"Request",TotalRequests:2,R1_RequestTemplate:"SendMessage.Search",R1_Code:"DailyReport",R1_To:i,R1_RequestOrderFields:"Created DESC",R2_RequestTemplate:"SendMessage.Search",R2_Code:"DailyReport",R2_Sender:e,R2_RequestOrderFields:"Created DESC"};t.$Utils.post(o).then(function(e){t.listReportSent=t.$Utils.getDataWithRoot(e.R2,"Data.ConversationDS.Message"),t.listReportReceived=t.$Utils.getDataWithRoot(e.R1,"Data.ConversationDS.Message")})})},searchUserProgress:function(){var t=this,e=this;this.isMantisAdmin||this.isSystemAdmin||this.dataLU&&(this.dataLU=this.dataLU.filter(function(t){return t.UserId===localStorage.getItem("UserId")})),this.dataLU.forEach(function(a,s){var i=t.$Lodash.cloneDeep(t.$singleRequest);i.TotalRequests=2,i.RequestClass="xBase",i.RequestAction="Request",i.R1_RequestTemplate="AG_Task_Task.Count",i.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",i.R1_Status="53cc3819-c019-4749-b0e4-52213438049b;532e9f1e-f5dc-4e75-b7c9-2bd785bbda67",i.R1_PlanStartDateStartValue=t.start,i.R1_PlanStartDateEndValue=t.end,i.R1_AssignedUser=t.$getItemLocalStorage(t.$localStorageConstant.SessionId),i.R1_Project=""!==t.selectedProject?t.selectedProject:"",a&&(i.R1_Worker=a.UserId,i.R2_Worker=a.UserId),i.R2_RequestTemplate="AG_Task_Task.Count",i.R2_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",i.R2_PlanStartDateStartValue=t.start,i.R2_PlanStartDateEndValue=t.end,i.R2_AssignedUser=t.$getItemLocalStorage(t.$localStorageConstant.SessionId),i.R2_Project=""!==t.selectedProject?t.selectedProject:"",t.ListUserProgress=[],t.$Utils.postCheckResult(i).then(function(s){var i=t.$Utils.getDataWithRoot(s,"R1.Data"),o=t.$Utils.getDataWithRoot(s,"R2.Data");(e.$isSystemAdmin()||!e.$isSystemAdmin()&&"superadmin"!=a.LoginName.toLowerCase())&&t.ListUserProgress.push({name:a.Username,success:i[0],total:o[0],Avatar:t.loadAvatar(a.Avatar)})})})},loadAvatar:function(t){return void 0==t&&(t="assets/images/avatars/profile.png"),t=t.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===t?this.$appUri.BaseURL+t:this.$appUri.BaseURL+t.replace("/","")+"&Height=50&Width=50"},searchUserInGroup:function(t){var e=this,a={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status;LoginName;UserId;GroupId;",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;PhoneId;PhoneGroup;Public;RoleRoot;RoleRootName;GroupManage;Notification",OrderFields:"LoginName ASC",Status:1,SessionId:localStorage.getItem("SessionId")};this.selectedProject?a.GroupId=this.selectedProject:""===this.selectedProject?a.GroupId="":this.loggedOnUser.Project.GroupId?a.GroupId=this.loggedOnUser.Project.GroupId:a.GroupId="No Data",this.$Utils.post(a).then(function(a){e.dataListUser=e.$Utils.getDataWithRoot(a,"Data.UserDS.User");var s=e.$Lodash.cloneDeep(e.$singleRequest);s.RequestClass="BPM",s.RequestAction="SearchUsers",s.StaticFields="UserId;Username;LoginName",s.ConditionFields="Status",s.DynamicFields="Avatar",s.IncludedGroup=!0,s.Status=1,e.dataListUser.length>0?e.dataListUser.forEach(function(t,e){t&&(s.UserId+=";"+t.UserId)}):s.UserId="No data",e.$Utils.post(s).then(function(a){e.dataLU=e.$Utils.getDataWithRoot(a,"Data.UserDS.User"),e.$isSystemAdmin()&&(e.dataLU=e.dataLU.filter(function(t){return-1===t.Groups.indexOf(e.$administrator)})),t&&e.searchTask()})})},searchGroupOfUser:function(){var e=this;this.ListGroup="",t.each(this.loggedOnUser.Groups,function(t,a){e.ListGroup+=a.GroupId+";"});var a={RequestClass:"BPM",RequestAction:"SearchGroup",ConditionFields:"GroupType,Description",StaticFields:"GroupId;GroupName;Description;GroupParent;Status;GroupPath",StructFields:"ParentName",orderFields:"GroupName ASC",RequestDataType:"json",GroupId:this.ListGroup,GroupType:1};this.$Utils.post(a).then(function(t){e.dataPr=e.$Utils.getDataWithRoot(t,"UserDS.Group"),e.dataPr.unshift({GroupId:"",GroupName:"Tất cả"}),e.dataPr.forEach(function(t){t.GroupId===e.loggedOnUser.Project.GroupId&&(e.prName=t.GroupName,e.selectedProject=t.GroupId)})})},getAllFieldData:function(){var t=this;this.viewModel.selectedTab=0;var e=["Form","List","Filter"],a=this.$Lodash.cloneDeep(this.$singleRequest);a.R1_RequestTemplate="SettingNew.SearchSetting",a.R1_Id="4922c65f-4cf4-4e12-8529-40282ce794dc",e.forEach(function(t){a.TotalRequests++,a["R"+a.TotalRequests+"_RequestTemplate"]="SettingNew.SearchSetting",a["R"+a.TotalRequests+"_ParentCode"]="xSetting.Project."+t,a["R"+a.TotalRequests+"_Level"]="4",a["R"+a.TotalRequests+"_Name"]="DataGroup.danh-sach-cong-viec.04b66"}),this.$Utils.post(a).then(function(e){var a=t.$Utils.getDataWithRoot(e.R1,"Data.DynamicDS.Setting")[0];if(void 0!==a.Description){a.Description=JSON.parse(a.Description),t.viewModel.DataSource&&t.viewModel.DataSource.forEach(function(t){t.Name===a.Description.DataSource&&(a.Description.DataSource=t)}),a.Description.Fields="";for(var s=1;s<=a.Description.FCount;s++)void 0!==a["F"+s]&&(a.Description.Fields+=a["F"+s],delete a["F"+s]);a.Description.Fields=""!==a.Description.Fields?JSON.parse(a.Description.Fields):[],t.FieldsData=a.Description.Fields}})},searchTask:function(){var t=this,e="";switch(this.activeName){case"worker":e="Individual";break;case"project":this.reload=!1,e="Project";break;case"progress":e="Progress";break;case"createReport":case"manageReport":e="Individual"}if("Individual"===e||"Project"===e){var a=this.$Lodash.cloneDeep(this.$singleRequest);a.TotalRequests=4,a.RequestClass="xBase",a.RequestAction="Request","Individual"==e?""!==this.selectedUser?(a.R1_Worker=this.selectedUser,a.R2_Worker=this.selectedUser,a.R3_Worker=this.selectedUser,a.R4_Worker=this.selectedUser):this.isSystemAdmin||this.isMantisAdmin||(a.R1_Worker=localStorage.getItem("UserId"),a.R2_Worker=localStorage.getItem("UserId"),a.R3_Worker=localStorage.getItem("UserId"),a.R4_Worker=localStorage.getItem("UserId")):"Project"==e&&(this.selectedProject&&""!==this.selectedProject?(a.R1_Project=this.selectedProject,a.R2_Project=this.selectedProject,a.R3_Project=this.selectedProject,a.R4_Project=this.selectedProject):this.isSystemAdmin||this.isMantisAdmin||(a.R1_Project=this.loggedOnUser.Project.GroupId,a.R2_Project=this.loggedOnUser.Project.GroupId,a.R3_Project=this.loggedOnUser.Project.GroupId,a.R4_Project=this.loggedOnUser.Project.GroupId)),a.R1_RequestTemplate="AG_Task_Task.Search",a.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",a.R1_RequestFields=c,a.R1_PlanStartDateStartValue=this.start,a.R1_PlanStartDateEndValue=this.end,a.R1_UserField="Worker",a.R1_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),a.R1_Type="d6fe5391-72aa-4401-b80b-b5515fa9eda0",a.R1_RequestOrderFields="PlanStartDate ASC",a.R2_RequestTemplate="AG_Task_Task.Search",a.R2_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",a.R2_RequestFields=c,a.R2_PlanStartDateStartValue=this.start,a.R2_PlanStartDateEndValue=this.end,a.R2_UserField="Worker",a.R2_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),a.R2_Type="fc75703e-dd59-44cc-be3b-b0d09c43fe81",a.R2_RequestOrderFields="PlanStartDate ASC",a.R3_RequestTemplate="AG_Task_Task.Search",a.R3_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",a.R3_RequestFields=c,a.R3_PlanStartDateStartValue=this.start,a.R3_PlanStartDateEndValue=this.end,a.R3_UserField="Worker",a.R3_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),a.R3_Status="53cc3819-c019-4749-b0e4-52213438049b;532e9f1e-f5dc-4e75-b7c9-2bd785bbda67;",a.R3_RequestOrderFields="PlanStartDate ASC",a.R4_RequestTemplate="AG_Task_Task.Search",a.R4_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",a.R4_RequestFields=c,a.R4_PlanStartDateStartValue=this.nextStart,a.R4_PlanStartDateEndValue=this.nextEnd,a.R4_UserField="Worker",a.R4_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId),a.R4_RequestOrderFields="PlanStartDate ASC","Individual"===e?this.lastUserSearchRequest=a:this.lastGroupSearchRequest=a,this.$Utils.postCheckResult(a).then(function(a){"Individual"===e?(t.viewModel=[{Title:"Danh sách công việc đã lập KẾ HOẠCH ",dataSource:t.$Utils.getDataWithRoot(a,"R1.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc PHÁT SINH ",dataSource:t.$Utils.getDataWithRoot(a,"R2.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc đã HOÀN THÀNH ",dataSource:t.$Utils.getDataWithRoot(a,"R3.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc KẾ HOẠCH tiếp theo ",dataSource:t.$Utils.getDataWithRoot(a,"R4.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}}],t.listTaskDone=t.$Utils.getDataWithRoot(a,"R1.Data.TasksDS.Task"),t.listTaskUnpredicted=t.$Utils.getDataWithRoot(a,"R2.Data.TasksDS.Task"),t.listTaskNotDone=t.$Utils.getDataWithRoot(a,"R3.Data.TasksDS.Task"),t.listTaskNextDay=t.$Utils.getDataWithRoot(a,"R4.Data.TasksDS.Task"),t.listTaskToBuild=[],t.viewModel.forEach(function(e){e.dataSource.length>0&&e.dataSource.forEach(function(e){-1==i()(t.listTaskToBuild).indexOf(e.Id)&&t.listTaskToBuild.push(e)})}),t.$nextTick()):(t.viewModelGroup=[{Title:"Danh sách công việc đã lập KẾ HOẠCH ",dataSource:t.$Utils.getDataWithRoot(a,"R1.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc PHÁT SINH ",dataSource:t.$Utils.getDataWithRoot(a,"R2.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc đã HOÀN THÀNH ",dataSource:t.$Utils.getDataWithRoot(a,"R3.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc KẾ HOẠCH tiếp theo ",dataSource:t.$Utils.getDataWithRoot(a,"R4.Data.TasksDS.Task"),TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}}],t.ProjectlistTaskDone=t.$Utils.getDataWithRoot(a,"R1.Data.TasksDS.Task"),t.ProjectlistTaskUnpredicted=t.$Utils.getDataWithRoot(a,"R2.Data.TasksDS.Task"),t.ProjectlistTaskNotDone=t.$Utils.getDataWithRoot(a,"R3.Data.TasksDS.Task"),t.ProjectlistTaskNextDay=t.$Utils.getDataWithRoot(a,"R4.Data.TasksDS.Task"))})}else"Progress"===e&&this.searchUserProgress()},changeProject:function(t){var e=this;this.selectedProject=t,this.dataPr.forEach(function(t){t.GroupId===e.selectedProject&&(e.prName=t.GroupName)}),this.searchUserInGroup(!0)},saveAs:function(t,e){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,e);else{var a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e,a.click(),window.URL.revokeObjectURL(a.href)}},onExportData:function(e){var a=this,s=1,o=[],n="";if("Individual"===e||"Project"===e)for(var l=0;l<this.viewModel.length;l++)this.searchType,l<3?o.push(this.viewModel[l].Title+this.dateText):o.push(this.viewModel[l].Title+this.nextdateText);else if("Progress"===e)for(var l=0;l<this.dataLU.length;l++)o.push(this.dataLU[l].Username);t.each(this.tableHeader,function(t,e){n+=t+";"});var r=this.$Lodash.cloneDeep(this.$singleRequest);switch(e){case"Individual":r=this.lastUserSearchRequest,r.RequestClass="xBase",r.RequestAction="ExcelRequest",r.RequestHeader=i()(this.tableHeader),r.TableName=i()(o),r.ExportType=e,r.R1_RequestFields=n,r.R2_RequestFields=n,r.R3_RequestFields=n,r.R4_RequestFields=n;break;case"Project":r=this.lastGroupSearchRequest,r.RequestClass="xBase",r.RequestAction="ExcelRequest",r.RequestHeader=i()(this.tableHeader),r.TableName=i()(o),r.ExportType=e,r.R1_RequestFields=n,r.R2_RequestFields=n,r.R3_RequestFields=n,r.R4_RequestFields=n;break;case"Progress":r.TotalRequests=this.dataLU.length,r.RequestClass="xBase",r.RequestAction="ExcelRequest",r.RequestHeader=i()(this.tableHeader),r.TableName=i()(o),r.ExportType=e,this.dataLU.forEach(function(t,e){r["R"+s+"_RequestFields"]=n,r["R"+s+"_RequestTemplate"]="AG_Task_Task.Search",r["R"+s+"_RequestDataGroup"]="DataGroup.danh-sach-cong-viec.04b66",r["R"+s+"_Worker"]=t.UserId,r["R"+s+"_PlanStartDateStartValue"]=a.start,r["R"+s+"_PlanStartDateEndValue"]=a.end,r["R"+s+"_WorkerName"]=t.Username,r["R"+s+"_AssignedUser"]=a.$getItemLocalStorage(a.$localStorageConstant.SessionId),s++});break;default:console.log("Invalid request! Undefined request type!")}this.$Utils.postGetExcel(r).then(function(t){var s=new Blob([t],{type:"application/vnd.ms-excel"});switch(e){case"Individual":""===a.Username||void 0===a.Username?a.saveAs(s,"Báo cáo - "+a.loggedOnUser.Username+" - "+a.$Utils.formatDateTime(new Date,"DD-MM-YYYY")+".xls"):a.saveAs(s,"Báo cáo - "+a.Username+" - "+a.$Utils.formatDateTime(new Date,"DD-MM-YYYY")+".xls");break;case"Project":a.saveAs(s,"Báo cáo - "+a.prName+" - "+a.$Utils.formatDateTime(new Date,"DD-MM-YYYY")+".xls");break;case"Progress":a.saveAs(s,"Báo Cáo Tiến Độ - "+a.$Utils.formatDateTime(new Date,"DD-MM-YYYY")+".xls")}})},sendReport:function(t){var e;"Individual"===t?e=this.$Lodash.cloneDeep(this.viewModel):"Project"===t?e=this.$Lodash.cloneDeep(this.viewModelGroup):"Create"===t&&(e=[{Title:"Danh sách công việc đã lập KẾ HOẠCH ",dataSource:this.$refs.doneTable.listTaskToSend,TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc PHÁT SINH ",dataSource:this.listTaskUnpredictedToSent,TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc đã HOÀN THÀNH ",dataSource:this.listTaskNotDoneToSent,TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}},{Title:"Các công việc KẾ HOẠCH tiếp theo ",dataSource:this.listTaskNextDayToSent,TotalPlan:0,TotalActual:0,sum:function(t){this.TotalPlan=this.TotalPlan+parseFloat(t.PlanManHour),this.TotalActual=this.TotalActual+parseFloat(t.RemainingManHour)}}]),this.$hub.$emit("set-modal-data","Gửi báo cáo","70%",!0,"center",n.a,!1,"",e)},changeDateTextbyType:function(t){switch(t[2]){case"yesterday":this.nextStart=this.$Utils.getDateTimeByKey("DayStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("DayEnd",this.requestDatetimeFormat),this.dateText="HÔM QUA",this.nextdateText="HÔM NAY";break;case"today":this.nextStart=this.$Utils.getDateTimeByKey("DayNextStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("DayNextEnd",this.requestDatetimeFormat),this.dateText="HÔM NAY",this.nextdateText="NGÀY MAI";break;case"tomorrow":this.nextStart=this.$Utils.getDateTimeByKey("DayNextStart",this.requestDatetimeFormat,t[0]),this.nextEnd=this.$Utils.getDateTimeByKey("DayNextEnd",this.requestDatetimeFormat,t[1]),this.dateText="NGÀY MAI",this.nextdateText="NGÀY KIA";break;case"lastweek":this.nextStart=this.$Utils.getDateTimeByKey("WeekStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("WeekEnd",this.requestDatetimeFormat),this.dateText="TUẦN TRƯỚC",this.nextdateText="TUẦN NÀY";break;case"thisweek":this.nextStart=this.$Utils.getDateTimeByKey("WeekNextStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("WeekNextEnd",this.requestDatetimeFormat),this.dateText="TUẦN NÀY",this.nextdateText="TUẦN SAU";break;case"nextweek":this.nextStart=this.$Utils.getDateTimeByKey("Week2NextStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("Week2NextEnd",this.requestDatetimeFormat),this.dateText="TUẦN SAU",this.nextdateText="TUẦN TIẾP THEO";break;case"lastmonth":this.nextStart=this.$Utils.getDateTimeByKey("MonthStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("MonthEnd",this.requestDatetimeFormat),this.dateText="THÁNG TRƯỚC",this.nextdateText="THÁNG NÀY";break;case"thismonth":this.nextStart=this.$Utils.getDateTimeByKey("MonthNextStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("MonthNextEnd",this.requestDatetimeFormat),this.dateText="THÁNG NÀY",this.nextdateText="THÁNG SAU";break;case"nextmonth":this.nextStart=this.$Utils.getDateTimeByKey("Month2NextStart",this.requestDatetimeFormat),this.nextEnd=this.$Utils.getDateTimeByKey("Month2NextEnd",this.requestDatetimeFormat),this.dateText="THÁNG SAU",this.nextdateText="THÁNG TIẾP THEO"}}},created:function(){var t=this;this.$hub.$on("restore",function(e){t.listTaskToBuild.unshift(e)})},mounted:function(){var t=this;this.loggedOnUser.Project.GroupId?this.selectedProject=this.loggedOnUser.Project.GroupId:this.selectedProject="",this.$rootScope.dateFilter?(this.start=o.default.moment(this.$rootScope.dateFilter[0]).format("YYYY-MM-DD")+"T00:00:00",this.end=o.default.moment(this.$rootScope.dateFilter[1]).format("YYYY-MM-DD")+"T23:59:59",this.changeDateTextbyType(this.$rootScope.dateFilter)):(this.start=o.default.moment(this.DatePicker.setHours(0,0,0,0)).format(this.requestDatetimeFormat),this.end=o.default.moment(this.DatePicker.setHours(23,59,59,999)).format(this.requestDatetimeFormat),this.nextStart=o.default.moment(this.DatePicker.setHours(0,0,0,0)).add(1,"days").format(this.requestDatetimeFormat),this.nextEnd=o.default.moment(this.DatePicker.setHours(23,59,59,999)).add(1,"days").format(this.requestDatetimeFormat)),this.$rootScope.selectedWorkerId&&this.$rootScope.selectedWorkerId.forEach(function(e){t.selectedUser+=e+";"}),this.userName=this.loggedOnUser.Username,this.searchUserInGroup(),this.searchGroupOfUser(),this.$hub.$on("datePicked",function(e){var a=t.$Lodash.cloneDeep(e);t.start=o.default.moment(e[0]).format(t.requestDatetimeFormat),t.end=o.default.moment(e[1]).format(t.requestDatetimeFormat),t.dayStart=o.default.moment(e[0]).format(t.datetimeFormat),t.dayEnd=o.default.moment(e[1]).format(t.datetimeFormat),t.dayStart.toString()===t.dayEnd.toString()?(t.selectedDate=o.default.moment(t.start).format(t.datetimeFormat),t.dateText=t.selectedDate.toString(),t.nextStart=o.default.moment(t.start).add(1,"days").format(t.requestDatetimeFormat),t.nextEnd=o.default.moment(t.end).add(1,"days").format(t.requestDatetimeFormat)):(t.selectedDate=o.default.moment(t.start).format(t.datetimeFormat),t.selectedNextDate=o.default.moment(t.end).format(t.datetimeFormat),t.dateText=t.selectedDate.toString()+"-"+t.selectedNextDate.toString(),t.nextStart=o.default.moment(t.end).add(1,"days").format(t.requestDatetimeFormat),t.nextEnd=o.default.moment(t.end).add(1,"days").format(t.requestDatetimeFormat)),t.nextdateText=o.default.moment(t.nextStart).format(t.datetimeFormat).toString(),t.changeDateTextbyType(a[2]),"progress"===t.activeName?t.searchUserProgress():(t.searchTask(),t.getReport())}),this.$hub.$on("workerPicked",function(e){t.selectedUser="",t.userName="",e.length>0?(e.forEach(function(e){t.selectedUser+=e+";",t.dataLU.forEach(function(a){a.UserId===e&&(t.userName+=a.Username+",")})}),""===t.userName&&(t.userName="Tất cả nhân sự"),"worker"===t.activeName&&t.searchTask()):(t.userName=t.loggedOnUser.Username,t.searchTask())}),this.$hub.$on("groupPicked",function(e){t.changeProject(e)}),this.searchTask(),this.getReport()},watch:{}}}).call(e,a(2))},1169:function(t,e,a){"use strict";function s(t){a(1170)}var i=a(1172),o=a(1173),n=a(0),l=s,r=n(i.a,o.a,!1,l,"data-v-62dae545",null);e.a=r.exports},1170:function(t,e,a){var s=a(1171);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(932)("01dbf148",s,!0)},1171:function(t,e,a){e=t.exports=a(931)(!0),e.push([t.i,".fr-sticky-dummy[data-v-62dae545]{height:0!important}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm2/src/components/static/SendReport.vue"],names:[],mappings:"AACA,kCACE,kBAAuB,CACxB",file:"SendReport.vue",sourcesContent:["\n.fr-sticky-dummy[data-v-62dae545] {\n  height: 0px !important;\n}\n"],sourceRoot:""}])},1172:function(t,e,a){"use strict";(function(t){a(3);e.a={props:["data"],data:function(){var t=[],e={receiverEmail:t,ccEmail:"",emailTitle:"",emailBody:""};return{worker:[],config:this.$froOptions,innerVisible:!0,userImage:"",textarea:"",msg:"",msg1:!0,dataToPass:this.data,radio:"1",receiverEmail:t,ccEmail:"",emailTitle:"",emailBody:"",emailForm:e,dialogTableVisible:!1,dialogFormVisible:!1,senderEmail:"",loggedOnUser:JSON.parse(localStorage.getItem("LoggedOnUser")),base:"/"===this.$appUri.BaseURL?"":this.$appUri.BaseURL}},methods:{loadData:function(){var t=this,e={RequestAction:"SearchUser",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status;LoginName",StaticFields:"UserId;Status;LoginName;Username",DynamicFields:"Email;",Status:"1"};this.$Utils.post(e).then(function(e){var a=t.$Utils.getDataWithRoot(e,"UserDS.User");t.worker=a.filter(function(e){return t.$isSystemAdmin()||!t.$isSystemAdmin()&&"superadmin"!=e.LoginName.toLowerCase()}),t.senderEmail=t.loggedOnUser.Email});var a="",a="";this.dataToPass.forEach(function(e){a+="<p>"+e.Title+"</p>";var s='<table cellspacing="0" border="1"> <thead style="width:100% ;background-color:#434343; color:#fff;font-size: 14px;"><tr><th width="127">Mã</th><th width="792">Tên công việc</th><th width="97">Trạng thái</th><th width="80">Ước tính</th><th width="80">Thực tế</th><th width="135">Ngày thực hiện</th><th width="135">Ngày kết thúc</th><th width="80">Ưu tiên</th><th width="80">Tính chất</th></tr></thead>';s+="<tbody>",e.dataSource.length>0?e.dataSource.forEach(function(e){var a="";e&&(a="<tr><td>"+e.Index+"</td><td>"+e.Name+"</td><td>"+e.StatusName+"</td><td>"+e.PlanManHour+"</td><td>"+e.RemainingManHour+"</td><td>"+t.$Utils.formatDateTime(e.PlanStartDate,"DD-MM-YYYY")+"</td><td>"+t.$Utils.formatDateTime(e.Deadline,"DD-MM-YYYY")+"</td><td>"+e.PriorityIdName+"</td><td>"+e.TypeName+"</td></tr>",s+=a)}):s+="<tr><td> </td><td> </td><td> </td><td> </td><td>  </td><td> </td><td> </td><td> </td><td> </td></tr>";var i="<tr><td>&nbsp;</td><td>&nbsp;</td><td><strong>Tổng</strong></td><td><strong>"+e.TotalPlan+"</strong></td><td><strong>"+e.TotalActual+"</strong></td><td></td><td></td><td></td><td></td></tr>";s+=i,s+="</tbody></table>",a+=s}),a+="</br> </br></br></br>  ",a+="<p> ------------------------------</p><p>",a+="Người tạo </p><p>",a+=this.loggedOnUser.Username,a+="</p>";var s=this.$Lodash.cloneDeep(this.$singleRequest);s.R1_RequestTemplate="Setting.SearchBase",s.R1_Code="Notification.email-gui-bao-cao-ngay.08h82",this.$Utils.post(s).then(function(e){if(e){var s=t.$Utils.getDataWithRoot(e,"R1.Data.DynamicDS.Setting")[0];t.$Utils.isEmpty(s,"Description")&&(s.Description=JSON.parse(s.Description),t.emailTitle=s.Description.Title+" "+t.$Utils.formatDateTime(new Date,"DD-MM-YYYY"),t.emailBody=t.$Utils.decodeHtmlEntities(s.Description.Content))}t.$Utils.isEmpty(t.emailBody)?t.emailBody+=t.$Utils.decodeHtmlEntities(a):t.emailBody=t.$Utils.decodeHtmlEntities(a)})},closeForm:function(){this.$hub.$emit("close-modal")},SendMessage:function(){var t=this.ccEmail.replaceAll(",",";").replaceAll(" ","").split(";");if(0==this.receiverEmail.length||0==t)return void this.$Utils.showMessage("error","Phải chọn người nhận hoặc nhập email");this.receiverEmail=this.receiverEmail.concat();var e=this.receiverEmail.join(";"),a=this.$Lodash.cloneDeep(this.$singleRequest);a.RequestTemplate="SendMessage",a.R1_To=e,a.R1_Code="DailyReport",a.R1_Subject=this.emailTitle,a.R1_Body=this.$Utils.encodeHtmlEntities(this.emailBody),a.R1_Name="Email",a.R1_From=this.senderEmail,a.R1_State=2,a.R1_Date=this.$Utils.formatDateTime(),a.R1_Parent=this.loggedOnUser.UserId,a.R1_Sender=this.loggedOnUser.UserId,a.R1_SenderName=this.loggedOnUser.Username,a.R1_HasAttachment=null,this.$Utils.post(a).then(function(t){t.success&&this.closeForm()})}},created:function(){this.loadData()},mounted:function(){setTimeout(function(){t("a:contains('Unlicensed copy of the Froala Editor')").remove()},900)}}}).call(e,a(2))},1173:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",attrs:{model:t.emailForm,"label-position":"top"}},[a("el-form-item",{attrs:{label:"Người nhận"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Người nhận"},model:{value:t.receiverEmail,callback:function(e){t.receiverEmail=e},expression:"receiverEmail"}},t._l(t.worker,function(t){return a("el-option",{key:t.UserId,attrs:{label:t.Username,value:t.Email}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Hoặc email (cách nhau bằng dấu ;)"}},[a("el-input",{model:{value:t.ccEmail,callback:function(e){t.ccEmail=e},expression:"ccEmail"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Chủ đề"}},[a("el-input",{model:{value:t.emailTitle,callback:function(e){t.emailTitle=e},expression:"emailTitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Nội dung"}},[a("froala",{attrs:{tag:"textarea",config:t.config},model:{value:t.emailBody,callback:function(e){t.emailBody=e},expression:"emailBody"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.closeForm()}}},[t._v("Bỏ qua")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.SendMessage()}}},[t._v("Gửi")])],1)],1)},i=[],o={render:s,staticRenderFns:i};e.a=o},1174:function(t,e,a){"use strict";function s(t){a(1175)}var i=a(1177),o=a(1178),n=a(0),l=s,r=n(i.a,o.a,!1,l,"data-v-52f2c862",null);e.a=r.exports},1175:function(t,e,a){var s=a(1176);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(932)("52e1eb8a",s,!0)},1176:function(t,e,a){e=t.exports=a(931)(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"ReportTable.vue",sourceRoot:""}])},1177:function(t,e,a){"use strict";e.a={inject:["statusColors","priorityColors","taskDone"],props:["tblData","id","height","type"],data:function(){return{listTaskToSend:[]}},methods:{deleteRow:function(t,e){e.splice(t,1),this.$hub.$emit("restore",t)}},created:function(){this.listTaskToSend=this.tblData}}},1178:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","max-height":t.height,data:t.tblData,"empty-text":"Không có dữ liệu",height:"250"}},[a("el-table-column",{attrs:{prop:"Index",label:"Mã",width:"65"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"Tên công việc","min-width":"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"PlanManHour",label:"Ước tính"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Thao tác",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.row,t.listTaskToSend)}}},[t._v("\n        Xóa\n      ")])]}}])})],1)},i=[],o={render:s,staticRenderFns:i};e.a=o},1179:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dailyReport"},[a("el-row",{attrs:{gutter:20}},[a("el-main",[a("el-tabs",{on:{"tab-click":function(e){t.searchTask()}},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Theo nhân sự",name:"worker"}},[a("el-container",[a("el-header",[a("el-row",[a("el-col",{staticClass:"leftaligndiv",attrs:{xs:19,md:12}},[a("i",{staticClass:"el-icon-date"}),t._v(" "),a("span",[a("b",[t._v(t._s(t.userName)+": Báo cáo ngày "+t._s(t.dateText))])])]),t._v(" "),a("el-col",{staticClass:"rightaligndiv",attrs:{xs:5,md:12}},[t.$isMobileDevice?t._e():a("el-button",{on:{click:function(e){t.onExportData("Individual")}}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Xuất báo cáo")]),t._v(" "),a("i",{staticClass:"hidden-md-and-up fa fa-file-excel-o"})]),t._v(" "),a("el-button",{on:{click:function(e){t.sendReport("Individual")}}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Gửi báo cáo")]),t._v(" "),a("i",{staticClass:"hidden-md-and-up fa fa-send-o"})])],1)],1)],1),t._v(" "),a("el-main",[a("el-container",{attrs:{direction:"vertical"}},[a("el-row",[a("span",[a("b",[t._v(" Danh sách công việc đã lập KẾ HOẠCH "+t._s(this.dateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskDone",tblData:t.listTaskDone}})],1),t._v(" "),a("el-row",[a("span",[a("b",[t._v(" Các công việc PHÁT SINH "+t._s(this.dateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskUnpredicted",tblData:t.listTaskUnpredicted}})],1),t._v(" "),a("el-row",[a("span",[a("b",[t._v(" Các công việc đã HOÀN THÀNH "+t._s(this.dateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskNotDone",tblData:t.listTaskNotDone}})],1)],1),t._v(" "),a("hr"),t._v(" "),a("el-container",{attrs:{direction:"vertical"}},[a("el-row",[a("span",[a("b",[t._v("Các công việc KẾ HOẠCH "+t._s(this.nextdateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskNextDay",tblData:t.listTaskNextDay}})],1)],1)],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Theo phòng ban",name:"project"}},[a("el-container",[a("el-header",[a("el-row",[a("el-col",{staticClass:"leftaligndiv",attrs:{xs:14,md:12}},[a("i",{staticClass:"el-icon-date"}),t._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[a("b",[t._v(t._s(t.prName)+" ngày "+t._s(t.dateText))])])]),t._v(" "),a("el-col",{staticClass:"rightaligndiv",attrs:{xs:10,md:12}},[t.$isMobileDevice?a("el-select",{attrs:{clearable:"",placeholder:"Phong Ban"},on:{change:function(e){t.changeProject(t.selectedProject)}},model:{value:t.selectedProject,callback:function(e){t.selectedProject=e},expression:"selectedProject"}},t._l(t.dataPr,function(t){return a("el-option",{key:t.GroupId,attrs:{label:t.GroupName,value:t.GroupId}})})):t._e(),t._v(" "),t.$isMobileDevice?t._e():a("el-button",{on:{click:function(e){t.onExportData("Project")}}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Xuất báo cáo")]),t._v(" "),a("i",{staticClass:"hidden-md-and-up fa fa-file-excel-o"})]),t._v(" "),a("el-button",{on:{click:function(e){t.sendReport("Project")}}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Gửi báo cáo")]),t._v(" "),a("i",{staticClass:"hidden-md-and-up fa fa-send-o"})])],1)],1)],1),t._v(" "),a("el-main",[a("el-container",{staticStyle:{border:"1px solid black",padding:"10px"},attrs:{direction:"vertical"}},[a("el-row",[a("span",[a("b",[t._v(" Danh sách công việc đã lập KẾ HOẠCH "+t._s(this.dateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskDone",tblData:t.ProjectlistTaskDone}})],1),t._v(" "),a("el-row",[a("span",[a("b",[t._v(" Các công việc PHÁT SINH "+t._s(this.dateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskUnpredicted",tblData:t.ProjectlistTaskUnpredicted}})],1),t._v(" "),a("el-row",[a("span",[a("b",[t._v(" Các công việc đã HOÀN THÀNH "+t._s(this.dateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskNotDone",tblData:t.ProjectlistTaskNotDone}})],1)],1),t._v(" "),a("el-container",{staticStyle:{border:"1px solid black",padding:"10px","margin-top":"10px"},attrs:{direction:"vertical"}},[a("el-row",[a("span",[a("b",[t._v("Các công việc KẾ HOẠCH "+t._s(this.nextdateText))])])]),t._v(" "),a("el-row",[a("DailyTable",{attrs:{id:"listTaskNextDay",tblData:t.ProjectlistTaskNextDay}})],1)],1)],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Theo tiến độ",name:"progress"}},[a("el-container",[a("el-header",[a("el-row",[a("el-col",{staticClass:"leftaligndiv",attrs:{xs:14,md:12}},[a("i",{staticClass:"el-icon-date"}),t._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[a("b",[t._v("Tiến độ công việc Ngày "+t._s(t.dateText))])])]),t._v(" "),a("el-col",{staticClass:"rightaligndiv",attrs:{xs:10,md:12}},[t.$isMobileDevice?a("el-select",{attrs:{clearable:"",placeholder:"Phòng Ban"},on:{change:function(e){t.changeProject(t.selectedProject)}},model:{value:t.selectedProject,callback:function(e){t.selectedProject=e},expression:"selectedProject"}},t._l(t.dataPr,function(t){return a("el-option",{key:t.GroupId,attrs:{label:t.GroupName,value:t.GroupId}})})):t._e(),t._v(" "),t.$isMobileDevice?t._e():a("el-button",{on:{click:function(e){t.onExportData("Progress")}}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Xuất báo cáo")]),t._v(" "),a("i",{staticClass:"hidden-md-and-up fa fa-file-excel-o"})])],1)],1)],1),t._v(" "),a("el-main",[a("el-container",{attrs:{direction:"vertical"}},t._l(t.ListUserProgress,function(e){return a("el-row",{key:e.Id,staticClass:"parentTable",staticStyle:{width:"100%"}},[a("el-col",{staticClass:"cellTable",attrs:{xs:4,md:2}},[a("div",{staticClass:"content"},[a("img",{staticClass:"round-image",attrs:{src:e.Avatar}})])]),t._v(" "),a("el-col",{staticClass:"cellTable",attrs:{xs:8,md:4}},[a("div",{staticClass:"content"},[a("label",[t._v(t._s(e.name))])])]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.$isMobileDevice,expression:"!$isMobileDevice"}],staticClass:"rightaligndiv cellTable",attrs:{xs:2,md:1}},[a("div",{staticClass:"content"},[a("label",[t._v(t._s(e.success)+"/"+t._s(e.total))])])]),t._v(" "),a("el-col",{staticClass:"cellTable",attrs:{xs:12,md:14}},[a("div",{staticClass:"content"},[a("el-progress",{attrs:{"text-inside":!0,status:"success",percentage:0!==parseFloat(e.total)?Math.round(100*e.success/e.total):0}})],1)])],1)}))],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Tạo báo cáo",name:"createReport"}},[a("el-container",[a("el-header",[a("el-row",[a("el-col",{staticClass:"leftaligndiv",attrs:{xs:19,md:12}},[a("i",{staticClass:"el-icon-date"}),t._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[a("b",[t._v("Tạo Báo Cáo")])])]),t._v(" "),a("el-col",{staticClass:"rightaligndiv",attrs:{xs:5,md:12}},[a("el-button",{on:{click:function(e){t.sendReport("Create")}}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("Gửi báo cáo")]),t._v(" "),a("i",{staticClass:"hidden-md-and-up fa fa-send-o"})])],1)],1)],1),t._v(" "),a("el-main",[a("el-row",[a("el-col",{attrs:{xs:24,md:12}},[a("el-row",[a("span",[a("b",[a("u",[t._v("Danh sách công việc")])])])]),t._v(" "),a("el-row",{staticStyle:{width:"100%"}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.listTaskToBuild,"max-height":t.fullHeight,"empty-text":"Không có dữ liệu"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"Mã",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:"color:red;text-decoration:"+(t.taskDone.indexOf(e.row.Status)>-1?"line-through":"")},[t._v("\n                         "+t._s(e.row.Index)+"\n                         ")]),t._v(" "),e.row.PriorityId?a("i",{class:"fa "+t.listPriority[e.row.PriorityId].Value+" pl-2"}):t._e(),t._v(" "),e.row.Status?a("i",{staticClass:"fa fa-square",style:"color:"+t.statusColors[e.row.Status.toUpperCase()]}):t._e(),t._v(" "),t.$isMobileDevice?a("i",{staticClass:"fa fa-clock-o",style:"color:"+(parseFloat(t.overHours(e.row)+"")<0?"red":"blue")}):t._e(),t._v(" "),e.row.TotalDownload?a("i",{staticClass:"fa fa-paperclip"},[t._v(t._s(e.row.TotalDownload))]):t._e(),t._v(" "),e.row.TotalComment?a("i",{staticClass:"fa fa-comments-o"},[t._v(t._s(e.row.TotalComment))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Tên công việc","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:"text-decoration:"+(t.taskDone.indexOf(e.row.Status)>-1?"line-through":"")},[t._v("\n                             "+t._s(e.row.Name)+"\n                          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"PlanManHour",label:"Ước tính"}}),t._v(" "),a("el-table-column",{attrs:{label:"Ngày thực hiện"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.$Utils.formatDateTime(e.row.PlanStartDate,"DD/MM/YYYY HH:mm"))+" ")])]}}])})],1)],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,md:12}},[a("el-row",{staticStyle:{width:"100%",padding:"10px"}},[a("el-col",{attrs:{span:24}},[a("el-collapse",{model:{value:t.activeCollapse,callback:function(e){t.activeCollapse=e},expression:"activeCollapse"}},[a("el-row",[a("el-col",{staticClass:"toggleButton",attrs:{span:1}},[a("el-button",{attrs:{type:"primary",icon:"fa fa-chevron-right"},on:{click:function(e){t.toggleSelection("doneTable")}}})],1),t._v(" "),a("el-col",{attrs:{span:23}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("span",[a("b",[t._v("Công việc hoàn thành")])])]),t._v(" "),a("ReportTable",{ref:"doneTable",attrs:{height:t.tableHeight,tblData:t.ProjectlistTaskNextDay,type:"doneTable"}})],2)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"toggleButton",attrs:{span:1}},[a("el-button",{attrs:{type:"primary",icon:"fa fa-chevron-right"},on:{click:function(e){t.toggleSelection("unpredictedTable")}}})],1),t._v(" "),a("el-col",{attrs:{span:23}},[a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("span",[a("b",[t._v("Công việc phát sinh")])])]),t._v(" "),a("ReportTable",{ref:"unpredictedTable",attrs:{height:t.tableHeight,tblData:t.listTaskUnpredictedToSent,type:"unpredictedTable"}})],2)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"toggleButton",attrs:{span:1}},[a("el-button",{attrs:{type:"primary",icon:"fa fa-chevron-right"},on:{click:function(e){t.toggleSelection("notdoneTable")}}})],1),t._v(" "),a("el-col",{attrs:{span:23}},[a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("span",[a("b",[t._v("Công việc chưa hoàn thành")])])]),t._v(" "),a("ReportTable",{ref:"notdoneTable",attrs:{height:t.tableHeight,tblData:t.listTaskNotDoneToSent,type:"notdoneTable"}})],2)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"toggleButton",attrs:{span:1}},[a("el-button",{attrs:{type:"primary",icon:"fa fa-chevron-right"},on:{click:function(e){t.toggleSelection("nextdayTable")}}})],1),t._v(" "),a("el-col",{attrs:{span:23}},[a("el-collapse-item",{attrs:{name:"4"}},[a("template",{slot:"title"},[a("span",[a("b",[t._v("Công việc ngày tiếp theo")])])]),t._v(" "),a("ReportTable",{ref:"nextdayTable",attrs:{height:t.tableHeight,tblData:t.listTaskNextDayToSent,type:"nextdayTable"}})],2)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"Quản lý báo cáo",name:"manageReport"}},[a("el-container",[a("el-header",[a("el-row",[a("el-col",{staticClass:"leftaligndiv",attrs:{span:24}},[a("i",{staticClass:"el-icon-date"}),t._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[a("b",[t._v("Danh sách báo cáo")])])])],1)],1),t._v(" "),a("el-main",[a("el-container",{attrs:{direction:"vertical"}},[a("el-row",[a("span",[a("b",[t._v("Danh sách báo cáo đã gửi")])])]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.listReportSent,"empty-text":"Không có dữ liệu",height:"250"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Subject",label:"Tiêu đề",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"To",label:"Tới"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Cc",label:"Cc"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SenderName",label:"Người gửi"}}),t._v(" "),a("el-table-column",{attrs:{label:"Ngày gửi"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(t.$Utils.formatDateTime(e.row.Date,"DD/MM/YYYY HH:mm"))+" ")])]}}])})],1)],1),t._v(" "),a("el-row",[a("span",[a("b",[t._v("Danh sách báo cáo đã nhận")])])]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.listReportReceived,"empty-text":"Không có dữ liệu",height:"250"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Subject",label:"Tiêu đề",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"To",label:"Tới"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Cc",label:"Cc"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SenderName",label:"Người gửi"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Date",label:"Ngày gửi"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},i=[],o={render:s,staticRenderFns:i};e.a=o},956:function(t,e,a){"use strict";function s(t){a(1166)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(1168),o=a(1179),n=a(0),l=s,r=n(i.a,o.a,!1,l,null,null);e.default=r.exports},967:function(t,e,a){!function(e,a){t.exports=a()}(0,function(){return function(t){function e(s){if(a[s])return a[s].exports;var i=a[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=0)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=e.dragscroll={init:function(t,e){var a=void 0,s=void 0,i=function(){var i=void 0,o=void 0,n=void 0;t.addEventListener("mousedown",t.md=function(a){var s="nochilddrag"===e.arg,l="firstchilddrag"===e.arg,r=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)===t,c=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)===t.firstChild,d=function(t){n=1,i=t.clientX,o=t.clientY,t.preventDefault()};s?r&&d(a):l?(r||c)&&d(a):d(a)},0),window.addEventListener("mouseup",t.mu=function(){n=0},0),window.addEventListener("mousemove",t.mm=function(l){n&&(e.modifiers.x?(t.scrollLeft-=a=-i+(i=l.clientX),t===document.body&&(t.scrollLeft-=a)):e.modifiers.y?(t.scrollTop-=s=-o+(o=l.clientY),t===document.body&&(t.scrollTop-=s)):(t.scrollLeft-=a=-i+(i=l.clientX),t.scrollTop-=s=-o+(o=l.clientY),t===document.body&&(t.scrollLeft-=a,t.scrollTop-=s)))},0)};void 0===e.value||!0===e.value?"complete"===document.readyState?i():window.addEventListener("load",i,0):(e.value&&console.error("The passed value should be either 'undefined', 'true' or 'false'."),t.removeEventListener("mousedown",t.md,0),window.removeEventListener("mouseup",t.mu,0),window.removeEventListener("mousemove",t.mm,0))},bind:function(t,e,a){e.def.init(t,e)},update:function(t,e,a,s){e.value!==e.oldValue&&e.def.init(t,e)},unbind:function(t,e,a){t.removeEventListener("mousedown",t.md,0),window.removeEventListener("mouseup",t.mu,0),window.removeEventListener("mousemove",t.mm,0)}},i={install:function(t,e){t.directive("dragscroll",s)}};"undefined"!=typeof window&&window.Vue&&(window.VueDragscroll=i,window.Vue.use(i)),e.default=i}])})},986:function(t,e,a){"use strict";function s(t){a(1018)}var i=a(1020),o=a(1021),n=a(0),l=s,r=n(i.a,o.a,!1,l,null,null);e.a=r.exports}});
//# sourceMappingURL=6.4eb669cd393ac24ae6da.js.map