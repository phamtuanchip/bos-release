webpackJsonp([3,9,25],{1019:function(e,t,a){var n=a(1020);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(937)("0e899e52",n,!0)},1020:function(e,t,a){t=e.exports=a(936)(!0),t.push([e.i,".timeline-page .red-badge{color:red}.timeline-page .red-badge .el-badge__content{background-color:red;color:#fff}.timeline-page .el-badge__content{background-color:#ececec;color:#000}.timeline-page .hr{margin-top:10px;padding-top:10px;border-top:1px dashed #000}.timeline-page .hr .row{float:right}.timeline-page .chkbx{margin:0}.timeline-page .sidenav{height:100%;width:0;position:fixed;z-index:1;top:50;right:0;background-color:#fff;overflow-x:hidden;padding-top:30px;-webkit-transition:.5s;transition:.5s}.timeline-page .sidenav a{text-decoration:none;font-size:25px;color:#818181;display:block;-webkit-transition:.3s;transition:.3s}.timeline-page .menuTab{padding-left:5px}.timeline-page .sidenav a:hover{color:#f1f1f1}.timeline-page .sidenav .closebtn{position:absolute;top:0;right:10px;font-size:25px;margin-left:50px}.timeline-page #main{-webkit-transition:margin-left .5s;transition:margin-left .5s;padding:20px}.timeline-page #main .el-select{padding-bottom:10px}@media screen and (max-height:450px){.timeline-page .sidenav{padding-top:15px}.timeline-page .sidenav a{font-size:18px}}@media screen and (max-width:768px){.timeline-page .el-date-range-picker{overflow:auto!important;width:100%!important}}.timeline-page .left-scroll{max-height:83vh;overflow-y:scroll}.timeline-page .right-scroll{max-height:54vh;overflow-y:scroll}@media screen and (max-width:1366px){.timeline-page .left-scroll{max-height:79vh;overflow-y:scroll}.timeline-page .right-scroll{max-height:49vh;overflow-y:scroll}}@media screen and (max-width:1366px) and (max-width:375px){.timeline-page .left-scroll{max-height:77vh;overflow-y:scroll}}.timeline-page .pd-right-10{padding-right:10px}.timeline-page .padding-0{padding:0!important}.timeline-page .b-600{font-weight:600}.timeline-page body{font-size:13px}.timeline-page .span-block-border{text-align:center;width:60%;display:inline-block}.timeline-page .span-block-border span{margin:auto}.timeline-page .span-block-border .el-progress-bar__inner,.timeline-page .span-block-border .el-progress-bar__outer{border-radius:0}.timeline-page .el-progress-bar__innerText{color:#0b0e0f}.timeline-page .el-card__body{padding:5px 14px 5px 5px!important}.timeline-page .center-div{margin-left:auto;margin-right:auto;text-align:center;width:auto}.timeline-page .status .el-main{margin-bottom:10px}.timeline-page .rightaligndiv{padding-right:5px}.timeline-page .el-card{margin-bottom:5px;width:100%;overflow:visible}.timeline-page .round-image{border-radius:50%;max-height:50px;display:block;margin:auto}.timeline-page .target-header{font-size:16px}.timeline-page .el-container{color:#333;padding-top:5px}.timeline-page .el-main{padding:0}.timeline-page .el-main .el-container{padding:5px}.timeline-page .el-checkbox__label{margin-right:5px}.timeline-page .el-header{padding-top:5px;height:32px!important;line-height:27px;font-size:16px;background-color:#f0f3f5;border:1px solid #c2cfd6}.timeline-page .el-header .rightaligndiv{text-align:right}@media screen and (max-width:599px){.timeline-page .container-fluid{padding:0 5px!important}.timeline-page .timeline-page .el-header{height:32px!important}}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm3/src/components/Timeline.vue"],names:[],mappings:"AASA,0BACI,SAAW,CACd,AACD,6CACM,qBAAsB,AACtB,UAAa,CAClB,AACD,kCACI,yBAA0B,AAC1B,UAAa,CAChB,AACD,mBACI,gBAAiB,AACjB,iBAAkB,AAClB,0BAA6B,CAChC,AACD,wBACM,WAAa,CAClB,AACD,sBACI,QAAY,CACf,AACD,wBACI,YAAa,AAEb,QAAS,AAET,eAAgB,AAEhB,UAAW,AAEX,OAAQ,AAER,QAAS,AACT,sBAAwB,AAExB,kBAAmB,AAEnB,iBAAkB,AAElB,uBAAyB,AACzB,cAAiB,CAEpB,AACD,0BACI,qBAAsB,AACtB,eAAgB,AAChB,cAAe,AACf,cAAe,AACf,uBAAyB,AACzB,cAAiB,CACpB,AACD,wBACI,gBAAkB,CACrB,AACD,gCACI,aAAe,CAClB,AACD,kCACI,kBAAmB,AACnB,MAAO,AACP,WAAY,AACZ,eAAgB,AAChB,gBAAkB,CACrB,AACD,qBACI,mCAAqC,AACrC,2BAA6B,AAC7B,YAAc,CACjB,AACD,gCACM,mBAAqB,CAC1B,AACD,qCACA,wBACM,gBAAkB,CACvB,AACD,0BACM,cAAgB,CACrB,CACA,AACD,oCACA,qCACM,wBAA0B,AAC1B,oBAAuB,CAC5B,CACA,AACD,4BACI,gBAAiB,AACjB,iBAAmB,CACtB,AACD,6BACI,gBAAiB,AACjB,iBAAmB,CACtB,AACD,qCACA,4BACM,gBAAiB,AACjB,iBAAmB,CACxB,AACD,6BACM,gBAAiB,AACjB,iBAAmB,CACxB,CACA,AACD,2DACA,4BACI,gBAAiB,AACjB,iBAAmB,CACtB,CACA,AACD,4BACI,kBAAoB,CACvB,AACD,0BACI,mBAAsB,CACzB,AACD,sBACI,eAAiB,CACpB,AACD,oBACI,cAAgB,CACnB,AACD,kCACI,kBAAmB,AACnB,UAAW,AACX,oBAAsB,CACzB,AACD,uCACM,WAAa,CAClB,AACD,oHAEM,eAAmB,CACxB,AACD,2CACI,aAAe,CAClB,AACD,8BACI,kCAAqC,CACxC,AACD,2BACI,iBAAkB,AAClB,kBAAmB,AACnB,kBAAmB,AACnB,UAAY,CACf,AACD,gCACI,kBAAoB,CACvB,AACD,8BACI,iBAAmB,CACtB,AACD,wBACI,kBAAmB,AACnB,WAAY,AACZ,gBAAkB,CACrB,AACD,4BACI,kBAAmB,AACnB,gBAAiB,AACjB,cAAe,AACf,WAAa,CAChB,AACD,8BACI,cAAgB,CACnB,AACD,6BACI,WAAY,AACZ,eAAiB,CACpB,AACD,wBACI,SAAa,CAChB,AACD,sCACM,WAAa,CAClB,AACD,mCACI,gBAAkB,CACrB,AACD,0BACI,gBAAiB,AACjB,sBAAwB,AACxB,iBAAkB,AAClB,eAAgB,AAChB,yBAA0B,AAC1B,wBAA0B,CAC7B,AACD,yCACM,gBAAkB,CACvB,AACD,oCACA,gCACM,uBAA4B,CACjC,AACD,yCACM,qBAAwB,CAC7B,CACA",file:"Timeline.vue",sourcesContent:["\n.timeline-page {\n  /* The side navigation menu */\n  /* The navigation menu links */\n  /* When you mouse over the navigation links, change their color */\n  /* Position and style the close button (top right corner) */\n  /* Style page content - use this if you want to push the page content to the right when you open the side navigation */\n  /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */\n}\n.timeline-page .red-badge {\n    color: red;\n}\n.timeline-page .red-badge .el-badge__content {\n      background-color: red;\n      color: white;\n}\n.timeline-page .el-badge__content {\n    background-color: #ececec;\n    color: black;\n}\n.timeline-page .hr {\n    margin-top: 10px;\n    padding-top: 10px;\n    border-top: 1px dashed black;\n}\n.timeline-page .hr .row {\n      float: right;\n}\n.timeline-page .chkbx {\n    margin: 0px;\n}\n.timeline-page .sidenav {\n    height: 100%;\n    /* 100% Full-height */\n    width: 0;\n    /* 0 width - change this with JavaScript */\n    position: fixed;\n    /* Stay in place */\n    z-index: 1;\n    /* Stay on top */\n    top: 50;\n    /* Stay at the top */\n    right: 0;\n    background-color: white;\n    /* Black*/\n    overflow-x: hidden;\n    /* Disable horizontal scroll */\n    padding-top: 30px;\n    /* Place content 60px from the top */\n    -webkit-transition: 0.5s;\n    transition: 0.5s;\n    /* 0.5 second transition effect to slide in the sidenav */\n}\n.timeline-page .sidenav a {\n    text-decoration: none;\n    font-size: 25px;\n    color: #818181;\n    display: block;\n    -webkit-transition: 0.3s;\n    transition: 0.3s;\n}\n.timeline-page .menuTab {\n    padding-left: 5px;\n}\n.timeline-page .sidenav a:hover {\n    color: #f1f1f1;\n}\n.timeline-page .sidenav .closebtn {\n    position: absolute;\n    top: 0;\n    right: 10px;\n    font-size: 25px;\n    margin-left: 50px;\n}\n.timeline-page #main {\n    -webkit-transition: margin-left 0.5s;\n    transition: margin-left 0.5s;\n    padding: 20px;\n}\n.timeline-page #main .el-select {\n      padding-bottom: 10px;\n}\n@media screen and (max-height: 450px) {\n.timeline-page .sidenav {\n      padding-top: 15px;\n}\n.timeline-page .sidenav a {\n      font-size: 18px;\n}\n}\n@media screen and (max-width: 768px) {\n.timeline-page .el-date-range-picker {\n      overflow: auto !important;\n      width: 100% !important;\n}\n}\n.timeline-page .left-scroll {\n    max-height: 83vh;\n    overflow-y: scroll;\n}\n.timeline-page .right-scroll {\n    max-height: 54vh;\n    overflow-y: scroll;\n}\n@media screen and (max-width: 1366px) {\n.timeline-page .left-scroll {\n      max-height: 79vh;\n      overflow-y: scroll;\n}\n.timeline-page .right-scroll {\n      max-height: 49vh;\n      overflow-y: scroll;\n}\n}\n@media screen and (max-width: 1366px) and (max-width: 375px) {\n.timeline-page .left-scroll {\n    max-height: 77vh;\n    overflow-y: scroll;\n}\n}\n.timeline-page .pd-right-10 {\n    padding-right: 10px;\n}\n.timeline-page .padding-0 {\n    padding: 0 !important;\n}\n.timeline-page .b-600 {\n    font-weight: 600;\n}\n.timeline-page body {\n    font-size: 13px;\n}\n.timeline-page .span-block-border {\n    text-align: center;\n    width: 60%;\n    display: inline-block;\n}\n.timeline-page .span-block-border span {\n      margin: auto;\n}\n.timeline-page .span-block-border .el-progress-bar__outer,\n    .timeline-page .span-block-border .el-progress-bar__inner {\n      border-radius: 0px;\n}\n.timeline-page .el-progress-bar__innerText {\n    color: #0b0e0f;\n}\n.timeline-page .el-card__body {\n    padding: 5px 14px 5px 5px !important;\n}\n.timeline-page .center-div {\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    width: auto;\n}\n.timeline-page .status .el-main {\n    margin-bottom: 10px;\n}\n.timeline-page .rightaligndiv {\n    padding-right: 5px;\n}\n.timeline-page .el-card {\n    margin-bottom: 5px;\n    width: 100%;\n    overflow: visible;\n}\n.timeline-page .round-image {\n    border-radius: 50%;\n    max-height: 50px;\n    display: block;\n    margin: auto;\n}\n.timeline-page .target-header {\n    font-size: 16px;\n}\n.timeline-page .el-container {\n    color: #333;\n    padding-top: 5px;\n}\n.timeline-page .el-main {\n    padding: 0px;\n}\n.timeline-page .el-main .el-container {\n      padding: 5px;\n}\n.timeline-page .el-checkbox__label {\n    margin-right: 5px;\n}\n.timeline-page .el-header {\n    padding-top: 5px;\n    height: 32px !important;\n    line-height: 27px;\n    font-size: 16px;\n    background-color: #f0f3f5;\n    border: 1px solid #c2cfd6;\n}\n.timeline-page .el-header .rightaligndiv {\n      text-align: right;\n}\n@media screen and (max-width: 599px) {\n.timeline-page .container-fluid {\n      padding: 0px 5px !important;\n}\n.timeline-page .timeline-page .el-header {\n      height: 32px !important;\n}\n}\n"],sourceRoot:""}])},1021:function(e,t,a){"use strict";(function(e){var n=a(104),i=a.n(n),r=a(3),o=a(292),s=a.n(o),l=a(103);r.default.use(s.a),t.a={inject:["statusColors","priorityColors","taskDone","overHours","listStatus","loggedUser","SessionId","totalView"],props:["default","sidebar"],data:function(){return{dateVal:null,selectedStatus:"",listStatuscount:[],ListStatus:[],ListTimeStatus:[],Total:0,listTargetDetail:[],timeline:[],startIndex:0,endIndex:20,datenow:new Date,start:"",end:"",datetimeFormat:"DD-MM-YYYY",requestDatetimeFormat:"YYYY-MM-DDThh:mm:ss",ListType:[{Id:"1",Name:"Mục tiêu công ty"},{Id:"2",Name:"Mục tiêu phòng ban"},{Id:"3",Name:"Mục tiêu cá nhân"}],loggedOnUser:JSON.parse(localStorage.getItem("LoggedOnUser")),loadingUp:!1,loadingDown:!1,dataLU:[],dataListUser:[],isSystemAdmin:this.$isSystemAdmin(),isMantisAdmin:this.$isMantisAdmin(),base:"/"===this.$appUri.BaseURL?"":this.$appUri.BaseURL,listAvatar:{},selectedWorker:"",dataPr:[],ListGroup:[],selectedProject:"",deadlineCheckbox:!1,overdateCheckbox:!1}},computed:{dateValString:function(){return null==this.dateVal?this.$rootScope.dateFilter:[r.default.moment(this.dateVal[0]).format("YYYY-MM-DD")+"T00:00:00",r.default.moment(this.dateVal[1]).format("YYYY-MM-DD")+"T23:59:59"]},overDueTask:function(){var e=this,t=this.$isSystemAdmin||this.$isMantisAdmin,a=this.timeline.filter(function(a){return-1==e.taskDone.indexOf(a.Status)&&e.$Utils.formatDateTime(a.Deadline,"DD/MM/YYYY")==e.$Utils.formatDateTime(new Date,"DD/MM/YYYY")&&(t||a.Worker.toUpperCase()==e.loggedOnUser.Id.toUpperCase())}),n=this.timeline.filter(function(a){return-1==e.taskDone.indexOf(a.Status)&&parseFloat(a.overHours+"")<0&&(t||a.Worker.toUpperCase()==e.loggedOnUser.Id.toUpperCase())});return[{Name:"Đến hạn",Count:a.length,Percentage:a.length>0?Math.round(100*a.length/this.timeline.length)>100?100:Math.round(100*a.length/this.timeline.length):0,Color:"Yellow"},{Name:"Quá hạn",Count:n.length,Percentage:n.length>0?Math.round(100*n.length/this.timeline.length)>100?100:Math.round(100*n.length/this.timeline.length):0,Color:"Red"}]}},methods:{beautifyTarget:function(e,t,a){var n=e&&""!=e?e+";":"";return n+=t&&""!=t?t+";":"",n+=a&&""!=a?a+";":"",""==n?"---":n},changeDeadlineCheckBox:function(){!0===this.overdateCheckbox&&(this.overdateCheckbox=!1),this.closeNav(),this.loadTask()},changeOverdateCheckBox:function(){!0===this.deadlineCheckbox&&(this.deadlineCheckbox=!1),this.closeNav(),this.loadTask()},openFilter:function(){document.getElementById("mySidenav").style.width="210px"},closeNav:function(){document.getElementById("mySidenav").style.width="0"},openTaskDetail:function(e){this.$router.push("/dynamic/view/Index="+e)},getDayAgo:function(e){if(void 0!=e){if(this.$Utils.formatDateTime(Date.Now,"DD/MM/YYYY")===this.$Utils.formatDateTime(e,"DD/MM/YYYY")){var t=new Date,a=new Date(e),n=t-a;return Math.round(n/60/60/1e3)>0?Math.round(n/60/60/1e3)+" giờ trước ":Math.round(n/60/1e3)<=0?"Vừa xong":Math.round(n/60/1e3)+" phút trước"}return Math.round(Math.abs((new Date-new Date(e))/864e5))+" ngày trước"}return""},changeProject:function(e){this.selectedProject=e,this.startIndex=0,this.endIndex=20,this.closeNav(),this.loadTask()},searchGroupOfUser:function(){var e=this,t=this.$Lodash.cloneDeep(this.$singleRequest);t.R1_RequestTemplate="tblGroup.Search",t.R1_RequestDataGroup="DataGroup.quan-ly-du-an.053gf",t.R1_RequestFields="GroupId;GroupName;GroupType;",t.R1_GroupType=4,t.R1_GroupId="",this.$isSystemAdmin()||this.$isMantisAdmin()||(t.R1_AssignedUser=this.$getItemLocalStorage(this.$localStorageConstant.SessionId)),this.$Utils.post(t).then(function(t){e.dataPr=e.$Utils.getDataWithRoot(t.R1,"Data.UserDS.Group")})},reload:function(){this.loadingUp=!0,this.startIndex=0,this.endIndex=20,this.loadTask(!1,!0)},loadmore:function(){this.loadingDown=!0,this.startIndex=this.endIndex+1,this.endIndex+=20,this.loadTask(!1,!0)},getDataByStatus:function(e){this.selectedStatus=e,this.closeNav(),this.reload()},loadTask:function(t,a){var n=this,i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Search",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"TotalDownload;TotalComment;Id;Index;Name;Status;Progress;StatusName;Content;PriorityIdName;PriorityId;PlanStartDate;Deadline;Modified;Manager;Worker;WorkerName;TaskRequest;StatusDisplay;StatusDisplayName;RestTime;RemainingManHour;PlanManHour;TargetsName;TargetsLevel1;TargetsLevel2;TargetsLevel3;TargetsLevel4;CategoriesLevel5;ProjectCategoriesLevel1;ProjectCategoriesLevel2;ChosenOneName;Targets;Subscribe;VersionProject;VersionProjectName;UserList;",R1_StartIndex:this.startIndex,R1_EndIndex:this.endIndex,R1_AssignedUser:this.$getItemLocalStorage(this.$localStorageConstant.SessionId),R1_RequestOrderFields:"Modified DESC",R1_PlanStartDateStartValue:this.start,R1_PlanStartDateEndValue:this.end};""!==this.selectedStatus&&(i.R1_Status=this.selectedStatus),""!==this.selectedWorker&&(i.R1_Worker=this.selectedWorker),""!==this.selectedProject&&(i.R1_VersionProject=this.selectedProject),this.$route&&t&&this.$route.query&&e.each(this.$route.query,function(e,t){""!==t&&t&&(i["R1_"+e]=t,i["R2_"+e]=t),"VersionProject"===e&&(n.selectedProject=t)}),t||(""!==this.selectedStatus&&(i.R1_Status=this.selectedStatus),""!==this.selectedWorker&&(i.R1_Worker=this.selectedWorker),""!==this.selectedProject&&(i.R1_VersionProject=this.selectedProject),i.R1_PlanStartDateStartValue=this.start,i.R1_PlanStartDateEndValue=this.end),!0===this.deadlineCheckbox&&!1===this.overdateCheckbox&&(i.R1_DeadlineStartValue=this.$Utils.formatDateTime(new Date),i.R1_DeadlineEndValue=this.$Utils.formatDateTime(new Date,"YYYY-MM-DDT23:59:59"),i.R1_Status="db8e700c-78c6-4f35-9477-36e0335888f5;fab4fa55-cf1d-4625-8f65-8b43e832061b;05625d94-3884-4f00-9918-254c1216c6cd;5756c3d9-37a8-4032-bd6c-2a01161b73c7;bbc399a9-a2b4-45ad-b948-32e5623dc021"),!0===this.overdateCheckbox&&!1===this.deadlineCheckbox&&(i.R1_DeadlineStartValue=this.$Utils.formatDateTime(this.start,"YYYY-MM-DDT00:00:00"),i.R1_DeadlineEndValue=this.$Utils.formatDateTime(new Date),i.R1_Status="db8e700c-78c6-4f35-9477-36e0335888f5;fab4fa55-cf1d-4625-8f65-8b43e832061b;05625d94-3884-4f00-9918-254c1216c6cd;5756c3d9-37a8-4032-bd6c-2a01161b73c7;bbc399a9-a2b4-45ad-b948-32e5623dc021"),!0===a?this.$Utils.post(i).then(function(e){e=n.$Utils.getDataWithRoot(e,"R1.Data.TasksDS.Task"),0===n.startIndex?n.timeline=e:n.timeline=n.timeline.concat(e),n.timeline.filter(function(e){n.$Utils.expressionToString(e,"{{Deadline|DateTime:toNows}}");if(e.overHours=n.overHours(e),e.TargetsName){var t=e.TargetsName.split(";");t[0]&&(e.TargetLV1=t[0]),t[1]&&(e.TargetLV2=t[1]),t[2]&&(e.TargetLV3=t[2])}e.dayAgo=n.getDayAgo(e.Modified),isNaN(e.Progress)||void 0===e.Progress?e.Progress=0:e.Progress=Math.round(parseFloat(e.Progress)),e.Progress>100&&(e.Progress=100),e.DeadlineDisplay=n.$Utils.formatDateTime(e.Deadline,"DD/MM/YYYY"),e.PlanStartDateDisplay=n.$Utils.formatDateTime(e.PlanStartDate,"DD/MM/YYYY"),e.isDone=n.taskDone.indexOf(e.Status)>-1,e.TargetsName&&(e.TargetsName=e.TargetsName.replaceAll(";",", ")),e.priorityColor=n.priorityColors[e.PriorityId.toUpperCase()],e.statusColor=n.statusColors[e.Status.toUpperCase()]}),n.loadingUp=!1,n.loadingDown=!1}):this.$Utils.postCheckResult(i).then(function(e){e=n.$Utils.getDataWithRoot(e,"R1.Data.TasksDS.Task"),0===n.startIndex?n.timeline=e:n.timeline=n.timeline.concat(e),n.timeline.filter(function(e){n.$Utils.expressionToString(e,"{{Deadline|DateTime:toNows}}");if(e.overHours=n.overHours(e),e.TargetsName){var t=e.TargetsName.split(";");t[0]&&(e.TargetLV1=t[0]),t[1]&&(e.TargetLV2=t[1]),t[2]&&(e.TargetLV3=t[2])}e.dayAgo=n.getDayAgo(e.Modified),isNaN(e.Progress)||void 0===e.Progress?e.Progress=0:e.Progress=Math.round(parseFloat(e.Progress)),e.Progress>100&&(e.Progress=100),e.DeadlineDisplay=n.$Utils.formatDateTime(e.Deadline,"DD/MM/YYYY"),e.PlanStartDateDisplay=n.$Utils.formatDateTime(e.PlanStartDate,"DD/MM/YYYY"),e.isDone=n.taskDone.indexOf(e.Status)>-1,e.TargetsName&&(e.TargetsName=e.TargetsName.replaceAll(";",", ")),e.priorityColor=n.priorityColors[e.PriorityId.toUpperCase()],e.statusColor=n.statusColors[e.Status.toUpperCase()]}),n.loadingUp=!1,n.loadingDown=!1})},loadStatusData:function(t){var a=this,n=this.$Lodash.cloneDeep(this.$singleRequest),r=i()(this.listStatus);n.TotalRequests=r.length;for(var o=0;o<r.length;o++)n["R"+(o+1)+"_RequestTemplate"]="AG_Task_Task.Count",n["R"+(o+1)+"_RequestDataGroup"]="DataGroup.danh-sach-cong-viec.04b66",n["R"+(o+1)+"_PlanStartDateStartValue"]=this.start,n["R"+(o+1)+"_PlanStartDateEndValue"]=this.end,n["R"+(o+1)+"_Status"]=r[o].Id,n["R"+(o+1)+"_AssignedUser"]=this.SessionId,this.selectedWorker&&(n["R"+(o+1)+"_Worker"]=this.selectedWorker),this.$route&&this.$route.query&&e.each(this.$route.query,function(e,t){""!==t&&t&&(n["R"+(o+1)+"_"+e]=t)}),t||(this.selectedWorker&&(n["R"+(o+1)+"_Worker"]=this.selectedWorker),n["R"+(o+1)+"_PlanStartDateStartValue"]=this.start,n["R"+(o+1)+"_PlanStartDateEndValue"]=this.end);this.$Utils.post(n).then(function(e){a.listStatuscount=[],a.ListStatus=[],a.Total=0;for(var t=0;t<r.length;t++){var n=a.$Utils.getDataWithRoot(e["R"+(t+1)],"Data");n=parseInt(n),a.Total+=n;var i={Name:r[t].Name,Count:n,Id:r[t].Id,Color:r[t].Color};a.listStatuscount.push(i)}a.listStatuscount.forEach(function(e){var t={Name:e.Name,Count:e.Count,Id:e.Id,Color:e.Color,Percentage:e.Count>0?Math.round(100*e.Count/a.Total)>100?100:Math.round(100*e.Count/a.Total):0};a.ListStatus.push(t)})})},searchAvatar:function(){var e=this,t={RequestAction:"SearchUserWithGroups",IncludedGroupManager:"true",RequestClass:"BPM",RequestDataType:"json",ConditionFields:"IncludedGroupManager;Group;Status;LoginName",StaticFields:"UserId;Username;LoginName;Description;Status;",DynamicFields:"Avatar;Facebook;Email;Skype;Birthday;Biography;WorkProcess;Telephone",StructFields:"GroupRoot;GroupRootName;",OrderFields:"LoginName ASC",GroupType:"1"};this.$Utils.post(t).then(function(t){t=e.$Utils.getDataWithRoot(t,"Data.UserDS.User"),e.dataLU=t,t.forEach(function(t){e.$set(e.listAvatar,t.UserId,e.loadAvatar(t.Avatar))})})},loadAvatar:function(e){return void 0==e&&(e="assets/images/avatars/profile.png"),e=e.replace("profile.jpg","profile.png"),"assets/images/avatars/profile.png"===e?this.$appUri.BaseURL+e:this.$appUri.BaseURL+e.replace("/","")+"&Height=50&Width=50"},showTaskDetail:function(e,t){t?(this.$set(e,"activeName",t),this.$hub.$emit("set-modal-data","Chi tiết công việc","60%",!0,"center",l.a,!0,"",e)):this.$hub.$emit("set-modal-data","Chi tiết công việc","60%",!0,"center",l.a,!0,"",e)},subscribe:function(t,a){var n=this,i=t.Subscribe+"";if(t.Subscribe=a?t.Subscribe.split(";").filter(function(e){return e!=n.$Utils.getUserInfo("UserId")}).join(";")+";":(t.Subscribe?t.Subscribe:"")+this.$Utils.getUserInfo("UserId"),a){var r={RequestAction:"SearchLinked",RequestClass:"Addition",ConditionFields:"Parent;Code;Child",StaticFields:"Code;Child;Parent;Name;Created;Description",OrderFields:"Created DESC",Parent:t.Id,Child:this.$Utils.getUserInfo("UserId"),Code:"Subscribe;Email"};this.$Utils.post(r).then(function(t){var a=1==t.TotalCount?[t.Data.DataDS.Linked]:t.Data.DataDS.Linked;if(void 0!=a){var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:a.length,RequestTemplate:"Permission.Remove"};e.each(a,function(e,t){i["R"+(e+1)+"_Id"]=t.Id,i["R"+(e+1)+"_Parent"]=t.Parent,i["R"+(e+1)+"_Child"]=t.Child,i["R"+(e+1)+"_Code"]=t.Code}),n.$Utils.post(i).then(function(e){})}})}else{var o={RequestClass:"xBase",Parent:t.Id,Child:this.$Utils.getUserInfo("UserId"),Code:"Subscribe",Name:"Subscribe",RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser",RequestTemplate:"Permission.Insert"};this.$Utils.post(o).then(function(e){});var s={RequestClass:"xBase",Parent:t.Id,Child:this.$Utils.getUserInfo("UserId"),Code:"Email",Name:"Email",RequestAction:"LinkUserToObject",ParentTable:"xObject",ChildTable:"tblUser",RequestTemplate:"Permission.Insert"};this.$Utils.post(s).then(function(e){})}var l={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"AG_Task_Task.Update",R1_RequestDataGroup:"DataGroup.danh-sach-cong-viec.04b66",R1_RequestFields:"Id;Subscribe",R1_Id:t.Id,R1_Subscribe:t.Subscribe};this.$Utils.post(l).then(function(e){e.success||(t.Subscribe=i,n.$message.error("Có lỗi")),n.$forceUpdate()})}},created:function(){this.model={}},mounted:function(){var e=this;this.searchAvatar(),this.$rootScope.selectedWorkerId&&this.$rootScope.selectedWorkerId.forEach(function(t){e.selectedWorker+=t+";"}),this.searchGroupOfUser(),this.$rootScope.dateFilter&&this.$rootScope.dateFilter.length>2&&(this.start=r.default.moment(this.$rootScope.dateFilter[0]).format("YYYY-MM-DD")+"T00:00:00",this.end=r.default.moment(this.$rootScope.dateFilter[1]).format("YYYY-MM-DD")+"T23:59:59"),this.$hub.$on("datePicked",function(t){e.start=r.default.moment(t[0]).format("YYYY-MM-DD")+"T00:00:00",e.end=r.default.moment(t[1]).format("YYYY-MM-DD")+"T23:59:59",e.loadStatusData(),e.loadTask()}),this.$hub.$on("workerPicked",function(t){var a="";t.forEach(function(e){a+=e+";"}),e.selectedWorker=a,e.loadStatusData(),e.loadTask()}),this.loadStatusData(!0),this.loadTask(!0),this.model.Project=[this.loggedOnUser.Project.GroupId];var t=this.$Utils.updateParamsSingleRequest(this.$Lodash.cloneDeep(this.$singleRequest),{ParentCode:"xSetting.Project.Parameter.Organization.Target",RequestOrderFields:"LeftIndex ASC",RequestClass:"xBase",RequestAction:"Request",RequestDataGroup:"DataGroup.muc-tieu.091fb",RequestFields:"Plan;Done;Progress;Unit;Assigned;AssignedName;Owner;OwnerName;TargetType;Id;Index;Code;Name;Value;Description;LeftIndex;ParentId;Level;Value;RightIndex;Created;CreatedBy;Modified;ActualStartDate;ActualFinishDate",RequestTemplate:"xDynamicData_Setting.Search",AssignedUser:this.SessionId});this.$Utils.post(t).then(function(t){t=e.$Utils.getDataWithRoot(t,"R1.Data.DynamicDS.Setting");var a=t,n=localStorage.getItem("UserId");a.forEach(function(t,a){t.isOwner=!1,t.isAssigned=!1,t.Owner&&t.Owner.toLowerCase().indexOf(n)>-1&&(t.isOwner=!0),t.Assigned&&t.Assigned.toLowerCase().indexOf(n)>-1&&(t.isAssigned=!0),t.GroupName="",e.$Utils.isEmpty(t.Modified)&&(t.Modified=e.$Utils.formatDateTime(t.Modified,"HH:mm DD-MM-YYYY")),isNaN(t.Progress)||void 0===t.Progress?t.Progress=0:(t.Progress=Math.round(parseFloat(t.Progress)),t.Progress>100&&(t.Progress=100)),e.listTargetDetail.push(t)})})},watch:{}}}).call(t,a(2))},1022:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"timeline-page"},[a("div",{staticClass:"sidenav border-box",attrs:{id:"mySidenav"}},[a("a",{staticClass:"closebtn",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.closeNav()}}},[e._v("×")]),e._v(" "),a("div",{attrs:{id:"main"}},[a("el-select",{attrs:{clearable:"",placeholder:"Dự án"},on:{change:function(t){e.changeProject(e.selectedProject)}},model:{value:e.selectedProject,callback:function(t){e.selectedProject=t},expression:"selectedProject"}},e._l(e.dataPr,function(e){return a("el-option",{key:e.GroupId,attrs:{label:e.GroupName,value:e.GroupId}})})),e._v(" "),a("el-select",{attrs:{placeholder:"Trạng thái",clearable:""},on:{change:function(t){e.getDataByStatus(e.selectedStatus)}},model:{value:e.selectedStatus,callback:function(t){e.selectedStatus=t},expression:"selectedStatus"}},e._l(e.ListStatus,function(e){return a("el-option",{key:e.Id,attrs:{value:e.Id,label:e.Name}})})),e._v(" "),a("div",{staticClass:"row chkbx"},[a("el-checkbox",{on:{change:function(t){e.changeDeadlineCheckBox()}},model:{value:e.deadlineCheckbox,callback:function(t){e.deadlineCheckbox=t},expression:"deadlineCheckbox"}},[e._v("Đến hạn")])],1),e._v(" "),a("div",{staticClass:"row chkbx"},[a("el-checkbox",{on:{change:function(t){e.changeOverdateCheckBox()}},model:{value:e.overdateCheckbox,callback:function(t){e.overdateCheckbox=t},expression:"overdateCheckbox"}},[e._v("Quá hạn")])],1)],1)]),e._v(" "),a("el-row",{class:e.$isMobileDevice?"padding-0":"",attrs:{gutter:20}},[a("el-col",{class:e.$isMobileDevice?"padding-0":"pr-2",attrs:{xs:24,sm:24,md:18,lg:18}},[a("el-container",{class:e.$isMobileDevice?"padding-0":""},[a("el-header",{staticStyle:{padding:"0px 5px"}},[a("el-row",{staticStyle:{width:"100%"}},[a("el-col",{staticClass:"leftaligndiv text-nowrap",attrs:{span:e.$isMobileDevice?18:6}},[a("span",{staticStyle:{"font-size":"14px","padding-left":"5px"}},[a("i",{staticClass:"fa fa-list-alt"}),a("span",[a("b",[e._v(" Thời gian")])])]),e._v(" "),e.$isMobileDevice?a("router-link",{attrs:{to:{path:"/dynamic/view-all-task-page"}}},[a("i",{staticClass:"fa fa-table"}),a("span",[e._v(" Danh sách")])]):e._e(),e._v(" "),e.$isMobileDevice?a("router-link",{attrs:{to:"/scrumboard"}},[a("i",{staticClass:"fa fa-trello"}),a("span",[e._v("  Bảng")])]):e._e()],1),e._v(" "),a("el-col",{staticClass:"rightaligndiv",attrs:{span:e.$isMobileDevice?6:18}},[a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.$isMobileDevice,expression:"!$isMobileDevice"}],on:{change:function(t){e.changeDeadlineCheckBox()}},model:{value:e.deadlineCheckbox,callback:function(t){e.deadlineCheckbox=t},expression:"deadlineCheckbox"}},[e._v("Đến\n                hạn\n              ")]),e._v(" "),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!e.$isMobileDevice,expression:"!$isMobileDevice"}],on:{change:function(t){e.changeOverdateCheckBox()}},model:{value:e.overdateCheckbox,callback:function(t){e.overdateCheckbox=t},expression:"overdateCheckbox"}},[e._v("Quá\n                hạn\n              ")]),e._v(" "),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!e.$isMobileDevice,expression:"!$isMobileDevice"}],attrs:{clearable:"",placeholder:"Dự án"},on:{change:function(t){e.changeProject(e.selectedProject)}},model:{value:e.selectedProject,callback:function(t){e.selectedProject=t},expression:"selectedProject"}},e._l(e.dataPr,function(e){return a("el-option",{key:e.GroupId,attrs:{label:e.GroupName,value:e.GroupId}})})),e._v(" "),a("el-select",{directives:[{name:"show",rawName:"v-show",value:!e.$isMobileDevice,expression:"!$isMobileDevice"}],attrs:{placeholder:"Trạng thái",clearable:""},on:{change:function(t){e.getDataByStatus(e.selectedStatus)}},model:{value:e.selectedStatus,callback:function(t){e.selectedStatus=t},expression:"selectedStatus"}},e._l(e.ListStatus,function(e){return a("el-option",{key:e.Id,attrs:{value:e.Id,label:e.Name}})})),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.$isMobileDevice&&(""!==e.selectedStatus||""!==e.selectedProject||e.deadlineCheckbox||e.overdateCheckbox),expression:"$isMobileDevice && (selectedStatus !== '' || selectedProject !== '' || deadlineCheckbox || overdateCheckbox)"}],staticClass:"fa fa-filter fa-lg",staticStyle:{color:"#00aced"},on:{click:function(t){e.openFilter()}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.$isMobileDevice&&""===e.selectedStatus&&""===e.selectedProject&&!e.deadlineCheckbox&&!e.overdateCheckbox,expression:"$isMobileDevice && selectedStatus === '' && selectedProject === '' && !deadlineCheckbox && !overdateCheckbox"}],staticClass:"fa fa-filter fa-lg",on:{click:function(t){e.openFilter()}}})],1)],1)],1),e._v(" "),a("el-main",[a("el-container",{attrs:{direction:"vertical"}},[a("v-infinite-scroll",{staticClass:"left-scroll",attrs:{offset:0},on:{bottom:function(t){e.loadmore()},top:function(t){e.reload()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingUp,expression:"loadingUp"}],staticStyle:{"text-align":"center"}},[a("i",{staticClass:"el-icon-loading"}),e._v("  Đang tải...\n              ")]),e._v(" "),e._l(e.timeline,function(t){return a("el-card",{key:t.Id,staticClass:"box-card"},[a("div",{staticClass:"text item"},[a("el-row",{staticStyle:{display:"flex","align-items":"center"}},[a("el-col",{staticClass:"mr-2",attrs:{xs:4,md:3}},[a("div",[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticClass:"round-image",attrs:{src:e.listAvatar[t.Worker]}})]),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{overflow:"hidden"}},[e._v(e._s(t.WorkerName))]),e._v(" "),a("div",{staticClass:"b-600"},[e._v(e._s(t.dayAgo))])])])]),e._v(" "),a("el-col",{attrs:{xs:20,md:21}},[a("el-row",[a("span",{staticClass:"b-600"},[e._v("Công việc:\n                          "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){e.showTaskDetail(t)}}},[a("span",{style:"text-decoration:"+(t.isDone?"line-through":"")},[e._v("\n                              "+e._s(t.Index)+" - "+e._s(t.Name)+"\n                            ")])])]),e._v(" "),a("br"),e._v(" "),a("span",[a("span",{staticClass:"b-600"},[e._v("Mục tiêu: ")]),e._v(" "+e._s(t.TargetsName&&""!==t.TargetsName?t.TargetsName:"---"))]),e._v(" "),a("br"),e._v(" "),a("span",[a("span",{staticClass:"b-600"},[e._v("Dự án: ")]),e._v(" "+e._s(t.VersionProjectName&&""!==t.VersionProjectName?t.VersionProjectName:"---"))]),e._v(" "),a("br"),e._v(" "),a("span",[a("span",{staticClass:"b-600"},[e._v("Bắt đầu: ")]),e._v(" "+e._s(t.PlanStartDateDisplay)+" | "),a("span",{staticClass:"b-600"},[e._v("Ước tính: ")]),e._v(" "+e._s(t.PlanManHour)+" | "),a("span",{staticClass:"b-600"},[e._v("Kết thúc:  ")]),e._v(e._s(t.DeadlineDisplay)+" | "),a("span",{staticClass:"b-600"},[e._v("Thực tế: ")]),e._v(" "+e._s(t.RemainingManHour))])]),e._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,md:6}},[a("el-row",{staticStyle:{"text-align":"left"}},[a("el-col",{attrs:{xs:12,md:11}},[a("span",{staticClass:"b-600"},[e._v("Hoàn thành:")])]),e._v(" "),a("el-col",{attrs:{xs:12,md:13}},[a("div",{staticClass:"span-block-border"},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.Progress}})],1)])],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,md:5}},[a("el-row",{staticStyle:{"text-align":"left"}},[a("el-col",{attrs:{xs:12,md:11}},[a("span",{staticClass:"b-600"},[e._v("Ưu tiên: ")])]),e._v(" "),a("el-col",{attrs:{xs:12,md:13}},[a("div",{staticClass:"span-block-border",style:"background-color:"+t.priorityColor},[a("span",[e._v(e._s(t.PriorityIdName))])])])],1)],1),e._v(" "),a("el-col",{attrs:{xs:24,md:7}},[a("el-row",{staticStyle:{"text-align":"left"}},[a("el-col",{attrs:{xs:12,md:11}},[a("span",{staticClass:"b-600"},[e._v("Trạng thái: ")])]),e._v(" "),a("el-col",{attrs:{xs:12,md:13}},[a("div",{staticClass:"span-block-border",style:"background-color:"+t.statusColor},[a("span",[e._v(e._s(t.StatusName))])])])],1)],1),e._v(" "),e.$isMobileDevice?a("el-col",{staticClass:"hr"},[a("div",{staticClass:"row"},[a("div",{class:parseFloat(t.overHours+"")<0?"red-badge col":"col"},[a("el-badge",{staticClass:"item",attrs:{value:t.overHours,max:99}},[a("i",{staticClass:"fa fa-clock-o "})])],1),e._v(" "),a("div",{staticClass:"col"},[a("el-badge",{staticClass:"item",attrs:{value:t.TotalDownload?t.TotalDownload:0,max:99}},[a("i",{staticClass:"fa fa-paperclip "})])],1),e._v(" "),a("div",{staticClass:"col"},[a("el-badge",{staticClass:"item",staticStyle:{cursor:"pointer"},attrs:{value:t.TotalComment?t.TotalComment:0,max:99}},[a("i",{staticClass:"fa fa-comment-o ",on:{click:function(a){e.showTaskDetail(t,!0)}}})])],1),e._v(" "),a("div",{staticClass:"col"},[t.Subscribe&&-1!=t.Subscribe.indexOf(e.$Utils.getUserInfo("UserId"))?a("div",{staticStyle:{color:"red"},on:{click:function(a){e.subscribe(t,!0)}}},[a("i",{staticClass:"fa fa-flag-o "})]):a("div",{on:{click:function(a){e.subscribe(t,!1)}}},[a("i",{staticClass:"fa fa-flag-o "})])]),e._v(" "),a("div",{staticClass:"col"},[t.UserList?a("div",[a("el-badge",{staticClass:"item",attrs:{value:e.totalView(t.UserList),max:99}},[a("i",{staticClass:"fa fa-eye pl-2"})])],1):e._e()])])]):a("el-col",{attrs:{md:6}},[a("el-row",[a("el-col",{attrs:{span:6,offset:8}},[a("div",{class:parseFloat(t.overHours+"")<0?"red-badge":""},[a("el-badge",{staticClass:"item",attrs:{value:t.overHours,max:99}},[a("i",{staticClass:"fa fa-clock-o "})])],1)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-badge",{staticClass:"item",attrs:{value:t.TotalDownload?t.TotalDownload:0,max:99}},[a("i",{staticClass:"fa fa-paperclip "})])],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-badge",{staticClass:"item",staticStyle:{cursor:"pointer"},attrs:{value:t.TotalComment?t.TotalComment:0,max:99}},[a("i",{staticClass:"fa fa-comment-o ",on:{click:function(a){e.showTaskDetail(t,!0)}}})])],1),e._v(" "),a("el-col",{staticStyle:{cursor:"pointer"},attrs:{span:2}},[t.Subscribe&&-1!=t.Subscribe.indexOf(e.$Utils.getUserInfo("UserId"))?a("div",{staticStyle:{color:"red"},on:{click:function(a){e.subscribe(t,!0)}}},[a("i",{staticClass:"fa fa-flag-o "})]):a("div",{on:{click:function(a){e.subscribe(t,!1)}}},[a("i",{staticClass:"fa fa-flag-o "})])]),e._v(" "),a("el-col",{staticStyle:{cursor:"pointer"},attrs:{span:2}},[t.UserList?a("div",[a("el-badge",{staticClass:"item",attrs:{value:e.totalView(t.UserList),max:99}},[a("i",{staticClass:"fa fa-eye"})])],1):e._e()])],1)],1)],1)],1)],1)],1)])}),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingDown,expression:"loadingDown"}],staticStyle:{"text-align":"center"}},[a("i",{staticClass:"el-icon-loading"}),e._v("  Đang tải...\n              ")]),e._v(" "),!e.loadingDown&&e.loadingUp&&0==e.timeline.length?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"center-div"},[e._v("Không có dữ liệu")])]):e._e()],2)],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"hidden-sm-and-down pl-2",attrs:{md:6,lg:6}},[a("el-container",{staticClass:"status",attrs:{direction:"vertical"}},[a("el-row",{staticStyle:{width:"100%"}},[a("el-header",[a("span",[e._v("Công việc theo trạng thái")])]),e._v(" "),a("el-main",[a("el-container",{staticStyle:{"background-color":"#fff"},attrs:{direction:"vertical"}},e._l(e.ListStatus,function(t){return a("el-row",{key:t.Id,staticStyle:{width:"100%"}},[a("el-col",{attrs:{span:6}},[e._v("\n                  "+e._s(t.Name)+"\n                ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                  "+e._s(t.Count)+"\n                ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-progress",{attrs:{percentage:t.Percentage,"text-inside":!0,"stroke-width":18,color:t.Color}})],1)],1)}))],1)],1),e._v(" "),a("el-row",{staticStyle:{width:"100%"}},[a("el-header",[a("span",[e._v("Công việc theo tiến độ")])]),e._v(" "),a("el-main",[a("el-container",{staticStyle:{"background-color":"#fff"},attrs:{direction:"vertical"}},e._l(e.overDueTask,function(t){return a("el-row",{key:t.Id,staticStyle:{width:"100%"}},[a("el-col",{attrs:{span:6}},[e._v("\n                  "+e._s(t.Name)+"\n                ")]),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                  "+e._s(t.Count)+"\n                ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-progress",{attrs:{percentage:t.Percentage,"text-inside":!0,"stroke-width":18,color:t.Color}})],1)],1)}))],1)],1),e._v(" "),a("el-row",{staticStyle:{width:"100%"}},[a("el-header",[a("span",[e._v("Danh mục mục tiêu")])]),e._v(" "),a("el-main",{staticClass:"right-scroll"},e._l(e.listTargetDetail,function(t){return a("el-card",{key:t.Id,staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("a",{staticClass:"target-header",attrs:{href:"#"}},[e._v(e._s(t.Name))]),e._v(" "),a("div",{staticClass:"owner"},[1==t.TargetType?a("div",[a("i",{staticClass:"fa fa-users fa-lg mt-4"}),a("span",[a("b",[e._v(" Phòng:")]),e._v(" "+e._s(t.GroupName)+" "),a("br"),e._v(" "),a("b",[e._v("Loại:")]),e._v(" "+e._s(e.ListType[t.TargetType-1].Name))])]):e._e(),e._v(" "),1!=t.TargetType?a("div",[a("i",{staticClass:"fa fa-user fa-lg mt-4"}),a("span",[a("b",[e._v(" Quản lý:")]),e._v(" "+e._s(t.OwnerName)+" "),a("br"),e._v(" "),a("b",[e._v("Loại:")]),e._v(" "+e._s(e.ListType[t.TargetType-1].Name))])]):e._e()])]),e._v(" "),a("div",{staticClass:"bdCt text item"},[a("el-progress",{staticStyle:{width:"90%",margin:"auto"},attrs:{"text-inside":!0,"stroke-width":18,percentage:t.Progress}})],1)])}))],1)],1)],1)],1)],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},1027:function(e,t,a){var n=a(1028);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(937)("f2b3222c",n,!0)},1028:function(e,t,a){t=e.exports=a(936)(!0),t.push([e.i,".scrumBoard{margin-right:-3px;margin-left:-3px}.scrumBoard ul.drag-inner-list,.scrumBoard ul.drag-list{list-style-type:none;margin:0;padding:0}.scrumBoard .drag-container{max-width:1000px;margin:20px auto}.scrumBoard .drag-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}@media (max-width:690px){.scrumBoard .drag-list{display:block}}.scrumBoard .drag-column{-webkit-box-flex:1;-ms-flex:1;flex:1;margin:0 10px;position:relative;background:rgba(0,0,0,.2);overflow:hidden}@media (max-width:690px){.scrumBoard .drag-column{margin-bottom:15px}}.scrumBoard .drag-column h2{font-size:.8rem;text-transform:uppercase}.scrumBoard .drag-column-header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:10px}.scrumBoard .drag-inner-list{min-height:50px;color:#fff}.scrumBoard .drag-item{padding:10px;margin:10px;height:100px;background:rgba(0,0,0,.4);-webkit-transition:all .3s cubic-bezier(.23,1,.32,1);transition:all .3s cubic-bezier(.23,1,.32,1)}.scrumBoard .drag-item.is-moving{-webkit-transform:scale(1);transform:scale(1);background:#f1f1f1}.scrumBoard .drag-header-more{cursor:pointer}.scrumBoard .drag-options{position:absolute;top:44px;left:0;width:100%;height:100%;padding:10px;-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0;-webkit-transition:all .3s cubic-bezier(.23,1,.32,1);transition:all .3s cubic-bezier(.23,1,.32,1)}.scrumBoard .drag-options.active{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}.scrumBoard .drag-options-label{display:block;margin:0 0 5px}.scrumBoard .drag-options-label input{opacity:.6}.scrumBoard .drag-options-label span{display:inline-block;font-size:.9rem;font-weight:400;margin-left:5px}.scrumBoard .gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;list-style-type:none}.scrumBoard .gu-hide{display:none!important}.scrumBoard .gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.scrumBoard .gu-transit{opacity:.2}.scrumBoard .drag-column{background-color:#fff}.scrumBoard .kanban{overflow:auto;height:85vh}@media (max-width:690px){.scrumBoard .kanban{height:81vh}}.scrumBoard .drag-container{min-width:2500px;margin:10px auto}@media (max-width:690px){.scrumBoard .drag-container{min-width:0}}.scrumBoard .drag-inner-list{max-height:77vh;overflow:auto}@media (max-width:414px){.scrumBoard .drag-inner-list{max-height:none}}.scrumBoard .drag-column-header{background:#ff9a54}.scrumBoard .drag-item{background:#f1f1f1;color:#333;height:100%;cursor:pointer}.scrumBoard .formSearch{width:250px}.scrumBoard .nav-link{padding:0;color:#333}.scrumBoard .showDetailScrumboard .el-dialog__header{text-align:left;background-color:#5090c1}.scrumBoard .showDetailScrumboard .el-dialog__header .el-dialog__title{color:#fff}.scrumBoard .showDetailScrumboard .el-dialog__footer{text-align:right}.scrumBoard .showDetailScrumboard .el-dialog__headerbtn .el-dialog__close{color:#fff}.scrumBoard #Filter .modal-dialog{position:fixed;right:0;margin:0;height:100%}.scrumBoard #Filter .modal-dialog .modal-content{height:100%}.scrumBoard .title-box{background-color:#f0f3f5;border:1px solid #c2cfd6}.scrumBoard .selectedWorker{margin:auto}.scrumBoard .drag-column h2{font-size:16px;margin:0;text-transform:none;font-weight:600}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm3/src/components/Scrumboard.vue"],names:[],mappings:"AACA,YACE,kBAAmB,AACnB,gBAAkB,CAEnB,AACD,wDACI,qBAAsB,AACtB,SAAU,AACV,SAAW,CACd,AACD,4BACI,iBAAkB,AAClB,gBAAkB,CACrB,AACD,uBACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACnC,AACD,yBACA,uBACQ,aAAe,CACtB,CACA,AACD,yBACI,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,cAAe,AACf,kBAAmB,AACnB,0BAA+B,AAC/B,eAAiB,CACpB,AACD,yBACA,yBACQ,kBAAoB,CAC3B,CACA,AACD,4BACM,gBAAkB,AAElB,wBAA0B,CAE/B,AACD,gCACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,8BAA+B,AACvC,YAAc,CACjB,AACD,6BACI,gBAAiB,AACjB,UAAa,CAChB,AACD,uBACI,aAAc,AACd,YAAa,AACb,aAAc,AACd,0BAA+B,AAC/B,qDAA4D,AAC5D,4CAAoD,CACvD,AACD,iCACM,2BAA4B,AACpB,mBAAoB,AAC5B,kBAAoB,CACzB,AACD,8BACI,cAAgB,CACnB,AACD,0BACI,kBAAmB,AACnB,SAAU,AACV,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,aAAc,AACd,mCAAoC,AAC5B,2BAA4B,AACpC,UAAW,AACX,qDAA4D,AAC5D,4CAAoD,CACvD,AACD,iCACM,gCAAiC,AACzB,wBAAyB,AACjC,SAAW,CAChB,AACD,gCACM,cAAe,AACf,cAAkB,CACvB,AACD,sCACQ,UAAa,CACpB,AACD,qCACQ,qBAAsB,AACtB,gBAAkB,AAClB,gBAAiB,AACjB,eAAiB,CACxB,AACD,uBACI,yBAA2B,AAC3B,mBAAqB,AACrB,uBAAyB,AACzB,WAAa,AACb,oBAAsB,CACzB,AACD,qBACI,sBAAyB,CAC5B,AACD,6BACI,mCAAqC,AACrC,gCAAkC,AAClC,+BAAiC,AACjC,0BAA6B,CAChC,AACD,wBACI,UAAa,CAChB,AACD,yBACI,qBAAuB,CAC1B,AACD,oBACI,cAAe,AACf,WAAa,CAChB,AACD,yBACA,oBACQ,WAAa,CACpB,CACA,AACD,4BACI,iBAAkB,AAClB,gBAAkB,CACrB,AACD,yBACA,4BACQ,WAAe,CACtB,CACA,AACD,6BACI,gBAAiB,AACjB,aAAe,CAClB,AACD,yBACA,6BACQ,eAAiB,CACxB,CACA,AACD,gCACI,kBAAoB,CACvB,AACD,uBACI,mBAAoB,AACpB,WAAY,AACZ,YAAa,AACb,cAAgB,CACnB,AACD,wBACI,WAAa,CAChB,AACD,sBACI,UAAa,AACb,UAAY,CACf,AACD,qDACI,gBAAiB,AACjB,wBAA0B,CAC7B,AACD,uEACM,UAAY,CACjB,AACD,qDACI,gBAAkB,CACrB,AACD,0EACI,UAAY,CACf,AACD,kCACI,eAAgB,AAChB,QAAW,AACX,SAAY,AACZ,WAAa,CAChB,AACD,iDACM,WAAa,CAClB,AACD,uBACI,yBAA0B,AAC1B,wBAA0B,CAC7B,AACD,4BACI,WAAa,CAChB,AACD,4BACI,eAAgB,AAChB,SAAU,AACV,oBAAqB,AACrB,eAAiB,CACpB",file:"Scrumboard.vue",sourcesContent:["\n.scrumBoard {\n  margin-right: -3px;\n  margin-left: -3px;\n  /* Dragula CSS  */\n}\n.scrumBoard ul.drag-list, .scrumBoard ul.drag-inner-list {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n}\n.scrumBoard .drag-container {\n    max-width: 1000px;\n    margin: 20px auto;\n}\n.scrumBoard .drag-list {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n}\n@media (max-width: 690px) {\n.scrumBoard .drag-list {\n        display: block;\n}\n}\n.scrumBoard .drag-column {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    margin: 0 10px;\n    position: relative;\n    background: rgba(0, 0, 0, 0.2);\n    overflow: hidden;\n}\n@media (max-width: 690px) {\n.scrumBoard .drag-column {\n        margin-bottom: 15px;\n}\n}\n.scrumBoard .drag-column h2 {\n      font-size: 0.8rem;\n      margin: 0;\n      text-transform: uppercase;\n      font-weight: 600;\n}\n.scrumBoard .drag-column-header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    padding: 10px;\n}\n.scrumBoard .drag-inner-list {\n    min-height: 50px;\n    color: white;\n}\n.scrumBoard .drag-item {\n    padding: 10px;\n    margin: 10px;\n    height: 100px;\n    background: rgba(0, 0, 0, 0.4);\n    -webkit-transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n    transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n}\n.scrumBoard .drag-item.is-moving {\n      -webkit-transform: scale(1);\n              transform: scale(1);\n      background: #f1f1f1;\n}\n.scrumBoard .drag-header-more {\n    cursor: pointer;\n}\n.scrumBoard .drag-options {\n    position: absolute;\n    top: 44px;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    padding: 10px;\n    -webkit-transform: translateX(100%);\n            transform: translateX(100%);\n    opacity: 0;\n    -webkit-transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n    transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);\n}\n.scrumBoard .drag-options.active {\n      -webkit-transform: translateX(0);\n              transform: translateX(0);\n      opacity: 1;\n}\n.scrumBoard .drag-options-label {\n      display: block;\n      margin: 0 0 5px 0;\n}\n.scrumBoard .drag-options-label input {\n        opacity: 0.6;\n}\n.scrumBoard .drag-options-label span {\n        display: inline-block;\n        font-size: 0.9rem;\n        font-weight: 400;\n        margin-left: 5px;\n}\n.scrumBoard .gu-mirror {\n    position: fixed !important;\n    margin: 0 !important;\n    z-index: 9999 !important;\n    opacity: 0.8;\n    list-style-type: none;\n}\n.scrumBoard .gu-hide {\n    display: none !important;\n}\n.scrumBoard .gu-unselectable {\n    -webkit-user-select: none !important;\n    -moz-user-select: none !important;\n    -ms-user-select: none !important;\n    user-select: none !important;\n}\n.scrumBoard .gu-transit {\n    opacity: 0.2;\n}\n.scrumBoard .drag-column {\n    background-color: #fff;\n}\n.scrumBoard .kanban {\n    overflow: auto;\n    height: 85vh;\n}\n@media (max-width: 690px) {\n.scrumBoard .kanban {\n        height: 81vh;\n}\n}\n.scrumBoard .drag-container {\n    min-width: 2500px;\n    margin: 10px auto;\n}\n@media (max-width: 690px) {\n.scrumBoard .drag-container {\n        min-width: 0px;\n}\n}\n.scrumBoard .drag-inner-list {\n    max-height: 77vh;\n    overflow: auto;\n}\n@media (max-width: 414px) {\n.scrumBoard .drag-inner-list {\n        max-height: none;\n}\n}\n.scrumBoard .drag-column-header {\n    background: #ff9a54;\n}\n.scrumBoard .drag-item {\n    background: #f1f1f1;\n    color: #333;\n    height: 100%;\n    cursor: pointer;\n}\n.scrumBoard .formSearch {\n    width: 250px;\n}\n.scrumBoard .nav-link {\n    padding: 0px;\n    color: #333;\n}\n.scrumBoard .showDetailScrumboard .el-dialog__header {\n    text-align: left;\n    background-color: #5090c1;\n}\n.scrumBoard .showDetailScrumboard .el-dialog__header .el-dialog__title {\n      color: #fff;\n}\n.scrumBoard .showDetailScrumboard .el-dialog__footer {\n    text-align: right;\n}\n.scrumBoard .showDetailScrumboard .el-dialog__headerbtn .el-dialog__close {\n    color: #fff;\n}\n.scrumBoard #Filter .modal-dialog {\n    position: fixed;\n    right: 0px;\n    margin: 0px;\n    height: 100%;\n}\n.scrumBoard #Filter .modal-dialog .modal-content {\n      height: 100%;\n}\n.scrumBoard .title-box {\n    background-color: #f0f3f5;\n    border: 1px solid #c2cfd6;\n}\n.scrumBoard .selectedWorker {\n    margin: auto;\n}\n.scrumBoard .drag-column h2 {\n    font-size: 16px;\n    margin: 0;\n    text-transform: none;\n    font-weight: 600;\n}\n"],sourceRoot:""}])},1029:function(e,t,a){"use strict";(function(e){var n=a(4),i=a.n(n),r=a(3),o=a(1030),s=a(103),l=a(55),c=a(972),d=a.n(c);r.default.use(d.a),r.default.use(o.a),t.a={components:{KanbanBoard:o.a},data:function(){return{stages:[{id:1,Name:"Mới",StyleObject:{"background-color":"#e3b7eb"}}],worker:[],project:[],manager:[],priority:[],viewStatus:[],department:[],dateStart:"",dateEnd:"",selectedWorker:[],form:{keyword:"",Project:"",worker:"",manager:"",priority:"",viewStatus:"",startDate:"",endDate:"",department:"",status:""},dateVal:null,taskLists:[],dataS:{},dataSearch:{},SettingForm:[],arrStatus:[],categories:[]}},computed:{dateValString:function(){return null==this.dateVal?this.$rootScope.dateFilter:[r.default.moment(this.dateVal[0]).format("YYYY-MM-DD")+"T00:00:00",r.default.moment(this.dateVal[1]).format("YYYY-MM-DD")+"T23:59:59"]}},created:function(){var t=this;this.bindDataSearch(),this.loadSetting();var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBase",R1_ParentCode:"xSystem.Setting.xTask.Status"};this.$Utils.post(a).then(function(a){var a=t.$Utils.getDataWithRoot(a,"R1.Data.DynamicDS.Setting"),n=[];e.each(a,function(e,t){n[t.Id]=t.Name}),t.arrStatus=n,t.stages=e.makeArray(e.map(a,function(e,t){return{id:e.Id,Name:e.Name,StyleObject:{"background-color":e.Color},show:!0}}))})},methods:{bindDataSearch:function(){var e=this,t={RequestClass:"BPM",RequestAction:"SearchUsers",TotalRequests:1,StaticFields:"UserId;Username;LoginName;Status",ConditionFields:"Status",Status:1};this.$Utils.post(t).then(function(t){var t=t.Data.UserDS.User;e.worker=t,e.manager=t});var a={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"xEdu.TaskPriority",R1_Code:"TaskPriority"};this.$Utils.post(a).then(function(t){var a=t.R1.Data.DocumentDS.Document;e.priority=a});var n={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBaseTree",R1_ParentCode:"xSystem.Setting.xTask.StatusDisplay"};this.$Utils.post(n).then(function(t){var a=t.R1.Data;e.viewStatus=a});var i={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"tblGroup.Search",R1_RequestDataGroup:"DataGroup.quan-ly-du-an.053gf",R1_RequestFields:"GroupId;GroupName;ProjectCode;GroupType;CreatedBy;State;Status;Type",R1_GroupType:4,R1_Keyword:""};this.$Utils.post(i).then(function(t){var a=e.$Utils.getDataWithRoot(t.R1,"Data.UserDS.Group");e.project=a});var r={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_GroupType:1,R1_RequestTemplate:"OrgnizationList"};this.$Utils.post(r).then(function(t){var a=t.R1.Data.UserDS.Group;e.department=a})},searchData:function(){this.dataSearch.keyword=this.form.keyword,this.dataSearch.Project=this.form.Project,this.dataSearch.worker=this.form.worker,this.dataSearch.manager=this.form.manager,this.dataSearch.priority=this.form.priority,this.dataSearch.viewStatus=this.form.viewStatus,this.dataSearch.startDate=this.form.startDate,this.dataSearch.endDate=this.form.endDate,this.dataSearch.department=this.form.department,this.dataSearch.status=this.form.status,this.getTask(this.dataSearch)},resetForm:function(){this.form.keyword="",this.form.Project=[],this.form.worker=[],this.form.manager=[],this.form.priority=[],this.form.viewStatus=[],this.form.startDate="",this.form.endDate="",this.form.department=[],this.form.status=[]},loadSetting:function(){var e=this,t={RequestClass:"xBase",RequestAction:"Request",TotalRequests:1,R1_RequestTemplate:"Setting.SearchBase",R1_ParentCode:"xSetting.Project.Form",R1_Code:"Form.task.0d1c1"};e.$Utils.post(t).then(function(t){e.SettingForm=e.$Utils.getDataWithRoot(t.R1,"Data.DynamicDS.Setting")[0],e.$Utils.formatFormSetting(e.SettingForm)})},getTask:function(t){var a=this,n=(this.$Utils.getDateTimeByKey("WeekStart"),this.$Utils.getDateTimeByKey("WeekEnd"),this.$getItemLocalStorage(this.$localStorageConstant.SessionId));t&&(t.start?this.$Utils.formatDateTime(t.start,"YYYY-MM-DDT00:00:00"):t.startDate&&this.$Utils.formatDateTime(t.startDate,"YYYY-MM-DDT00:00:00"),t.end?this.$Utils.formatDateTime(t.end,"YYYY-MM-DDT23:59:59"):t.endDate&&this.$Utils.formatDateTime(t.endDate,"YYYY-MM-DDT23:59:59"),t.selectedWorker&&t.selectedWorker);var i=this.$Lodash.cloneDeep(this.$singleRequest);i.RequestClass="xBase",i.RequestAction="Request",i.TotalRequests=1,i.R1_RequestTemplate="AG_Task_Task.Search",i.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",i.R1_RequestFields="Id;Name;Index;TotalComment;PlanStartDate;Deadline;Status;Worker;WorkerName;PlanManHour;RemainingManHour;GroupRoot;Manager;Subscribe;GroupPermission",i.R1_GroupType=1,i.R1_PlanStartDateStartValue=this.dateStart,i.R1_PlanStartDateEndValue=this.dateEnd,i.R1_Worker=this.selectedWorker.join(";"),i.R1_AssignedUser=n,t&&(t.keyword&&""!=t.keyword&&(i.R1_Keyword=t.keyword),t.Project&&t.Project.length>0&&(i.R1_VersionProject=t.Project.join(";")),t.worker&&t.worker.length>0&&(i.R1_Worker=t.worker.join(";")),t.manager&&t.manager.length>0&&(i.R1_Manager=t.manager.join(";")),t.priority&&t.priority.length>0&&(i.R1_PriorityId=t.priority.join(";")),t.viewStatus&&t.viewStatus.length>0&&(i.R1_StatusDisplay=t.viewStatus.join(";")),t.categories&&t.categories.length>0&&(i.R1_Categories=t.categories),t.department&&t.department.length>0&&(i.R1_Project=t.department.join(";")),t.status&&t.status.length>0&&(i.R1_Status=t.status.join(";"))),this.$Utils.postCheckResult(i).then(function(t){var n=a.$Utils.getDataWithRoot(t,"R1.Data.TasksDS.Task");a.taskLists=e.makeArray(e.map(n,function(e,t){return{id:e.Id,Index:e.Index,status:e.Status,title:e.Name,workerName:e.WorkerName,dateStart:r.default.moment(e.PlanStartDate).format("DD/MM/YYYY hh:mm"),dateEnd:r.default.moment(e.Deadline).format("DD/MM/YYYY hh:mm"),level:e.PriorityIdName,task:e,plan:e.PlanManHour,real:e.RemainingManHour,totalCmt:e.TotalComment}}))})},updateBlock:function(t,a){var n=this,r=this;e.each(this.taskLists,function(e,o){var s=[],c={},d={};if(o.id==t){c.ColumnCaption="Trạng thái",c.ColumnName="Status",c.NewDisplayValue=r.arrStatus[a],c.NewValue=a,c.OldDisplayValue=r.arrStatus[o.status],c.OldValue=o.status,s.push(c),d.ColumnCaption="Trạng thái",d.ColumnName="StatusName",d.NewDisplayValue=r.arrStatus[a],d.NewValue=a,d.OldDisplayValue=r.arrStatus[o.status],d.OldValue=o.status,s.push(d);var u=r.$Lodash.cloneDeep(r.$singleRequest);u.R1_RequestTemplate="AG_Task_Task.Update",u.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",u.R1_RequestFields="Id;Status;StatusName;FormSetting;Changed",u.R1_Id=t,u.R1_Status=a,u.R1_StatusName=r.arrStatus[a];var m=n.$Lodash.cloneDeep(o.task),p=r.$Lodash.cloneDeep(r.SettingForm);r.$Utils.replacePermission(p,m),u.R1_FormSetting=i()(p),u.R1_Changed=i()(s),r.$Utils.post(u).then(function(e){var a=n.$Lodash.cloneDeep(n.$singleRequest);a.RequestClass="xBase",a.RequestAction="Request",a.TotalRequests=1,a.R1_RequestTemplate="AG_Task_Task.Search",a.R1_RequestDataGroup="DataGroup.danh-sach-cong-viec.04b66",a.R1_RequestFields="Id;Name;Index;ActualStartDate;ActualFinishDate;PlanStartDate;Deadline;StatusName;WorkerName;ManagerName;PlanManHour;RemainingManHour;RestTime;VersionProject;Action;Categories;CategoryProjectLevel1;CategoryProjectLevel2;CategoryProjectLevel3;ChosenOne;Code;CreatedBy;GroupRoot;Manager;Milestone;ModifiedBy;PriorityId;Project;ProjectType;Quality;Status;TaskQualityResult;TaskRequest;TaskResult;TaskState;TotalComment;TotalDownload;Type;Version;Worker;TagName;StatusDisplayName;SeverityName;VersionProjectName;CategoriesLevel1;CategoriesLevel2;CategoriesLevel3;CategoriesLevel4;TargetsLevel1;TargetsLevel2;TargetsLevel3;TargetsLevel4;TargetsName;ProjectCategoriesLevel1;ProjectCategoriesName;ProjectCategoriesLevel2;ProjectCategoriesLevel3;",a.R1_Id=t,r.$Utils.postCheckResult(a).then(function(e){e=n.$Utils.getDataWithRoot(e.R1,"Data.TasksDS.Task");var t={url:"task-report-page",RootData:"AG_Task_Task",DataSource:"Form.task.0d1c1",DataGroup:"DataGroup.danh-sach-cong-viec.04b66",ElementType:"Popup",ModuleCode:"Form.task.0d1c1",parentSetting:{object:e[0],set:{ElementType:"Popup",GetFullData:"true"},isCall:!0,loadScrumboard:!0,loadCalendar:!0},ModuleType:"Form"};n.$hub.$emit("set-modal-data","Chỉnh sửa công việc","100%",!0,"center",l.default,!0,"",{Template:"Modal",Module:[t]},!1)})})}})},showDetailScrum:function(e,t){this.$set(e.task,"activeName",t),this.$hub.$emit("set-modal-data","Chi tiết công việc","60%",!0,"center",s.a,!0,"",e.task)}},mounted:function(){var e=this;this.$rootScope.dateFilter&&this.$rootScope.dateFilter.length>2&&(this.dateStart=r.default.moment(this.$rootScope.dateFilter[0]).format("YYYY-MM-DD")+"T00:00:00",this.dateEnd=r.default.moment(this.$rootScope.dateFilter[1]).format("YYYY-MM-DD")+"T23:59:59"),this.$rootScope.selectedWorkerId&&(this.selectedWorker=this.$rootScope.selectedWorkerId),this.getTask(),this.$hub.$on("datePicked",function(t){e.dataS.start=t[0],e.dataS.end=t[1],e.dateStart=r.default.moment(t[0]).format("YYYY-MM-DD")+"T00:00:00",e.dateEnd=r.default.moment(t[1]).format("YYYY-MM-DD")+"T23:59:59",e.getTask()}),this.$hub.$on("loadScrumboard",function(t){e.searchData()}),this.$hub.$on("workerPicked",function(t){e.selectedWorker=t,e.getTask()})}}}).call(t,a(2))},1030:function(e,t,a){"use strict";function n(e){a(1031)}var i=a(1033),r=a(1043),o=a(0),s=n,l=o(i.a,r.a,!1,s,"data-v-500b1101",null);t.a=l.exports},1031:function(e,t,a){var n=a(1032);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(937)("61fba6b6",n,!0)},1032:function(e,t,a){t=e.exports=a(936)(!0),t.push([e.i,".rightaligndiv[data-v-500b1101]{text-align:right;padding-right:5px}","",{version:3,sources:["/Users/yuukininomae/Sites/vue-crm3/src/lib/Kanban.vue"],names:[],mappings:"AACA,gCACE,iBAAkB,AAClB,iBAAmB,CACpB",file:"Kanban.vue",sourcesContent:["\n.rightaligndiv[data-v-500b1101] {\n  text-align: right;\n  padding-right: 5px;\n}\n"],sourceRoot:""}])},1033:function(e,t,a){"use strict";var n=a(1034),i=a.n(n);t.a={name:"KanbanBoard",props:{stages:{},blocks:{},isDragable:{}},computed:{localBlocks:function(){return this.blocks}},methods:{getBlocks:function(e){return this.localBlocks.filter(function(t){return t.status===e})},CollapseExpand:function(e){this.stages[e].show=!this.stages[e].show}},mounted:function(){var e=this;this.isDragable&&i()(this.$refs.list).on("drag",function(e){e.classList.add("is-moving")}).on("drop",function(t,a){e.$emit("update-block",t.dataset.blockId,a.dataset.status)}).on("dragend",function(e){e.classList.remove("is-moving"),window.setTimeout(function(){e.classList.add("is-moved"),window.setTimeout(function(){e.classList.remove("is-moved")},600)},100)})}}},1034:function(e,t,a){"use strict";(function(t){function n(e,t){function a(e){return-1!==ce.containers.indexOf(e)||le.isContainer(e)}function n(e){var t=e?"remove":"add";i(D,t,"mousedown",w),i(D,t,"mouseup",M)}function s(e){i(D,e?"remove":"add","mousemove",_)}function g(e){var t=e?"remove":"add";B[t](D,"selectstart",k),B[t](D,"click",k)}function f(){n(!0),M({})}function k(e){oe&&e.preventDefault()}function w(e){if(ee=e.clientX,te=e.clientY,!(1!==r(e)||e.metaKey||e.ctrlKey)){var t=e.target,a=y(t);a&&(oe=a,s(),"mousedown"===e.type&&(A(t)?t.focus():e.preventDefault()))}}function _(e){if(oe){if(0===r(e))return void M({});if(void 0===e.clientX||e.clientX!==ee||void 0===e.clientY||e.clientY!==te){if(le.ignoreInputTextSelection){var t=C("clientX",e),a=C("clientY",e);if(A(x.elementFromPoint(t,a)))return}var n=oe;s(!0),g(),P(),T(n);var i=o(K);Z=C("pageX",e)-i.left,J=C("pageY",e)-i.top,b.add(ie||K,"gu-transit"),O(),E(e)}}}function y(e){if(!(ce.dragging&&H||a(e))){for(var t=e;p(e)&&!1===a(p(e));){if(le.invalid(e,t))return;if(!(e=p(e)))return}var n=p(e);if(n&&!le.invalid(e,t)){if(le.moves(e,n,t,h(e)))return{item:e,source:n}}}}function S(e){return!!y(e)}function R(e){var t=y(e);t&&T(t)}function T(e){X(e.item,e.source)&&(ie=e.item.cloneNode(!0),ce.emit("cloned",ie,e.item,"copy")),Q=e.source,K=e.item,ae=ne=h(e.item),ce.dragging=!0,ce.emit("drag",K,Q)}function I(){return!1}function P(){if(ce.dragging){var e=ie||K;U(e,p(e))}}function $(){oe=!1,s(!0),g(!0)}function M(e){if($(),ce.dragging){var t=ie||K,a=C("clientX",e),n=C("clientY",e),i=l(H,a,n),r=L(i,a,n);r&&(ie&&le.copySortSource||!ie||r!==Q)?U(t,r):le.removeOnSpill?Y():N()}}function U(e,t){var a=p(e);ie&&le.copySortSource&&t===Q&&a.removeChild(K),j(t)?ce.emit("cancel",e,Q,Q):ce.emit("drop",e,t,Q,ne),q()}function Y(){if(ce.dragging){var e=ie||K,t=p(e);t&&t.removeChild(e),ce.emit(ie?"cancel":"remove",e,t,Q),q()}}function N(e){if(ce.dragging){var t=arguments.length>0?e:le.revertOnSpill,a=ie||K,n=p(a),i=j(n);!1===i&&t&&(ie?n&&n.removeChild(ie):Q.insertBefore(a,ae)),i||t?ce.emit("cancel",a,Q,Q):ce.emit("drop",a,n,Q,ne),q()}}function q(){var e=ie||K;$(),G(),e&&b.rm(e,"gu-transit"),re&&clearTimeout(re),ce.dragging=!1,se&&ce.emit("out",e,se,Q),ce.emit("dragend",e),Q=K=ie=ae=ne=re=se=null}function j(e,t){var a;return a=void 0!==t?t:H?ne:h(ie||K),e===Q&&a===ae}function L(e,t,n){for(var i=e;i&&!function(){if(!1===a(i))return!1;var r=V(i,e),o=z(i,r,t,n);return!!j(i,o)||le.accepts(K,i,Q,o)}();)i=p(i);return i}function E(e){function t(e){ce.emit(e,o,se,Q)}if(H){e.preventDefault();var a=C("clientX",e),n=C("clientY",e),i=a-Z,r=n-J;H.style.left=i+"px",H.style.top=r+"px";var o=ie||K,s=l(H,a,n),c=L(s,a,n),d=null!==c&&c!==se;(d||null===c)&&(function(){se&&t("out")}(),se=c,function(){d&&t("over")}());var u=p(o);if(c===Q&&ie&&!le.copySortSource)return void(u&&u.removeChild(o));var m,A=V(c,s);if(null!==A)m=z(c,A,a,n);else{if(!0!==le.revertOnSpill||ie)return void(ie&&u&&u.removeChild(o));m=ae,c=Q}(null===m&&d||m!==o&&m!==h(o))&&(ne=m,c.insertBefore(o,m),ce.emit("shadow",o,c,Q))}}function W(e){b.rm(e,"gu-hide")}function F(e){ce.dragging&&b.add(e,"gu-hide")}function O(){if(!H){var e=K.getBoundingClientRect();H=K.cloneNode(!0),H.style.width=u(e)+"px",H.style.height=m(e)+"px",b.rm(H,"gu-transit"),b.add(H,"gu-mirror"),le.mirrorContainer.appendChild(H),i(D,"add","mousemove",E),b.add(le.mirrorContainer,"gu-unselectable"),ce.emit("cloned",H,K,"mirror")}}function G(){H&&(b.rm(le.mirrorContainer,"gu-unselectable"),i(D,"remove","mousemove",E),p(H).removeChild(H),H=null)}function V(e,t){for(var a=t;a!==e&&p(a)!==e;)a=p(a);return a===D?null:a}function z(e,t,a,n){function i(e){return e?h(t):t}var r="horizontal"===le.direction;return t!==e?function(){var e=t.getBoundingClientRect();return i(r?a>e.left+u(e)/2:n>e.top+m(e)/2)}():function(){var t,i,o,s=e.children.length;for(t=0;t<s;t++){if(i=e.children[t],o=i.getBoundingClientRect(),r&&o.left+o.width/2>a)return i;if(!r&&o.top+o.height/2>n)return i}return null}()}function X(e,t){return"boolean"==typeof le.copy?le.copy:le.copy(e,t)}1===arguments.length&&!1===Array.isArray(e)&&(t=e,e=[]);var H,Q,K,Z,J,ee,te,ae,ne,ie,re,oe,se=null,le=t||{};void 0===le.moves&&(le.moves=d),void 0===le.accepts&&(le.accepts=d),void 0===le.invalid&&(le.invalid=I),void 0===le.containers&&(le.containers=e||[]),void 0===le.isContainer&&(le.isContainer=c),void 0===le.copy&&(le.copy=!1),void 0===le.copySortSource&&(le.copySortSource=!1),void 0===le.revertOnSpill&&(le.revertOnSpill=!1),void 0===le.removeOnSpill&&(le.removeOnSpill=!1),void 0===le.direction&&(le.direction="vertical"),void 0===le.ignoreInputTextSelection&&(le.ignoreInputTextSelection=!0),void 0===le.mirrorContainer&&(le.mirrorContainer=x.body);var ce=v({containers:le.containers,start:R,end:P,cancel:N,remove:Y,destroy:f,canMove:S,dragging:!1});return!0===le.removeOnSpill&&ce.on("over",W).on("out",F),n(),ce}function i(e,a,n,i){var r={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},o={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},s={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};t.navigator.pointerEnabled?B[a](e,o[n],i):t.navigator.msPointerEnabled?B[a](e,s[n],i):(B[a](e,r[n],i),B[a](e,n,i))}function r(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function o(e){var t=e.getBoundingClientRect();return{left:t.left+s("scrollLeft","pageXOffset"),top:t.top+s("scrollTop","pageYOffset")}}function s(e,a){return void 0!==t[a]?t[a]:D.clientHeight?D[e]:x.body[e]}function l(e,t,a){var n,i=e||{},r=i.className;return i.className+=" gu-hide",n=x.elementFromPoint(t,a),i.className=r,n}function c(){return!1}function d(){return!0}function u(e){return e.width||e.right-e.left}function m(e){return e.height||e.bottom-e.top}function p(e){return e.parentNode===x?null:e.parentNode}function A(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||g(e)}function g(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||g(p(e))))}function h(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function f(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function C(e,t){var a=f(t),n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in a)&&n[e]in a&&(e=n[e]),a[e]}var v=a(1035),B=a(1039),b=a(1042),x=document,D=x.documentElement;e.exports=n}).call(t,a(13))},1035:function(e,t,a){"use strict";var n=a(1036),i=a(1037);e.exports=function(e,t){var a=t||{},r={};return void 0===e&&(e={}),e.on=function(t,a){return r[t]?r[t].push(a):r[t]=[a],e},e.once=function(t,a){return a._once=!0,e.on(t,a),e},e.off=function(t,a){var n=arguments.length;if(1===n)delete r[t];else if(0===n)r={};else{var i=r[t];if(!i)return e;i.splice(i.indexOf(a),1)}return e},e.emit=function(){var t=n(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var o=(r[t]||[]).slice(0);return function(){var r=n(arguments),s=this||e;if("error"===t&&!1!==a.throws&&!o.length)throw 1===r.length?r[0]:r;return o.forEach(function(n){a.async?i(n,r,s):n.apply(s,r),n._once&&e.off(t,n)}),e}},e}},1036:function(e,t){e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},1037:function(e,t,a){"use strict";var n=a(1038);e.exports=function(e,t,a){e&&n(function(){e.apply(a||null,t||[])})}},1038:function(e,t,a){(function(t){var a,n="function"==typeof t;a=n?function(e){t(e)}:function(e){setTimeout(e,0)},e.exports=a}).call(t,a(107).setImmediate)},1039:function(e,t,a){"use strict";(function(t){function n(e,t,a,n){return e.addEventListener(t,a,n)}function i(e,t,a){return e.attachEvent("on"+t,c(e,t,a))}function r(e,t,a,n){return e.removeEventListener(t,a,n)}function o(e,t,a){var n=d(e,t,a);if(n)return e.detachEvent("on"+t,n)}function s(e,t,a){var n=-1===p.indexOf(t)?function(){return new m(t,{detail:a})}():function(){var e;return A.createEvent?(e=A.createEvent("Event"),e.initEvent(t,!0,!0)):A.createEventObject&&(e=A.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(n):e.fireEvent("on"+t,n)}function l(e,a,n){return function(a){var i=a||t.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,n.call(e,i)}}function c(e,t,a){var n=d(e,t,a)||l(e,t,a);return f.push({wrapper:n,element:e,type:t,fn:a}),n}function d(e,t,a){var n=u(e,t,a);if(n){var i=f[n].wrapper;return f.splice(n,1),i}}function u(e,t,a){var n,i;for(n=0;n<f.length;n++)if(i=f[n],i.element===e&&i.type===t&&i.fn===a)return n}var m=a(1040),p=a(1041),A=t.document,g=n,h=r,f=[];t.addEventListener||(g=i,h=o),e.exports={add:g,remove:h,fabricate:s}}).call(t,a(13))},1040:function(e,t,a){(function(t){var a=t.CustomEvent;e.exports=function(){try{var e=new a("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?a:"function"==typeof document.createEvent?function(e,t){var a=document.createEvent("CustomEvent");return t?a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):a.initCustomEvent(e,!1,!1,void 0),a}:function(e,t){var a=document.createEventObject();return a.type=e,t?(a.bubbles=Boolean(t.bubbles),a.cancelable=Boolean(t.cancelable),a.detail=t.detail):(a.bubbles=!1,a.cancelable=!1,a.detail=void 0),a}}).call(t,a(13))},1041:function(e,t,a){"use strict";(function(t){var a=[],n="",i=/^on/;for(n in t)i.test(n)&&a.push(n.slice(2));e.exports=a}).call(t,a(13))},1042:function(e,t,a){"use strict";function n(e){var t=o[e];return t?t.lastIndex=0:o[e]=t=new RegExp(s+e+l,"g"),t}function i(e,t){var a=e.className;a.length?n(t).test(a)||(e.className+=" "+t):e.className=t}function r(e,t){e.className=e.className.replace(n(t)," ").trim()}var o={},s="(?:^|\\s)",l="(?:\\s|$)";e.exports={add:i,rm:r}},1043:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drag-container"},[a("ul",{staticClass:"drag-list"},e._l(e.stages,function(t,n){return a("li",{staticClass:"drag-column",class:(i={},i["drag-column-"+t]=!0,i)},[a("span",{staticClass:"drag-column-header",style:t.StyleObject},[a("h2",[e._v(e._s(t.Name)+" ("+e._s(e.getBlocks(t.id).length)+")")]),e._v(" "),e.$isMobileDevice?a("div",{staticClass:"rightaligndiv"},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"stage.show"}],staticClass:"fa fa-chevron-down",on:{click:function(t){e.CollapseExpand(n)}}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!stage.show"}],staticClass:"fa fa-chevron-right",on:{click:function(t){e.CollapseExpand(n)}}})]):e._e()]),e._v(" "),a("div",{staticClass:"drag-options"}),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"stage.show"}],ref:"list",refInFor:!0,staticClass:"drag-inner-list",attrs:{"data-status":t.id}},e._l(e.getBlocks(t.id),function(t){return a("li",{key:t.id,staticClass:"drag-item",attrs:{"data-block-id":t.id}},[e._t(t.id,[a("strong",[e._v(e._s(t.status))]),e._v(" "),a("div",[e._v(e._s(t.id))])])],2)}))]);var i}))])},i=[],r={render:n,staticRenderFns:i};t.a=r},1044:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"scrumBoard"},[a("div",{staticClass:"card-header p-0"},[a("div",{},[a("div",{staticClass:"row pr-2 pl-2"},[a("div",{staticClass:"col m-auto text-nowrap"},[a("i",{staticClass:"fa fa-trello"}),e._m(0,!1,!1),e._v(" "),e.$isMobileDevice?a("router-link",{attrs:{to:{path:"/dynamic/view-all-task-page"}}},[a("i",{staticClass:"fa fa-table"}),a("span",[e._v(" Danh sách")])]):e._e(),e._v(" "),e.$isMobileDevice?a("router-link",{attrs:{to:"/timeline"}},[a("i",{staticClass:"fa fa-list-alt"}),e._v(" "),a("span",[e._v(" Thời gian")])]):e._e()],1),e._v(" "),a("div",{staticClass:"col text-right pr-0"},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"col p-0"},[a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.Filter",modifiers:{Filter:!0}}],staticClass:"btn btn-link"},[a("i",{staticClass:"fa fa-filter fa-lg pr-1"})])])])]),e._v(" "),a("b-modal",{ref:"myModalRef",staticClass:"text-primary",attrs:{id:"Filter",title:"Bộ lọc","header-bg-variant":"primary","hide-footer":""}},[[a("div",{staticClass:"formSearch"},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:e.form,"label-width":"120px"}},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-secondary bg-white mr-2",on:{click:e.searchData}},[e._v("Tìm kiếm")]),e._v(" "),a("button",{staticClass:"btn btn-secondary bg-white",on:{click:e.resetForm}},[e._v("Xóa trắng")])]),e._v(" "),a("b-form-input",{attrs:{type:"text",placeholder:"Nhập từ khóa tìm kiếm"},model:{value:e.form.keyword,callback:function(t){e.$set(e.form,"keyword",t)},expression:"form.keyword"}}),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Dự án"},model:{value:e.form.Project,callback:function(t){e.$set(e.form,"Project",t)},expression:"form.Project"}},e._l(e.project,function(e){return a("el-option",{key:e.GroupId,attrs:{label:e.GroupName,value:e.GroupId}})}))],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Nhân sự thực hiện"},model:{value:e.form.worker,callback:function(t){e.$set(e.form,"worker",t)},expression:"form.worker"}},e._l(e.worker,function(e){return a("el-option",{key:e.UserId,attrs:{label:e.Username,value:e.UserId}})}))],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Quản lí"},model:{value:e.form.manager,callback:function(t){e.$set(e.form,"manager",t)},expression:"form.manager"}},e._l(e.manager,function(e){return a("el-option",{key:e.UserId,attrs:{label:e.Username,value:e.UserId}})}))],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Ưu tiên"},model:{value:e.form.priority,callback:function(t){e.$set(e.form,"priority",t)},expression:"form.priority"}},e._l(e.priority,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})}))],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Xem trạng thái"},model:{value:e.form.viewStatus,callback:function(t){e.$set(e.form,"viewStatus",t)},expression:"form.viewStatus"}},e._l(e.viewStatus,function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"dd-MM-yyyy",placeholder:"Từ ngày bắt đầu"},model:{value:e.form.startDate,callback:function(t){e.$set(e.form,"startDate",t)},expression:"form.startDate"}})],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"dd-MM-yyyy",placeholder:"Đến ngày bắt đầu"},model:{value:e.form.endDate,callback:function(t){e.$set(e.form,"endDate",t)},expression:"form.endDate"}})],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Phòng ban"},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}},e._l(e.department,function(e){return a("el-option",{key:e.GroupId,attrs:{label:e.GroupName,value:e.GroupId}})}))],1),e._v(" "),a("div",{staticClass:"col-12 py-2 px-0"},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"Trạng thái"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.stages,function(e){return a("el-option",{key:e.id,attrs:{label:e.Name,value:e.id}})}))],1)],1)],1)]],2)],1)])]),e._v(" "),a("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll:firstchilddrag",arg:"firstchilddrag"}],staticClass:"kanban"},[a("kanban-board",{attrs:{stages:e.stages,blocks:e.taskLists,isDragable:!e.$isMobileDevice},on:{"update-block":e.updateBlock}},e._l(e.taskLists,function(t){return a("div",{staticClass:"cardContent",attrs:{slot:t.id},slot:t.id},[a("div",{on:{click:function(a){e.showDetailScrum(t,!1)}}},[a("div",{staticClass:"text-primary"},[e._v(e._s(t.title))]),e._v(" "),a("div",[e._v(e._s(t.workerName)+" | "+e._s(t.level))]),e._v(" "),a("div",[e._v(e._s(t.dateStart)+" | "+e._s(t.dateEnd))]),e._v(" "),a("div",[e._v("Ước tính: "+e._s(t.plan)+" | Thực tế: "+e._s(t.real))]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 text-left scrumBoard"},[a("b-nav-item",{staticClass:"d-md-down-none p-0"},[a("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}})])],1),e._v(" "),a("div",{staticClass:"col-6 text-right"},[a("i",{staticClass:"fa fa-comments",attrs:{"aria-hidden":"true"},on:{click:function(a){a.stopPropagation(),e.showDetailScrum(t,!0)}}}),a("span",[e._v(" "+e._s(t.totalCmt?t.totalCmt:0))])])])])])}))],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("b",[e._v(" Bảng")])])}],r={render:n,staticRenderFns:i};t.a=r},1212:function(e,t,a){var n=a(1213);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(937)("44eb0ae4",n,!0)},1213:function(e,t,a){t=e.exports=a(936)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Tasks.vue",sourceRoot:""}])},1214:function(e,t,a){"use strict";var n=a(941),i=a(942);t.a={components:{ScrumBoard:i.default,TimeLine:n.default}}},1215:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tasks"},[a("router-view")],1)},i=[],r={render:n,staticRenderFns:i};t.a=r},941:function(e,t,a){"use strict";function n(e){a(1019)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1021),r=a(1022),o=a(0),s=n,l=o(i.a,r.a,!1,s,null,null);t.default=l.exports},942:function(e,t,a){"use strict";function n(e){a(1027)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1029),r=a(1044),o=a(0),s=n,l=o(i.a,r.a,!1,s,null,null);t.default=l.exports},965:function(e,t,a){"use strict";function n(e){a(1212)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1214),r=a(1215),o=a(0),s=n,l=o(i.a,r.a,!1,s,null,null);t.default=l.exports},972:function(e,t,a){!function(t,a){e.exports=a()}(0,function(){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.dragscroll={init:function(e,t){var a=void 0,n=void 0,i=function(){var i=void 0,r=void 0,o=void 0;e.addEventListener("mousedown",e.md=function(a){var n="nochilddrag"===t.arg,s="firstchilddrag"===t.arg,l=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)===e,c=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)===e.firstChild,d=function(e){o=1,i=e.clientX,r=e.clientY,e.preventDefault()};n?l&&d(a):s?(l||c)&&d(a):d(a)},0),window.addEventListener("mouseup",e.mu=function(){o=0},0),window.addEventListener("mousemove",e.mm=function(s){o&&(t.modifiers.x?(e.scrollLeft-=a=-i+(i=s.clientX),e===document.body&&(e.scrollLeft-=a)):t.modifiers.y?(e.scrollTop-=n=-r+(r=s.clientY),e===document.body&&(e.scrollTop-=n)):(e.scrollLeft-=a=-i+(i=s.clientX),e.scrollTop-=n=-r+(r=s.clientY),e===document.body&&(e.scrollLeft-=a,e.scrollTop-=n)))},0)};void 0===t.value||!0===t.value?"complete"===document.readyState?i():window.addEventListener("load",i,0):(t.value&&console.error("The passed value should be either 'undefined', 'true' or 'false'."),e.removeEventListener("mousedown",e.md,0),window.removeEventListener("mouseup",e.mu,0),window.removeEventListener("mousemove",e.mm,0))},bind:function(e,t,a){t.def.init(e,t)},update:function(e,t,a,n){t.value!==t.oldValue&&t.def.init(e,t)},unbind:function(e,t,a){e.removeEventListener("mousedown",e.md,0),window.removeEventListener("mouseup",e.mu,0),window.removeEventListener("mousemove",e.mm,0)}},i={install:function(e,t){e.directive("dragscroll",n)}};"undefined"!=typeof window&&window.Vue&&(window.VueDragscroll=i,window.Vue.use(i)),t.default=i}])})}});
//# sourceMappingURL=3.51239fa8f7a8e50a252b.js.map